<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-45824"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SDO_GEOR_AGGR%20Package%20Reference"></a><title>SDO_GEOR_AGGR Package Reference</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="SDO_GEOR_AGGR package, reference information, aggregate subprograms, GeoRaster, append procedure, append, getMosaicExtent procedure, getMosaicExtent, getMosaicResolutions procedure, getMosaicResolutions, getMosaicSubset procedure, getMosaicSubset, mosaicSubset procedure, mosaicSubset, validateForMosaicSubset procedure, validateForMosaicSubset"/>
<meta name="dcterms.created" content="2017-03-13T13:19:47Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph GeoRaster Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49118-05"/>
<meta name="dcterms.isVersionOf" content="GEORS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="geor_admin_ref.htm" title="Previous" type="text/html"/>
<link rel="Next" href="geor_ra_ref.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49118-05.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-92406947-E079-487D-B0D0-3342ECC23E34"></a> <span id="PAGE" style="display:none;">14/18</span> <!-- End Header -->
<a id="GEORS1224"></a>
<h1 id="GEORS-GUID-92406947-E079-487D-B0D0-3342ECC23E34" class="sect1"><span class="enumeration_chapter">8</span> SDO_GEOR_AGGR Package Reference</h1>
<div>
<p>The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.</p>
</div>
<a id="GEORS1225"></a>
<div class="props_rev_3"><a id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB"></a>
<h2 id="GEORS-GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB" class="sect2"><span class="enumeration_section">8.1</span> SDO_GEOR_AGGR.append</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_GEOR_AGGR.append(
     targetGeoRaster    IN OUT SDO_GEORASTER, 
     sourceGeoRaster    IN SDO_GEORASTER, 
     sourcePyramidLevel IN NUMBER, 
     appendParam        IN VARCHAR2, 
     bgValues           IN SDO_NUMBER_ARRAY DEFAULT NULL);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Appends the source GeoRaster object to the target GeoRaster object. Internal rectification, common point rules, gap filling, and color balancing are performed whenever necessary.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45762"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-AE29A5CF-192C-4031-82F7-ED6FDA1773BB"><!-- --></a>targetGeoRaster</dt>
<dd>
<p>GeoRaster object to be updated. Cannot be the same as <code class="codeph">sourceGeoRaster</code>. (Be sure to make a copy of this object before you update it.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45763"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-39F192E3-2130-465F-AB27-9F4FF36897C1"><!-- --></a>sourceGeoRaster</dt>
<dd>
<p>GeoRaster object to be appended to <code class="codeph">targetGeoRaster</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45764"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-D14E223E-0AEE-419C-9A85-6DF83FC4D075"><!-- --></a>sourcePyramidLevel</dt>
<dd>
<p>Pyramid level of the source GeoRaster object to be appended at the target GeoRaster object pyramid Level 0. If NULL, pyramid level 0 is used.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45765"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-9D3010CD-0AA4-4CAF-81DF-6E9A9AFF11D0"><!-- --></a>appendParam</dt>
<dd>
<p>A comma-separated quoted string of <span class="italic">keyword=value</span> pairs for specifying parameters for the operation. It can contain one or more of the keywords in <a href="geor_aggr_ref.htm#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__CHECHAHE" title="This 2 column table lists mosaicParam Keywords. Column 1 is the keyword. Column 2 explains the keyword.">Table 8-1</a> in the <a href="geor_aggr_ref.htm#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF">SDO_GEOR_AGGR.mosaicSubset</a> reference section.</p>
<p>If a nondefault value for <code class="codeph">colorBalance</code> is specified, it is performed on the source GeoRaster object using the target GeoRaster object&#39;s statistics as the reference, and the following keywords (if specified) are ignored: <code class="codeph">maxVal</code>, <code class="codeph">minVal</code>, <code class="codeph">std</code>, and <code class="codeph">min</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45766"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-460DC460-3A8A-4454-A9D9-221E89BC88C9"><!-- --></a>bgValues</dt>
<dd>
<p>Background values for filling partially empty raster blocks. It is only useful when the source GeoRaster object has empty raster blocks and the current operation leads to partially empty raster blocks (see <a href="geor_intro.htm#GUID-51AA757B-0EE9-4EAD-8394-17ED95041F74">Empty Raster Blocks</a>). The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code class="codeph">SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10. The default <code class="codeph">bgValues</code> are zero (0).</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<div class="infobox-note" id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-2DD4569E-F49D-42E3-8816-EC02AA73411C">
<p class="notep1">Note:</p>
<p>Be sure to make a copy of the <code class="codeph">targetGeoRaster</code> object before you call this procedure, because the changes made to this GeoRaster object might not be reversible after the procedure completes.</p>
</div>
<p>The source and target GeoRaster objects must have the same number of bands or layers. If the cell depths of the source and target GeoRaster objects are not the same, the cell value of the source GeoRaster object is either expanded or truncated to the cell depth of the target GeoRaster object.</p>
<p>The target GeoRaster object&#39;s raster data must be blocked.</p>
<p>There is no change on metadata of target GeoRaster object, except that the extent and the number of blocks are updated and the statistics are removed.</p>
<p>The source GeoRaster object is appended to the target GeoRaster object pyramid level 0. The pyramids of the target GeoRaster object are also updated.</p>
<p>The overlapping areas and gaps of the source and target GeoRaster objects are resolved according to the rules defined in the <code class="codeph">appendParam</code> parameter.</p>
<p>The source GeoRaster object can be located on or touching any side of the target GeoRaster object (that is, it does not have to be on the right or bottom side). The target GeoRaster object will be automatically expanded accordingly.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example appends the GeoRaster object with <code class="codeph">georid</code> = 2 to the GeoRaster object with at <code class="codeph">georid</code> = 1.</p>
<pre dir="ltr">declare
    gr1 sdo_georaster;
    gr1 sdo_georaster;
begin
     select georaster into gr1 from georaster_table where georid = 1 for update;
     select georaster into gr2 from georaster_table where georid = 2;
     sdo_geor_aggr.append(gr1, gr2, 0, null);
     update georaster_table set georaster = gr1 where georid= 1;
     commit;
end;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="GEORS1288"></a>
<div class="props_rev_3"><a id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C"></a>
<h2 id="GEORS-GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C" class="sect2"><span class="enumeration_section">8.2</span> SDO_GEOR_AGGR.getMosaicExtent</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_GEOR_AGGR.getMosaicExtent(
     inGeoRasters IN SYS_REFCURSOR, 
      outSRID     IN NUMBER DEFAULT NULL  
     ) RETURN SDO_GEOMETRY;
</pre>
<p>or</p>
<pre dir="ltr">SDO_GEOR_AGGR.getMosaicExtent(
     georasterTableNames  IN VARCHAR2, 
     georasterColumnNames IN VARCHAR2, 
      outSRID              IN NUMBER DEFAULT NULL  
     ) RETURN SDO_GEOMETRY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Calculates and returns the minimum bounding rectangle (MBR) of the spatial extent of a virtual mosaic or a collection of GeoRaster objects.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45767"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-256E9B42-8EDA-48A4-A985-19E993E2167C"><!-- --></a>inGeoRasters</dt>
<dd>
<p>Source GeoRaster objects in a cursor.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45768"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-DD133BB3-D232-4B95-8E55-AAEB3C8BEB82"><!-- --></a>georasterTableNames</dt>
<dd>
<p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45769"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-FB03941F-4D0E-4EC6-A7E0-E429F2F07307"><!-- --></a>georasterColumnNames</dt>
<dd>
<p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45770"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-F7A239E3-D15B-41FA-9089-8D2A128D4328"><!-- --></a>outSRID</dt>
<dd>
<p>Coordinate system for the output GeoRaster object. Must be either null or a value from the SRID column of the MDSYS.CS_SRS table. If this parameter is null (the default), 4326 (EPSG SRID value for the WGS 84 (longitude/latitude) coordinate system) is used.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>In calculating the spatial extent of a virtual mosaic or a collection of GeoRaster objects, this function tries to use the <code class="codeph">spatialExtent</code> attribute of each GeoRaster object. If the <code class="codeph">spatialExtent</code> attribute is null, the extent of the GeoRaster object is calculated based on the object&#39;s metadata.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example shows how to get the spatial extent when the virtual mosaic or the collection of GeoRaster objects is a cursor.</p>
<pre dir="ltr">declare
    cur sys_refcursor,
begin
     open cur for select georaster from georaster_table_1 union all select georaster from georaster_table_2;
     extent := sdo_geor_aggr.getMosaicExtent(cur, 26986);
     close cur;
end;
/
</pre>
<p>The following example shows how to get the mosaic extent by specifying the table column names.</p>
<pre dir="ltr">select sdo_geor_aggr.getMosaicExtent(&#39;georaster_table_1, georaster_table_2&#39;, &#39;georaster, georaster&#39;, 26986) from dual;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="GEORS1289"></a>
<div class="props_rev_3"><a id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF"></a>
<h2 id="GEORS-GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF" class="sect2"><span class="enumeration_section">8.3</span> SDO_GEOR_AGGR.getMosaicResolutions</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_GEOR_AGGR.getMosaicResolutions(
     inGeoRasters    IN SYS_REFCURSOR, 
      resolutionUnit IN VARCHAR2 DEFAULT NULL 
      ) RETURN  SDO_RANGE_ARRAY;;
</pre>
<p>or</p>
<pre dir="ltr">SDO_GEOR_AGGR.getMosaicResolutions(
     georasterTableNames  IN VARCHAR2, 
     georasterColumnNames IN VARCHAR2, 
      resolutionUnit      IN VARCHAR2 DEFAULT NULL 
      ) RETURN  SDO_RANGE_ARRAY; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns the resolution range of a virtual mosaic or a collection of GeoRaster objects in a specified unit.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45771"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-3FF7BFC5-B501-40BF-86C3-287B629FC881"><!-- --></a>inGeoRasters</dt>
<dd>
<p>Source GeoRaster objects in a cursor.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45772"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-B96DEC7F-2355-4F2A-9635-4EC89BCBB7AC"><!-- --></a>georasterTableNames</dt>
<dd>
<p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45773"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-25320219-8B5B-42E3-9466-BFAA664E6445"><!-- --></a>georasterColumnNames</dt>
<dd>
<p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45774"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-CEC212A3-FDCB-4C05-8904-15D3712292DC"><!-- --></a>resolutionUnit</dt>
<dd>
<p>Unit of measure for the returned resolution range. If specified, it must be a quoted string in the format <code class="codeph">&#39;unit=</code><span class="italic"><code class="codeph">value</code></span><code class="codeph">&#39;</code> where <span class="italic"><code class="codeph">value</code></span> is the unit name. If not specified or null, the returned resolution range is in the unit of <code class="codeph">meter</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The returned resolution range is in the format of SDO_RANGE_ARRAY(SDO_RANGE(<code class="codeph">min_x</code>, <code class="codeph">max_x</code>), SDO_RANGE(<code class="codeph">min_y</code>, <code class="codeph">max_y</code>)). where <code class="codeph">min_x</code>, <code class="codeph">max_x</code> are the minimum and maximum resolution on the x dimension, and <code class="codeph">min_y</code>, <code class="codeph">max_y</code> are the minimum and maximum resolution on the y dimension.</p>
<p>The SDO_RANGE_ARRAY type is defined as <code class="codeph">VARRAY(1048576) OF SDO_RANGE</code>. The SDO_RANGE type is defined as:</p>
<pre dir="ltr">Name                                      Null?    Type
----------------------------------------- -------- -------
LB                                                 NUMBER
UB                                                 NUMBER
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example gets the spatial resolution of a virtual mosaic or a collection of GeoRaster objects with the returned values in meters.</p>
<pre dir="ltr">SELECT sdo_geor_aggr.getMosaicResolutions(&#39;georatser_table_1, georaster_table_2&#39;, &#39;georaster, georaster&#39;, &#39;unit=meter&#39;) FROM DUAL;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="GEORS1290"></a>
<div class="props_rev_3"><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7"></a>
<h2 id="GEORS-GUID-89303715-7E1A-46B9-8CDE-0228C48388D7" class="sect2"><span class="enumeration_section">8.4</span> SDO_GEOR_AGGR.getMosaicSubset</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_GEOR_AGGR.getMosaicSubset(
     inGeoRasters     IN SYS_REFCURSOR, 
     pyramidLevel     IN NUMBER, 
      outSRID         IN NUMBER, 
     outModelCoordLoc IN NUMBER, 
     referencePoint   IN SDO_GEOMETRY, 
     cropArea         IN SDO_GEOMETRY, 
     polygonClip      IN VARCHAR2, 
     boundaryClip     IN VARCHAR2, 
     layerNumbers     IN VARCHAR2, 
     outResolutions   IN SDO_NUMBER_ARRAY, 
     resolutionUnit   IN VARCHAR2, 
     mosaicParam      IN VARCHAR2, 
     rasterBlob       IN OUT NOCOPY BLOB, 
     outArea          OUT SDO_GEOMETRY, 
     outWindow        OUT SDO_NUMBER_ARRAY, 
     storageParam     IN VARCHAR2 DEFAULT NULL, 
     bgValues         IN SDO_NUMBER_ARRAY DEFAULT NULL);
</pre>
<p>or</p>
<pre dir="ltr">SDO_GEOR_AGGR.getMosaicSubset(
     georasterTableNames  IN VARCHAR2, 
     georasterColumnNames IN VARCHAR2, 
     pyramidLevel         IN NUMBER, 
      outSRID              IN NUMBER, 
     outModelCoordLoc     IN NUMBER, 
     referencePoint       IN SDO_GEOMETRY, 
     cropArea             IN SDO_GEOMETRY, 
     polygonClip          IN VARCHAR2, 
     boundaryClip         IN VARCHAR2, 
     layerNumbers         IN VARCHAR2, 
     outResolutions       IN SDO_NUMBER_ARRAY, 
     resolutionUnit       IN VARCHAR2, 
     mosaicParam          IN VARCHAR2, 
     rasterBlob           IN OUT NOCOPY BLOB, 
     outArea              OUT SDO_GEOMETRY, 
     outWindow            OUT SDO_NUMBER_ARRAY, 
     storageParam         IN VARCHAR2 DEFAULT NULL, 
     bgValues             IN SDO_NUMBER_ARRAY DEFAULT NULL);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Performs subsetting over a virtual mosaic or a collection of GeoRaster objects. It performs mosaic operations dynamically for the queried area and returns the required result in a BLOB on-the-fly. Internal rectification, common point rules, gap filling, and color balancing are performed whenever necessary.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45775"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-4B26D9CD-64C4-43F2-8F77-B8E542116C3F"><!-- --></a>inGeoRasters</dt>
<dd>
<p>Source GeoRaster objects in a cursor.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45776"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-0E6AFB42-2CBE-416C-9D30-C0D112821352"><!-- --></a>georasterTableNames</dt>
<dd>
<p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
<p>For information about defining and using MIN_X_RES$ and MAX_X_RES$ columns in these tables, see the Usage Notes and <a href="geor_image_proc.htm#GUID-0926A2AC-B835-470D-9D73-B63F745CDA7B">Improving Query Performance Using MIN_X_RES$ and MAX_X_RES$</a>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45777"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-8916AC7B-5C08-45A0-8CCB-F4403222795B"><!-- --></a>georasterColumnNames</dt>
<dd>
<p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45778"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-4CEED941-3CD2-494C-A5AF-0E014FA03305"><!-- --></a>pyramidLevel</dt>
<dd>
<p>Pyramid level of the source GeoRaster objects for the operation. This parameter is used when the <code class="codeph">outResolutions</code> parameter is not specified; otherwise, the pyramid level of the source GeoRaster objects is determined by the <code class="codeph">outResolutions</code> parameter.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45779"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-7158985D-05B9-46DE-BA64-53C8B9A898E8"><!-- --></a>outSRID</dt>
<dd>
<p>Coordinate system for the output GeoRaster object. Must be either null or a value from the SRID column of the MDSYS.CS_SRS table.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45780"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-79BAF786-C984-4B14-A13F-E1FC9645B774"><!-- --></a>outModelCoordLoc</dt>
<dd>
<p>A value specifying the model location of the base of the area represented by a cell: <code class="codeph">0</code> for <code class="codeph">CENTER</code> or <code class="codeph">1</code> for <code class="codeph">UPPERLEFT</code>. If null, <code class="codeph">CENTER</code> is used.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45781"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-E5913B0C-153A-4830-AF40-10FA70206655"><!-- --></a>referencePoint</dt>
<dd>
<p>A point of type SDO_GEOMETRY used as the reference point of mosaic. If a point is specified, the mosaicked image&#39;s upper left corner aligns with the reference point, that is, the distance between the <code class="codeph">referencePoint</code> and the upper-left corner of the output will have an integer number of pixels. If this parameter is null, the reference point implicitly uses the upper-left corner of the <code class="codeph">cropArea</code>, or when the <code class="codeph">cropArea</code> is null, the upper-left corner of the output extent.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45782"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-3539EC0B-EA6A-478F-BCBE-930CADBC8EBC"><!-- --></a>cropArea</dt>
<dd>
<p>Crop area definition. If the SDO_GEOMETRY object has a non-null SRID, the source GeoRaster objects must be georeferenced; otherwise, the source GeoRaster objects can be georeferenced or non-georeferenced. If <code class="codeph">polygonClip</code> is <code class="codeph">FALSE</code>, the MBR of the <code class="codeph">cropArea</code> is used to crop the mosaicked data. If <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, the geometry of the <code class="codeph">cropArea</code> is used to crop the mosaicked data.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45783"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-2327650C-9DD7-41DD-B8A0-FE8558F0D79B"><!-- --></a>polygonClip</dt>
<dd>
<p>The string <code class="codeph">TRUE</code> causes the <code class="codeph">cropArea</code> value to be used to crop the mosaicked data; the string <code class="codeph">FALSE</code> or a null value causes the MBR of the <code class="codeph">cropArea</code> to be used to crop the mosaicked data.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45784"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-8118F0A3-C3EC-4AF0-97FB-6C2F70D74135"><!-- --></a>boundaryClip</dt>
<dd>
<p>The string <code class="codeph">TRUE</code> or a null value causes the boundary of the virtual mosaic to be used to clip the <code class="codeph">cropArea</code>; the string <code class="codeph">FALSE</code> causes the area that is outside the virtual mosaic but within the <code class="codeph">cropArea</code> to be filled with the background value.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45785"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-15FFF5E9-ECD3-4259-A913-8BBDDC6ECF32"><!-- --></a>layerNumbers</dt>
<dd>
<p>A string identifying the logical layer numbers on which the operation or operations are to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">2-4</code> for layers 2, 3, and 4). If not specified, the mosaic result contains the same number of bands as the source GeoRaster objects.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45786"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-DFF32979-C43B-413A-B9E2-E1E819FCE84A"><!-- --></a>outResolutions</dt>
<dd>
<p>Resolution requested for the output GeoRaster data. If null, the default is the resolution of the first encountered GeoRaster object. See the Usage Notes for details.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45787"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-70DCDC71-ACEC-48FF-90C1-2C0538885F9D"><!-- --></a>resolutionUnit</dt>
<dd>
<p>The unit of the <code class="codeph">outResolutions</code> parameter. If null, the default is the unit of the output SRID. If specified, it must be a quoted string in the format &#34;unit=<span class="italic">value</span>&#34; where <span class="italic">value</span> is the unit name. This parameter is ignored if <code class="codeph">outResolutions</code> is null.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45788"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-C4A3288E-7ADF-4BB1-860A-BD387CABC819"><!-- --></a>mosaicParam</dt>
<dd>
<p>A comma-separated quoted string of <span class="italic">keyword=value</span> pairs for specifying mosaic parameters. It can contain one or more of the keywords in <a href="geor_aggr_ref.htm#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__CHECHAHE" title="This 2 column table lists mosaicParam Keywords. Column 1 is the keyword. Column 2 explains the keyword.">Table 8-1</a> in the <a href="geor_aggr_ref.htm#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF">SDO_GEOR_AGGR.mosaicSubset</a> reference section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45789"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-7B3C2C56-D533-44A1-BF94-D657F007ED84"><!-- --></a>rasterBlob</dt>
<dd>
<p>BLOB (binary large object) to hold the result of the operation. It must exist or have been initialized before the operation is performed. It is usually a temporary BLOB.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45790"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-68F0030E-888A-42AB-9D9F-60134B186745"><!-- --></a>outArea</dt>
<dd>
<p>Geometry object that describes the extent of the output data.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45791"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-5FDE9B02-F52C-41FF-895D-1592973518C4"><!-- --></a>outWindow</dt>
<dd>
<p>An SDO_NUMBER_ARRAY object that identifies the coordinates of the upper-left and lower-right corners of the output window in the cell space. For this function, the upper-left corner of the output window is always (0,0).</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45792"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-47E7B299-6560-45DD-B73A-8C8524FB329A"><!-- --></a>stora<span class="bold">ge</span>Param</dt>
<dd>
<p>A string specifying storage parameters, as explained in <a href="geor_intro.htm#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>. If this parameter is null, the resulting GeoRaster object has the same storage parameters (<code class="codeph">blockSize</code>, <code class="codeph">cellDepth</code>, <code class="codeph">interleaving</code>, and <code class="codeph">compression</code>) as the first encountered source GeoRaster object in the model space (if applicable) or cell space. However, it is recommended that you specify the storage parameters, particularly the blocking size, as appropriate for the size of the output mosaic, unless you want the mosaic to have the same storage parameters as those of the first encountered GeoRaster object to be mosaicked.</p>
<p>(If <code class="codeph">pyramid=true</code> is specified, it is ignored for this procedure, but not for <a href="geor_aggr_ref.htm#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF">SDO_GEOR_AGGR.mosaicSubset</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45793"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-228681E4-EAEA-4817-AB12-69D532D9A5A9"><!-- --></a>bgValues</dt>
<dd>
<p>Background cell values for filling partially empty raster blocks (full empty raster blocks are left as empty without filling). They are used to fill the empty areas resulted from the mosaicking operation, such as the areas that are outside of the clipping polygon or the gap areas not covered by any source images. (See also<a href="geor_intro.htm#GUID-51AA757B-0EE9-4EAD-8394-17ED95041F74">Empty Raster Blocks</a>.) The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code class="codeph">SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10. The default <code class="codeph">bgValues</code> are zero (0).</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The source GeoRaster objects must be prepared images or raster data so that they can be mosaicked. That is, the GeoRaster objects in the virtual mosaic must:</p>
<ul style="list-style-type: disc;">
<li>
<p>Not be a mixture of georeferenced and nongeoreferenced objects. Either all of the objects are georeferenced, or none of the objects is georeferenced.</p>
</li>
<li>
<p>Have the same number of layers or bands. There is no restriction on the row and column dimension sizes of the source objects.</p>
</li>
</ul>
<p>If the GeoRaster objects to be mosaicked are georeferenced, they are co-located according to their georeferencing information. If the GeoRaster objects are not georeferenced, they are co-located according to their ULTCoordinate values. (The ULTCoordinate is explained in <a href="geor_intro.htm#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA">GeoRaster Data Model</a>.)</p>
<p>The resulting GeoRaster object&#39;s spatial reference metadata information is determined by the <code class="codeph">outSRID</code> and <code class="codeph">outResolutions</code> parameters. If <code class="codeph">outSRID</code> is not specified, the SRID of the first encountered source GeoRaster object is used. If <code class="codeph">outResolutions</code> is not specified, the spatial resolution of the first encountered source GeoRaster object at specified pyramid level (<code class="codeph">pyramidLevel</code> parameter) is used. The spatial resolution must be set in the metadata of all the source images.</p>
<p>If <code class="codeph">pyramidLevel</code> is specified but <code class="codeph">outResolutions</code> is not specified, all the source GeoRaster objects are mosaicked using the raster data at the pyramid level specified by the pyramidLevel parameter. This parameter combination can be used when the source GeoRaster objects have the same spatial resolution at the pyramid level 0.</p>
<p>If <code class="codeph">outResolutions</code> is specified, the source GeoRaster objects are mosaicked using the raster data at the pyramid level that has the closest resolution to the <code class="codeph">outResolutions</code> parameter. If the value of the <code class="codeph">outResolutions</code> parameter is not within a source GeoRaster object&#39;s spatial resolution range, this source GeoRaster object will not be involved in the mosaic. A GeoRaster object&#39;s spatial resolution range is determined by the resolution at pyramid level 0 and the resolution at the top pyramid level of the GeoRaster object.</p>
<p>If any source GeoRaster object has a different SRID from <code class="codeph">outSRID</code> or is not rectified, it is dynamically reprojected or rectified so that the mosaicked GeoRaster object has uniform SRID and spatial resolution values.</p>
<p>If the source GeoRaster objects have empty raster blocks or do not cover the whole area, the mosaicked result GeoRaster object may have empty or partially empty raster blocks (see <a href="geor_intro.htm#GUID-51AA757B-0EE9-4EAD-8394-17ED95041F74">Empty Raster Blocks</a>). A result raster block that is not covered by any of the source GeoRaster objects is kept empty. Any partially empty raster blocks are filled with the values specified in the <code class="codeph">bgValues</code> parameter, or with 0 if the <code class="codeph">bgValues</code> parameter is not specified.</p>
<p>If the source GeoRaster objects overlap, data of the overlapping area follows the rules specified in the <code class="codeph">mosaicParam</code> parameter. By default, the cell value of the last encountered source GeoRaster object is used. The maximum number of allowable overlapping GeoRaster objects at the specified resolution is 8.</p>
<p>Any bitmap masks associated with the source GeoRaster objects are not considered, and the <code class="codeph">bitmapmask</code> parameter is ignored if it is specified in the <code class="codeph">storageParam</code> string.</p>
<p>In order to use the <code class="codeph">colorBalance</code> option in <code class="codeph">mosaicParam</code>, you should call <a href="geor_ref.htm#GUID-96B2E47F-17E2-491D-9FF6-AC7BEFB434D7">SDO_GEOR.generateStatistics</a> on the source images to generate the image&#39;s statistics and store them in the metadata for the source image. The current color balancing methods work well only with certain types of source images, such as images with contrast or brightness differences only.</p>
<p>If all source GeoRaster objects are blank and have the same <code class="codeph">blankCellValue</code> value, the resulting GeoRaster object is blank and has that <code class="codeph">blankCellValue</code> value; otherwise, the resulting GeoRaster object is not blank.</p>
<p>When the source GeoRaster objects have different spatial resolution ranges, you can define the columns MIN_X_RES$ and MAX_X_RES$ (both of type NUMBER) in the tables listed in <code class="codeph">georasterTableNames</code> parameter, where MIN_X_RES$ and MAX_X_RES$ specify the minimum and maximum spatial resolution values, respectively, of the source GeoRaster object. The procedure uses the resolution range stored in these columns to filter out the source GeoRaster objects that are not at the requested resolutions as specified in the <code class="codeph">outResolutions</code> parameter. This improves the performance of the procedure when there are many overlapping source GeoRaster objects with different spatial resolution ranges.</p>
<p>To use the MIN_X_RES$ and MAX_X_RES$ column values:</p>
<ul style="list-style-type: disc;">
<li>
<p>The procedure format with the <code class="codeph">georasterTableNames</code> parameter must be used.</p>
</li>
<li>
<p>The <code class="codeph">outResolutions</code> parameter must not be null.</p>
</li>
<li>
<p>The resolution values in the MIN_X_RES$ and MAX_X_RES$ columns must be in the same unit as the resolution value specified in the <code class="codeph">outResolutions</code> parameter.</p>
</li>
</ul>
<p>For more information, see <a href="geor_image_proc.htm#GUID-16C91449-1E94-4B3F-9403-EEFE483251AD">Virtual Mosaic</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example gets the subset of a virtual mosaic (defined as two GeoRaster tables) at SRID 32610 with resolution of 30 meters by specifying a <code class="codeph">cropArea</code> window. NODATA is considered at the resampling process (if there is one) and at the overlapping area of the source images.</p>
<pre dir="ltr">declare
  lb blob;
  cropArea sdo_geometry;
  outArea  sdo_geometry := null;
  outWin   sdo_number_array:=null;
  resolutions sdo_number_array;
begin
    dbms_lob.createTemporary(lb, TRUE);
 
     cropArea :=  sdo_geometry(2003, 26986, null,                 
                    sdo_elem_info_array(1, 1003, 3), 
                    sdo_ordinate_array(399180, 4247820, 
                                       496140,4353900) );
      resolutions := sdo_number_array(30, 30);
     sdo_geor_aggr.getMosaicSubset(&#39;georaster_table_1, georaster_table_2&#39;, 
                 &#39;georaster, georaster&#39;, 
                 0, 32610, null, null, cropArea,
                 null, null, null, resolutions, null, 
                 &#39;nodata=true&#39;, 
                 lb, outArea, outWin);
    dbms_lob.freeTemporary(lb);
    if outWin is not null then
        dbms_output.put_line(&#39;output window: (&#39; || outWin(1) || &#39;,&#39; || outWin(2) ||&#39;, &#39; || outWin(3) || &#39;, &#39; || outWin(4) || &#39;)&#39;);
    end if;
end;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="GEORS1292"></a><a id="GEORS1291"></a>
<div class="props_rev_3"><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF"></a>
<h2 id="GEORS-GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF" class="sect2"><span class="enumeration_section">8.5</span> SDO_GEOR_AGGR.mosaicSubset</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_GEOR_AGGR.mosaicSubset(
     inGeoRasters     IN SYS_REFCURSOR, 
     pyramidLevel     IN NUMBER, 
     outSRID          IN NUMBER, 
     outModelCoordLoc IN NUMBER, 
     referencePoint   IN SDO_GEOMETRY, 
     cropArea         IN SDO_GEOMETRY, 
     polygonClip      IN VARCHAR2, 
     boundaryClip     IN VARCHAR2, 
     layerNumbers     IN VARCHAR2, 
     outResolutions   IN SDO_NUMBER_ARRAY, 
     resolutionUnit   IN VARCHAR2, 
     mosaicParam      IN VARCHAR2, 
     storageParam     IN VARCHAR2, 
     outGeoRaster     IN OUT SDO_GEORASTER, 
     bgValues         IN SDO_NUMBER_ARRAY DEFAULT NULL, 
     parallelParam    IN VARCHAR2 DEFAULT NULL);
</pre>
<p>or</p>
<pre dir="ltr">SDO_GEOR_AGGR.mosaicSubset(
     georasterTableNames  IN VARCHAR2, 
     georasterColumnNames IN VARCHAR2, 
     pyramidLevel         IN NUMBER, 
     outSRID             IN NUMBER, 
     outModelCoordLoc    IN NUMBER, 
     referencePoint      IN SDO_GEOMETRY, 
     cropArea            IN SDO_GEOMETRY, 
     polygonClip         IN VARCHAR2, 
     boundaryClip        IN VARCHAR2, 
     layerNumbers        IN VARCHAR2, 
     outResolutions      IN SDO_NUMBER_ARRAY, 
     resolutionUnit      IN VARCHAR2, 
     mosaicParam         IN VARCHAR2, 
     storageParam        IN VARCHAR2, 
     outGeoRaster        IN OUT SDO_GEORASTER, 
     bgValues            IN SDO_NUMBER_ARRAY DEFAULT NULL, 
     parallelParam       IN VARCHAR2 DEFAULT NULL);
</pre>
<p>or</p>
<pre dir="ltr">SDO_GEOR_AGGR.mosaicSubset(
     inGeoRasters     IN SYS_REFCURSOR, 
     pyramidLevel     IN NUMBER, 
     elevationParam   IN VARCHAR2, 
     outSRID          IN NUMBER, 
     outModelCoordLoc IN NUMBER, 
     referencePoint   IN SDO_GEOMETRY, 
     cropArea         IN SDO_GEOMETRY, 
     polygonClip      IN VARCHAR2, 
     boundaryClip     IN VARCHAR2, 
     layerNumbers     IN VARCHAR2, 
     outResolutions   IN SDO_NUMBER_ARRAY, 
     resolutionUnit   IN VARCHAR2, 
     mosaicParam      IN VARCHAR2, 
    storageParam      IN VARCHAR2, 
     outGeoRaster     IN OUT SDO_GEORASTER, 
     bgValues         IN SDO_NUMBER_ARRAY DEFAULT NULL, 
     parallelParam    IN VARCHAR2 DEFAULT NULL,
     referenceImage   IN SDO_GEORASTER DEFAULT NULL,
     referenceValue1  IN SDO_NUMBER_ARRAY DEFAULT NULL,
     referenceValue2  IN SDO_NUMBER_ARRAY DEFAULT NULL,
     refHistograms    IN SDO_GEOR_HISTOGRAM_ARRAY DEFAULT NULL);
</pre>
<p>or</p>
<pre dir="ltr">SDO_GEOR_AGGR.mosaicSubset(
     georasterTableNames  IN VARCHAR2, 
     georasterColumnNames IN VARCHAR2, 
     pyramidLevel        IN NUMBER, 
     elevationParam      IN VARCHAR2, 
    outSRID             IN NUMBER, 
     outModelCoordLoc    IN NUMBER, 
     referencePoint      IN SDO_GEOMETRY, 
     cropArea            IN SDO_GEOMETRY, 
     polygonClip         IN VARCHAR2, 
     boundaryClip        IN VARCHAR2, 
     layerNumbers        IN VARCHAR2, 
     outResolutions      IN SDO_NUMBER_ARRAY, 
     resolutionUnit      IN VARCHAR2, 
     mosaicParam         IN VARCHAR2, 
     storageParam        IN VARCHAR2, 
     outGeoRaster        IN OUT SDO_GEORASTER, 
     bgValues            IN SDO_NUMBER_ARRAY DEFAULT NULL, 
     parallelParam       IN VARCHAR2 DEFAULT NULL,
     referenceImage      IN SDO_GEORASTER DEFAULT NULL,
     referenceValue1     IN SDO_NUMBER_ARRAY DEFAULT NULL,
     referenceValue2     IN SDO_NUMBER_ARRAY DEFAULT NULL,
     refHistograms       IN SDO_GEOR_HISTOGRAM_ARRAY DEFAULT NULL);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Performs advanced large-scale mosaicking or subsetting from a virtual mosaic or a collection of GeoRaster objects. The output data is written into a GeoRaster object for persistent storage or other processing. Internal rectification, common point rules, gap filling, and color balancing are performed whenever necessary.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl class="0.99* 3.01*">
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45794"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-4EC47865-7129-4C2E-B511-3B5FFF1090E4"><!-- --></a>inGeoRasters</dt>
<dd>
<p>Source GeoRaster objects in a cursor.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45795"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-D6286CEA-BF72-466B-84B6-BAF56B683B7E"><!-- --></a>georasterTableNames</dt>
<dd>
<p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
<p>For information about defining and using MIN_X_RES$ and MAX_X_RES$ columns in these tables, see the Usage Notes and <a href="geor_image_proc.htm#GUID-0926A2AC-B835-470D-9D73-B63F745CDA7B">Improving Query Performance Using MIN_X_RES$ and MAX_X_RES$</a>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45796"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-5D0CD2A3-03D6-43FB-8192-139C443EE5AD"><!-- --></a>georasterColumnNames</dt>
<dd>
<p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45797"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-F4F37842-9DED-49A9-9094-7E6BC9CD5E16"><!-- --></a>pyramidLevel</dt>
<dd>
<p>Pyramid level of the source GeoRaster objects for the operation. This parameter is used when the <code class="codeph">outResolutions</code> parameter is not specified; otherwise, the pyramid level of the source GeoRaster objects involved in the mosaic is determined by the <code class="codeph">outResolutions</code> parameter.</p>
<p>The <code class="codeph">pyramidLevel</code> parameter and the option <code class="codeph">pyramid=true</code> in the <code class="codeph">storageParam</code> parameter are valid only when the source GeoRaster objects have the same resolution on pyramid level 0.&nbsp;</p>
<p>If the <code class="codeph">outResolutions</code> parameter is not null, the <code class="codeph">pyramidLevel</code> parameter is ignored.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45798"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-DB334E60-806E-4BA1-A584-A5A5463C8AAD"><!-- --></a>elevationParam</dt>
<dd>
<p>A string containing the elevation parameter <code class="codeph">average</code> (average surface height). This parameter must be a quoted string that contains a keyword=value pair (for example, <code class="codeph">&#39;average=800&#39;</code>). This parameter specifies the elevation of the output GeoRaster object. If this parameter is null, 0 is assumed for <code class="codeph">average</code>.</p>
<p>The use of the <code class="codeph">elevationParam</code> parameter requires that the input GeoRaster objects have a 3D model SRID and a nonzero average surface height.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45799"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-9D7A13FD-85A9-40F4-B082-B3F65A86E456"><!-- --></a>outSRID</dt>
<dd>
<p>Coordinate system for the output GeoRaster object. Must be either null or a value from the SRID column of the MDSYS.CS_SRS table.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45800"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-7A6F781C-08BD-4F2E-B00A-D2CC919F85D9"><!-- --></a>outModelCoordLoc</dt>
<dd>
<p>A value specifying the model location of the base of the area represented by a cell: <code class="codeph">0</code> for <code class="codeph">CENTER</code> or <code class="codeph">1</code> for <code class="codeph">UPPERLEFT</code>. If null, <code class="codeph">CENTER</code> is used.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45801"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-9F801CF5-18F2-4CA2-A966-B7E8A3CEC913"><!-- --></a>referencePoint</dt>
<dd>
<p>A point of type SDO_GEOMETRY used as the reference point of mosaic. If a point is specified, the mosaicked image&#39;s upper left corner aligns with the reference point, that is, the distance between the <code class="codeph">referencePoint</code> and the upper-left corner of the output will have an integer number of pixels. If this parameter is null, the reference point implicitly uses the upper-left corner of the <code class="codeph">cropArea</code>, or when the <code class="codeph">cropArea</code> is null, the upper-left corner of the output extent.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45802"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-919E151C-F083-4382-8A37-56E718DE1326"><!-- --></a>cropArea</dt>
<dd>
<p>Crop area definition. If the SDO_GEOMETRY object has a non-null SRID, the coordinates specified in the SDO_GEOMETRY object are in model space and the source GeoRaster objects must be georeferenced; otherwise, the coordinates specified in the SDO_GEOMETRY object are in cell space and the source GeoRaster objects can be georeferenced or non-georeferenced. If <code class="codeph">polygonClip</code> is <code class="codeph">FALSE</code>, the MBR of the <code class="codeph">cropArea</code> is used to crop the mosaicked data. If <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, the geometry of the <code class="codeph">cropArea</code> is used to crop the mosaicked data.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45803"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-3C1A3011-F5F5-4705-ABA1-0156187D225A"><!-- --></a>polygonClip</dt>
<dd>
<p>The string <code class="codeph">TRUE</code> causes the <code class="codeph">cropArea</code> value to be used to crop the mosaicked data; the string <code class="codeph">FALSE</code> or a null value causes the MBR of the <code class="codeph">cropArea</code> to be used to crop the mosaicked data.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45804"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-5537486D-CA97-4853-A867-5041C08D2E41"><!-- --></a>boundaryClip</dt>
<dd>
<p>The string <code class="codeph">TRUE</code> or a null value causes the boundary of the virtual mosaic to be used to clip the <code class="codeph">cropArea</code>; the string <code class="codeph">FALSE</code> causes the area that is outside the virtual mosaic but within the <code class="codeph">cropArea</code> to be filled with the background value</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45805"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-05070B48-7EE4-4DA9-93F2-54CA665C5656"><!-- --></a>layerNumbers</dt>
<dd>
<p>A string identifying the logical layer numbers on which the operation or operations are to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">2-4</code> for layers 2, 3, and 4). If not specified, the mosaic result contains the same number of bands as the source GeoRaster objects.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45806"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-898152BA-699E-4FEB-A4B4-81A36F1062A5"><!-- --></a>outResolutions</dt>
<dd>
<p>Resolution of the output GeoRaster data. If null, the default is the resolution of the first encountered GeoRaster object. See the Usage Notes for details.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45807"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-24ACF482-8C7B-42B3-B58F-7B61E43E88A9"><!-- --></a>resolutionUnit</dt>
<dd>
<p>The unit of the <code class="codeph">outResolutions</code> parameter. If null, the default is the unit of the output SRID. If specified, it must be a quoted string in the format &#34;unit=<span class="italic">value</span>&#34; where <span class="italic">value</span> is the unit name value (a valid UNIT_OF_MEAS_NAME value from the SDO_UNITS_OF_MEASURE table). This parameter is ignored if <code class="codeph">outResolutions</code> is null.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45808"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-00AA13B7-E1CC-4D01-830C-2F17741F883C"><!-- --></a>mosaicParam</dt>
<dd>
<p>A comma-separated quoted string of <span class="italic">keyword=value</span> pairs for specifying mosaic parameters. It can contain one or more of the keywords in <a href="geor_aggr_ref.htm#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__CHECHAHE" title="This 2 column table lists mosaicParam Keywords. Column 1 is the keyword. Column 2 explains the keyword.">Table 8-1</a>.</p>
<div class="infobox-note" id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-0A2930C6-DA07-416E-8EB2-F3AE6B15255D">
<p class="notep1">Note:</p>
<p>For any numbers in string (VARCHAR2) parameters to GeoRaster subprograms, the period (.) must be used for any decimal points regardless of the locale.</p>
</div>
<div class="tblformal" id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__CHECHAHE">
<p class="titleintable">Table 8-1 mosaicParam Keywords</p>
<table class="cellalignment4346" title="mosaicParam Keywords" summary="This 2 column table lists mosaicParam Keywords. Column 1 is the keyword. Column 2 explains the keyword.">
<thead>
<tr class="cellalignment4337">
<th class="cellalignment4347" id="d45922e1183">Keyword</th>
<th class="cellalignment4347" id="d45922e1186">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1191" headers="d45922e1183">
<p><a id="d45922e1193" class="indexterm-anchor"></a>cbreference</p>
</td>
<td class="cellalignment4337" headers="d45922e1191 d45922e1186">
<p>(Supported with the procedure formats that include the <code class="codeph">referenceImage</code>, <code class="codeph">referenceValue1</code>, /<code class="codeph">referenceValue2</code>, and <code class="codeph">refHistograms</code> parameters.) Specifies the source of the reference value used in <code class="codeph">colorBalance</code>. Can have one of the following values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">VALUE</code>: The reference value is specified in the <code class="codeph">referenceValue1</code> and <code class="codeph">referenceValue2</code> parameters.</p>
</li>
<li>
<p><code class="codeph">IMAGE</code>: The reference value is retrieved from the <code class="codeph">referenceImage</code> parameter.</p>
</li>
<li>
<p><code class="codeph">OVERLAP</code>: the reference value is derived from the overlapping area of the source images.</p>
(Always ignored if specified in <code class="codeph">appendParam</code> for <a href="geor_aggr_ref.htm#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)</li>
</ul>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1249" headers="d45922e1183">
<p><a id="d45922e1251" class="indexterm-anchor"></a>colorBalance</p>
</td>
<td class="cellalignment4337" headers="d45922e1249 d45922e1186">
<p>Specifies the method for color balancing. Can have one of the following values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">NONE</code> (the default): No color balancing is performed.</p>
</li>
<li>
<p><code class="codeph">LINEARSTRETCHING</code>: Use the linear stretching method to stretch the source image&rsquo;s cell values to the reference minimum and maximum value.</p>
<p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">VALUE</code>, then parameter <code class="codeph">referenceValue1</code> has the reference minimum values and parameter <code class="codeph">referenceValue2</code> has the reference maximum values. If the <code class="codeph">referenceValue1</code> or <code class="codeph">referenceValue2</code> is null, default values 0 and 255 are used, respectively. If the <code class="codeph">referenceValue1</code> or <code class="codeph">referenceValue2</code> has only one value, it is applied to all the bands; otherwise, the reference values are corresponding to each band. Thus, the number of values in the SDO_NUMBER_ARRAY must be the same as the number of bands in the source images.</p>
<p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">IMAGE</code>, then the minimum and maximum values of <code class="codeph">referenceImage</code> are used as the reference.</p>
<p>If the <code class="codeph">cbreference</code> parameter is not specified, the <code class="codeph">minVal</code> and <code class="codeph">maxVal</code> parameters are used to specify the minimum and maximum reference values, respectively.</p>
</li>
<li>
<p><code class="codeph">STATISTICMATCHING</code>: Stretch the source images to match the reference statistics.</p>
<p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">VALUE</code>, then parameter <code class="codeph">referenceValue1</code> has the reference mean value and parameter <code class="codeph">referenceValue2</code> has the reference standard deviation value. If the <code class="codeph">referenceValue1</code> or <code class="codeph">referenceValue2</code> is null, default values 128 and 100 are used, respectively. If the <code class="codeph">referenceValue1</code> or <code class="codeph">referenceValue2</code> has only one value, it is applied to all the bands; otherwise, the reference values are corresponding to each band. Thus, the number of values in the SDO_NUMBER_ARRAY must be the same as the number of bands in the source images.</p>
<p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">IMAGE</code>, then the reference image&rsquo;s mean and standard deviation values are used for the matching.</p>
<p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">OVERLAP</code>, then the mean and standard deviation values are derived from the overlapping area.</p>
<p>If the <code class="codeph">cbreference</code> parameter is not specified, the <code class="codeph">std</code> and <code class="codeph">mean</code> parameters are used to specify the reference statistics.</p>
</li>
<li>
<p><code class="codeph">HISTOGRAMMATCHING</code>: Use the reference histogram as the source image&rsquo;s histogram.</p>
<p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">VALUE</code>, then parameter <code class="codeph">referenceHistogram</code> defines the reference histograms for each band. If only one reference histogram is specified, it is applied to all the bands.</p>
<p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">IMAGE</code>, then the referencce image&rsquo;s histograms for each band are used as the reference for matching</p>
<p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">OVERLAP</code>, then histograms at the overlapping area are used to derive the matching.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1411" headers="d45922e1183">
<p><a id="d45922e1413" class="indexterm-anchor"></a>commonPointRule</p>
</td>
<td class="cellalignment4337" headers="d45922e1411 d45922e1186">
<p>Specifies the method for getting the cell value at the overlapping area. Can have one of the following values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">START</code>: The value from the first encountered GeoRaster object is used.</p>
</li>
<li>
<p><code class="codeph">END</code>: The value from the last encountered GeoRaster object is used.</p>
</li>
<li>
<p><code class="codeph">LATEST</code>: The value from the GeoRaster object that has the most recent <code class="codeph">EndDateTime</code> in the metadata is used.</p>
</li>
<li>
<p><code class="codeph">OLDEST</code>: The value from the GeoRaster object that has the oldest <code class="codeph">EndDateTime</code> in the metadata is used.</p>
</li>
<li>
<p><code class="codeph">CTC</code>: The call value from the GeoRaster object that is closest to the center of the output window is used.</p>
</li>
<li>
<p><code class="codeph">HIGH</code>: The maximum cell value of all the overlapping GeoRaster objects is used.</p>
</li>
<li>
<p><code class="codeph">LOW</code>: The minimum cell value of all the overlapping GeoRaster objects is used.</p>
</li>
<li>
<p><code class="codeph">AVERAGE</code>: The average of all cell values from the overlapping GeoRaster objects is used.</p>
</li>
<li>
<p><code class="codeph">HIGHRES</code>: The value from the GeoRaster object that has the highest spatial resolution is used.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1474" headers="d45922e1183">
<p><a id="d45922e1476" class="indexterm-anchor"></a>fillGap</p>
</td>
<td class="cellalignment4337" headers="d45922e1474 d45922e1186">
<p>Specifies whether or not to fill the narrow gap between source images. <code class="codeph">TRUE</code> causes any gap that is less than or equal to 2 pixels wide to be filled with the nearest-neighbor pixel value. <code class="codeph">FALSE</code> causes any gaps to be filled with zero or <code class="codeph">bgValue</code>.</p>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1494" headers="d45922e1183">
<p><a id="d45922e1496" class="indexterm-anchor"></a>maxVal</p>
</td>
<td class="cellalignment4337" headers="d45922e1494 d45922e1186">
<p>Ignored if <code class="codeph">colorBalance</code> is not <code class="codeph">LINEARSTRETCHING</code> or if the <code class="codeph">cbreference</code> keyword is specified; otherwise, specifies the highest value in the range of the linear stretching method. Defaults to 255. (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="geor_aggr_ref.htm#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)</p>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1520" headers="d45922e1183">
<p><a id="d45922e1522" class="indexterm-anchor"></a>mean</p>
</td>
<td class="cellalignment4337" headers="d45922e1520 d45922e1186">
<p>Ignored if <code class="codeph">colorBalance</code> is not <code class="codeph">STATISTICMATCHING</code> or if the <code class="codeph">cbreference</code> keyword is specified; otherwise, specifies the reference mean of the statistic matching method. (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="geor_aggr_ref.htm#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)</p>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1546" headers="d45922e1183">
<p><a id="d45922e1548" class="indexterm-anchor"></a>minVal</p>
</td>
<td class="cellalignment4337" headers="d45922e1546 d45922e1186">
<p>Ignored if <code class="codeph">colorBalance</code> is not <code class="codeph">LINEARSTRETCHING</code> or if the <code class="codeph">cbreference</code> keyword is specified; otherwise, specifies the lowest value in the range of the linear stretching method. Defaults to 0. (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="geor_aggr_ref.htm#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)</p>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1572" headers="d45922e1183">
<p><a id="d45922e1574" class="indexterm-anchor"></a>nodata</p>
</td>
<td class="cellalignment4337" headers="d45922e1572 d45922e1186">
<p>Specifies whether or not to consider NODATA (NODATA value or NODATA bitmap mask) when handling the overlap area or when resampling is performed. The default value is <code class="codeph">FALSE</code>.</p>
<p>When handling the overlap area, <code class="codeph">nodata=TRUE</code> causes any NODATA values cells not to be involved in the overlap area calculation; <code class="codeph">nodata=FALSE</code> causes all the overlapped cells to be involved in the overlap area calculation.</p>
<p>When resampling is performed and the resampling method is <code class="codeph">BILINEAR</code>, <code class="codeph">BIQUADRATIC</code>, <code class="codeph">CUBIC</code>, <code class="codeph">AVERAGE4</code>, or <code class="codeph">AVERAGE16</code>, if any of the cells involved in the resampling has a NODATA value, then <code class="codeph">nodata=TRUE</code> causes the result of the resampling to be a NODATA value.</p>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1615" headers="d45922e1183">
<p><a id="d45922e1617" class="indexterm-anchor"></a>resampling</p>
</td>
<td class="cellalignment4337" headers="d45922e1615 d45922e1186">
<p>Specifies the resampling method (if resampling is involved or rectification is needed) to be used during the mosaic operation. Can have one of the following values: <code class="codeph">NN</code> (the default), <code class="codeph">BILINEAR</code>, <code class="codeph">BIQUADRATIC</code>, <code class="codeph">CUBIC</code>, <code class="codeph">AVERAGE4</code>, or <code class="codeph">AVERAGE16</code>. For more information, see <a href="geor_intro.htm#GUID-3BD837FF-70CF-44B3-8489-242FF4590D61">Resampling and Interpolation</a>.</p>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1649" headers="d45922e1183">
<p><a id="d45922e1651" class="indexterm-anchor"></a>resamplingTolerance</p>
</td>
<td class="cellalignment4337" headers="d45922e1649 d45922e1186">
<p>Specifies the tolerance for not doing resampling when the source GeoRaster objects are not perfectly aligned. The value should be between 0 and 0.5, where the unit is pixel or cell (for example, <code class="codeph">0.5</code> meaning one-half pixel or cell). If not specified, <code class="codeph">0.5</code> is used, which means no resampling will occur.</p>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1666" headers="d45922e1183">
<p><a id="d45922e1668" class="indexterm-anchor"></a>resFilter</p>
</td>
<td class="cellalignment4337" headers="d45922e1666 d45922e1186">
<p>Specifies whether or not to filter the source GeoRaster objects to select only the GeoRaster object that is in the range of the output resolution (<code class="codeph">outResolution</code> parameter). <code class="codeph">TRUE</code> (the default) enables resolution filtering. <code class="codeph">FALSE</code> disables resolution filtering, causing all the source GeoRaster objects to be involved in the mosaicking process. (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="geor_aggr_ref.htm#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)</p>
</td>
</tr>
<tr class="cellalignment4337">
<td class="cellalignment4337" id="d45922e1693" headers="d45922e1183">
<p><a id="d45922e1695" class="indexterm-anchor"></a>std</p>
</td>
<td class="cellalignment4337" headers="d45922e1693 d45922e1186">
<p>Ignored if <code class="codeph">colorBalance</code> is not <code class="codeph">STATISTICMATCHING</code> or if the <code class="codeph">cbreference</code> keyword is specified; otherwise, specifies the reference standard deviation for the statistic matching method. (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="geor_aggr_ref.htm#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45809"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-4E522E3E-7294-4289-B782-0AF15DA0D5DD"><!-- --></a>storageParam</dt>
<dd>
<p>A string specifying storage parameters, as explained in <a href="geor_intro.htm#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>. If this parameter is null, the resulting GeoRaster object has the same storage parameters (<code class="codeph">blockSize</code>, <code class="codeph">cellDepth</code>, <code class="codeph">interleaving</code>, and <code class="codeph">compression</code>) as the first encountered source GeoRaster object in the model space (if applicable) or cell space. However, it is recommended that you specify the storage parameters, particularly the blocking size, as appropriate for the size of the output mosaic, unless you want the mosaic to have the same storage parameters as those of the first encountered GeoRaster object to be mosaicked.</p>
<p>If <code class="codeph">pyramid=true</code> is specified, the pyramids of the source GeoRaster objects are mosaicked when the <code class="codeph">outResolutions</code> parameter is null and the <code class="codeph">pyramidLevel</code> parameter is not null. The maximum pyramid level of the result GeoRaster object is the minimal value of the maximum pyramid level of the source GeoRaster objects. By default, <code class="codeph">pyramid=false</code>, and thus the pyramids are not mosaicked.</p>
<p>If <code class="codeph">bitmapmask=true</code> is specified, the bitmap masks of the source GeoRaster objects are mosaicked also.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45810"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-DE82FBEC-8EDA-4CC8-9718-47B029A8CC1B"><!-- --></a>outGeoRaster</dt>
<dd>
<p>GeoRaster object to hold the result of the operation. Cannot be the same as any source GeoRaster object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45811"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-64D72804-9E01-43CB-B362-D5C2A44F842A"><!-- --></a>bgValues</dt>
<dd>
<p>Background cell values for filling partially empty raster blocks (full empty raster blocks are left as empty without filling). They are used to fill the empty areas resulted from the mosaicking operation, such as the areas that are outside of the clipping polygon or the gap areas not covered by any source images. (See also<a href="geor_intro.htm#GUID-51AA757B-0EE9-4EAD-8394-17ED95041F74">Empty Raster Blocks</a>.) The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code class="codeph">SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10. The default <code class="codeph">bgValues</code> are zero (0).</p>
<p>The filling values must be valid cell values as specified by the target cell depth.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45812"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-5A335387-B1DC-480C-970A-1A398B045E49"><!-- --></a>parallelParam</dt>
<dd>
<p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="geor_intro.htm#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C">Parallel Processing in GeoRaster</a>.)</p>
<p>If parallelism is specified, the procedure performs an internal commit operation. If an error occurs (even if it is raised by the Oracle parallel server), you must delete the resulting mosaicked GeoRaster object explicitly in order to roll back the operation.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45813"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-EDAA0FA1-6A06-43DB-B2D3-E37F8619FD83"><!-- --></a>referenceImage</dt>
<dd>
<p>Specifies the reference image used during the color balance operation. If null, it defaults to the first image from the query.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45814"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-A10C72AC-C69D-46D5-8180-447EA308DCA9"><!-- --></a>referenceValue1</dt>
<dd>
<p>Specifies the reference value or values used during the color balance operation. The meaning of the values is determined by the color balance method.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45815"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-A528EC57-FB88-4311-93AF-3B85821A05A6"><!-- --></a>referenceValue2</dt>
<dd>
<p>Specifies the reference value or values used during the color balance operation. The meaning of the values is determined by the color balance method.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45816"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-677345AF-C0F3-4F6E-8846-1B58ED0CD2F2"><!-- --></a>referenceHistograms</dt>
<dd>
<p>Specifies the reference histograms used during the color balance operation.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The first two formats of the procedure provide the basic color balancing method and assume that the elevation of the output GeoRaster object is 0. The last two formats of the procedure provide more advanced color balancing method using the reference values or reference images, and they let you specify the elevation value for the output GeoRaster object.</p>
<p>The source GeoRaster objects must be prepared images or raster data so that they can be mosaicked. That is, the GeoRaster objects to be mosaicked must:</p>
<ul style="list-style-type: disc;">
<li>
<p>Not be a mixture of georeferenced and nongeoreferenced objects. Either all of the objects are georeferenced, or none of the objects is georeferenced.</p>
</li>
<li>
<p>Have the same number of layers or bands. There is no restriction on the row and column dimension sizes of the source objects.</p>
</li>
</ul>
<p>If the GeoRaster objects to be mosaicked are georeferenced, they are co-located according to their georeferencing information. If the GeoRaster objects are not georeferenced, they are co-located according to their ULTCoordinate values. (The ULTCoordinate is explained in <a href="geor_intro.htm#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA">GeoRaster Data Model</a>.)</p>
<p>The resulting GeoRaster object&#39;s spatial reference metadata information is determined by the <code class="codeph">outSRID</code> and <code class="codeph">outResolutions</code> parameters. If <code class="codeph">outSRID</code> is not specified, the SRID of the first encountered source GeoRaster object is used. If <code class="codeph">outResolutions</code> is not specified, the spatial resolution of the first encountered source GeoRaster object at specified pyramid level (<code class="codeph">pyramidLevel</code> parameter) is used. The spatial resolution must be set in the metadata of all the source images.</p>
<p>If any source GeoRaster object has a different SRID from <code class="codeph">outSRID</code> or is not rectified, it is dynamically reprojected or rectified so that the mosaicked GeoRaster object has uniform SRID and spatial resolution values.</p>
<p>If the source GeoRaster objects overlap, data of the overlapping area follows the rules specified in the <code class="codeph">mosaicParam</code> parameter. By default, the cell value of the last encountered source GeoRaster object is used.</p>
<p>The source GeoRaster objects that contributes to the output mosaic are selected by the <code class="codeph">cropArea</code> parameter spatially and&nbsp; <code class="codeph">outResolutions</code> parameter in resolution wise (resolution selection).</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">cropArea</code> parameter is used to query the source GeoRaster objects&#39; spatial extents to determine the GeoRaster objects that are covered by the <code class="codeph">cropArea</code> geometry,. Thus, a spatial index should be built on the <code class="codeph">spatialExtent</code> attribute of the GeoRaster objects.</p>
</li>
<li>
<p>The <code class="codeph">outResolutions</code> parameter is used to find the source GeoRaster objects so that the <code class="codeph">outResolutions</code> value is within the resolution range of the source GeoRaster objects. A GeoRaster object&#39;s spatial resolution range is determined by the resolution at pyramid level 0 and the resolution at the top pyramid level of the GeoRaster object. It is a half pyramid lower than the pyramid level 0 and a half pyramid level higher than the top pyramid level. For example, if a GeoRaster object has a resolution of 30 meters at pyramid level 0 and a resolution of 960 meters at the top pyramid level 5, this GeoRaster object&rsquo;s spatial resolution range is between 22.5 meters ((30 + 30/2)/2) and 1440 meters ((960 + 960*2)/2).</p>
</li>
</ul>
<p>The resolution selection using the <code class="codeph">outResolutions</code> parameter can be speeded up by defining the columns MIN_X_RES$ and MAX_X_RES$ (both of type NUMBER) in the tables listed in <code class="codeph">georasterTableNames</code> parameter, where MIN_X_RES$ and MAX_X_RES$ specify the minimum and maximum spatial resolution values, respectively, of the source GeoRaster object. (A B-tree index should be created on the MIN_X_RES$ and MAX_X_RES$ columns if there are a large number of source GeoRaster objects.)&nbsp; To take advantage of this feature, the procedure format with the <code class="codeph">georasterTableNames</code> parameter must be used. It also requires that the resolution values stored in the MIN_X_RES$ and MAX_X_RES$ columns have the same unit as the unit of the SRID that is stored in the source GeoRaster object spatialExtent attribute.</p>
<p>The resolution selection can be turned off by setting <code class="codeph">resFilter=false</code> in the <code class="codeph">mosaicParam</code> parameter. When the resolution selection is turned off, the source GeoRaster objects will only be filtered spatially.</p>
<p>If the source GeoRaster objects have empty raster blocks or do not cover the whole area, the mosaicked result GeoRaster object may have empty or partially empty raster blocks (see <a href="geor_intro.htm#GUID-51AA757B-0EE9-4EAD-8394-17ED95041F74">Empty Raster Blocks</a>). A result raster block that is not covered by any of the source GeoRaster objects is kept empty. Any partially empty raster blocks are filled with the values specified in the <code class="codeph">bgValues</code> parameter, or with 0 if the <code class="codeph">bgValues</code> parameter is not specified.</p>
<p>If the <code class="codeph">bitmapmask</code> parameter is set to <code class="codeph">true</code> in the <code class="codeph">storageParam</code> string, the bitmap masks are mosaicked. By default, the bitmap masks are not mosaciked. Note that the bitmap mask may also be considered as NODATA; and if they are, see the NODATA keyword in <a href="geor_aggr_ref.htm#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__CHECHAHE" title="This 2 column table lists mosaicParam Keywords. Column 1 is the keyword. Column 2 explains the keyword.">Table 8-1</a>.</p>
<p>In order to use the <code class="codeph">colorBalance</code> option in <code class="codeph">mosaicParam</code>, you should you should call <a href="geor_ref.htm#GUID-96B2E47F-17E2-491D-9FF6-AC7BEFB434D7">SDO_GEOR.generateStatistics</a> on the source images to generate the image&#39;s statistics and store them in the metadata for the source image.</p>
<p>If all source GeoRaster objects are blank and have the same <code class="codeph">blankCellValue</code> value, the resulting GeoRaster object is blank and has that <code class="codeph">blankCellValue</code> value; otherwise, the resulting GeoRaster object is not blank.</p>
<p>The GeoRaster object to contain the results of the mosaic operation (<code class="codeph">georaster</code> parameter) must not be any of the source GeoRaster objects (the objects on which the mosaic operation is performed).</p>
<p>The mosaic operation performs internal commit operations at regular intervals, and thus it cannot be rolled back. If the operation is interrupted, dangling raster blocks may exist in the raster data table. You can handle dangling raster blocks by maintaining GeoRaster objects and system data in the database, as explained as explained in <a href="basic-georaster-operations.htm#GUID-14CEA0C1-837D-4DD4-A255-80ECCC28615E">Maintaining GeoRaster Objects and System Data in the Database</a>.</p>
<p>For more information, see <a href="geor_image_proc.htm#GUID-992BAEDB-C6EC-4E0E-97AA-C18A59F960FA">Large-Scale Image Mosaicking</a> and <a href="geor_image_proc.htm#GUID-16C91449-1E94-4B3F-9403-EEFE483251AD">Virtual Mosaic</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example shows how to color balance the source images using the linear stretching method (<code class="codeph">colorBalance=linearstretching</code>). It stretches the source image cell values (<code class="codeph">cbreference=value</code>) to the minimum and maximum reference values. The reference values are specified in the <code class="codeph">ref_min</code> and <code class="codeph">ref_max</code> variables.</p>
<pre dir="ltr">DECLARE
gr sdo_georaster;
resolutions  sdo_number_array;
ref_min    sdo_number_arrray;
ref_max   sdo_number_array;
BEGIN
    insert into georaster_table (georid, georaster)
        values (10, sdo_geor.init(&#39;RDT_1&#39;,10))
         returning georaster into gr;
    
     resolutions := sdo_number_array(30, 30);
     ref_min := sdo_number_array(10, 10, 10);
     ref_max := sdo_number_array(200, 255, 230);

     sdo_geor_aggr.mosaicSubset(&#39;georaster_table_1, georaster_table_2&#39;, 
                   &#39;georaster, georaster&#39;, 
                   0, null, 32610, null, null, null,
                   null, null, null, resolutions, null, 
                   &#39;commonPointRule=average, colorBalance=linearstretching, cbreference=value&#39;, 
                   &#39;blocking=optimalpadding, blocksize=(512,512,3)&#39;, gr, null, &#39;parallel=4&#39;, null, ref_min, ref_max);
 
      update georaster_table set georaster = gr where georid=10;
      commit;                                                              
END;
/
</pre>
<p>The following example shows how to color balance the source images using the histogram matching method (<code class="codeph">colorBalance=histogramMatching</code>). It matches the histogram of each source image (<code class="codeph">cbreference=image</code>) to the reference image&rsquo;s histogram.</p>
<pre dir="ltr">DECLARE
gr sdo_georaster;
resolutions  sdo_number_array;
refgr sdo_georaster;
BEGIN
    -- get the reference image
select georaster into refgr from georaster_table where georid = 1;

-- insert new georaster for the mosaic
    insert into georaster_table (georid, georaster)
        values (10, sdo_geor.init(&#39;RDT_1&#39;,10))
         returning georaster into gr;
    
     resolutions := sdo_number_array(30, 30);

    -- mosaic
     sdo_geor_aggr.mosaicSubset(&#39;georaster_table_1, georaster_table_2&#39;, 
                   &#39;georaster, georaster&#39;, 
                   0, 32610, null, null, null, null,
                   null, null, null, resolutions, null, 
                   &#39;commonPointRule=average, colorBalance=histogramMatching, cbreference=image&#39;, 
                   &#39;blocking=optimalpadding, blocksize=(512,512,3)&#39;, gr, null, &#39;parallel=4&#39;, refgr);
 
      update georaster_table set georaster = gr where georid=10;
      commit;                                                              
END;
/
</pre>
<p>The following example shows how to color balance the source images using the statistic matching method (<code class="codeph">colorBalance=statisticMatching</code>). It adjusts the statistics of the source images based on the overlapping areas (<code class="codeph">cbreference=overlap</code>).</p>
<pre dir="ltr">DECLARE
gr sdo_georaster;
resolutions  sdo_number_array;
BEGIN
    -- get the reference image
select georaster into refgr from georaster_table where georid = 1;

-- insert new georaster for the mosaic
    insert into georaster_table (georid, georaster)
        values (10, sdo_geor.init(&#39;RDT_1&#39;,10))
         returning georaster into gr;
    
     resolutions := sdo_number_array(30, 30);

    -- mosaic
     sdo_geor_aggr.mosaicSubset(&#39;georaster_table_1, georaster_table_2&#39;, 
                   &#39;georaster, georaster&#39;, 
                   0, null, 32610, null, null, null,
                   null, null, null, resolutions, null, 
                   &#39;commonPointRule=average, colorBalance=statisticMatching, cbreference=overlap&#39;, 
                   &#39;blocking=optimalpadding, blocksize=(512,512,3)&#39;, gr, null, &#39;parallel=4&#39;);
 
      update georaster_table set georaster = gr where georid=10;
      commit;                                                              
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="GEORS1293"></a>
<div class="props_rev_3"><a id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A"></a>
<h2 id="GEORS-GUID-517B4271-BF48-45C3-B989-88EE40CF780A" class="sect2"><span class="enumeration_section">8.6</span> SDO_GEOR_AGGR.validateForMosaicSubset</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_GEOR_AGGR.validateForMosaicSubset(
     inGeoRasters    IN SYS_REFCURSOR, 
      outSRID        IN NUMBER, 
     outResolutions  IN SDO_NUMBER_ARRAY, 
     resolutionUnit  IN VARCHAR2, 
     resultTableName IN VARCHAR2);
</pre>
<p>or</p>
<pre dir="ltr">SDO_GEOR_AGGR.validateForMosaicSubset(
     georasterTableNames  IN VARCHAR2, 
     georasterColumnNames IN VARCHAR2, 
      outSRID              IN NUMBER, 
     outResolutions       IN SDO_NUMBER_ARRAY, 
     resolutionUnit       IN VARCHAR2, 
     resultTableName      IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Checks if it is feasible to do mosaicking or subset query operations over a virtual mosaic or a large collection of GeoRaster objects. Any validation errors and notes are stored in a user-created result table.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45817"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-8BB67231-4C35-4290-89D6-0973C19EE0AE"><!-- --></a>inGeoRasters</dt>
<dd>
<p>Source GeoRaster objects in a cursor.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45818"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-DE64D2F3-47F5-476A-B6B3-6F9B0A9F41B2"><!-- --></a>georasterTableNames</dt>
<dd>
<p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45819"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-6E297122-1D24-4FAD-812F-6EEB29B8CA36"><!-- --></a>georasterColumnNames</dt>
<dd>
<p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45820"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-8842000C-F287-4A54-B1B3-0C422118D24D"><!-- --></a>outSRID</dt>
<dd>
<p>Coordinate system for the output GeoRaster object. Must be either null or a value from the SRID column of the MDSYS.CS_SRS table.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45821"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-A097C665-4CBE-4D37-8E36-FB0160350CE9"><!-- --></a>outResolutions</dt>
<dd>
<p>Resolution of the output GeoRaster data. If null, the default is the resolution of the first encountered source GeoRaster object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45822"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-31FE83C4-73C9-42B0-884C-36B769E3DE92"><!-- --></a>resolutionUnit</dt>
<dd>
<p>The unit of the <code class="codeph">outResolutions</code> parameter. If null, the default is the unit of the output SRID. If specified, it must be a quoted string in the format &#34;unit=<span class="italic">value</span>&#34; where <span class="italic">value</span> is the unit name. This parameter is ignored if <code class="codeph">outResolutions</code> is null.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-45823"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-B4E570EB-0C62-4579-8CF7-02ADCF895A20"><!-- --></a>resultTableName</dt>
<dd>
<p>Name of the validation result table. This table must already exist, and it must have the following column definitions:</p>
<pre dir="ltr">time timestamp, 
type varchar2(16), 
description varchar2(512), 
table_name varchar2(32), 
column_name varchar2(1024), 
rdt_table_name varchar2(32), 
raster_id number
</pre></dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The following considerations apply to the <code class="codeph">resultTableName</code> parameter value:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the specified table does not exist, an error is generated.</p>
</li>
<li>
<p>If the parameter is not specified or is specified as null, the procedure throws an error at the first validation error found; otherwise, the procedure puts all the validation errors in the table and completes without error.</p>
</li>
<li>
<p>If the specified table is not empty, the procedure appends rows to the existing data in the table; and if there is a unique constraint on any column and if the newly appended data has the same value as existing data in that constrained column, an error is generated.</p>
</li>
<li>
<p>The TYPE column of the table contains a string indicating the type of issue, such as <code class="codeph">ERROR</code> (something that must be fixed) or <code class="codeph">NOTE</code> (information that may or may not require some action). The DESCRIPTION column provides details about the issue.</p>
</li>
</ul>
<p>This procedure performs the following validation checks:</p>
<ul style="list-style-type: disc;">
<li>
<p>The source GeoRaster objects must have the same band dimension size.</p>
</li>
<li>
<p>The source GeoRaster objects must have consistent georeference status, that is, either all are georeferenced or all are not georeferenced.</p>
</li>
<li>
<p>If reprojection or rectification to be performed when doing the mosaic, the operation must be feasible.</p>
</li>
<li>
<p>The output spatial reference system must be an affine transformation. The output SRS is determined by either the input parameters (<code class="codeph">outSRID</code>, <code class="codeph">outResolutions</code>, <code class="codeph">resolutionUnit</code>) or the first source GeoRaster object.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example checks if a mosaic operation is possible. Any validation errors are stored in the predefined table MOSAIC_ERROR.</p>
<pre dir="ltr">EXECUTE sdo_geor_aggr.validateForMosaicSubset(&#39;georaster_table_1, georaster_table_2&#39;, &#39;georaster, georaster&#39;, 26986, sdo_number_array(30, 30), &#39;unit=meter&#39;, &#39;mosaic_error&#39;);

-- Check the validation results:
SELECT table_name table, column_name column, rdt_table_name rdt, raster_id rid, type, description FROM mosaic_error ORDER BY time;

TABLE COLUMN RDT   RID TYPE  DESCRIPTION
---------- -------- ----- --- ----- ----------------------------------------
GEORASTER_1    GEORASTER    RDT_1   2 ERROR The source georaster object is not georeferenced.
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4336">
<tr>
<td class="cellalignment4343">
<table class="cellalignment4341">
<tr>
<td class="cellalignment4340"><a href="geor_admin_ref.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4340"><a href="geor_ra_ref.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4345">
<table class="cellalignment4339">
<tr>
<td class="cellalignment4340"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4340"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4340"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4340"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4340"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4340"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
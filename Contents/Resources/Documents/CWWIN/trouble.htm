<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5087"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Troubleshooting%20the%20Oracle%20Grid%20Infrastructure%20Installation%20Process"></a><title>Troubleshooting the Oracle Grid Infrastructure Installation Process</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="This appendix provides troubleshooting information for installing Oracle Grid Infrastructure."/>
<meta name="keywords" content=", Oracle Enterprise Manager, monitoring alert logs, log files, commands, cluvfy, troubleshooting, unexplained installation errors, scheduled tasks, cvusys user, Grid Plug and Play (GPnP), troubleshooting:, system cannot find the file, Unable to open ASMLib, Unable to find candidate disks, clients, trace files, ACFS-9427, ACFS-9428"/>
<meta name="dcterms.created" content="2017-07-05T01:57:42Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Oracle Grid Infrastructure Installation Guide"/>
<meta name="dcterms.identifier" content="E49041-08"/>
<meta name="dcterms.isVersionOf" content="CWWIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2012, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="rem_orcl.htm" title="Previous" type="text/html"/>
<link rel="Next" href="app_nonint.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49041-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-F2D4F98C-8D3E-4B80-91EC-9D88FBF97A44"></a> <span id="PAGE" style="display:none;">16/20</span> <!-- End Header -->
<h1 id="CWWIN-GUID-F2D4F98C-8D3E-4B80-91EC-9D88FBF97A44" class="sect1"><span class="enumeration_chapter">A</span> Troubleshooting the Oracle Grid Infrastructure Installation Process</h1>
<div>
<p>This appendix provides troubleshooting information for installing Oracle Grid Infrastructure.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-C350F77A-C558-44F3-955B-C93600FE8BAD">Best Practices for Contacting Oracle Support</a></strong><br/>
If you find that it is necessary for you to contact Oracle Support to report an issue, then Oracle recommends that you follow these guidelines when you enter your service request.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-F7A14994-548C-421C-AEC5-E848FAD8EA0F">General Installation Issues</a></strong><br/>
The following is a list of examples of types of errors that can occur during installation.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-494078E0-20CD-4FA0-B0C1-AA6C8C7AFA3C">Interpreting CVU &#34;Unknown&#34; Output Messages Using Verbose Mode</a></strong><br/>
If you run Cluster Verification Utility (CVU) using the <code class="codeph">-verbose</code> argument, and a Cluster Verification Utility command responds with <code class="codeph">UNKNOWN</code> for a particular node, then this is because Cluster Verification Utility cannot determine if a check passed or failed.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-871E4F0B-BB53-4497-B327-73874053F494">Interpreting CVU Messages About Oracle Grid Infrastructure Setup</a></strong><br/>
If the Cluster Verification Utility report indicates that your system fails to meet the requirements for Oracle Grid Infrastructure installation, then use the topics in this section to correct the problem or problems indicated in the report, and run Cluster Verification Utility again.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-D51AA699-8864-457C-83FA-AF0D7BD3D739">About the Oracle Clusterware Alert Log</a></strong><br/>
Oracle Clusterware uses Oracle Database fault diagnosability infrastructure to manage diagnostic data and its alert log. As a result, most diagnostic data resides in the Automatic Diagnostic Repository (ADR), a collection of directories and files located under a base directory that you specify during installation.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-CEBD6110-8DE6-48A3-84B6-03E1E74572D6">Oracle Clusterware Install Actions Log Errors and Causes</a></strong><br/>
During installation of the Oracle Grid Infrastructure software, a log file named <code>installActions&lt;<span class="variable">Date_Timestamp</span>&gt;.log</code> is written to the <code>%TEMP%\OraInstall&lt;<span class="variable">Date_Timestamp</span>&gt;</code> directory.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-264C1CB5-F566-4A4D-B9E4-24A8DD33B210">Performing Cluster Diagnostics During Oracle Grid Infrastructure Installations</a></strong><br/>
If the installer does not display the Node Selection page, then use <code class="codeph">cluvfy</code> to check the integrity of the Cluster Manager.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-6A731903-4602-4990-AB2A-A0F1CE71D31C">CVU Cluster Healthchecks Command Reference</a></strong><br/>
Starting with Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2.0.3) and later, you can use the CVU <code class="codeph">healthcheck</code> command option to check your Oracle Clusterware and Oracle Database installations for their compliance with mandatory requirements and best practices guidelines, and to check to ensure that they are functioning properly.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-CEF313C1-51FD-4382-8B06-316B2D29E71B">Interconnect Configuration Issues</a></strong><br/>
If the interconnect is not configured correctly, it can lead to errors or availability issues.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-8E4DAA75-AD09-4DB4-905E-17AE8F07176B">Storage Configuration Issues</a></strong><br/>
The following is a list of issues involving storage configuration:</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-AD8BAF24-604F-451D-A0DE-D442D2A66D72">Troubleshooting Windows Firewall Exceptions</a></strong><br/>
If you cannot establish certain connections even after granting exceptions to the executable files, then follow these steps to troubleshoot the installation.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-47747AA7-C369-4AA0-9D06-19AF5B7F4428">Completing Failed or Incomplete Installations and Upgrades</a></strong><br/>
Even if the installation or upgrade fails initially, you can takes steps to complete the operation.</li>
</ul>
<div class="infoboxnotealso" id="GUID-F2D4F98C-8D3E-4B80-91EC-9D88FBF97A44__GUID-E97EC8DF-884F-4B03-BF67-F17E4EBDE9C7">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink CWADD" target="_blank" href="../CWADD/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
<li>
<p><a class="olink RACAD" target="_blank" href="../RACAD/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2"><a id="GUID-C350F77A-C558-44F3-955B-C93600FE8BAD"></a>
<h2 id="CWWIN-GUID-C350F77A-C558-44F3-955B-C93600FE8BAD" class="sect2"><span class="enumeration_section">A.1</span> Best Practices for Contacting Oracle Support</h2>
<div>
<p>If you find that it is necessary for you to contact Oracle Support to report an issue, then Oracle recommends that you follow these guidelines when you enter your service request.</p>
<ul style="list-style-type: disc;">
<li>
<p>Provide a clear explanation of the problem, including exact error messages.</p>
</li>
<li>
<p>Provide an explanation of any steps you have taken to troubleshoot issues, and the results of these steps.</p>
</li>
<li>
<p>Provide exact releases (major release and patch release) of the affected software.</p>
</li>
<li>
<p>Provide a step-by-step procedure of what actions you carried out when you encountered the problem, so that Oracle Support can reproduce the problem.</p>
</li>
<li>
<p>Provide an evaluation of the effect of the issue, including affected deadlines and costs.</p>
</li>
<li>
<p>Provide screen shots, logs, Remote Diagnostic Agent (RDA) output, or other relevant information.</p>
</li>
</ul>
</div>
</div>
<div class="sect2"><a id="GUID-F7A14994-548C-421C-AEC5-E848FAD8EA0F"></a>
<h2 id="CWWIN-GUID-F7A14994-548C-421C-AEC5-E848FAD8EA0F" class="sect2"><span class="enumeration_section">A.2</span> General Installation Issues</h2>
<div>
<p>The following is a list of examples of types of errors that can occur during installation.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-51F12645-B86C-460A-B7FB-493BCDFC1F50">CLSRSC-444: Run root script on the Node with OUI session</a></strong><br/></li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-FB7F28B3-8BE7-4C48-ABE9-678DDB662A2A">Failure to start network or VIP resources when Microsoft Failover Cluster is installed</a></strong><br/></li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-3F01F01E-77AA-4E61-B350-144D8BCF1388">Nodes unavailable for selection from the OUI Node Selection screen</a></strong><br/></li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-DA8208DE-2812-487B-B142-D8023F6AA452">Node nodename is unreachable</a></strong><br/></li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-34693FD9-E123-4A5C-98E6-98CE329CC869">PROT-8: Failed to import data from specified file to the cluster registry</a></strong><br/></li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-66F92ECF-DDE9-413C-9746-76534429225C">Timed out waiting for the CRS stack to start</a></strong><br/></li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-743E4250-0876-44CF-AD4A-8AF3CB1CBE6D">Other Installation Issues and Errors</a></strong><br/>
For additional help in resolving error messages, see My Oracle Support.</li>
</ul>
<div class="infoboxnotealso" id="GUID-F7A14994-548C-421C-AEC5-E848FAD8EA0F__GUID-6FCD49F6-70D3-4132-8570-D5BA7E97589B">
<p class="notep1">See Also:</p>
For additional help in resolving error messages, see My Oracle Support. For example, the note with Doc ID 1367631.1 contains some of the most common installation issues for Oracle Grid Infrastructure and Oracle Clusterware.</div>
</div>
<div class="sect3"><a id="GUID-51F12645-B86C-460A-B7FB-493BCDFC1F50"></a>
<h3 id="CWWIN-GUID-51F12645-B86C-460A-B7FB-493BCDFC1F50" class="sect3"><span class="enumeration_section">A.2.1</span> CLSRSC-444: Run root script on the Node with OUI session</h3>
<div>
<p><span class="bold">Cause:</span> If this message appears listing a node that is not the one where you are running OUI, then the likely cause is that the named node shut down during or before the <code class="codeph">root</code> script completed its run.</p>
<p><span class="bold">Action:</span> Retry the installation from the first node. After you complete Oracle Grid Infrastructure on all or part of the set of planned cluster member nodes, start OUI and deinstall the failed Oracle Grid Infrastructure installation on the node named in the error. When you have deinstalled the failed installation on the node, add that node manually to the cluster.</p>
<div class="infoboxnotealso" id="GUID-51F12645-B86C-460A-B7FB-493BCDFC1F50__GUID-8BF9285B-1513-4450-80C5-0EF780F78FA6">
<p class="notep1">See Also:</p>
<a class="olink CWADD1167" target="_blank" href="../CWADD/GUID-929C0CD9-9B67-45D6-B864-5ED3B47FE458.htm#CWADD1167"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about how to add a node</div>
</div>
</div>
<div class="sect3"><a id="GUID-FB7F28B3-8BE7-4C48-ABE9-678DDB662A2A"></a>
<h3 id="CWWIN-GUID-FB7F28B3-8BE7-4C48-ABE9-678DDB662A2A" class="sect3"><span class="enumeration_section">A.2.2</span> Failure to start network or VIP resources when Microsoft Failover Cluster is installed</h3>
<div>
<p><span class="bold">Cause:</span> If Microsoft Failover Cluster (MSFC) is installed on a Windows Server 2008 cluster (even if it is not configured) and you attempt to install Oracle Grid Infrastructure, the installation fails during the &#39;Configuring Grid Infrastructure&#39; phase with an indication that it was unable to start the resource <code class="codeph">ora.net1.network</code> or the VIP resources.</p>
<p>When MSFC is installed, it creates a virtual network adapter and places it at the top of the binding order. This change in the binding order can only be seen in the registry; it is not visible through &#39;View Network Connections&#39; under Server Manager.</p>
<p><span class="bold">Action:</span> The only solution is not to install MSFC and Oracle Grid Infrastructure or Oracle Clusterware on the same Windows Server 2008 cluster.</p>
</div>
</div>
<div class="sect3"><a id="GUID-3F01F01E-77AA-4E61-B350-144D8BCF1388"></a>
<h3 id="CWWIN-GUID-3F01F01E-77AA-4E61-B350-144D8BCF1388" class="sect3"><span class="enumeration_section">A.2.3</span> Nodes unavailable for selection from the OUI Node Selection screen</h3>
<div>
<p><span class="bold">Cause:</span> Oracle Grid Infrastructure is either not installed, or the Oracle Grid Infrastructure services are not up and running.</p>
<p><span class="bold">Action:</span> Install Oracle Grid Infrastructure, or review the status of your installation. Consider restarting the nodes, as doing so may resolve the problem.</p>
</div>
</div>
<div class="sect3"><a id="GUID-DA8208DE-2812-487B-B142-D8023F6AA452"></a>
<h3 id="CWWIN-GUID-DA8208DE-2812-487B-B142-D8023F6AA452" class="sect3"><span class="enumeration_section">A.2.4</span> Node <span class="italic">nodename</span> is unreachable</h3>
<div>
<p><span class="bold">Cause:</span> Unavailable IP host</p>
<p><span class="bold">Action:</span> Attempt the following:</p>
<ol>
<li>
<p>At a command prompt, run the command <code class="codeph">ipconfig /all</code>. Compare the output of this command with the contents of the <code class="codeph">hosts</code> file to ensure that the node IP is listed.</p>
</li>
<li>
<p>Run the operating system command <code class="codeph">nslookup</code> to see if the host is reachable.</p>
</li>
</ol>
</div>
</div>
<div class="sect3"><a id="GUID-34693FD9-E123-4A5C-98E6-98CE329CC869"></a>
<h3 id="CWWIN-GUID-34693FD9-E123-4A5C-98E6-98CE329CC869" class="sect3"><span class="enumeration_section">A.2.5</span> PROT-8: Failed to import data from specified file to the cluster registry</h3>
<div>
<p><span class="bold">Cause:</span> Insufficient space in an existing Oracle Cluster Registry device partition, which causes a migration failure while performing an upgrade. To confirm, look for the error &#34;<samp class="msgph">utopen:12:Not enough space in the backing store</samp>&#34; in the log file <code>%GRID_HOME%\log\<span class="variable">hostname</span>\client\ocrconfig_<span class="variable">pid</span>.log</code>, where <span class="variable">pid</span> stands for the process id.</p>
<p><span class="bold">Action:</span> Identify a storage device that has 400 MB or more available space. Oracle recommends that you allocate the entire disk to Oracle ASM.</p>
</div>
</div>
<div class="sect3"><a id="GUID-66F92ECF-DDE9-413C-9746-76534429225C"></a>
<h3 id="CWWIN-GUID-66F92ECF-DDE9-413C-9746-76534429225C" class="sect3"><span class="enumeration_section">A.2.6</span> Timed out waiting for the CRS stack to start</h3>
<div>
<p><span class="bold">Cause:</span> If a configuration issue prevents the Oracle Grid Infrastructure software from installing successfully on all nodes, then you may see error messages such as &#34;<samp class="msgph">Timed out waiting for the CRS stack to start</samp>,&#34; or you may notice that Oracle Clusterware-managed resources were not created on some nodes after you exit the installer. You also may notice that resources have a status other than <samp class="msgph">ONLINE</samp>.</p>
<p><span class="bold">Action:</span> Unconfigure the Oracle Grid Infrastructure installation without removing binaries, and review log files to determine the cause of the configuration issue. After you have fixed the configuration issue, rerun the scripts used during installation to configure Oracle Clusterware.</p>
<div class="infoboxnotealso" id="GUID-66F92ECF-DDE9-413C-9746-76534429225C__GUID-E9807040-E164-452E-B498-932ADE5300A1">
<p class="notep1">See Also:</p>
<span class="q">&#34;<a href="rem_orcl.htm#GUID-FEFCDCA3-0CF4-498B-A376-BDC54C529749" title="By running rootcrs.bat -deconfig -force on nodes where you encounter an installation error, you can unconfigure Oracle Clusterware on those nodes, correct the cause of the error, and then run rootcrs.bat again to reconfigure Oracle Clusterware.">Unconfiguring Oracle Clusterware Without Removing the Software</a>&#34;</span></div>
</div>
</div>
<div class="sect3"><a id="GUID-743E4250-0876-44CF-AD4A-8AF3CB1CBE6D"></a>
<h3 id="CWWIN-GUID-743E4250-0876-44CF-AD4A-8AF3CB1CBE6D" class="sect3"><span class="enumeration_section">A.2.7</span> Other Installation Issues and Errors</h3>
<div>
<p>For additional help in resolving error messages, see My Oracle Support.</p>
<p>For example, the note with Doc ID 1367631.1 contains some of the most common installation issues for Oracle Grid Infrastructure and Oracle Clusterware.</p>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-494078E0-20CD-4FA0-B0C1-AA6C8C7AFA3C"></a>
<h2 id="CWWIN-GUID-494078E0-20CD-4FA0-B0C1-AA6C8C7AFA3C" class="sect2"><span class="enumeration_section">A.3</span> Interpreting CVU &#34;Unknown&#34; Output Messages Using Verbose Mode</h2>
<div>
<p>If you run Cluster Verification Utility (CVU) using the <code class="codeph">-verbose</code> argument, and a Cluster Verification Utility command responds with <code class="codeph">UNKNOWN</code> for a particular node, then this is because Cluster Verification Utility cannot determine if a check passed or failed.</p>
<p>Possible causes for an &#34;Unknown&#34; response include:</p>
<ul style="list-style-type: disc;">
<li>
<p>The node is down</p>
</li>
<li>
<p>Common operating system command binaries required by Cluster Verification Utility are missing in the <code class="codeph">bin</code> directory of the Oracle Grid Infrastructure home or Oracle home directory</p>
</li>
<li>
<p>The user account starting Cluster Verification Utility does not have privileges to run common operating system commands on the node</p>
</li>
<li>
<p>The node is missing an operating system patch, or a required package</p>
</li>
</ul>
</div>
</div>
<div class="sect2"><a id="GUID-871E4F0B-BB53-4497-B327-73874053F494"></a>
<h2 id="CWWIN-GUID-871E4F0B-BB53-4497-B327-73874053F494" class="sect2"><span class="enumeration_section">A.4</span> Interpreting CVU Messages About Oracle Grid Infrastructure Setup</h2>
<div>
<p>If the Cluster Verification Utility report indicates that your system fails to meet the requirements for Oracle Grid Infrastructure installation, then use the topics in this section to correct the problem or problems indicated in the report, and run Cluster Verification Utility again.</p>
<div class="section">
<p class="subhead2">User Equivalence Check Failed</p>
<p><span class="bold">Cause:</span> Failure to establish user equivalency across all nodes. This can be due to not creating the required users, the installation user not being the same on all nodes, or using a different password on the failed nodes.</p>
<p><span class="bold">Action:</span> Cluster Verification Utility provides a list of nodes on which user equivalence failed. For each node listed as a failure node, review the Oracle Installation user configuration to ensure that the user configuration is properly completed, and that user equivalence is properly completed.</p>
<p>Check to ensure that:</p>
<ul style="list-style-type: disc;">
<li>
<p>You are using a Domain user account that has been granted explicit membership in the Administrators group on each cluster node.</p>
</li>
<li>
<p>The user account has the same password on each node.</p>
</li>
<li>
<p>The domain for the user is the same on each node.</p>
</li>
<li>
<p>The user account has administrative privileges on each node.</p>
</li>
<li>
<p>The user can connect to the registry of each node from the local node.</p>
</li>
<li>
<p>You might have to change the User Account Control settings on each node:</p>
<ul style="list-style-type: disc;">
<li>
<p>Change the elevation prompt behavior for administrators to &#34;Elevate without prompting&#34;. See <a href="http://technet.microsoft.com/en-us/library/cc709691.aspx" target="_blank">http://technet.microsoft.com/en-us/library/cc709691.aspx</a></p>
</li>
</ul>
</li>
<li>
<p>Confirm that the Administrators group is listed under &#39;Manage auditing and security log&#39;.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Node Reachability Check or Node Connectivity Check Failed</p>
<p><span class="bold">Cause:</span> One or more nodes in the cluster cannot be reached using TCP/IP protocol, through either the public or private interconnects.</p>
<p><span class="bold">Action:</span> Use the command <code class="codeph">ping <span class="variable">address</span></code> to check each node address. When you find an address that cannot be reached, check your list of public and private addresses to ensure that you have them correctly configured. Ensure that the public and private network interfaces have the same interface names on each node of your cluster.</p>
<p>Do not use the names PUBLIC and PRIVATE (all capital letters) for your public and interconnect network adapters (NICs). You can use the variations of private, Private, public, and Public for the network interface names.</p>
<div class="infoboxnotealso" id="GUID-871E4F0B-BB53-4497-B327-73874053F494__GUID-2B017941-47D6-4A8C-B62E-EC9F330FF18A">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="prewin.htm#GUID-42593F31-9E29-4660-8168-F0C2F0696FD6" title="Complete operating system configuration requirements and checks before you start the Oracle Grid Infrastructure installation.">Configuring Operating Systems for Oracle Grid Infrastructure and Oracle RAC</a>&#34;</span></p>
</li>
<li>
<p><a class="olink CWADD1100" target="_blank" href="../CWADD/GUID-B445A858-9F00-4423-990E-109545AC11C3.htm#CWADD1100"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-D51AA699-8864-457C-83FA-AF0D7BD3D739"></a>
<h2 id="CWWIN-GUID-D51AA699-8864-457C-83FA-AF0D7BD3D739" class="sect2"><span class="enumeration_section">A.5</span> About the Oracle Clusterware Alert Log</h2>
<div>
<p>Oracle Clusterware uses Oracle Database fault diagnosability infrastructure to manage diagnostic data and its alert log. As a result, most diagnostic data resides in the Automatic Diagnostic Repository (ADR), a collection of directories and files located under a base directory that you specify during installation.</p>
<p>Starting with Oracle Clusterware 12<span class="italic">c</span> release 1 (12.1.0.2), diagnostic data files written by Oracle Clusterware programs are known as trace files (have a <code class="codeph">.trc</code> file extension), and appear together in the trace subdirectory of the ADR home. Besides trace files, the trace subdirectory in the Oracle Clusterware ADR home contains the simple text Oracle Clusterware alert log. The Oracle Clusterware alert log always has the name <code class="codeph">alert.log</code>. The Oracle Clusterware alert log is also written as an XML file in the alert subdirectory of the ADR home, but the text alert log is most easily read.</p>
<p>The Oracle Clusterware alert log is the first place to look for serious errors. In the event of an error, it can contain path information to diagnostic logs that can provide specific information about the cause of errors.</p>
<p>After installation, Oracle Clusterware posts alert messages when important events occur. For example, you may see alert messages from the Cluster Ready Services daemon process (CRSD) when it starts, if it aborts, if the fail over process fails, or if automatic restart of an Oracle Clusterware resource fails.</p>
<p>Oracle Enterprise Manager monitors the Oracle Clusterware alert log and posts an alert on the Cluster Home page if an error is detected. For example, if a voting file is not available, then a <samp class="msgph">CRS-1604</samp> error is raised, and a critical alert is posted on the Cluster Home page of Oracle Enterprise Manager. You can customize the error detection and alert settings on the Metric and Policy Settings page.</p>
<p>The location of the Oracle Clusterware log file is <code><span class="variable">ORACLE_BASE</span>\diag\crs\<span class="variable">hostname</span>\crs\trace\alert.log</code>, where <span class="variable">ORACLE_BASE</span> is the directory in which Oracle Clusterware was installed and <span class="variable">hostname</span> is the host name of the local node</p>
<div class="infobox-note" id="GUID-D51AA699-8864-457C-83FA-AF0D7BD3D739__GUID-82F0812D-CC51-45A0-991D-DFCFC30A0E7D">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink CWADD91091" target="_blank" href="../CWADD/GUID-75A99456-75D1-4BC8-B0D8-9F353EB51B7C.htm#CWADD91091"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about Oracle Clusterware troubleshooting</p>
</li>
<li>
<p><a class="olink SUTIL700" target="_blank" href="../SUTIL/GUID-DC5744C7-FAC0-436B-99D5-DBD45B66930B.htm#SUTIL700"><span class="italic">Oracle Database Utilities</span></a> for information about the Automatic Diagnostic Repository Command Interpreter (ADCRI) utility to manage Oracle Database diagnostic data</p>
</li>
<li>
<p><a class="olink ADMIN11261" target="_blank" href="../ADMIN/diag.htm#ADMIN11261"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on the Automatic Diagnostic Repository (ADR)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-CEBD6110-8DE6-48A3-84B6-03E1E74572D6"></a>
<h2 id="CWWIN-GUID-CEBD6110-8DE6-48A3-84B6-03E1E74572D6" class="sect2"><span class="enumeration_section">A.6</span> Oracle Clusterware Install Actions Log Errors and Causes</h2>
<div>
<p>During installation of the Oracle Grid Infrastructure software, a log file named <code>installActions&lt;<span class="variable">Date_Timestamp</span>&gt;.log</code> is written to the <code>%TEMP%\OraInstall&lt;<span class="variable">Date_Timestamp</span>&gt;</code> directory.</p>
<p>The following is a list of potential errors in the <code class="codeph">installActions.log</code>:</p>
<ul style="list-style-type: disc;">
<li>
<p><samp class="msgph">PRIF-10: failed to initialize the cluster registry</samp></p>
<p>Configuration assistant &#34;Oracle Private Interconnect Configuration Assistant&#34; failed</p>
</li>
<li>
<p><samp class="msgph">KFOD-0311: Error scanning device <span class="variable">device_path_name</span></samp></p>
</li>
<li>
<p>Step 1: checking status of Oracle Clusterware cluster</p>
<p>Step 2: configuring OCR repository</p>
<p>ignoring upgrade failure of ocr(-1073740972)</p>
<p>failed to configure Oracle Cluster Registry with CLSCFG, ret -1073740972</p>
</li>
</ul>
<p>Each of these error messages can be caused by one of the following issues:</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-AAB742DA-9011-4CEA-950D-8F8B173EEEA4">Symbolic links for disks were not removed</a></strong><br/>
When you stamp a disk with ASMTOOL, it creates symbolic links for the disks.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-0912FB1D-D120-46DA-BF08-30011BBA013E">Discovery string used by Oracle Automatic Storage Management is incorrect</a></strong><br/>
When specifying Oracle Automatic Storage Management (Oracle ASM) for storage, you have the option of changing the default discovery string used to locate the disks.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-30E50FCC-8672-4C57-A1F7-818A9007AAEA">You used a period in a node name during Oracle Clusterware install</a></strong><br/>
Periods (.) are not permitted in node names. Instead, use a hyphen (-).</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-A1CAB5DC-CFD4-4A40-9738-D1D04B09FEFC">Ignoring upgrade failure of ocr(-1073740972)</a></strong><br/>
This error indicates that the user that is performing the installation does not have Administrator privileges.</li>
</ul>
</div>
<div class="sect3"><a id="GUID-AAB742DA-9011-4CEA-950D-8F8B173EEEA4"></a>
<h3 id="CWWIN-GUID-AAB742DA-9011-4CEA-950D-8F8B173EEEA4" class="sect3"><span class="enumeration_section">A.6.1</span> Symbolic links for disks were not removed</h3>
<div>
<p>When you stamp a disk with ASMTOOL, it creates symbolic links for the disks.</p>
<p>If these links are not removed when the disk is deleted or reconfigured, then errors can occur when attempting to access the disks.</p>
<p>To correct the problem, you can try stamping the disks again with ASMTOOL.</p>
</div>
</div>
<div class="sect3"><a id="GUID-0912FB1D-D120-46DA-BF08-30011BBA013E"></a>
<h3 id="CWWIN-GUID-0912FB1D-D120-46DA-BF08-30011BBA013E" class="sect3"><span class="enumeration_section">A.6.2</span> Discovery string used by Oracle Automatic Storage Management is incorrect</h3>
<div>
<p>When specifying Oracle Automatic Storage Management (Oracle ASM) for storage, you have the option of changing the default discovery string used to locate the disks.</p>
<p>If the discovery string is set incorrectly, Oracle ASM will not be able to locate the disks.</p>
</div>
</div>
<div class="sect3"><a id="GUID-30E50FCC-8672-4C57-A1F7-818A9007AAEA"></a>
<h3 id="CWWIN-GUID-30E50FCC-8672-4C57-A1F7-818A9007AAEA" class="sect3"><span class="enumeration_section">A.6.3</span> You used a period in a node name during Oracle Clusterware install</h3>
<div>
<p>Periods (.) are not permitted in node names. Instead, use a hyphen (-).</p>
<p>To resolve a failed installation, remove traces of the Oracle Grid Infrastructure installation, and reinstall with a supported node name.</p>
</div>
</div>
<div class="sect3"><a id="GUID-A1CAB5DC-CFD4-4A40-9738-D1D04B09FEFC"></a>
<h3 id="CWWIN-GUID-A1CAB5DC-CFD4-4A40-9738-D1D04B09FEFC" class="sect3"><span class="enumeration_section">A.6.4</span> Ignoring upgrade failure of ocr(-1073740972)</h3>
<div>
<p>This error indicates that the user that is performing the installation does not have Administrator privileges.</p>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-264C1CB5-F566-4A4D-B9E4-24A8DD33B210"></a>
<h2 id="CWWIN-GUID-264C1CB5-F566-4A4D-B9E4-24A8DD33B210" class="sect2"><span class="enumeration_section">A.7</span> Performing Cluster Diagnostics During Oracle Grid Infrastructure Installations</h2>
<div>
<p>If the installer does not display the Node Selection page, then use <code class="codeph">cluvfy</code> to check the integrity of the Cluster Manager.</p>
<ul>
<li class="stepexpand"><span>Use the following command syntax to check the integrity of the Cluster Manager:</span>
<div>
<pre dir="ltr">cluvfy comp clumgr -n <span class="variable">node_list</span> -verbose
</pre></div>
<div>In the preceding syntax example, the variable <span class="variable">node_list</span> is the list of nodes in your cluster, separated by commas.</div>
</li>
</ul>
<div class="section">
<div class="infobox-note" id="GUID-264C1CB5-F566-4A4D-B9E4-24A8DD33B210__GUID-24565403-C576-44D3-B5CE-ED74903391D7">
<p class="notep1">Note:</p>
If you encounter unexplained installation errors during or after a period when scheduled tasks are run, then your scheduled task may have deleted temporary files before the installation is finished. Oracle recommends that you complete the installation before scheduled tasks are run, or disable scheduled tasks that perform cleanup until after the installation is completed.</div>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-6A731903-4602-4990-AB2A-A0F1CE71D31C"></a>
<h2 id="CWWIN-GUID-6A731903-4602-4990-AB2A-A0F1CE71D31C" class="sect2"><span class="enumeration_section">A.8</span> CVU Cluster Healthchecks Command Reference</h2>
<div>
<p>Starting with Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2.0.3) and later, you can use the CVU <code class="codeph">healthcheck</code> command option to check your Oracle Clusterware and Oracle Database installations for their compliance with mandatory requirements and best practices guidelines, and to check to ensure that they are functioning properly.</p>
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">cluvfy comp healthcheck [-collect {cluster|database}] [-db <span class="variable">db_unique_name</span>]
[-bestpractice|-mandatory] [-deviations] [-html] [-save [-savedir <span class="variable">directory_path</span>]
</pre></div>
<!-- class="section" -->
<div class="example" id="GUID-6A731903-4602-4990-AB2A-A0F1CE71D31C__GUID-600FB83C-5893-4B2F-9F99-82A4CD0088E8">
<p class="titleinexample">Example A-1 Example CVU Healthcheck Command</p>
<pre dir="ltr">C:\&gt; cd app\12.1.0\grid\cvu_home\bin
C:\..\bin&gt; cluvfy comp healthcheck -collect cluster -bestpractice -deviations
 -html
</pre></div>
<!-- class="example" -->
<div class="section">
<p class="subhead2">Security</p>
<p>CVU uses JDBC to connect to the database as the user <code class="codeph">cvusys</code> to verify various database parameters. For this reason, if you want checks to be performed for the database you specify with the <code class="codeph">-db</code> option, then you must first create the <code class="codeph">cvusys</code> user on that database, and grant that user the CVU-specific role, <code class="codeph">CVUSAPP</code>. You must also grant members of the <code class="codeph">CVUSAPP</code> role <code class="codeph">SELECT</code> permissions on system tables.</p>
<p>A SQL script, <code><span class="variable">Grid_home</span>\cv\admin\cvusys.sql</code>, is provided to facilitate the creation of this user. Use this SQL script to create the <code class="codeph">cvusys</code> user on all the databases that you want to verify using CVU.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Command Options</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">-collect [cluster|database]</code></p>
<p>Use this option to specify that you want to perform checks for Oracle Clusterware (cluster) or Oracle Database (database). If you do not use the <code class="codeph">collect</code> option with the <code class="codeph">healthcheck</code> command, then the <code class="codeph">cluvfy comp healthcheck</code> command performs checks for both Oracle Clusterware and Oracle Database.</p>
</li>
<li>
<p><code class="codeph">-db <span class="variable">db_unique_name</span></code></p>
<p>Use this option to specify checks on the database unique name that you enter after the <code class="codeph">db</code> option.</p>
<p>If you use the <code class="codeph">db</code> option but do not provide a database unique name, then CVU discovers all the Oracle Databases on the cluster. To perform best practices checks on these databases, you must create the <code class="codeph">cvusys</code> user on each database, and grant that user the <code class="codeph">CVUSAPP</code> role with the <code class="codeph">SELECT</code> privileges needed to perform the best practice checks.</p>
</li>
<li>
<p><code class="codeph">[-bestpractice | -mandatory] [-deviations]</code></p>
<p>Use the <code class="codeph">bestpractice</code> option to specify best practice checks, and the <code class="codeph">mandatory</code> option to specify mandatory checks. Add the <code class="codeph">deviations</code> option to specify that you want to see only the deviations from either the best practice recommendations or the mandatory requirements. You can specify either the <code class="codeph">-bestpractice</code> or <code class="codeph">-mandatory</code> option, but not both options. If you specify neither <code class="codeph">-bestpractice</code> or <code class="codeph">-mandatory</code>, then both best practices and mandatory requirements are displayed.</p>
</li>
<li>
<p><code class="codeph">-html</code></p>
<p>Use the <code class="codeph">html</code> option to generate a detailed report in HTML format.</p>
<p>If you specify the <code class="codeph">html</code> option, and a browser CVU recognizes is available on the system, then the browser is started and the report is displayed on the browser when the checks are complete.</p>
<p>If you do not specify the <code class="codeph">html</code> option, then the detailed report is generated in a text file.</p>
</li>
<li>
<p><code class="codeph">-save [-savedir <span class="variable">dir_path</span>]</code></p>
<p>Use the <code class="codeph">&mdash;save</code> or <code class="codeph">-save -savedir</code> options to save validation reports (<code>cvuchecdkreport_<span class="variable">timestamp</span>.txt</code> and <code>cvucheckreport_<span class="variable">timestamp</span>.htm</code>), where <span class="variable">timestamp</span> is the time and date of the validation report.</p>
<p>If you use the <code class="codeph">save</code> option by itself, then the reports are saved in the path <code><span class="variable">CVU_home</span>/cv/report</code>, where <span class="variable">CVU_home</span> is the location of the CVU binaries.</p>
<p>If you use the options <code class="codeph">-save -savedir</code>, and enter a path where you want the CVU reports saved, then the CVU reports are saved in the path you specify.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-CEF313C1-51FD-4382-8B06-316B2D29E71B"></a>
<h2 id="CWWIN-GUID-CEF313C1-51FD-4382-8B06-316B2D29E71B" class="sect2"><span class="enumeration_section">A.9</span> Interconnect Configuration Issues</h2>
<div>
<p>If the interconnect is not configured correctly, it can lead to errors or availability issues.</p>
<p>If you plan to use multiple network interface cards (NICs) for the interconnect, then you should use a third party solution to bond the interfaces at the operating system level. Otherwise, the failure of a single NIC will affect the availability of the cluster node.</p>
<p>If you install Oracle Grid Infrastructure and Oracle RAC, then they must use the same bonded NIC cards or teamed NIC cards for the interconnect. If you use bonded or teamed NIC cards, then they must be on the same subnet.</p>
<p>If you encounter errors, then perform the following system checks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Verify with your network providers that they are using the correct cables (length, type) and software on their switches. In some cases, to avoid bugs that cause disconnects under loads, or to support additional features such as Jumbo Frames, you may need a firmware upgrade on interconnect switches, or you may need newer NIC driver or firmware at the operating system level. Running without such fixes can cause later instabilities to Oracle RAC databases, even though the initial installation seems to work.</p>
</li>
<li>
<p>Review virtual local area network (VLAN) configurations, duplex settings, and auto-negotiation in accordance with vendor and Oracle recommendations.</p>
</li>
</ul>
</div>
</div>
<div class="sect2"><a id="GUID-8E4DAA75-AD09-4DB4-905E-17AE8F07176B"></a>
<h2 id="CWWIN-GUID-8E4DAA75-AD09-4DB4-905E-17AE8F07176B" class="sect2"><span class="enumeration_section">A.10</span> Storage Configuration Issues</h2>
<div>
<p>The following is a list of issues involving storage configuration:</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-8B8FF427-A0E5-4BC8-A730-E36C978EEE16">Recovering from Losing a Node File System or Grid Home</a></strong><br/>
If you remove a file system by mistake, or encounter another storage configuration issue that results in losing the Oracle Local Registry or otherwise corrupting a node, you can recover the node in one of two ways.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-6FBE8211-B5C8-48DE-B8E7-F1752887B820">Oracle ASM Storage Issues</a></strong><br/>
This section describes Oracle ASM storage error messages, and how to address these errors.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-3FDF9971-C20D-43B1-BE2A-81B44B3DCC0E">Oracle ASM Issues After Downgrading Oracle Grid Infrastructure for Standalone Server (Oracle Restart)</a></strong><br/>
The following section explains an error that can occur when you downgrade Oracle Grid Infrastructure for standalone server (Oracle Restart), and how to address it.</li>
</ul>
</div>
<div class="sect3"><a id="GUID-8B8FF427-A0E5-4BC8-A730-E36C978EEE16"></a>
<h3 id="CWWIN-GUID-8B8FF427-A0E5-4BC8-A730-E36C978EEE16" class="sect3"><span class="enumeration_section">A.10.1</span> Recovering from Losing a Node File System or Grid Home</h3>
<div>
<p>If you remove a file system by mistake, or encounter another storage configuration issue that results in losing the Oracle Local Registry or otherwise corrupting a node, you can recover the node in one of two ways.</p>
<div class="section">
<p>If you add nodes in a GNS configuration, then that is called Grid Plug and Play (GPnP). GPnP uses profiles to configure nodes, which eliminates configuration data requirements for nodes and the need for explicit add and delete nodes steps. GPnP allows a system administrator to take a template system image and run it on a new node with no further configuration. GPnP removes many manual operations, reduces the opportunity for errors, and encourages configurations that can be changed easily. Removal of individual node configuration makes the nodes easier to replace, because nodes do not need to contain individually-managed states.</p>
Grid Plug and Play reduces the cost of installing, configuring, and managing database nodes by making their state disposable. It allows nodes to be easily replaced with regenerated state.</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Restore the node from an operating system level backup (preferred)</span></li>
<li class="stepexpand"><span>Remove the node from the cluster, and then add the node to the cluster, using <code><span class="variable">Grid_home</span>/addnode/addnode.bat</code>.</span>
<div>You must run the <code class="codeph">addNode.bat</code> command as an Administrator user on the node that you are restoring, to recreate OCR keys and to perform other configuration tasks. You initiate recovery of a node using the <code class="codeph">addnode</code> command, similar to the following, where <span class="variable">lostnode</span> is the node that you are adding back to the cluster:</div>
<ol>
<li class="substepexpand"><span>If you are using Grid Naming Service (GNS):</span>
<div>
<pre dir="ltr">C:\<span class="variable">Grid_home</span>\addnode\bin&gt; addNode.bat -silent &#34;CLUSTER_NEW_NODES=<span class="variable">lostnode</span>&#34;
</pre></div>
</li>
<li class="substepexpand"><span>If you are not using GNS:</span>
<div>
<pre dir="ltr">C:\<span class="variable">Grid_home</span>\addnode\bin&gt; addNode.bat -silent &#34;CLUSTER_NEW_NODES={<span class="variable">lostnode</span>}&#34; 
&#34;CLUSTER_NEW_VIRTUAL_HOSTNAMES={<span class="variable">lostnode</span>-vip}&#34;
</pre></div>
</li>
</ol>
<div>Using <code class="codeph">addnode.bat</code> enables cluster nodes to be removed and added again, so that they can be restored from the remaining nodes in the cluster. Profile information for the cluster is copied to the node, and the node is restored.</div>
</li>
</ol>
<div class="section">After the <code class="codeph">addNode.bat</code> command finishes, run the following command on the node being added to the cluster:
<pre dir="ltr">C:\&gt;<span class="variable">Grid_home</span>\crs\config\gridconfig.bat
</pre>
<div class="infoboxnotealso" id="GUID-8B8FF427-A0E5-4BC8-A730-E36C978EEE16__GUID-0992C82E-B26A-40F6-A4FE-FC69221BB954">
<p class="notep1">See Also:</p>
<a class="olink CWADD90989" target="_blank" href="../CWADD/GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B.htm#CWADD90989"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about how to add nodes manually or with GNS</div>
</div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-6FBE8211-B5C8-48DE-B8E7-F1752887B820"></a>
<h3 id="CWWIN-GUID-6FBE8211-B5C8-48DE-B8E7-F1752887B820" class="sect3"><span class="enumeration_section">A.10.2</span> Oracle ASM Storage Issues</h3>
<div>
<p>This section describes Oracle ASM storage error messages, and how to address these errors.</p>
<div class="section">
<p class="subhead3">ASM-0001: could not open device \\?\volume... O/S-Error: (OS-5) Access is denied.</p>
<p><span class="bold">Cause:</span> User Account Control (UAC) can require administrators to specifically approve administrative actions or applications before they are allowed to run. If you do not supply the proper credentials, the asmtool and asmtoolg utilities report these errors.</p>
<p><span class="bold">Action:</span> There are a few ways to resolve this problem:</p>
<ol>
<li>
<p>Click <span class="bold">Continue</span> in the UAC dialog box if you are logged in as an administrative user, or provide the credentials for an administrator user, then click <span class="bold">Continue</span>.</p>
</li>
<li>
<p>Create a desktop shortcut to a command window. Open the command window using the <span class="bold">Run as Administrator</span> option, then right-click the context menu, and launch <code class="codeph">asmtool</code>.</p>
</li>
<li>
<p>Configure the UAC implementation on your Windows Server to turn off UAC or to change the elevation prompt behavior for administrator users.</p>
</li>
</ol>
<div class="infobox-note" id="GUID-6FBE8211-B5C8-48DE-B8E7-F1752887B820__GUID-C3872125-FE35-46AB-8BEC-CDB3B6CB1CAD">
<p class="notep1">Note:</p>
For information about managing security and UAC in a business or enterprise environment, see the User Account Control paper at <a href="http://technet.microsoft.com/en-us/library/cc731416(WS.10).aspx" target="_blank">http://technet.microsoft.com/en-us/library/cc731416(WS.10).aspx</a></div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">O/S-Error: (OS-2) The system cannot find the file specified.</p>
<p><span class="bold">Cause:</span> If a disk is disabled at the operating system level and enabled again, some of the Oracle ASM operations such as <code class="codeph">CREATE DISKGROUP</code>, <code class="codeph">MOUNT DISKGROUP</code>, <code class="codeph">ADD DISK</code>, <code class="codeph">ONLINE DISK</code>, or querying V$ASM_DISK fail with the error:</p>
<pre dir="ltr">OS Error: (OS-2) The system cannot find the file specified. 
</pre>
<p>This happens when a previously mounted disk is assigned a new volume ID by the operating system. When Oracle ASM uses the old volume ID, it fails to open the disk and signals the above error.</p>
<p><span class="bold">Action:</span> Use ASMTOOL to restamp the disk and update the volume ID used by Oracle ASM.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Unable to mount disk group; ASM discovered an insufficient number of disks for diskgroup</p>
<p><span class="bold">Cause:</span> You performed an Oracle Grid Infrastructure software-only installation, and want to configure a disk group for storing the OCR and voting files during the postinstallation configuration of Oracle Clusterware. You used ASMTOOL to stamp the disks, and then used ASMCMD to create a disk group using the stamped disks. If you then update a <code class="codeph">crsconfig_params</code> file with the disk device or disk partition names that constitute the Oracle ASM disk group. During the configuration of Oracle Clusterware, errors are displayed such as <samp class="msgph">ORA-15017: diskgroup &#34;DATA&#34; cannot be mounted</samp>.</p>
<p><span class="bold">Action:</span> Change the <code class="codeph">crsconfig_params</code> file to use the stamped names generated by ASMTOOL instead of the disk partition names, for example:</p>
<pre dir="ltr">&#34;\\.\ORCLDISKDATA0&#34;
</pre></div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-3FDF9971-C20D-43B1-BE2A-81B44B3DCC0E"></a>
<h3 id="CWWIN-GUID-3FDF9971-C20D-43B1-BE2A-81B44B3DCC0E" class="sect3"><span class="enumeration_section">A.10.3</span> Oracle ASM Issues After Downgrading Oracle Grid Infrastructure for Standalone Server (Oracle Restart)</h3>
<div>
<p>The following section explains an error that can occur when you downgrade Oracle Grid Infrastructure for standalone server (Oracle Restart), and how to address it.</p>
<div class="section">
<p class="subhead3">CRS-2529: Unable to act on &#39;ora.cssd&#39; because that would require stopping or relocating &#39;ora.asm&#39;</p>
<p><span class="bold">Cause:</span> After downgrading Oracle Grid Infrastructure for a standalone server (Oracle Restart) from 12.1.0.2 to 12.1.0.1, the ora.asm resource does not contain the Server Parameter File (SPFILE) parameter.</p>
<p><span class="bold">Action:</span> When you downgrade Oracle Grid Infrastructure for a standalone server (Oracle Restart) from 12.1.0.2 to 12.1.0.1, you must explicitly add the Server Parameter File (SPFILE) from the ora.asm resource when adding the Oracle ASM resource for 12.1.0.1.</p>
<p>Follow these steps when you downgrade Oracle Restart from 12.1.0.2 to 12.1.0.1:</p>
<ol>
<li>
<p>In your 12.1.0.2 Oracle Restart installed configuration, query the SPFILE parameter from the Oracle ASM resource (ora.asm) and remember it:</p>
<pre dir="ltr">srvctl config asm
</pre></li>
<li>
<p>Deconfigure the 12.1.0.2 release Oracle Restart:</p>
<pre dir="ltr"><span class="variable">Grid_home</span>/crs/install/roothas.bat -deconfig -force
</pre></li>
<li>
<p>Install the 12.1.0.1 release Oracle Restart by running root.sh:</p>
<pre dir="ltr"><span class="variable">Grid_home</span>/root.sh
</pre></li>
<li>
<p>Add the listener resource:</p>
<pre dir="ltr"><span class="variable">Grid_home</span>/bin/srvctl add LISTENER
</pre></li>
<li>
<p>Add the Oracle ASM resource and provide the SPFILE parameter for the 12.1.0.2 Oracle Restart configuration obtained in Step 1:</p>
<pre dir="ltr"><span class="variable">Grid_home</span>/bin/srvctl add asm [-spfile &lt;spfile&gt;]
 [-diskstring &lt;asm_diskstring&gt;])
</pre></li>
</ol>
<div class="infoboxnotealso" id="GUID-3FDF9971-C20D-43B1-BE2A-81B44B3DCC0E__GUID-CCB26069-E606-4121-B9D9-030BEF6F2227">
<p class="notep1">See Also:</p>
<a class="olink GINST" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> for your platform for information about installing and deconfiguring Oracle Restart</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<div class="sect2"><a id="GUID-AD8BAF24-604F-451D-A0DE-D442D2A66D72"></a>
<h2 id="CWWIN-GUID-AD8BAF24-604F-451D-A0DE-D442D2A66D72" class="sect2"><span class="enumeration_section">A.11</span> Troubleshooting Windows Firewall Exceptions</h2>
<div>
<p>If you cannot establish certain connections even after granting exceptions to the executable files, then follow these steps to troubleshoot the installation.</p>
<ol>
<li class="stepexpand"><span>Examine Oracle configuration files (such as <code class="codeph">*.conf</code> files), the Oracle key in the Windows registry, and network configuration files in <code>%ORACLE_HOME%\network\admin</code>.</span></li>
<li class="stepexpand"><span>Grant an exception in the Windows Firewall to any executable listed in <code>%ORACLE_HOME%\network\admin\listener.ora</code> in a <code class="codeph">PROGRAM=</code> clause.</span>
<div>Each of these executables must be granted an exception in the Windows Firewall because a connection can be made through the TNS listener to that executable.</div>
</li>
<li class="stepexpand"><span>Examine Oracle trace files, log files, and other sources of diagnostic information for details on failed connection attempts.</span>
<div>Log and trace files on the database client computer may contain useful error codes or troubleshooting information for failed connection attempts. The Windows Firewall log file on the server may contain useful information as well.</div>
</li>
<li class="stepexpand"><span>If the preceding troubleshooting steps do not resolve a specific configuration issue on Windows, then provide the output from the following command to Oracle Support for diagnosis and problem resolution:</span>
<div>
<pre dir="ltr">netsh firewall show state verbose=enable
</pre></div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-AD8BAF24-604F-451D-A0DE-D442D2A66D72__GUID-8FEF51E5-DCAD-489E-845D-EAC9E7D57DBB">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="postinst.htm#GUID-6A980F59-82FA-4AEC-9792-694B9E2DD134" title="If the Windows Firewall feature is enabled on one or more of the nodes in your cluster, then virtually all transmission control protocol (TCP) network ports are blocked to incoming connections. As a result, any Oracle product that listens for incoming connections on a TCP port will not receive any of those connection requests and the clients making those connections will report errors.">Configure Exceptions for the Windows Firewall</a></p>
</li>
<li>
<p><a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;875357" target="_blank">http://support.microsoft.com/default.aspx?scid=kb;en-us;875357</a> for more information on Windows Firewall configuration</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-47747AA7-C369-4AA0-9D06-19AF5B7F4428"></a>
<h2 id="CWWIN-GUID-47747AA7-C369-4AA0-9D06-19AF5B7F4428" class="sect2"><span class="enumeration_section">A.12</span> Completing Failed or Incomplete Installations and Upgrades</h2>
<div>
<p>Even if the installation or upgrade fails initially, you can takes steps to complete the operation.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-F13756F1-2D07-4E80-BB4F-B79B3ECB2AAE">About Failed or Incomplete Installations and Upgrades</a></strong><br/>
During installations or upgrades of Oracle Grid Infrastructure, the following actions take place:</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-4B6C5B13-A363-4198-B088-FCEF13C3F69F">Completing Failed or Interrupted Installations and Upgrades</a></strong><br/>
If OUI exits on the node from which you started the installation (the <span class="variable">first node</span>), or the node reboots before you confirm that the <code class="codeph">rootupgrade.bat</code> script was run on all cluster nodes, then the upgrade remains incomplete.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-9516AF3A-BABC-4FBE-A17E-228839BED22E">Completing Failed or Interrupted Installations</a></strong><br/>
If OUI exits on the node from which you started the installation (the <span class="variable">first node</span>), or the node reboots before you confirm that <code class="codeph">gridconfig.bat</code> script was run on all nodes, then the installation remains incomplete.</li>
</ul>
</div>
<div class="sect3"><a id="GUID-F13756F1-2D07-4E80-BB4F-B79B3ECB2AAE"></a>
<h3 id="CWWIN-GUID-F13756F1-2D07-4E80-BB4F-B79B3ECB2AAE" class="sect3"><span class="enumeration_section">A.12.1</span> About Failed or Incomplete Installations and Upgrades</h3>
<div>
<p>During installations or upgrades of Oracle Grid Infrastructure, the following actions take place:</p>
<ol>
<li>
<p>Oracle Universal Installer (OUI) accepts inputs to configure Oracle Grid Infrastructure software on your system.</p>
</li>
<li>
<p>OUI runs the <code class="codeph">gridconfig.bat</code> script on each node.</p>
</li>
<li>
<p>OUI runs configuration assistants. The Oracle Grid Infrastructure software installation completes successfully.</p>
</li>
</ol>
<p>If OUI exits before the <code class="codeph">gridconfig.bat</code> script runs, or if OUI exits before the installation or upgrade session completes successfully, then the Oracle Grid Infrastructure installation is incomplete. If your installation or upgrade does not complete, then Oracle Clusterware does not work correctly. If you are performing an upgrade, then an incomplete upgrade can result in some nodes being upgraded to the latest software and others nodes not upgraded at all. If you are performing an installation, the incomplete installation can result in some nodes not being a part of the cluster.</p>
<p>Additionally, with Oracle Grid Infrastructure release 11.2.0.3 or later releases, the following messages may be seen during installation or upgrade:</p>
<p><samp class="msgph">ACFS-9427 Failed to unload ADVM/ACFS drivers. A system reboot is recommended</samp></p>
<p><samp class="msgph">ACFS-9428 Failed to load ADVM/ACFS drivers. A system reboot is recommended</samp></p>
<p><samp class="msgph">CLSRSC-400: A system reboot is required to continue installing</samp></p>
<p>To resolve this error, you must reboot the server, and then follow the steps for completing an incomplete installation or upgrade.</p>
</div>
</div>
<div class="sect3"><a id="GUID-4B6C5B13-A363-4198-B088-FCEF13C3F69F"></a>
<h3 id="CWWIN-GUID-4B6C5B13-A363-4198-B088-FCEF13C3F69F" class="sect3"><span class="enumeration_section">A.12.2</span> Completing Failed or Interrupted Installations and Upgrades</h3>
<div>
<p>If OUI exits on the node from which you started the installation (the <span class="variable">first node</span>), or the node reboots before you confirm that the <code class="codeph">rootupgrade.bat</code> script was run on all cluster nodes, then the upgrade remains incomplete.</p>
<p>In an incomplete upgrade, configuration assistants still need to run, and the new Grid home still needs to be marked as active in the central Oracle inventory. You must complete the upgrade on the affected nodes manually.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-5D565E76-3719-4E79-B139-0AFCBD7959F2">Continuing Upgrade When Upgrade Fails on the First Node</a></strong><br/>
When the first node cannot be upgraded, use these steps to continue the upgrade process.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-E4DBF635-1B28-4F6A-BD65-F0B88F97389F">Continuing Upgrade When Upgrade Fails on Nodes Other Than the First Node</a></strong><br/>
For nodes other than the first node (the node on which you started the upgrade), use these steps to continue the upgrade process.</li>
</ul>
</div>
<div class="sect4"><a id="GUID-5D565E76-3719-4E79-B139-0AFCBD7959F2"></a>
<h4 id="CWWIN-GUID-5D565E76-3719-4E79-B139-0AFCBD7959F2" class="sect4"><span class="enumeration_section">A.12.2.1</span> Continuing Upgrade When Upgrade Fails on the First Node</h4>
<div>
<p>When the first node cannot be upgraded, use these steps to continue the upgrade process.</p>
<div class="section"></div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>If the OUI failure indicated a need to reboot by raising error message <samp class="msgph">CLSRSC-400</samp>, then reboot the first node (the node on which you started the upgrade). Otherwise, manually fix or clear the error condition, as reported in the error output.</span></li>
<li class="stepexpand"><span>Complete the upgrade of all other nodes in the cluster.</span></li>
<li class="stepexpand"><span>Configure a response file, and provide passwords for the upgrade.</span>
<div>See <span class="q">&#34;<a href="app_nonint.htm#GUID-EAB6A7D3-7157-43F7-877A-475887B83E0D" title="You can create and run a response file configuration after installing Oracle software.">Postinstallation Configuration Using Response Files</a>&#34;</span> for information about how to create the response file.</div>
</li>
<li class="stepexpand"><span>To complete the upgrade, log in as the Oracle Installation user for Oracle Grid Infrastructure and run the script <code class="codeph">configToolAllCommands</code>, located in the path <code><span class="variable">Grid_home</span>\cfgtoollogs\configToolAllCommands</code>, specifying the response file that you created.</span>
<div>For example, if the response file is named <code class="codeph">gridinstall.rsp</code>:
<pre dir="ltr">[C:\] cd app\12.1.0\grid\cfgtoollogs
[C:\..\cfgtoollogs] configToolAllCommands RESPONSE_FILE=gridinstall.rsp
</pre></div>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="GUID-E4DBF635-1B28-4F6A-BD65-F0B88F97389F"></a>
<h4 id="CWWIN-GUID-E4DBF635-1B28-4F6A-BD65-F0B88F97389F" class="sect4"><span class="enumeration_section">A.12.2.2</span> Continuing Upgrade When Upgrade Fails on Nodes Other Than the First Node</h4>
<div>
<p>For nodes other than the first node (the node on which you started the upgrade), use these steps to continue the upgrade process.</p>
<ol>
<li class="stepexpand"><span>If the OUI failure indicated a need to reboot, by raising error message <samp class="msgph">CLSRSC-400</samp>, then reboot the node with the error condition. Otherwise, manually fix or clear the error condition that was reported in the error output.</span></li>
<li class="stepexpand"><span>On the first node, within OUI, click <span class="bold">Retry</span>.</span>
<div>This instructs OUI to retry the upgrade on the affected node.</div>
</li>
<li class="stepexpand"><span>Continue the upgrade from the OUI instance on the first node.</span></li>
</ol>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-9516AF3A-BABC-4FBE-A17E-228839BED22E"></a>
<h3 id="CWWIN-GUID-9516AF3A-BABC-4FBE-A17E-228839BED22E" class="sect3"><span class="enumeration_section">A.12.3</span> Completing Failed or Interrupted Installations</h3>
<div>
<p>If OUI exits on the node from which you started the installation (the <span class="variable">first node</span>), or the node reboots before you confirm that <code class="codeph">gridconfig.bat</code> script was run on all nodes, then the installation remains incomplete.</p>
<p>In an incomplete installation, configuration assistants still need to run, and the new Grid home still needs to be marked as active in the central Oracle inventory. You must complete the installation on the affected nodes manually.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-3C9B9AC2-EA68-4DAB-881F-5245B18CAA20">Continuing Incomplete Installations on First Nodes</a></strong><br/>
To continue an incomplete installation, the first node must finish before the rest of the clustered nodes.</li>
<li class="ulchildlink"><strong><a href="trouble.htm#GUID-57FBE7A6-414B-4972-8916-62AF982F9C54">Continuing Installations on Nodes Other Than the First Node</a></strong><br/>
For nodes other than the first node (the node on which you started the installation), use these steps to continue the installation process.</li>
</ul>
</div>
<div class="sect4"><a id="GUID-3C9B9AC2-EA68-4DAB-881F-5245B18CAA20"></a>
<h4 id="CWWIN-GUID-3C9B9AC2-EA68-4DAB-881F-5245B18CAA20" class="sect4"><span class="enumeration_section">A.12.3.1</span> Continuing Incomplete Installations on First Nodes</h4>
<div>
<p>To continue an incomplete installation, the first node must finish before the rest of the clustered nodes.</p>
<ol>
<li class="stepexpand"><span>If the OUI failure indicated a need to reboot, by raising error message CLSRSC-400, then reboot the first node (the node where the installation was started). Otherwise, manually fix or clear the error condition that was reported in the error output.</span></li>
<li class="stepexpand"><span>If necessary, log in as the Oracle Installation user for Oracle Grid Infrastructure. Change directory to the Grid home on the first node and run the <code class="codeph">gridconfig.bat</code> script on that node again.</span>
<div>For example:
<pre dir="ltr">[C:\] cd app\12.1.0\grid\crs\config\
[C:\..\config] gridconfig.bat
</pre></div>
</li>
<li class="stepexpand"><span>Complete the installation on all other nodes.</span></li>
<li class="stepexpand"><span>Configure a response file, and provide passwords for the installation.</span>
<div>See <span class="q">&#34;<a href="app_nonint.htm#GUID-EAB6A7D3-7157-43F7-877A-475887B83E0D" title="You can create and run a response file configuration after installing Oracle software.">Postinstallation Configuration Using Response Files</a>&#34;</span> for information about how to create the response file.</div>
</li>
<li class="stepexpand"><span>To complete the installation, log in as the Oracle Installation user for Oracle Grid Infrastructure, and run the script <code class="codeph">configToolAllCommands</code>, located in the path <code><span class="variable">Grid_home</span>\cfgtoollogs\configToolAllCommands</code>, specifying the response file that you created.</span>
<div>For example, if the response file is named <code class="codeph">gridinstall.rsp</code>:
<pre dir="ltr">[C:\] cd app\12.1.0\grid\cfgtoollogs
[C:\..\cfgtoollogs] configToolAllCommands RESPONSE_FILE=gridinstall.rsp
</pre></div>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="GUID-57FBE7A6-414B-4972-8916-62AF982F9C54"></a>
<h4 id="CWWIN-GUID-57FBE7A6-414B-4972-8916-62AF982F9C54" class="sect4"><span class="enumeration_section">A.12.3.2</span> Continuing Installations on Nodes Other Than the First Node</h4>
<div>
<p>For nodes other than the first node (the node on which you started the installation), use these steps to continue the installation process.</p>
<ol>
<li><span>If the OUI failure indicated a need to reboot, by raising error message <samp class="msgph">CLSRSC-400</samp>, then reboot the node with the error condition. Otherwise, manually fix or clear the error condition that was reported in the error output.</span></li>
<li><span>On the first node, within OUI, click <span class="bold">Retry</span>.</span></li>
<li><span>Continue the installation from the OUI instance on the first node.</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5120">
<tr>
<td class="cellalignment5127">
<table class="cellalignment5125">
<tr>
<td class="cellalignment5124"><a href="rem_orcl.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5124"><a href="app_nonint.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2012, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5129">
<table class="cellalignment5123">
<tr>
<td class="cellalignment5124"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5124"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5124"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5124"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5124"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5124"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
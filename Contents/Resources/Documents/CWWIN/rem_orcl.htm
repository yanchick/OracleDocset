<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5082"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Modifying%20or%20Deinstalling%20Oracle%20Grid%20Infrastructure"></a><title>Modifying or Deinstalling Oracle Grid Infrastructure</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="You must follow a specific procedure when modifying or removing Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM) software."/>
<meta name="keywords" content="uninstall, Oracle software, remove Oracle software, deinstallation, troubleshooting, and deinstalling, commands, srvctl, roothas.bat, ASMCA, enabling Oracle Restart disk group volumes, Grid home, changing location of, rootcrs.bat, and deconfigure option, deconfiguring Oracle Clusterware, deconfiguring Oracle Clusterware to fix causes of installation errors, installation errors, unconfiguring Oracle Clusterware, Deinstallation tool, restriction for Flex Clusters and &mdash;lastnode option, restriction for Flex Cluster deinstallation, Deinstallation Tool, software, removing, uninstalling, deinstallation tool, syntax, location of log files, response file"/>
<meta name="dcterms.created" content="2017-07-05T01:57:42Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Oracle Grid Infrastructure Installation Guide"/>
<meta name="dcterms.identifier" content="E49041-08"/>
<meta name="dcterms.isVersionOf" content="CWWIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2012, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="postinst.htm" title="Previous" type="text/html"/>
<link rel="Next" href="trouble.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49041-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-17E0E260-1900-4113-A5C6-A3EB2DA690ED"></a> <span id="PAGE" style="display:none;">15/20</span> <!-- End Header -->
<h1 id="CWWIN-GUID-17E0E260-1900-4113-A5C6-A3EB2DA690ED" class="sect1"><span class="enumeration_chapter">9</span> Modifying or Deinstalling Oracle Grid Infrastructure</h1>
<div>
<p>You must follow a specific procedure when modifying or removing Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM) software.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-03933EAE-5C75-4583-82C4-1DDC6B2295E6">Deciding When to Deinstall Oracle Clusterware</a></strong><br/>
There are certain situations in which you might be required to remove Oracle software.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-0A0556D0-409B-4306-BEB6-56494A6D8BD4">Migrating Standalone Grid Infrastructure Servers to a Cluster</a></strong><br/>
If you have an Oracle Database installation using Oracle Restart (an Oracle Grid Infrastructure installation for a standalone server), you can reconfigure that server as a cluster member node.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-A2D7C02E-F91A-40D2-BC3A-3F3F6F06188E">Changing the Oracle Grid Infrastructure Home Path</a></strong><br/>
You must reconfigure Oracle Clusterware and Oracle ASM every time you move the Grid home.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-FEFCDCA3-0CF4-498B-A376-BDC54C529749">Unconfiguring Oracle Clusterware Without Removing the Software</a></strong><br/>
By running <code class="codeph">rootcrs.bat -deconfig -force</code> on nodes where you encounter an installation error, you can unconfigure Oracle Clusterware on those nodes, correct the cause of the error, and then run <code class="codeph">rootcrs.bat</code> again to reconfigure Oracle Clusterware.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-2E0E28BB-A0C7-4743-9CC1-EA93BFE7B183">Removing Oracle Clusterware and Oracle ASM Software</a></strong><br/>
The <code class="codeph">deinstall</code> command removes Oracle Clusterware and Oracle ASM from your server.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-7A344C31-5D9D-4AF3-8E28-7760315B7D94">Example Response File for Deinstall of Oracle Grid Infrastructure</a></strong><br/>
When you run the deinstall command with the <code class="codeph">-paramfile</code> option, the deinstallation tool uses the values specified in the response file and, if needed, prompts you to supply any missing information.</li>
</ul>
<div class="infoboxnotealso" id="GUID-17E0E260-1900-4113-A5C6-A3EB2DA690ED__GUID-37153A3C-E70B-4DEE-8B09-B763D4E2C26A">
<p class="notep1">See Also:</p>
Product-specific documentation for requirements and restrictions to remove an individual product</div>
</div>
<div class="sect2"><a id="GUID-03933EAE-5C75-4583-82C4-1DDC6B2295E6"></a>
<h2 id="CWWIN-GUID-03933EAE-5C75-4583-82C4-1DDC6B2295E6" class="sect2"><span class="enumeration_section">9.1</span> Deciding When to Deinstall Oracle Clusterware</h2>
<div>
<p>There are certain situations in which you might be required to remove Oracle software.</p>
<p>Remove installed components in the following situations:</p>
<ul style="list-style-type: disc;">
<li>
<p>You have successfully installed Oracle Clusterware, and you want to remove the Oracle Clusterware installation, either in an educational environment, or a test environment.</p>
</li>
<li>
<p>You have encountered errors during or after installing or upgrading Oracle Clusterware, and you want to reattempt an installation.</p>
</li>
<li>
<p>Your installation or upgrade stopped because of a hardware or operating system failure.</p>
</li>
<li>
<p>You are advised by Oracle Support to reinstall Oracle Clusterware.</p>
</li>
</ul>
</div>
</div>
<div class="sect2"><a id="GUID-0A0556D0-409B-4306-BEB6-56494A6D8BD4"></a>
<h2 id="CWWIN-GUID-0A0556D0-409B-4306-BEB6-56494A6D8BD4" class="sect2"><span class="enumeration_section">9.2</span> Migrating Standalone Grid Infrastructure Servers to a Cluster</h2>
<div>
<p>If you have an Oracle Database installation using Oracle Restart (an Oracle Grid Infrastructure installation for a standalone server), you can reconfigure that server as a cluster member node.</p>
<ol>
<li class="stepexpand"><span>Inspect the Oracle Restart configuration with the Server Control (SRVCTL) utility using the following syntax, where <span class="variable">db_unique_name</span> is the unique name for the database, and <span class="variable">lsnrname</span> is the name of the listener for the database:</span>
<div>
<pre dir="ltr">srvctl config database -db <span class="variable">db_unique_name</span>
srvctl config service -db <span class="variable">db_unique_name</span>
srvctl config listener -listener <span class="variable">lsnrname</span>
</pre></div>
<div>Write down the configuration information for the server; you will need this information in a later step.</div>
</li>
<li class="stepexpand"><span>Stop all of the databases, services, and listeners that you discovered in step 1.</span></li>
<li class="stepexpand"><span>If present, unmount all Oracle Automatic Storage Management Cluster File System (Oracle ACFS) file systems.</span></li>
<li class="stepexpand"><span>Go to the directory <code><span class="variable">Grid_home</span>\crs\install</code>, where <span class="variable">Grid_home</span> is the location of your Oracle Grid Infrastructure home (Grid home) directory, for example:</span>
<div>
<pre dir="ltr">C:\&gt; cd app\12.1.0\grid\crs\install
</pre></div>
</li>
<li class="stepexpand"><span>Deconfigure and deinstall the Oracle Grid Infrastructure installation for a standalone server (Oracle Restart) using the following command:</span>
<div>
<pre dir="ltr">C:\..\install&gt; perl roothas.bat -deconfig -force
</pre></div>
</li>
<li class="stepexpand"><span>Prepare the server for Oracle Clusterware configuration, as described in Chapter 2 through Chapter 6 of this guide. In addition, choose to install Oracle Grid Infrastructure for a cluster in the same location as Oracle Restart or in a different location:</span>
<div>
<div class="tblformal" id="GUID-0A0556D0-409B-4306-BEB6-56494A6D8BD4__GUID-8E6DAB34-66DE-496B-AE79-23F9F5D63686">
<table class="cellalignment5132" summary="This table lists the choices for where to install Oracle Restart, and the action you must perform for each choice.">
<thead>
<tr class="cellalignment5121">
<th class="cellalignment5133" id="d30386e203">Option</th>
<th class="cellalignment5133" id="d30386e205">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e209" headers="d30386e203">Installing in the Same Location as Oracle Restart</td>
<td class="cellalignment5121" headers="d30386e209 d30386e205">
<ol>
<li>
<p>Use the deinstallation tool to remove the Oracle Restart software, but with all disk groups intact.</p>
</li>
<li>
<p>Proceed to step 7.</p>
</li>
</ol>
</td>
</tr>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e220" headers="d30386e203">Installing in a Different Location than Oracle Restart</td>
<td class="cellalignment5121" headers="d30386e220 d30386e205">Install Oracle Grid Infrastructure for a cluster in the new Grid home software location.</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</li>
<li class="stepexpand"><span>As the Oracle Installation user for Oracle Grid Infrastructure, run Oracle Clusterware Configuration Wizard, and save and stage the response file. For the <code class="codeph">-responseFile</code> parameter, specify the full path name where the response file should be written by the Oracle Clusterware Configuration Wizard, for example:</span>
<div>
<pre dir="ltr">C:\&gt; cd <span class="variable">Grid_home</span>\crs\config
C:\..\config&gt; config.bat -silent -responseFile C:\Users\dba1\scripts\GI.rsp
</pre></div>
</li>
<li class="stepexpand"><span>Mount the Oracle ASM disk group used by Oracle Restart.</span></li>
<li class="stepexpand"><span>If you used Oracle ACFS with Oracle Restart, then:</span>
<ol>
<li><span>Start Oracle ASM Configuration Assistant (ASMCA). Run the <code class="codeph">volenable</code> command to enable all Oracle Restart disk group volumes.</span></li>
<li><span>Mount all Oracle ACFS file systems manually.</span></li>
</ol>
</li>
<li class="stepexpand"><span>Add back Oracle Clusterware services to the Oracle Clusterware home, using the information you wrote down in step 1, including adding back Oracle ACFS resources, by performing the following tasks:</span>
<ol>
<li class="substepexpand"><span>Register the Oracle ACFS resources using a command similar to the following, where <span class="variable">Grid_home</span> is the location of your Oracle Grid Infrastructure installation:</span>
<div>
<pre dir="ltr">C:\&gt; <span class="variable">Grid_home</span>\bin\srvctl add filesystem -device \\.\ORCLDATADISK4
-diskgroup ORestartData -volume db1 
-mountpointpath C:\app\12.1.0\grid\db1 -user grid
</pre></div>
</li>
<li class="substepexpand"><span>Add the Oracle Database for support by Oracle Grid Infrastructure for a cluster. Use the following command syntax, where <span class="variable">db_unique_name</span> is the unique name of the database on the node, and <span class="variable">nodename</span> is the name of the node:</span>
<div>
<pre dir="ltr">srvctl add database -db <span class="variable">db_unique_name</span> -oraclehome %ORACLE_HOME% -node
<span class="variable">nodename</span>
</pre></div>
<div>For example, for the database name <code class="codeph">mydb</code> on the local node <code class="codeph">node1</code>, first verify that the <code class="codeph">ORACLE_HOME</code> environment variable is set to the location of the database home directory, then enter the following command to register the database with Oracle Clusterware:
<pre dir="ltr">srvctl add database -db mydb -oraclehome %ORACLE_HOME% -node node1
</pre></div>
</li>
<li class="substepexpand"><span>Register each database service, using the command <code class="codeph">srvctl add service</code>. For example, if your database name is <code class="codeph">mydb</code> and you created a service named <code class="codeph">myservice</code> for this database, then enter the following command:</span>
<div>
<pre dir="ltr">srvctl add service -db mydb -service myservice
</pre>
<div class="infoboxnotealso" id="GUID-0A0556D0-409B-4306-BEB6-56494A6D8BD4__GUID-F79C8116-A706-4975-A7D1-B9BAF4FCCF20">
<p class="notep1">See Also:</p>
<a class="olink CWADD92094" target="_blank" href="../CWADD/GUID-780155B8-D379-4800-924B-3C366184220A.htm#CWADD92094"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about the configuration wizard.</div>
</div>
</li>
</ol>
</li>
</ol>
</div>
</div>
<div class="sect2"><a id="GUID-A2D7C02E-F91A-40D2-BC3A-3F3F6F06188E"></a>
<h2 id="CWWIN-GUID-A2D7C02E-F91A-40D2-BC3A-3F3F6F06188E" class="sect2"><span class="enumeration_section">9.3</span> Changing the Oracle Grid Infrastructure Home Path</h2>
<div>
<p>You must reconfigure Oracle Clusterware and Oracle ASM every time you move the Grid home.</p>
<div class="p">
<div class="infobox-note" id="GUID-A2D7C02E-F91A-40D2-BC3A-3F3F6F06188E__GUID-8F8066C2-89FE-4098-BACF-5BA21BF6031B">
<p class="notep1">Caution:</p>
Before changing the Grid home, you must shut down all executables that run in the Grid home directory that you are modifying. In addition, shut down all applications that use Oracle shared libraries.</div>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Login as an Administrator user or the Oracle Installation user for Oracle Grid Infrastructure (for example, <code class="codeph">grid</code>).</span></li>
<li class="stepexpand"><span>Change directory to <code><span class="variable">Grid_home</span>\bin</code> and enter the command <code class="codeph">crsctl stop crs</code>. For example:</span>
<div>
<pre dir="ltr">C:\&gt; cd app\12.1.0\grid\BIN
C:\..\BIN&gt; crsctl stop crs
</pre></div>
</li>
<li class="stepexpand"><span>Detach the existing Grid home.</span>
<div>Run a command similar to the following command, where <code class="codeph">C:\app\12.1.0\grid</code> is the existing Grid home location:
<pre dir="ltr">C:\&gt; cd app\12.1.0\grid\oui\bin
C:\..\bin&gt; setup.exe -silent -detachHome ORACLE_HOME=
&#39;C:\app\12.1.0\grid&#39; -local
</pre></div>
</li>
<li class="stepexpand"><span>Move the installed files for Oracle Grid Infrastructure from the old Grid home to the new Grid home.</span>
<div>For example, if the old Grid home is <code>C:\app\12.1.0\grid</code> and the new Grid home is <code>D:\app\12c\grid</code>, use the following command:
<pre dir="ltr">C:\&gt; xcopy C:\app\12.1.0\grid D:\app\12c\grid /E /I /H /K
</pre></div>
</li>
<li class="stepexpand"><span>Clone the Oracle Grid Infrastructure installation, using the instructions provided in &#34;Creating a Cluster by Cloning Oracle Clusterware Step 3: Run the clone.pl Script on Each Destination Node,&#34; in <a class="olink CWADD" target="_blank" href="../CWADD/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a>.</span>
<div>When you navigate to the <code><span class="variable">Grid_home</span>\clone\bin</code> directory and run the <code class="codeph">clone.pl</code> script, provide values for the input parameters that provide the path information for the new Grid home.
<div class="infobox-note" id="GUID-A2D7C02E-F91A-40D2-BC3A-3F3F6F06188E__GUID-53EB538B-0736-4206-B33A-35DD0309A84E">
<p class="notep1">Note:</p>
You cannot specify a different Oracle Home user when changing the Oracle Grid Infrastructure home path.</div>
</div>
</li>
<li class="stepexpand"><span>Start Oracle Clusterware in the new home location.</span>
<div>
<pre dir="ltr">D:\&gt; cd app\12c\grid\crs\install
D:\..install\&gt; rootcrs.bat -patch -dstcrshome D:\app\12c\grid
</pre></div>
</li>
<li class="stepexpand"><span>Repeat steps 1 through 4 and step 6 on each cluster member node.</span></li>
</ol>
</div>
</div>
<div class="sect2"><a id="GUID-FEFCDCA3-0CF4-498B-A376-BDC54C529749"></a>
<h2 id="CWWIN-GUID-FEFCDCA3-0CF4-498B-A376-BDC54C529749" class="sect2"><span class="enumeration_section">9.4</span> Unconfiguring Oracle Clusterware Without Removing the Software</h2>
<div>
<p>By running <code class="codeph">rootcrs.bat -deconfig -force</code> on nodes where you encounter an installation error, you can unconfigure Oracle Clusterware on those nodes, correct the cause of the error, and then run <code class="codeph">rootcrs.bat</code> again to reconfigure Oracle Clusterware.</p>
<div class="section">Running the <code class="codeph">rootcrs.bat</code> command with the options <code class="codeph">-deconfig -force</code> enables you to unconfigure Oracle Clusterware on one or more nodes without removing the installed software. This feature is useful if you encounter an error on one or more cluster nodes during installation, such as incorrectly configured shared storage.</div>
<!-- class="section" -->
<div class="p">
<p>Before unconfiguring Oracle Clusterware you must:</p>
<ul style="list-style-type: disc;">
<li>
<p>Stop any databases, services, and listeners that may be installed and running</p>
</li>
<li>
<p>Dismount ACFS file systems</p>
</li>
<li>
<p>Disable ADVM volumes</p>
</li>
</ul>
<div class="infobox-note" id="GUID-FEFCDCA3-0CF4-498B-A376-BDC54C529749__GUID-4EEBF6AB-91D6-48DB-AA8F-32BA296BC229">
<p class="notep1">Caution:</p>
Commands used in this section remove the Oracle Grid infrastructure installation for the entire cluster. To remove the installation from an individual node, refer to <a class="olink CWADD1167" target="_blank" href="../CWADD/GUID-929C0CD9-9B67-45D6-B864-5ED3B47FE458.htm#CWADD1167"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a>.</div>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Log in using a member of the Administrators group on a node where you encountered an error during installation.</span></li>
<li class="stepexpand"><span>Stop any databases, services, and listeners currently running from the Grid home.</span></li>
<li class="stepexpand"><span>If present, unmount all Oracle Automatic Storage Management Cluster File System (Oracle ACFS) file systems.</span></li>
<li class="stepexpand"><span>Change directory to <code><span class="variable">Grid_home</span>\crs\install</code>.</span>
<div>For example:
<pre dir="ltr">C:\&gt; cd C:\app\12.1.0\grid\crs\install
</pre></div>
</li>
<li class="stepexpand"><span>Run <code class="codeph">rootcrs.bat</code> with the <code class="codeph">-deconfig -force</code> options.</span>
<div>For example:
<pre dir="ltr">C:\..\install&gt; rootcrs.bat -deconfig -force
</pre>
<div class="infobox-note" id="GUID-FEFCDCA3-0CF4-498B-A376-BDC54C529749__GUID-6347A5FE-244B-4CC2-9F2D-99B063D63536">
<p class="notep1">Note:</p>
The <code class="codeph">-force</code> option must be specified when running the <code class="codeph">rootcrs.bat</code> script if there exist running resources that depend on the resources started from the Oracle Clusterware home you are deleting, such as databases, services, or listeners. You must also use the <code class="codeph">-force</code> option if you are removing a partial, or failed installation.</div>
</div>
</li>
<li class="stepexpand"><span>Repeat Step 1 through Step 5 on other nodes as required.</span></li>
<li class="stepexpand"><span>If you are unconfiguring Oracle Clusterware on all nodes in the cluster, then on the last node, enter the following command:</span>
<div>
<pre dir="ltr">C:\..\install&gt; rootcrs.bat -deconfig -force -lastnode
</pre></div>
<div>The <code class="codeph">-lastnode</code> option completes the unconfiguring of the cluster, including the Oracle Cluster Registry (OCR) and voting files.
<div class="infobox-note" id="GUID-FEFCDCA3-0CF4-498B-A376-BDC54C529749__GUID-06848F2F-070A-44B5-BAC0-2CA7BBAC06A6">
<p class="notep1">Caution:</p>
Run the <code class="codeph">rootcrs.bat -deconfig -force -lastnode</code> command on a Hub Node. Deconfigure all Leaf Nodes before you run the command with the <code class="codeph">-lastnode</code> flag.</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2"><a id="GUID-2E0E28BB-A0C7-4743-9CC1-EA93BFE7B183"></a>
<h2 id="CWWIN-GUID-2E0E28BB-A0C7-4743-9CC1-EA93BFE7B183" class="sect2"><span class="enumeration_section">9.5</span> Removing Oracle Clusterware and Oracle ASM Software</h2>
<div>
<p>The <code class="codeph">deinstall</code> command removes Oracle Clusterware and Oracle ASM from your server.</p>
<div class="infobox-note" id="GUID-2E0E28BB-A0C7-4743-9CC1-EA93BFE7B183__GUID-28C574A1-ADAB-4F64-92D2-29CE332861D6">
<p class="notep1">Caution:</p>
You must use the deinstallation tool from the same release to remove Oracle software. Do not run the deinstallation tool from a later release to remove Oracle software from an earlier release. For example, do not run the deinstallation tool from the 12.1.0.1 installation media to remove Oracle software from an existing 11.2.0.4 Oracle home.</div>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-1EC0D00B-2C51-4A4E-BF0C-EEAE38B4D6DC">About the Deinstallation Tool</a></strong><br/>
The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-2DA596AC-76A9-49E5-A042-DCA184DDCA2A">Deinstallation Tool Command Reference</a></strong><br/>
You can use the deinstallation tool to remove Oracle software. You can run this command in standalone mode, from an Oracle home directory, or through the installer.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-931E9BAB-819D-471F-A523-7A9FAF1D3D5F">Using the Deinstallation Tool to Remove Oracle Clusterware and Oracle ASM</a></strong><br/>
You can run the deinstallation tool in multiple ways.</li>
</ul>
</div>
<div class="sect3"><a id="GUID-1EC0D00B-2C51-4A4E-BF0C-EEAE38B4D6DC"></a>
<h3 id="CWWIN-GUID-1EC0D00B-2C51-4A4E-BF0C-EEAE38B4D6DC" class="sect3"><span class="enumeration_section">9.5.1</span> About the Deinstallation Tool</h3>
<div>
<p>The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system.</p>
<p>Starting with Oracle Database 12<span class="italic">c</span>, the deinstallation tool is integrated with the database installation media. You can run the deinstallation tool using the <code class="codeph">setup.exe</code> command with the <code class="codeph">-deinstall</code> and <code class="codeph">-home</code> options from the base directory of the Oracle Database or Oracle Database Client installation media.</p>
<p>The deinstallation tool is also available as a separate command (<code class="codeph">deinstall.bat</code>) in Oracle home directories after installation. It is located in the <code>%ORACLE_HOME%\deinstall</code> directory.</p>
<p>The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system for a specific Oracle home. <span>If you run the deinstallation tool to remove an Oracle Grid Infrastructure for Windows installation, then the deinstaller automatically runs the appropriate scripts to deconfigure Oracle Grid Infrastructure or Oracle Grid Infrastructure for standalone server.</span></p>
<p>The deinstallation tool uses the information you provide, plus information gathered from the software home to create a response file. You can alternatively supply a response file generated previously by the <code class="codeph">deinstall.bat</code> command using the <code class="codeph">-checkonly</code> option and <code class="codeph">-o</code> option. You can also edit a response file template to create a response file.</p>
<div class="infobox-note" id="GUID-1EC0D00B-2C51-4A4E-BF0C-EEAE38B4D6DC__GUID-4AE639F0-B167-4888-813B-0F0CA8401DF4">
<p class="notep1">Note:</p>
You must run the deinstallation tool from the same release to remove Oracle software. Do not run the deinstallation tool from a later release to remove Oracle software from an earlier release. For example, do not run the deinstallation tool from the Oracle Database 12.1 installation media to remove Oracle software from an existing 11.2.0.4 Oracle home.</div>
<p>If the software in the Oracle home is not running (for example, after an unsuccessful installation), then the deinstallation tool cannot determine the configuration and you must provide all the configuration details either interactively or in a response file.</p>
</div>
</div>
<div class="sect3"><a id="GUID-2DA596AC-76A9-49E5-A042-DCA184DDCA2A"></a>
<h3 id="CWWIN-GUID-2DA596AC-76A9-49E5-A042-DCA184DDCA2A" class="sect3"><span class="enumeration_section">9.5.2</span> Deinstallation Tool Command Reference</h3>
<div>
<p>You can use the deinstallation tool to remove Oracle software. You can run this command in standalone mode, from an Oracle home directory, or through the installer.</p>
<div class="section">
<p class="subhead3">Purpose</p>
<p>The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">File Path</p>
<code>%ORACLE_HOME%\deinstall\deinstall</code></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Prerequisites</p>
<p>Before you run the deinstallation tool for Oracle Grid Infrastructure installations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Dismount Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and disable Oracle Automatic Storage Management Dynamic Volume Manager (Oracle ADVM).</p>
</li>
<li>
<p>If Grid Naming Service (GNS) is in use, then notify your DNS administrator to delete the subdomain entry from the DNS.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax When Using the deinstall.bat Program</p>
<pre dir="ltr"><span class="bold">deinstall.bat</span> [-silent] [-checkonly] [-local] 
 [-paramfile <span class="variable">complete path of input response file</span>] 
 [-params <span class="variable">name1</span>=<span class="variable">value</span> [<span class="variable">name2</span>=<span class="variable">value</span> . . .]] 
 [-o <span class="variable">complete path of directory for saving files</span>] 
 [-tmpdir <span class="variable">complete path of temporary directory to use</span>]
 [-logdir <span class="variable">complete path of log directory to use</span>] [-help]
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax When Using the setup.exe Program</p>
<pre dir="ltr"><span class="bold">setup.exe -deinstall -home <span class="variable">complete path of Oracle home</span></span>[-silent] [-checkonly] 
 [-local] [-paramfile <span class="variable">complete path of input response file</span>] 
 [-params <span class="variable">name1</span>=<span class="variable">value</span> [<span class="variable">name2</span>=<span class="variable">value</span> . . .]] 
 [-o <span class="variable">complete path of directory for saving files</span>] 
 [-tmpdir <span class="variable">complete path of temporary directory to use</span>]
 [-logdir <span class="variable">complete path of log directory to use</span>] [-help]
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Options</p>
<div class="tblformal" id="GUID-2DA596AC-76A9-49E5-A042-DCA184DDCA2A__GUID-64E26E4A-A765-4B30-BA2C-28CB3FAD21ED">
<p class="titleintable">Table 9-1 Options for the Deinstallation Tool</p>
<table class="cellalignment5132" title="Options for the Deinstallation Tool" summary="There are several options you can use with the deinstallation tool.">
<thead>
<tr class="cellalignment5121">
<th class="cellalignment5133" id="d30386e781">Command Option</th>
<th class="cellalignment5133" id="d30386e783">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e787" headers="d30386e781"><code class="codeph">home <span class="variable">complete path of Oracle home</span></code></td>
<td class="cellalignment5121" headers="d30386e787 d30386e783">
<p>Specify this option to indicate the home path of the Oracle home to check or deinstall. To deinstall Oracle software using the <code class="codeph">deinstall.bat</code> command located within the Oracle home being removed, provide a response file in a location outside the Oracle home, and do not use the <code class="codeph">-home</code> option.</p>
<p>If you run <code class="codeph">deinstall.bat</code> from the <code class="codeph">%ORACLE_HOME%\deinstall</code> path, then the <code class="codeph">-home</code> option is not required because the tool knows from which home it is being run. If you use the command <code class="codeph">setup.exe -deinstall</code> from the installation media, then the <code class="codeph">-home</code> option is mandatory.</p>
</td>
</tr>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e819" headers="d30386e781"><code class="codeph">silent</code></td>
<td class="cellalignment5121" headers="d30386e819 d30386e783">Specify this option to run the deinstallation tool in noninteractive mode. This option requires one of the following:
<ul style="list-style-type: disc;">
<li>
<p>A working system that it can access to determine the installation and configuration information; the <code class="codeph">-silent</code> option does not work with failed installations.</p>
</li>
<li>
<p>A response file that contains the configuration values for the Oracle home that is being deinstalled or deconfigured.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e835" headers="d30386e781"><code class="codeph">checkonly</code></td>
<td class="cellalignment5121" headers="d30386e835 d30386e783">
<p>Specify this option to check the status of the Oracle software home configuration. Running the <code class="codeph">deinstall</code> command with the <code class="codeph">-checkonly</code> option does not remove the Oracle configuration. This option generates a response file that you can use with the <code class="codeph">deinstall.bat</code> command.</p>
<p>When you use the <code class="codeph">-checkonly</code> option to generate a response file, you are prompted to provide information about your system. You can accept the default value the tool has obtained from your Oracle installation, indicated inside brackets (<code class="codeph">[]</code>), or you can provide different values. To accept the defaults, press <kbd class="userinput">Enter</kbd> at each prompt.</p>
</td>
</tr>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e862" headers="d30386e781"><code class="codeph">local</code></td>
<td class="cellalignment5121" headers="d30386e862 d30386e783">
<p>Specify this option on a multinode environment to deconfigure Oracle software in a cluster.</p>
<p>When you run <code class="codeph">deinstall.bat</code> with this option, it deconfigures and deinstalls the Oracle software only on the local node (the node on which you run <code class="codeph">deinstall.bat</code>) for non-shared Oracle home directories. The deinstallation tool does not deinstall or deconfigure Oracle software on remote nodes.</p>
</td>
</tr>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e877" headers="d30386e781"><code class="codeph">paramfile <span class="variable">complete path of input response file</span></code></td>
<td class="cellalignment5121" headers="d30386e877 d30386e783">
<p>(Optional) You can specify this option to run <code class="codeph">deinstall.bat</code> with a response file in a location other than the default. When you use this option, provide the complete path where the response file is located. If you run the <code class="codeph">deinstall.bat</code> command from the Oracle home that you plan to deinstall, then you do not need to specify the <code class="codeph">-paramfile</code> option.</p>
<p>The default location of the response file depends on the location of the deinstallation tool:</p>
<ul style="list-style-type: disc;">
<li>
<p>From the installation media or stage location: <code><span class="variable">X:</span>\<span class="variable">staging_location</span>\deinstall\response</code></p>
</li>
<li>
<p>After installation, from the installed Oracle home: <code>%ORACLE_HOME%\deinstall\response</code>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e914" headers="d30386e781"><code class="codeph">params</code> <code class="codeph"><span class="variable">name1</span>=<span class="variable">value</span>[ <span class="variable">name2</span>=<span class="variable">value</span> <span class="variable">name3</span>=<span class="variable">value</span>...]</code></td>
<td class="cellalignment5121" headers="d30386e914 d30386e783">Use this option with a response file to override one or more values in a response file that you created.</td>
</tr>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e941" headers="d30386e781"><code class="codeph">o <span class="variable">complete path of directory for saving response files</span></code></td>
<td class="cellalignment5121" headers="d30386e941 d30386e783">
<p>Use this option to provide a path other than the default location where the response file (<code>deinstall.rsp.tmpl</code>) is saved.</p>
<p>The default location of the response file depends on the invocation method of the deinstallation tool:</p>
<ul style="list-style-type: disc;">
<li>
<p>From the installation media or stage location: <code><span class="variable">stagelocation</span>\response</code></p>
</li>
<li>
<p>After installation, from the installed Oracle home: <code>%ORACLE_HOME%\deinstall\response</code>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e969" headers="d30386e781"><code class="codeph">tmpdir <span class="variable">complete path of temporary directory to use</span></code></td>
<td class="cellalignment5121" headers="d30386e969 d30386e783">Specifies a non-default location where the deinstallation tool writes the temporary files for the deinstallation.</td>
</tr>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e977" headers="d30386e781"><code class="codeph">logdir <span class="variable">complete path of log directory to use</span></code></td>
<td class="cellalignment5121" headers="d30386e977 d30386e783">Specifies a non-default location where the deinstallation tool writes the log files for the deinstallation.</td>
</tr>
<tr class="cellalignment5121">
<td class="cellalignment5121" id="d30386e985" headers="d30386e781"><code class="codeph">help</code></td>
<td class="cellalignment5121" headers="d30386e985 d30386e783">Use the <code class="codeph">-help</code> option to obtain additional information about the deinstallation tool options.</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Location of Log Files for the Deinstallation Tool</p>
<p>If you use the <code class="codeph">deinstall.bat</code> command located in an Oracle home, then the deinstallation tool writes log files in the <code>C:\Program Files\Oracle\Inventory\logs</code> directory.</p>
<p>If you are using the <code class="codeph">deinstall.bat</code> command to remove the last Oracle home installed on the server, then the log files are written to <code>%TEMP%\deinstall&lt;<span class="variable">timestamp</span>&gt;\logs</code>.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-931E9BAB-819D-471F-A523-7A9FAF1D3D5F"></a>
<h3 id="CWWIN-GUID-931E9BAB-819D-471F-A523-7A9FAF1D3D5F" class="sect3"><span class="enumeration_section">9.5.3</span> Using the Deinstallation Tool to Remove Oracle Clusterware and Oracle ASM</h3>
<p>You can run the deinstallation tool in multiple ways.</p>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-6DACB23F-B7AC-40DA-9885-CF0815193D35">Running the Deinstallation Tool From an Oracle Home</a></strong><br/>
You can run the deinstallation tool from an Oracle home or from the software installation media.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-6A64EBC7-0F98-4DAD-AF9B-EE629CBBFC65">Running the Deinstallation Tool Interactively From the Installer</a></strong><br/>
You can run the deinstallation tool from an Oracle home or from the software installation media.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-77613833-85CE-4030-9E69-98BE19EAB4A2">Running the Deinstallation Tool with a Response File</a></strong><br/>
The deinstallation tool uses the information you provide, plus information gathered from the software home to create a response file. You can alternatively supply a response file generated previously by the <code class="codeph">deinstall.bat</code> command using the <code class="codeph">&ndash;checkonly</code> option and <code class="codeph">-o</code> option. You can also edit a response file template to create a response file.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-99A4A18B-98D9-4C92-BF16-BE61BEAEE9A5">Generating a Response File For Use With the Deinstallation Tool</a></strong><br/>
You can generate the a response file by running the <code class="codeph">deinstall.bat</code> command with the <code class="codeph">-checkonly</code> and <code class="codeph">-o</code> options before you run the command to deinstall the Oracle home, or you can use the response file template and manually edit it to create the response file.</li>
</ul>
</div>
<div class="sect4"><a id="GUID-6DACB23F-B7AC-40DA-9885-CF0815193D35"></a>
<h4 id="CWWIN-GUID-6DACB23F-B7AC-40DA-9885-CF0815193D35" class="sect4"><span class="enumeration_section">9.5.3.1</span> Running the Deinstallation Tool From an Oracle Home</h4>
<div>
<p>You can run the deinstallation tool from an Oracle home or from the software installation media.</p>
<ol>
<li class="stepexpand"><span>The default method for running the deinstallation tool is from the <code>deinstall</code> directory in the Oracle home as the Oracle Installation user:</span>
<div><code>C:\&gt; %ORACLE_HOME%\deinstall\deinstall.bat</code></div>
</li>
<li class="stepexpand"><span>Provide information about your servers as prompted or accept the defaults.</span></li>
</ol>
<div class="section">The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system.</div>
<!-- class="section" -->
<div class="example" id="GUID-6DACB23F-B7AC-40DA-9885-CF0815193D35__GUID-23726394-A9A4-4F84-B32C-7DFACBCC9C79">
<p class="titleinexample">Example 9-1 Running <code class="codeph">deinstall.bat</code> From Within the Oracle Home</p>
<p>The most common method of running the deinstallation tool is to use the version installed in the Oracle home being removed. The deinstallation tool determines the software configuration for the local Oracle home, and then provides default values at each prompt. You can either accept the default value, or override it with a different value. If the software in the Oracle home is not running (for example, after an unsuccessful installation), then the deinstallation tool cannot determine the configuration, and you must provide all the configuration details either interactively or in a response file. To use the deinstallation tool located in the Oracle home directory, issue the following command, where <code>C:\app\12.1.0\grid</code> is the location of Grid home:</p>
<p>Use the following command while logged in as a member of the Administrators group to remove the Oracle Grid Infrastructure installation from your cluster:</p>
<pre dir="ltr">C:\&gt; app\12.1.0\grid\deinstall\deinstall.bat
</pre>
<p>Provide additional information as prompted.</p>
<div class="infobox-note" id="GUID-6DACB23F-B7AC-40DA-9885-CF0815193D35__GUID-094B4948-A85B-4158-A2F0-C00BD3EBEAF7">
<p class="notep1">Note:</p>
When using the deinstallation tool from a location other than within the Oracle home being removed, you must specify the <code class="codeph">-home</code> option on the command line.</div>
</div>
<!-- class="example" --></div>
</div>
<div class="sect4"><a id="GUID-6A64EBC7-0F98-4DAD-AF9B-EE629CBBFC65"></a>
<h4 id="CWWIN-GUID-6A64EBC7-0F98-4DAD-AF9B-EE629CBBFC65" class="sect4"><span class="enumeration_section">9.5.3.2</span> Running the Deinstallation Tool Interactively From the Installer</h4>
<div>
<p>You can run the deinstallation tool from an Oracle home or from the software installation media.</p>
<ol>
<li><span>Use the <code class="codeph">setup.exe</code> command with the <code class="codeph">-deinstall</code> option, followed by the <code class="codeph">-home</code> option to specify the path of the Oracle home you want to remove</span></li>
<li><span>Provide information about your servers as prompted or accept the defaults.</span></li>
</ol>
<div class="section">The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system.</div>
<!-- class="section" -->
<div class="example" id="GUID-6A64EBC7-0F98-4DAD-AF9B-EE629CBBFC65__GUID-23726394-A9A4-4F84-B32C-7DFACBCC9C79">
<p class="titleinexample">Example 9-2 Running the Deinstallation Tool from the Software Installation Media</p>
<p>If you run the deinstallation tool from the installer in the installation media, then when the <code class="codeph">deinstall.bat</code> command runs, it uses the information you provide to determine the system configuration and then provides default values at each prompt. You can either accept the default value, or override it with a different value. If the software in the specified Oracle home is not running (for example, after an unsuccessful install attempt), then the deinstallation tool cannot determine the configuration, and you must provide all the configuration details either interactively or in a response file.</p>
<p>In this example, the <code class="codeph">setup.exe</code> command is in the path <code>/<span class="variable">directory_path</span></code>, where <code><span class="variable">directory_path</span></code> is the path to the database directory on the installation media, and <code>C:\app\12.1.0\grid</code> is the path to the Grid home that you want to remove.</p>
<p>Use the following command while logged in as a member of the Administrators group to remove the Oracle Grid Infrastructure installation from your cluster:</p>
<pre dir="ltr">C:\&gt; cd <span class="variable">directory_path</span> 
C:\..database&gt; setup.exe -deinstall -home C:\app\12.1.0\grid
</pre>
<p>Provide additional information as prompted.</p>
<div class="infobox-note" id="GUID-6A64EBC7-0F98-4DAD-AF9B-EE629CBBFC65__GUID-094B4948-A85B-4158-A2F0-C00BD3EBEAF7">
<p class="notep1">Note:</p>
When using the deinstallation tool from a location other than within the Oracle home being removed, you must specify the <code class="codeph">-home</code> option on the command line.</div>
</div>
<!-- class="example" --></div>
</div>
<div class="sect4"><a id="GUID-77613833-85CE-4030-9E69-98BE19EAB4A2"></a>
<h4 id="CWWIN-GUID-77613833-85CE-4030-9E69-98BE19EAB4A2" class="sect4"><span class="enumeration_section">9.5.3.3</span> Running the Deinstallation Tool with a Response File</h4>
<div>
<p>The deinstallation tool uses the information you provide, plus information gathered from the software home to create a response file. You can alternatively supply a response file generated previously by the <code class="codeph">deinstall.bat</code> command using the <code class="codeph">&ndash;checkonly</code> option and <code class="codeph">-o</code> option. You can also edit a response file template to create a response file.</p>
<ul>
<li class="stepexpand"><span>To run the <code class="codeph">deinstall.bat</code> command located in an Oracle Grid Infrastructure home and use a response file located at <code>D:\Users\oracle\paramfile4.tmpl</code>, enter the following commands while logged in as a member of the Administrators group:</span>
<div>
<pre dir="ltr">C:\&gt; cd %ORACLE_HOME% C:\..grid&gt; deinstall\deinstall.bat -paramfile D:\Users\oracle\paramfile4.tmpl
</pre></div>
</li>
</ul>
</div>
</div>
<div class="sect4"><a id="GUID-99A4A18B-98D9-4C92-BF16-BE61BEAEE9A5"></a>
<h4 id="CWWIN-GUID-99A4A18B-98D9-4C92-BF16-BE61BEAEE9A5" class="sect4"><span class="enumeration_section">9.5.3.4</span> Generating a Response File For Use With the Deinstallation Tool</h4>
<div>
<p>You can generate the a response file by running the <code class="codeph">deinstall.bat</code> command with the <code class="codeph">-checkonly</code> and <code class="codeph">-o</code> options before you run the command to deinstall the Oracle home, or you can use the response file template and manually edit it to create the response file.</p>
<div class="section">Alternatively, you can use the response file template located at <code>%ORACLE_HOME%\deinstall\response\deinstall.rsp.tmpl</code>.</div>
<!-- class="section" -->
<ul>
<li class="stepexpand"><span>To generate the response file <code>deinstall_OraCrs11g_home1.rsp</code> using the <code class="codeph">deinstall.bat</code> command located in the Oracle home and the <code class="codeph">-checkonly</code> option, enter a command similar to the following, where <code>C:\app\12.1.0\grid</code> is the location of the Grid home and <code>C:\Users\oracle</code> is the directory in which the generated response file is created:</span>
<div>
<pre dir="ltr">C:\&gt; app\12.1.0\grid\deinstall\deinstall.bat -checkonly -o C:\Users\oracle\
</pre></div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-7A344C31-5D9D-4AF3-8E28-7760315B7D94"></a>
<h2 id="CWWIN-GUID-7A344C31-5D9D-4AF3-8E28-7760315B7D94" class="sect2"><span class="enumeration_section">9.6</span> Example Response File for Deinstall of Oracle Grid Infrastructure</h2>
<div>
<p>When you run the deinstall command with the <code class="codeph">-paramfile</code> option, the deinstallation tool uses the values specified in the response file and, if needed, prompts you to supply any missing information.</p>
<div class="example" id="GUID-7A344C31-5D9D-4AF3-8E28-7760315B7D94__GUID-DA6B9DE2-7CE3-4B59-B64F-06CC81673405">
<p class="titleinexample">Example 9-3 Example of a Response File for the Deinstallation Tool on a Cluster</p>
The following is an example of a response file for a cluster on nodes <code class="codeph">node1</code> and <code class="codeph">node2</code>, in which the Oracle Grid Infrastructure for a cluster is installed by the user grid, the Grid home is <code>C:\app\12.1.0\grid</code>, the Oracle base (the Oracle base for Oracle Grid Infrastructure, containing Oracle ASM log files, Oracle Clusterware logs, and other administrative files) is <code>C:\app\grid\</code>, the central Oracle Inventory home is <code>C:\Program Files\Oracle\Inventory</code>, the virtual IP addresses (VIP) are 192.0.2.2 and 192.0.2.4, and the local node (the node on which you run the <code class="codeph">deinstall.bat</code> command) is <code class="codeph">node1</code>:
<pre dir="ltr">#Copyright (c) 2005, 2009 Oracle Corporation.  All rights reserved.
VIP1_IP=192.0.2.2
LOCAL_NODE=node1
ORA_VD_DISKGROUPS=+DATA
VIP1_IF=PublicNIC
OCRID=
ObaseCleanupPtrLoc=C:\Temp\OraDeinstall112010-02-11_10-14-30AM\utl\...
HELPJAR_NAME=help4.jar
local=false
ORACLE_HOME=C:\app\12.1.0\grid
ASM_HOME=C:\app\12.1.0\grid
ASM_DISK_GROUPS=
ASM_DISK_GROUP=DATA
ORA_DBA_GROUP=
ASM_DISCOVERY_STRING=
NEW_HOST_NAME_LIST=
PRIVATE_NAME_LIST=
ASM_DISKS=\\.\ORCLDISKDATA0,\\.\ORCLDISKDATA1,\\.\ORCLDISKDATA2
ASM_DISKSTRING=
CRS_HOME=true
JLIBDIR=C:\app\12.1.0\grid\jlib
OCRLOC=
JEWTJAR_NAME=jewt4.jar
EMBASEJAR_NAME=oemlt.jar
CRS_STORAGE_OPTION=1
ASM_REDUNDANCY=EXTERNAL
GPNPGCONFIGDIR=$ORACLE_HOME
LANGUAGE_ID=&#39;AMERICAN_AMERICA.WE8MSWIN1252&#39;
CRS_NODEVIPS=&#39;node1-vip/255.255.252.0/PublicNIC,node2-vip/255.255.252.0/PublicNIC&#39;
ORACLE_OWNER=Administrator
OLD_ACTIVE_ORACLE_HOME=
GNS_ALLOW_NET_LIST=
silent=false
LOGDIR=C:\Temp\OraDeinstall112010-02-11_10-14-30AM\logs\
OCFS_CONFIG=
NODE_NAME_LIST=node1,node2
GNS_DENY_ITF_LIST=
ORA_CRS_HOME=C:\app\12.1.0\grid
JREDIR=C:\app\12.1.0\grid\jdk\jre
ASM_LOCAL_SID=+asm1
ORACLE_BASE=C:\app\oracle\
GNS_CONF=false
NETCFGJAR_NAME=netcfg.jar
ORACLE_BINARY_OK=true
OCR_LOCATIONS=NO_VAL
ASM_ORACLE_BASE=C:\app\oracle
OLRLOC=
GPNPCONFIGDIR=$ORACLE_HOME
ORA_ASM_GROUP=
GNS_DENY_NET_LIST=
OLD_CRS_HOME=
EWTJAR_NAME=ewt3.jar
NEW_NODE_NAME_LIST=
GNS_DOMAIN_LIST=
ASM_UPGRADE=false
NETCA_LISTENERS_REGISTERED_WITH_CRS=LISTENER
CLUSTER_NODES=node1,node2
CLUSTER_GUID=
NEW_PRIVATE_NAME_LIST=
ASM_DIAGNOSTIC_DEST=C:\APP\ORACLE
CLSCFG_MISSCOUNT=
SCAN_PORT=1521
ASM_DROP_DISKGROUPS=true
NETWORKS=&#34;PublicNIC&#34;/192.0.2.1:public,&#34;PrivateNIC&#34;/10.0.0.1:cluster_interconnect
OCR_VOTINGDISK_IN_ASM=true
NODELIST=node1,node2
ASM_IN_HOME=true
HOME_TYPE=CRS
GNS_ADDR_LIST=
CLUSTER_NAME=myrac-cluster
SHAREJAR_NAME=share.jar
VOTING_DISKS=NO_VAL
SILENT=false
VNDR_CLUSTER=false
GPNP_PA=
CSS_LEASEDURATION=400
REMOTE_NODES=node2
ASM_SPFILE=
HOST_NAME_LIST=node1,node2
SCAN_NAME=myrac-scan
VIP1_MASK=255.255.252.0
INVENTORY_LOCATION=C:\Program Files\Oracle\Inventory
</pre>
<div class="infobox-note" id="GUID-7A344C31-5D9D-4AF3-8E28-7760315B7D94__GUID-6F460A34-143B-46DC-9084-904D2EFC399F">
<p class="notep1">Note:</p>
Do not use quotation marks around any of the values in this file, except in the following cases:
<ul style="list-style-type: disc;">
<li>
<p>Around addresses for the <span class="apiname">CRS_NODEVIPS</span> parameter:</p>
<pre dir="ltr">CRS_NODEVIPS=&#39;node1-vip/255.255.252.0/PublicNIC,node2-vip/..&#39;
</pre></li>
<li>
<p>Around interface names for the <span class="apiname">NETWORKS</span> parameters:</p>
<pre dir="ltr">NETWORKS=&#34;PublicNIC&#34;/192.0.2.1:public,&#34;PrivateNIC&#34;/10.0.0.1  :cluster_interconnect
</pre></li>
</ul>
</div>
</div>
<!-- class="example" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5120">
<tr>
<td class="cellalignment5127">
<table class="cellalignment5125">
<tr>
<td class="cellalignment5124"><a href="postinst.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5124"><a href="trouble.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2012, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5129">
<table class="cellalignment5123">
<tr>
<td class="cellalignment5124"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5124"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5124"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5124"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5124"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5124"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
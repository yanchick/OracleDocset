<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-106629"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Database%20Memory%20Allocation"></a><title>Database Memory Allocation</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-01-18T01:24:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Performance Tuning Guide"/>
<meta name="dcterms.identifier" content="E49058-08"/>
<meta name="dcterms.isVersionOf" content="TGDBA"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="part3.htm" title="Previous" type="text/html"/>
<link rel="Next" href="tune_sga.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49058-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-E9265077-B296-485A-BC2C-0AF55762D1EC"></a> <span id="PAGE" style="display:none;">18/27</span> <!-- End Header -->
<a id="TGDBA291"></a>
<h1 id="TGDBA-GUID-E9265077-B296-485A-BC2C-0AF55762D1EC" class="sect1"><span class="enumeration_chapter">11</span> Database Memory Allocation</h1>
<div>
<p>This chapter describes memory allocation in Oracle Database and the various methods for managing memory.</p>
<p>This chapter contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="memory.htm#GUID-CC3F45CF-9C63-4EB7-8D77-EDC468F80A2B">About Database Memory Caches and Other Memory Structures</a></p>
</li>
<li>
<p><a href="memory.htm#GUID-BBEC24EB-DADD-4178-A553-F9C7FF684207">Database Memory Management Methods</a></p>
</li>
<li>
<p><a href="memory.htm#GUID-4F06F89D-C747-4E12-AF21-09B7BE6AC877">Using Automatic Memory Management</a></p>
</li>
<li>
<p><a href="memory.htm#GUID-A71D0A5B-4A1D-4475-984E-6BA26710FF3C">Monitoring Memory Management</a></p>
</li>
</ul>
</div>
<a id="TGDBA292"></a>
<div class="props_rev_3"><a id="GUID-CC3F45CF-9C63-4EB7-8D77-EDC468F80A2B"></a>
<h2 id="TGDBA-GUID-CC3F45CF-9C63-4EB7-8D77-EDC468F80A2B" class="sect2">About Database Memory Caches and Other Memory Structures</h2>
<div>
<p><a id="d30546e92" class="indexterm-anchor"></a><a id="d30546e96" class="indexterm-anchor"></a>Oracle Database stores information in memory caches and on disk. <a id="d30546e99" class="indexterm-anchor"></a><a id="d30546e103" class="indexterm-anchor"></a>Memory access is much faster than disk access. Disk access (physical I/O) takes a significant amount of time, compared to memory access, typically in the order of 10 milliseconds. Physical I/O also increases the CPU resources required due to the path length in device drivers and operating system event schedulers. For this reason, it is more efficient for data requests of frequently accessed objects to be perform by memory, rather than also requiring disk access. Proper sizing and effective use of Oracle Database memory caches greatly improves database performance.</p>
<p>The main Oracle Database memory caches that affect performance include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Database buffer cache</p>
<p>The database buffer cache stores data blocks read from disk.</p>
</li>
<li>
<p>Redo log buffer</p>
<p>The redo log buffer stores redo entries of changes made to data blocks in the buffer cache.</p>
</li>
<li>
<p>Shared pool</p>
<p>The shared pool caches many different types of data and is mainly comprised of the following components:</p>
<ul style="list-style-type: disc;">
<li>
<p>Library cache</p>
</li>
<li>
<p>Data dictionary cache</p>
</li>
<li>
<p>Server result cache</p>
</li>
</ul>
</li>
<li>
<p>Large pool</p>
<p>The large pool provides large memory allocations for the following Oracle Database features:</p>
<ul style="list-style-type: disc;">
<li>
<p>Shared server architecture</p>
</li>
<li>
<p>Parallel query</p>
</li>
<li>
<p>Recovery Manager (RMAN)</p>
</li>
</ul>
</li>
<li>
<p>Java pool</p>
<p>The Java pool stores session-specific Java code and Java Virtual Machine (JVM) data.</p>
</li>
<li>
<p>Streams pool</p>
<p>The Streams pool provides memory for Oracle Streams processes.</p>
</li>
<li>
<p>Process-private memory</p>
<p>Process-private memory includes memory used for operations such as sorting and hash joins.</p>
</li>
<li>
<p>In-Memory Column Store (IM column store)</p>
<p>Starting in Oracle Database 12c Release 1 (12.1.0.2), the IM column store is an optional, static SGA pool that stores copies of tables and partitions. In the IM column store, data is stored in a special columnar format, which improves performance of operations such as scans, joins, and aggregations.</p>
<div class="infobox-note" id="GUID-CC3F45CF-9C63-4EB7-8D77-EDC468F80A2B__GUID-D5CBC3C7-8F8E-403A-B75E-9197B0FF5E7D">
<p class="notep1">Note:</p>
<p>The IM column store does not replace the buffer cache, but acts as a supplement so that both memory areas can store the same data in different formats.</p>
</div>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-CC3F45CF-9C63-4EB7-8D77-EDC468F80A2B__GUID-66DB0910-8C56-4A23-95CF-75B2B5C67A90">
<p class="notep1">See Also:</p>
<p><a class="olink CNCPT007" target="_blank" href="../CNCPT/memory.htm#CNCPT007"><span class="italic">Oracle Database Concepts</span></a> for information about the Oracle Database memory architecture</p>
</div>
</div>
</div>
<a id="TGDBA505"></a>
<div class="props_rev_3"><a id="GUID-BBEC24EB-DADD-4178-A553-F9C7FF684207"></a>
<h2 id="TGDBA-GUID-BBEC24EB-DADD-4178-A553-F9C7FF684207" class="sect2">Database Memory Management Methods</h2>
<div>
<p>The goal of memory management is to reduce the physical I/O overhead as much as possible, either by making it more likely that the required data is in memory, or by making the process of retrieving the required data more efficient. To achieve this goal, proper sizing and effective use of Oracle Database memory caches is essential.</p>
<p>Oracle Database provides the following methods to manage database memory:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="memory.htm#GUID-4433AFDE-47AB-41D5-9DE0-E26CBDD4576D">Automatic Memory Management</a></p>
</li>
<li>
<p><a href="memory.htm#GUID-F082EAF9-1B65-4F82-BA33-4137768DB5BC">Automatic Shared Memory Management</a></p>
</li>
<li>
<p><a href="memory.htm#GUID-8C82165D-ED07-46D3-8B07-3844B08AAA41">Manual Shared Memory Management</a></p>
</li>
<li>
<p><a href="memory.htm#GUID-AB0C006B-BFBE-4EF0-AD0F-439AB8B97064">Automatic PGA Memory Management</a></p>
</li>
<li>
<p><a href="memory.htm#GUID-9912730C-31A8-41F6-B9D6-4DAACB9DC880">Manual PGA Memory Management</a></p>
</li>
</ul>
</div>
<a id="TGDBA293"></a>
<div class="props_rev_3"><a id="GUID-4433AFDE-47AB-41D5-9DE0-E26CBDD4576D"></a>
<h3 id="TGDBA-GUID-4433AFDE-47AB-41D5-9DE0-E26CBDD4576D" class="sect3">Automatic Memory Management</h3>
<div>
<p>Automatic memory management enables Oracle Database to manage and tune the database memory automatically. In automatic memory management mode, management of the shared global area (SGA) and program global area (instance PGA) memory is handled completely by Oracle Database. This method is the most automated and is strongly recommended by Oracle. Before setting any memory pool sizes manually, strongly consider using automatic memory management.</p>
<p>For information about using automatic memory management, see <span class="q">&#34;<a href="memory.htm#GUID-4F06F89D-C747-4E12-AF21-09B7BE6AC877">Using Automatic Memory Management</a>&#34;</span>.</p>
</div>
</div>
<a id="TGDBA506"></a>
<div class="props_rev_3"><a id="GUID-F082EAF9-1B65-4F82-BA33-4137768DB5BC"></a>
<h3 id="TGDBA-GUID-F082EAF9-1B65-4F82-BA33-4137768DB5BC" class="sect3">Automatic Shared Memory Management</h3>
<div>
<p>If automatic memory management is disabled, then Oracle Database uses automatic shared memory management to manage SGA memory. In this mode, Oracle Database automatically distributes memory to individual SGA components based on a target size that you set for the total SGA memory.</p>
<p>For information about using automatic shared memory management, see <span class="q">&#34;<a href="tune_sga.htm#GUID-4FD3AFB7-BFC5-49F2-8C6D-917E9B30D045">Using Automatic Shared Memory Management</a>&#34;</span>.</p>
</div>
</div>
<a id="TGDBA507"></a>
<div class="props_rev_3"><a id="GUID-8C82165D-ED07-46D3-8B07-3844B08AAA41"></a>
<h3 id="TGDBA-GUID-8C82165D-ED07-46D3-8B07-3844B08AAA41" class="sect3">Manual Shared Memory Management</h3>
<div>
<p>If both automatic memory management and automatic shared memory management are disabled, then you must manage SGA memory manually by sizing the individual memory pools in the SGA. Although this mode enables you to exercise complete control over how SGA memory is distributed, it requires the most effort because the SGA components must be manually tuned on an ongoing basis.</p>
<p>For information about using manual shared memory management, see <span class="q">&#34;<a href="tune_sga.htm#GUID-41D5D260-3896-4592-A89A-09EDEAD48492">Sizing the SGA Components Manually</a>&#34;</span>.</p>
</div>
</div>
<a id="TGDBA508"></a>
<div class="props_rev_3"><a id="GUID-AB0C006B-BFBE-4EF0-AD0F-439AB8B97064"></a>
<h3 id="TGDBA-GUID-AB0C006B-BFBE-4EF0-AD0F-439AB8B97064" class="sect3">Automatic PGA Memory Management</h3>
<div>
<p>If automatic memory management is disabled, then Oracle Database uses automatic PGA memory management to manage PGA memory. In this mode, Oracle Database automatically distributes memory to work areas in the instance PGA based on a target size that you set for the total PGA memory.</p>
<p>For information about automatic PGA memory management, see <a href="tune_pga.htm#GUID-FE1954FB-FAC9-4302-896E-6F47EB6C8A73">Tuning the Program Global Area</a> .</p>
</div>
</div>
<a id="TGDBA509"></a>
<div class="props_rev_3"><a id="GUID-9912730C-31A8-41F6-B9D6-4DAACB9DC880"></a>
<h3 id="TGDBA-GUID-9912730C-31A8-41F6-B9D6-4DAACB9DC880" class="sect3">Manual PGA Memory Management</h3>
<div>
<p>If both automatic memory management and automatic PGA memory management are disabled, then you must manage PGA memory manually by adjusting the portion of PGA memory dedicated to each work area. This method can be very difficult because the workload is always changing and is not recommended by Oracle. Although manual PGA memory management is supported by Oracle Database, Oracle strongly recommends using automatic memory management or automatic PGA memory management instead.</p>
</div>
</div>
</div>
<a id="TGDBA510"></a>
<div class="props_rev_3"><a id="GUID-4F06F89D-C747-4E12-AF21-09B7BE6AC877"></a>
<h2 id="TGDBA-GUID-4F06F89D-C747-4E12-AF21-09B7BE6AC877" class="sect2">Using Automatic Memory Management</h2>
<div>
<div class="section">
<p>To use automatic memory management, set the following initialization parameters:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code>MEMORY_TARGET</code></p>
<p>The <code>MEMORY_TARGET</code> initialization parameter specifies the target memory size. The database tunes to the value specified for this parameter, redistributing memory as needed between the SGA and the instance PGA. This parameter is dynamic, so its value can be changed at any time without restarting the database.</p>
</li>
<li>
<p><code>MEMORY_MAX_TARGET</code></p>
<p>The <code>MEMORY_MAX_TARGET</code> initialization parameter specifies the maximum memory size. The value specified for this parameter serves as the limit to which the <code>MEMORY_TARGET</code> initialization parameter can be set. This parameter is static, so its value cannot be changed after instance startup.</p>
</li>
</ul>
<p>If you need tuning advice for the <code>MEMORY_TARGET</code> parameter, then use the <code>V$MEMORY_TARGET_ADVICE</code> view.</p>
<div class="infoboxnotealso" id="GUID-4F06F89D-C747-4E12-AF21-09B7BE6AC877__GUID-FFCB00E7-1089-43B1-BFF7-66D7CDCF5847">
<p class="notep1">See Also:</p>
<p><a class="olink ADMIN11011" target="_blank" href="../ADMIN/memory.htm#ADMIN11011"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about using automatic memory management</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="TGDBA512"></a><a id="TGDBA511"></a>
<div class="props_rev_3"><a id="GUID-A71D0A5B-4A1D-4475-984E-6BA26710FF3C"></a>
<h2 id="TGDBA-GUID-A71D0A5B-4A1D-4475-984E-6BA26710FF3C" class="sect2">Monitoring Memory Management</h2>
<div>
<p><a href="memory.htm#GUID-A71D0A5B-4A1D-4475-984E-6BA26710FF3C__BABHFFEA" title="This table lists the views that provide information about memory resize operations.">Table 11-1</a> lists the views that provide information about memory resize operations.</p>
<div class="tblformal" id="GUID-A71D0A5B-4A1D-4475-984E-6BA26710FF3C__BABHFFEA">
<p class="titleintable">Table 11-1 Memory Management Views</p>
<table class="cellalignment11" title="Memory Management Views" summary="This table lists the views that provide information about memory resize operations.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment73" id="d30546e581">View</th>
<th class="cellalignment74" id="d30546e584">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment75" id="d30546e589" headers="d30546e581">
<p><code>V$MEMORY_CURRENT_RESIZE_OPS</code></p>
</td>
<td class="cellalignment76" headers="d30546e589 d30546e584">
<p>Displays information about memory resize operations (both automatic and manual) that are currently in progress.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment75" id="d30546e597" headers="d30546e581">
<p><code>V$MEMORY_DYNAMIC_COMPONENTS</code></p>
</td>
<td class="cellalignment76" headers="d30546e597 d30546e584">
<p>Displays information about the current sizes of all dynamically-tuned memory components, including the total sizes of the SGA and instance PGA.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment75" id="d30546e605" headers="d30546e581">
<p><code>V$MEMORY_RESIZE_OPS</code></p>
</td>
<td class="cellalignment76" headers="d30546e605 d30546e584">
<p>Displays information about the last 800 completed memory resize operations (both automatic and manual). This does not include operations that are currently in progress.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment75" id="d30546e613" headers="d30546e581">
<p><code>V$MEMORY_TARGET_ADVICE</code></p>
</td>
<td class="cellalignment76" headers="d30546e613 d30546e584">
<p>Displays tuning advice for the <code>MEMORY_TARGET</code> initialization parameter.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infoboxnotealso" id="GUID-A71D0A5B-4A1D-4475-984E-6BA26710FF3C__GUID-0C0D96BE-937A-4785-AD07-C91BA1ACFFF2">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for information about these views</p>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1">
<tr>
<td class="cellalignment8">
<table class="cellalignment6">
<tr>
<td class="cellalignment5"><a href="part3.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5"><a href="tune_sga.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment10">
<table class="cellalignment4">
<tr>
<td class="cellalignment5"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
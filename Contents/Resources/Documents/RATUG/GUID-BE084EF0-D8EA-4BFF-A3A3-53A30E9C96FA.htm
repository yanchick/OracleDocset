<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-88102"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Retrieving%20Information%20About%20Workload%20Replays"></a><title>Retrieving Information About Workload Replays</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-01-24T11:32:44Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Testing Guide"/>
<meta name="dcterms.identifier" content="E55028-05"/>
<meta name="dcterms.isVersionOf" content="RATUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E55028-05.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA"></a> <span id="PAGE" style="display:none;">157/309</span> <!-- End Header -->
<a id="RATUG4258"></a><a id="RATUG4257"></a>
<h1 id="RATUG-GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" class="sect1"><span class="enumeration_section">12.6.11</span> Retrieving Information About Workload Replays</h1>
<div>
<div class="section">
<p>You can retrieve all information about the workload captures in a replay directory object and the history of the workload replay attempts from the directory. By default, the workload replay divergence data is not loaded, but you can selectively choose to load this data.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">To retrieve information about workload replays:</p>
<ul style="list-style-type: disc;">
<li>
<p>Call the <code>DBMS_WORKLOAD_REPLAY</code>.<a id="d29518e88" class="indexterm-anchor"></a><code>GET_REPLAY_INFO</code> function.</p>
<p>The <code>GET_REPLAY_INFO</code> function first imports a row into the <code>DBA_WORKLOAD_CAPTURES</code> view, which contains information about the workload capture. By default, it then only imports information for replays that have not been previously loaded into the <code>DBA_WORKLOAD_REPLAYS</code> view. This function returns the <code>cap_id</code> of the capture directory (for a consolidated capture directory, the <code>cap_id</code> returned is <code>0</code>), which can be associated with the <code>CAPTURE_ID</code> column in the <code>DBA_WORKLOAD_REPLAYS</code> view to access the information retrieved.</p>
<p>The <code>GET_REPLAY_INFO</code> function uses the following parameters:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code>replay_dir</code> required parameter, which specifies the name of the workload replay directory object.</p>
</li>
<li>
<p>The <code>load_divergence</code> optional parameter, which specifies if divergence data is loaded. The default value for this parameter is <code>FALSE</code>. To load divergence data, which imports rows for every replay attempt retrieved from the replay directory into the <code>DBA_WORKLOAD_REPLAY_DIVERGENCE</code> view, set this parameter to <code>TRUE</code>. Alternatively, you can use the <code>LOAD_DIVERGENCE</code> procedure to selectively load divergence data for a single replay or all replays in a directory object after the replay information is retrieved, as described in <span class="q">&#34;<a href="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E.htm">Loading Divergence Data for Workload Replay</a>&#34;</span>.</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="example" id="GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA__GUID-68023FD6-46FF-4C90-8D4A-B7394AC98D27">
<p class="titleinexample">Example 12-1 Retrieving information about workload replay</p>
<p>The following example shows how to retrieve information about the workload captures and the history of the workload replay attempts for the replay directory object named <code>jul14</code>, and to validate that the information is retrieved.</p>
<pre dir="ltr">DECLARE
  cap_id         NUMBER;
BEGIN
  cap_id := DBMS_WORKLOAD_REPLAY.GET_REPLAY_INFO(replay_dir =&gt; &#39;jul14&#39;);
  SELECT capture_id
    FROM dba_workload_replays
   WHERE capture_id = cap_id;
END;
/
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2747">
<tr>
<td class="cellalignment2754">
<table class="cellalignment2752">
<tr>
<td class="cellalignment2751"><a href="GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2751"><a href="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2756">
<table class="cellalignment2750">
<tr>
<td class="cellalignment2751"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2751"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2751"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2751"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2751"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2751"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-87916"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Masking%20with%20an%20Application%20Data%20Model%20and%20Workloads"></a><title>Masking with an Application Data Model and Workloads</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="data masking, creating masking definition, creating, data masking definition, Data Masking Definitions page"/>
<meta name="dcterms.created" content="2017-01-24T11:32:44Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Testing Guide"/>
<meta name="dcterms.identifier" content="E55028-05"/>
<meta name="dcterms.isVersionOf" content="RATUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-E850416A-8D19-4711-B5B2-0BC9A24C2ADC.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-27F32BB6-BE8C-4534-BCDC-CFD5B5CC2946.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E55028-05.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-282BC176-1E16-4285-99DE-71C7909775F6"></a> <span id="PAGE" style="display:none;">288/309</span> <!-- End Header -->
<a id="RATUG4250"></a><a id="RATUG4030"></a>
<h1 id="RATUG-GUID-282BC176-1E16-4285-99DE-71C7909775F6" class="sect1"><span class="enumeration_section">19.6</span> Masking with an Application Data Model and Workloads</h1>
<div>
<div class="section">
<p>Before creating a masking definition, note the following prerequisites and advisory information:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a id="d50789e96" class="indexterm-anchor"></a><a id="d50789e100" class="indexterm-anchor"></a>Ensure that you have the following minimum privileges for data masking:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>EM_ALL_OPERATOR</code> for Enterprise Manager Cloud Control users</p>
</li>
<li>
<p><code>SELECT_CATALOG_ROLE</code> for database users</p>
</li>
<li>
<p><code>SELECT ANY DICTIONARY</code> privilege for database users</p>
</li>
<li>
<p><code>EXECUTE</code> privileges for the DBMS_CRYPTO package</p>
</li>
</ul>
</li>
<li>
<p>Ensure the format you select does not violate check constraints and does not break any applications that use the data.</p>
</li>
<li>
<p>For triggers and PL/SQL packages, data masking recompiles the object.</p>
</li>
<li>
<p>Exercise caution when masking partitioned tables, especially if you are masking the partition key. In this circumstance, the row may move to another partition.</p>
</li>
<li>
<p>Data Masking does not support clustered tables, masking information in object tables, XML tables, and virtual columns. Relational tables are supported for masking.</p>
</li>
<li>
<p>If objects are layered on top of a table such as views, materialized views, and PL/SQL packages, they are recompiled to be valid.</p>
</li>
</ul>
<p>If you plan to mask a test system intended for evaluating performance, the following practices are recommended:</p>
<ul style="list-style-type: disc;">
<li>
<p>Try to preserve the production statistics and SQL profiles after masking by adding a pre-masking script to export the SQL profiles and statistics to a temporary table, then restoring after masking completes.</p>
</li>
<li>
<p><a id="d50789e149" class="indexterm-anchor"></a>Run a SQL Performance Analyzer evaluation to understand the masking impact on performance. Any performance changes other than what appears in the evaluation report are usually related to application-specific changes on the masked database.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">To create a masking definition:</p>
<ol>
<li>
<p>From the <span class="bold">Enterprise</span> menu, select <span class="bold">Quality Management</span>, then <span class="bold">Data Masking Definitions</span>.</p>
<p>The Data Masking Definitions page appears, where you can create and schedule new masking definitions and manage existing masking definitions.</p>
</li>
<li>
<p>Click <span class="bold">Create</span> to go to the Create Masking Definition page.</p>
<p>A masking definition includes information regarding table columns and the format for each column. You can choose which columns to mask, leaving the remaining columns intact.</p>
</li>
<li>
<p>Provide a required <span class="bold">Name</span>, <span class="bold">Application Data Model</span>, and <span class="bold">Reference Database</span>.</p>
<p>When you click the search icon and select an Application Data Model (ADM) name from the list, the system automatically populates the Reference Database field.</p>
<ul style="list-style-type: disc;">
<li>
<p>Optional: Check Ensure Workload Masking Compatibility if you want to mask Capture files and SQL Tuning Sets.</p>
<p>When you enable this check box, the masking definition is evaluated to determine if the SQL Expression format or conditional masking is being used. If either is in use when you click OK, the option becomes unchecked and an error message appears asking you to remove these items before selecting this option.</p>
<div class="infobox-note" id="GUID-282BC176-1E16-4285-99DE-71C7909775F6__GUID-805E8DE5-AC29-4F5F-B684-1C1139429B2A">
<p class="notep1">Note:</p>
<p>Before proceeding to the next step, one or more sensitive columns must already be defined in the Application Data Model. See <span class="q">&#34;<a href="GUID-23635590-8ABA-4986-8DB2-71D54A837E4A.htm">Managing Sensitive Column Types</a>&#34;</span> for more information.</p>
</div>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Add</span> to go to the Add Columns page, where you can choose which sensitive columns in the ADM you want to mask. See <span class="q">&#34;<a href="GUID-27F32BB6-BE8C-4534-BCDC-CFD5B5CC2946.htm">Adding Columns for Masking</a>&#34;</span> for information on adding columns.</p>
<p>The results appear in the Columns table. Primary key and foreign key columns appear below the sensitive columns.</p>
</li>
<li>
<p>Use filtering criteria to refine sensitive column results. For example, perhaps you want to isolate all columns that have order in the name (column name=order%). You first may have to expose the filter section (<span class="bold">Show Filters</span>).</p>
</li>
<li>
<p>Use the disable feature to exclude certain columns from masking consideration. All columns are enabled by default. You can disable selected or all columns. You can also search for a subset of columns (column name=order%) to disable. The Status column on the right changes to reflect a column&#39;s disabled state. Note that a column&#39;s disabled state persists on export of a data masking definition.</p>
</li>
<li>
<p>Optional. Click the edit icon in the Format column to review and <a href="topicid:oemdba_consens_data_masking_define_column_mask_page" target="_blank">edit the masking format</a>.</p>
</li>
<li>
<p>Expand <span class="bold">Show Advanced Options</span> and decide whether the selected default data masking options are satisfactory.</p>
<p>For more information, see <span class="q">&#34;<a href="GUID-C1A669FC-5AF2-4A87-846B-3DC7E31EF386.htm">Selecting Data Masking Advanced Options</a>&#34;</span>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to save your definition and return to the Data Masking Definitions page.</p>
<p>At this point, super administrators can see each other&#39;s masking definitions.</p>
</li>
<li>
<p>Select the definition and click <span class="bold">Generate Script</span>. The schedule job dialog opens. You may have to log in to the database first. For information on script generation, see <span class="q">&#34;<a href="GUID-F6790692-5CFD-40DD-8AEA-065BDDFEBDFE.htm">Scheduling a Script Generation Job</a>&#34;</span>.</p>
<p>Complete the schedule job dialog by providing the required information, then click <span class="bold">Submit</span>.</p>
</li>
<li>
<p>A message appears denoting that the job was submitted successfully and you return to the Data Masking Definitions page, where the status is &#34;Generating Script.&#34; Click <span class="bold">View Job Details</span> to open the job summary page.</p>
<p>When the job completes, click <span class="bold">Log Report</span> to check whether sufficient disk space is available for the operation, and to determine the impact on other destination objects, such as users, after masking. If any tables included in the masking definition have columns of data type <code>LONG</code>, a warning message may appear. For more information, see <span class="q">&#34;<a href="GUID-A660FFCC-78C3-44C4-9A77-5352A734B9E9.htm">Using Data Masking with LONG Columns</a>&#34;</span>.</p>
</li>
<li>
<p>When the status on the Data Masking Definitions page is &#34;Script Generated,&#34; select the script and choose from the following actions:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Clone Database</span>&ndash;to clone and mask the database using the Clone Database wizard (this requires a <a id="d50789e303" class="indexterm-anchor"></a>Database Lifecycle Management Pack license). For more information, see <span class="q">&#34;<a href="GUID-E01DF1D2-3157-4A6C-951F-2B004EA07977.htm">Cloning the Production Database</a>&#34;</span>.</p>
</li>
<li>
<p><span class="bold">Save Script</span>&ndash;to save the entire PL/SQL script to your desktop.</p>
</li>
<li>
<p><span class="bold">Save Mask Bundle</span>&ndash;to download a zip file containing the SQL files generated as part of the At source masking script generation option. You can then extract and execute the script to create a masked dump of the database.</p>
</li>
<li>
<p><span class="bold">View Script</span>&ndash;to view the PL/SQL script, which you can edit and save. You can also view errors and warnings, if any, in the impact report.</p>
</li>
</ul>
<p>Click <span class="bold">Go</span> to execute the selected action.</p>
</li>
<li>
<p>If you are already working with a test database and want to directly mask the data in this database, click <span class="bold">Schedule Job</span>. For information on masking a database, see <span class="q">&#34;<a href="GUID-1B9D8A63-ADBC-4554-A53A-C34A6CE4DC64.htm">Scheduling a Data Masking Job</a>&#34;</span>.</p>
<ul style="list-style-type: disc;">
<li>
<p>Provide the requisite information and desired options. You can specify the database at execution time to any database. The system assumes that the database you select is a clone of the source database. By default, the source database from the ADM is selected.</p>
</li>
<li>
<p>Click <span class="bold">Submit</span>.</p>
<p>The Data Masking Definitions page appears. The job has been submitted to Enterprise Manager and the masking process appears. The Status column on this page indicates the current stage of the process.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p>Note that you can also perform data masking at the source as part of a data subsetting definition. See <span class="q">&#34;<a href="GUID-68E917AE-D22A-42FC-BB99-BD6ED6D99C3E.htm">Creating a Data Subset Definition</a>&#34;</span> for more information.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Editing a Data Masking Definition</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Use the following procedure to edit or otherwise work with a masking definition:</p>
<ol>
<li>
<p>From the Data Masking Definitions page, click the radio button next to the definition you want to edit, then click <span class="bold">Edit</span>.</p>
</li>
<li>
<p>Add columns or edit format entries as you would when creating a new definition, which is explained starting in Step 3 above.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> on the Edit Masking Definitions page when you have finished editing.</p>
</li>
<li>
<p>Perform these other actions with an existing masking definition by choosing the respective menu item from the <span class="bold">Actions</span> menu:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Create Like</span>&ndash;to display the masking definition in the Create Masking Definition page where you can customize the definition.</p>
</li>
<li>
<p><span class="bold">Grant Designer</span>&ndash;to grant Designer privileges on the masking definition to selected roles or administrators, which means the grantees can view and edit the definition. Privileges granted can also be revoked.</p>
</li>
<li>
<p><span class="bold">Grant Operator</span>&ndash;to grant Operator privileges on the masking definition to selected roles or administrators, which means the grantees can view and copy but not edit the definition. Privileges granted can also be revoked.</p>
</li>
<li>
<p><span class="bold">Export</span>&ndash;to export the definition as an XML file for use in other repositories.</p>
</li>
</ul>
<p>Click <span class="bold">Go</span> to execute the selected action.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2747">
<tr>
<td class="cellalignment2754">
<table class="cellalignment2752">
<tr>
<td class="cellalignment2751"><a href="GUID-E850416A-8D19-4711-B5B2-0BC9A24C2ADC.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2751"><a href="GUID-27F32BB6-BE8C-4534-BCDC-CFD5B5CC2946.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2756">
<table class="cellalignment2750">
<tr>
<td class="cellalignment2751"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2751"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2751"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2751"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2751"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2751"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
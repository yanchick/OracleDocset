<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-87898"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Capturing%20a%20Database%20Workload%20Using%20Enterprise%20Manager"></a><title>Capturing a Database Workload Using Enterprise Manager</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-01-24T11:32:44Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Testing Guide"/>
<meta name="dcterms.identifier" content="E55028-05"/>
<meta name="dcterms.isVersionOf" content="RATUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-FEA9EDAC-5F4E-42E0-9FA2-8E3C91C19BAD.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E55028-05.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681"></a> <span id="PAGE" style="display:none;">96/309</span> <!-- End Header -->
<a id="RATUG256"></a><a id="RATUG117"></a>
<h1 id="RATUG-GUID-1679DB12-B633-4021-A3B9-9CC6216D6681" class="sect1"><span class="enumeration_section">10.7</span> Capturing a Database Workload Using Enterprise Manager</h1>
<div>
<div class="section">
<p>This section describes how to <a id="d19945e78" class="indexterm-anchor"></a>capture a database workload using Enterprise Manager. The primary tool for capturing database workloads is Oracle Enterprise Manager.</p>
<div class="infoboxnotealso" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-58335361-4144-45BA-BB5E-DCCE958A7880">
<p class="notep1">Tip:</p>
<p>If Oracle Enterprise Manager is unavailable, you can capture database workloads using APIs, as described in <span class="q">&#34;<a href="GUID-7AB9889A-6F05-41D3-8EA1-F4BEEC507BDE.htm">Capturing a Database Workload Using APIs</a>&#34;</span>.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">To capture a database workload using Enterprise Manager:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>From the Enterprise menu of the Enterprise Manager Cloud Control console, select <span class="bold">Quality Management</span>, then <span class="bold">Database Replay</span>.</span>
<div>
<p>If the Database Login page appears, log in as a user with administrator privileges.</p>
<p>The Database Replay page appears.</p>
<div class="figure" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-636CB4DE-022E-4A2A-A249-ECE711E9B6B5"><img width="884" height="413" src="img/GUID-3E3177F8-49D2-429F-9E2C-331DA49024F1-default.gif" alt="Description of GUID-3E3177F8-49D2-429F-9E2C-331DA49024F1-default.gif follows" title="Description of GUID-3E3177F8-49D2-429F-9E2C-331DA49024F1-default.gif follows"/><br/>
<a href="img_text/GUID-3E3177F8-49D2-429F-9E2C-331DA49024F1-default.htm">Description of the illustration GUID-3E3177F8-49D2-429F-9E2C-331DA49024F1-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>From the Database Replay page, click the <span class="bold">Captured Workloads</span> tab, then click <span class="bold">Create</span> in the toolbar.</span>
<div>
<p>The Create Capture: Plan Environment page appears.</p>
<div class="figure" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-2B8D9A99-7E97-42B7-A98D-DFD7AD81890F"><img width="773" height="274" src="img/GUID-93F63299-10CC-4814-8B7F-3C7779EEE419-default.gif" alt="Description of GUID-93F63299-10CC-4814-8B7F-3C7779EEE419-default.gif follows" title="Description of GUID-93F63299-10CC-4814-8B7F-3C7779EEE419-default.gif follows"/><br/>
<a href="img_text/GUID-93F63299-10CC-4814-8B7F-3C7779EEE419-default.htm">Description of the illustration GUID-93F63299-10CC-4814-8B7F-3C7779EEE419-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Verify that you have met both prerequisites described on this page, then enable both checkboxes and click <span class="bold">Next</span>.</span>
<div>
<p>The Create Capture: Database page appears.</p>
<div class="infoboxnotealso" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-26CD62D4-39F7-4C8B-81EB-ACA8BCAD8836">
<p class="notep1">Tip:</p>
<p>For information about the prerequisites, see <span class="q">&#34;<a href="GUID-372BA03D-7A24-4300-A0AE-30E0D9D9C724.htm">Prerequisites for Capturing a Database Workload</a>&#34;</span>.</p>
</div>
<div class="figure" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-3ADA7CB0-1B46-403B-AB6C-BF9F1A87FF87"><img width="769" height="346" src="img/GUID-C0AD4B7E-878B-410E-8168-04A12DDD643B-default.gif" alt="Description of GUID-C0AD4B7E-878B-410E-8168-04A12DDD643B-default.gif follows" title="Description of GUID-C0AD4B7E-878B-410E-8168-04A12DDD643B-default.gif follows"/><br/>
<a href="img_text/GUID-C0AD4B7E-878B-410E-8168-04A12DDD643B-default.htm">Description of the illustration GUID-C0AD4B7E-878B-410E-8168-04A12DDD643B-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Add</span>.</span>
<div>
<p>The Add pop-up appears.</p>
</div>
</li>
<li class="stepexpand"><span>Provide a capture name, provide an optional description, then click the Target Database search icon.</span>
<div>
<p>The Search and Select: Targets pop-up appears.</p>
<div class="figure" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-F2949E59-359F-4A2E-9451-4F42B9D4B936"><img width="562" height="516" src="img/GUID-38585373-47A5-4343-A3B1-78A97D9A7C1A-default.gif" alt="Description of GUID-38585373-47A5-4343-A3B1-78A97D9A7C1A-default.gif follows" title="Description of GUID-38585373-47A5-4343-A3B1-78A97D9A7C1A-default.gif follows"/><br/>
<a href="img_text/GUID-38585373-47A5-4343-A3B1-78A97D9A7C1A-default.htm">Description of the illustration GUID-38585373-47A5-4343-A3B1-78A97D9A7C1A-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Select a Target Type, optionally provide a configuration search, choose a target database from the list, then click <span class="bold">Select</span>.</span>
<div>
<p>The Add pop-up reappears with added sections for Database Credential and Database Host Credential.</p>
<div class="figure" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-8C559666-AF20-40F2-9365-D6B5C2235CFC"><img width="793" height="428" src="img/GUID-A9B45BB5-C2DD-477F-9457-4C65000A9495-default.gif" alt="Description of GUID-A9B45BB5-C2DD-477F-9457-4C65000A9495-default.gif follows" title="Description of GUID-A9B45BB5-C2DD-477F-9457-4C65000A9495-default.gif follows"/><br/>
<a href="img_text/GUID-A9B45BB5-C2DD-477F-9457-4C65000A9495-default.htm">Description of the illustration GUID-A9B45BB5-C2DD-477F-9457-4C65000A9495-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Provide database credentials, database host credentials, a Database Capture Intermediate Storage Location, then click <span class="bold">OK</span>.</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>After the Capture, the files are copied to the storage location, unless you use the intermediate storage location as the final storage location.</p>
<div class="infobox-note" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-E54D2C50-806A-4327-AA05-DF5A7B9284E0">
<p class="notep1">Note:</p>
<p>For captures on an Oracle RAC database, Enterprise Manager only supports Oracle RAC configured with a shared file system.</p>
</div>
</li>
</ul>
<p>The selected target database now appears in the list of databases in the Select Production Databases table.</p>
</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Next</span>.</span>
<div>
<p>The <span class="bold">Create Capture:</span> Options page appears.</p>
<div class="figure" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-6A36A705-C33C-4D40-9B65-7742C5F89A36"><img width="890" height="464" src="img/GUID-6944745C-2217-4694-87E5-90F2F48C7EED-default.gif" alt="Description of GUID-6944745C-2217-4694-87E5-90F2F48C7EED-default.gif follows" title="Description of GUID-6944745C-2217-4694-87E5-90F2F48C7EED-default.gif follows"/><br/>
<a href="img_text/GUID-6944745C-2217-4694-87E5-90F2F48C7EED-default.htm">Description of the illustration GUID-6944745C-2217-4694-87E5-90F2F48C7EED-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Select the workload capture options:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Under the SQL Performance Analyzer section, select whether to capture SQL statements into a SQL tuning set during workload capture.</p>
<p>While Database Replay provides an analysis of how a change affects your entire system, you can use a SQL tuning set in conjunction with the SQL Performance Analyzer to gain a more SQL-centric analysis of how the change affects SQL statements and execution plans.</p>
<p>By capturing a SQL tuning set during workload capture and another SQL tuning set during workload replay, you can use the SQL Performance Analyzer to compare these SQL tuning sets to each other without having to re-execute the SQL statements. This enables you to obtain a SQL Performance Analyzer report and compare the SQL performance, before and after changes, while running Database Replay.</p>
<div class="infobox-note" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-D29286FD-75C8-408E-A434-5D1B2F19A9AC">
<p class="notep1">Note:</p>
<p>Capturing SQL statements into a SQL Tuning Set is the default, and is the recommended workload capture option. Capturing SQL statements into a SQL Tuning Set is not available for Oracle RAC.</p>
</div>
<div class="infoboxnotealso" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-EED23F14-8E8D-4297-88F7-51A7A8EB8D97">
<p class="notep1">Tip:</p>
<p>For information about comparing SQL tuning sets using SQL Performance Analyzer reports, see <span class="q">&#34;<a href="GUID-F711BF47-3898-4A8A-A210-FD87866659F4.htm">Generating SQL Performance Analyzer Reports Using APIs</a>&#34;</span>.</p>
</div>
</li>
<li>
<p>Under the Workload Filters section, select whether to use exclusion filters by selecting <span class="bold">Exclusion</span> in the Filter Mode list, or inclusion filters by selecting <span class="bold">Inclusion</span> in the Filter Mode list.</p>
<p>To add filters, click <span class="bold">Add</span> and enter the filter name, session attribute, and value in the corresponding fields.</p>
<div class="infoboxnotealso" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-1938A21D-769A-4DFD-99BF-4E84E6BFD77E">
<p class="notep1">Tip:</p>
<p>For more information, see <span class="q">&#34;<a href="GUID-45889420-6496-4E7C-B698-A62E2580B962.htm">Using Filters with Workload Capture</a>&#34;</span>.</p>
</div>
</li>
</ul>
<p>After selecting the desired workload capture options, click <span class="bold">Next</span>.</p>
<p>The Create Capture: Storage page appears.</p>
<div class="figure" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-47E5CC7A-AB06-4155-A330-0D922EEC6A4D"><img width="770" height="206" src="img/GUID-701720BF-FE4A-4530-916E-659418F54D09-default.gif" alt="Description of GUID-701720BF-FE4A-4530-916E-659418F54D09-default.gif follows" title="Description of GUID-701720BF-FE4A-4530-916E-659418F54D09-default.gif follows"/><br/>
<a href="img_text/GUID-701720BF-FE4A-4530-916E-659418F54D09-default.htm">Description of the illustration GUID-701720BF-FE4A-4530-916E-659418F54D09-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Click the Storage Host icon, choose a target from the list, then click <span class="bold">Select</span>.</span>
<div>
<p>The Storage page now requests Host Credentials and a Storage Location.</p>
</div>
</li>
<li class="stepexpand"><span>Provide Host Credentials, click <span class="bold">Browse</span> to select a Storage Location, select the location and click <span class="bold">OK</span>, then click <span class="bold">Next</span>.</span>
<div>
<p>The Create Capture: Schedule page appears.</p>
<div class="figure" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-6F80F30B-21E0-4D47-95F3-EF33EA00B8D8"><img width="770" height="287" src="img/GUID-92F2C1DA-69AF-432A-A73A-1A0499C95477-default.gif" alt="Description of GUID-92F2C1DA-69AF-432A-A73A-1A0499C95477-default.gif follows" title="Description of GUID-92F2C1DA-69AF-432A-A73A-1A0499C95477-default.gif follows"/><br/>
<a href="img_text/GUID-92F2C1DA-69AF-432A-A73A-1A0499C95477-default.htm">Description of the illustration GUID-92F2C1DA-69AF-432A-A73A-1A0499C95477-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Schedule the starting time and duration for the capture, schedule the exporting of AWR data, then click <span class="bold">Next</span>.</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>The default capture duration is 5 minutes. Change the capture duration to capture representative activity over a time period of interest that needs to be tested.</p>
</li>
</ul>
<p>The Create Capture: Review page appears.</p>
<div class="figure" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-68494305-2D63-424B-BA7A-C44B1FE8D6A9"><img width="889" height="620" src="img/GUID-78C9DBCF-62A2-4D42-A1EE-E20A8490FBF2-default.gif" alt="Description of GUID-78C9DBCF-62A2-4D42-A1EE-E20A8490FBF2-default.gif follows" title="Description of GUID-78C9DBCF-62A2-4D42-A1EE-E20A8490FBF2-default.gif follows"/><br/>
<a href="img_text/GUID-78C9DBCF-62A2-4D42-A1EE-E20A8490FBF2-default.htm">Description of the illustration GUID-78C9DBCF-62A2-4D42-A1EE-E20A8490FBF2-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>If all of the parameters appear as you have intended, click <span class="bold">Submit</span> to start the capture job.</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>The &#34;Capture SQL statements into a SQL Tuning Set during workload capture&#34; option is enabled by default. Uncheck this option if you do not want to compare SQL tuning sets at the end of the Replay.</p>
</li>
</ul>
<p>The Database Replay page reappears, displays a message that the capture was created successfully, and displays the status of the capture in the Captures list, such as &#34;Scheduled.&#34;</p>
</div>
</li>
<li class="stepexpand"><span>For detailed information about the capture, double-click the name of the capture.</span>
<div>
<p>The Capture Summary page appears, and displays several attributes, including the average active sessions, a workload comparison, and related concurrent captures, if any.</p>
</div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681__GUID-9320AFEB-03F9-46E4-9C6F-9EA371DA966F">
<p class="notep1">Tip:</p>
<p>After capturing a workload on the production system, you need to preprocess the captured workload, as described in <a href="GUID-4CEE2F79-F5A7-4EBA-9018-0CB99AB51C0A.htm">Preprocessing a Database Workload</a> .</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2747">
<tr>
<td class="cellalignment2754">
<table class="cellalignment2752">
<tr>
<td class="cellalignment2751"><a href="GUID-FEA9EDAC-5F4E-42E0-9FA2-8E3C91C19BAD.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2751"><a href="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2756">
<table class="cellalignment2750">
<tr>
<td class="cellalignment2751"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2751"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2751"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2751"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2751"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2751"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
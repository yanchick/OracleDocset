<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-88035"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Introduction%20to%20SQL%20Performance%20Analyzer"></a><title>Introduction to SQL Performance Analyzer</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-01-24T11:32:44Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Testing Guide"/>
<meta name="dcterms.identifier" content="E55028-05"/>
<meta name="dcterms.isVersionOf" content="RATUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-8CE976A3-FB73-45FF-9B18-A6AB3F158A95.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-3828F92F-62BC-4A5E-8303-9720DCCB64B4.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E55028-05.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-860FC707-B281-4D81-8B43-1E3857194A72"></a> <span id="PAGE" style="display:none;">11/309</span> <!-- End Header -->
<a id="RATUG240"></a><a id="RATUG166"></a>
<h1 id="RATUG-GUID-860FC707-B281-4D81-8B43-1E3857194A72" class="sect1"><span class="enumeration_chapter">2</span> Introduction to SQL Performance Analyzer</h1>
<div>
<p>You can run <a id="d4199e77" class="indexterm-anchor"></a>SQL Performance Analyzer on a production system or a test system that closely resembles the production system. Testing a system change on a production system will impact the system&#39;s throughput because SQL Performance Analyzer must execute the SQL statements that you are testing. Any global changes made on the system to test the performance effect may also affect other users of the system. If the system change does not impact many sessions or SQL statements, then running SQL Performance Analyzer on the production system may be acceptable. However, for systemwide changes&mdash;such as a database upgrade&mdash;using a production system is not recommended. Instead, consider running SQL Performance Analyzer on a separate test system so that you can test the effects of the system change without affecting the production system. Using a test system also ensures that other workloads running on the production system will not affect the analysis performed by SQL Performance Analyzer. Running SQL Performance Analyzer on a test system is the recommended approach and the methodology described here. If you choose to run the SQL Performance Analyzer on the production system, then substitute the production system for the test system where applicable.</p>
<p>Analyzing the SQL performance effect of system changes using <a id="d4199e84" class="indexterm-anchor"></a><a id="d4199e88" class="indexterm-anchor"></a>SQL Performance Analyzer involves the following steps, as illustrated in <a href="GUID-860FC707-B281-4D81-8B43-1E3857194A72.htm#GUID-860FC707-B281-4D81-8B43-1E3857194A72__CHDJADEJ">Figure 2-1</a>:</p>
<div class="figure" id="GUID-860FC707-B281-4D81-8B43-1E3857194A72__CHDJADEJ">
<p class="titleinfigure">Figure 2-1 SQL Performance Analyzer Workflow</p>
<img width="669" height="617" src="img/GUID-A3B70722-BD9A-4A2C-A2D3-A8EDB65EEEE1-default.gif" alt="Description of Figure 2-1 follows" title="Description of Figure 2-1 follows"/><br/>
<a href="img_text/GUID-A3B70722-BD9A-4A2C-A2D3-A8EDB65EEEE1-print.htm">Description of &#34;Figure 2-1 SQL Performance Analyzer Workflow&#34;</a></div>
<!-- class="figure" -->
<ol>
<li>
<p>Capture the SQL workload that you intend to analyze and store it in a SQL tuning set, as described in <span class="q">&#34;<a href="GUID-3828F92F-62BC-4A5E-8303-9720DCCB64B4.htm">Capturing the SQL Workload</a>&#34;</span>.</p>
</li>
<li>
<p>If you plan to use a test system separate from your production system, then perform the following steps:</p>
<ol>
<li>
<p>Set up the test system to match the production environment as closely as possible.</p>
</li>
<li>
<p>Transport the SQL tuning set to the test system.</p>
</li>
</ol>
<p>For more information, see <span class="q">&#34;<a href="GUID-15E99CE8-282C-4A7E-BD3B-B7C2B93DE0C1.htm">Setting Up the Test System</a>&#34;</span>.</p>
</li>
<li id="GUID-860FC707-B281-4D81-8B43-1E3857194A72__BHCIFFDF">
<p>On the test system, create a SQL Performance Analyzer task, as described in <span class="q">&#34;<a href="GUID-9EF13018-5EDB-4B60-85F8-187DF25EECFF.htm">Creating a SQL Performance Analyzer Task</a>&#34;</span>.</p>
</li>
<li>
<p>Build the pre-change SQL trial by test executing or generating execution plans for the SQL statements stored in the SQL tuning set, as described in <span class="q">&#34;<a href="GUID-310A0AA6-38C9-49A1-97C1-9BED682E654A.htm">Measuring the Pre-Change SQL Performance</a>&#34;</span></p>
</li>
<li>
<p>Perform the system change, as described in <span class="q">&#34;<a href="GUID-176E2C1A-5A09-4CDC-9974-1B47129DA08E.htm">Making a System Change</a>&#34;</span></p>
</li>
<li id="GUID-860FC707-B281-4D81-8B43-1E3857194A72__CHDBJBIC">
<p>Build the post-change SQL trial by re-executing the SQL statements in the SQL tuning set on the post-change test system, as described in <span class="q">&#34;<a href="GUID-7BE65E91-0C7B-4740-8114-4DAC76CDDB28.htm">Measuring the Post-Change SQL Performance</a>&#34;</span></p>
</li>
<li>
<p>Compare and analyze the pre-change and post-change versions of performance data, and generate a report to identify the SQL statements that have improved, remained unchanged, or regressed after the system change, as described in <span class="q">&#34;<a href="GUID-F07105CA-0DFA-4102-A8FE-1C11AD201528.htm">Comparing Performance Measurements</a>&#34;</span></p>
</li>
<li id="GUID-860FC707-B281-4D81-8B43-1E3857194A72__CHDEGIFG">
<p>Tune any regressed SQL statements that are identified, as described in <span class="q">&#34;<a href="GUID-9D5A985E-0BB0-43FA-955A-599B2E6A58AA.htm">Fixing Regressed SQL Statements</a>&#34;</span>.</p>
</li>
<li id="GUID-860FC707-B281-4D81-8B43-1E3857194A72__BHCGDEFB">
<p>Ensure that the performance of the tuned SQL statements is acceptable by repeating steps <a href="GUID-860FC707-B281-4D81-8B43-1E3857194A72.htm#GUID-860FC707-B281-4D81-8B43-1E3857194A72__CHDBJBIC">6</a> through <a href="GUID-860FC707-B281-4D81-8B43-1E3857194A72.htm#GUID-860FC707-B281-4D81-8B43-1E3857194A72__CHDEGIFG">8</a> until your performance goals are met.</p>
<p>For each comparison, you can use any previous SQL trial as the pre-change SQL trial and the current SQL trial as the post-change SQL trial. For example, you may want to compare the first SQL trial to the current SQL trial to assess the total change, or you can compare the most recent SQL trial to the current SQL trial to assess just the most recent change.</p>
</li>
</ol>
<div class="infobox-note" id="GUID-860FC707-B281-4D81-8B43-1E3857194A72__GUID-C0576332-2067-4176-AAAF-F13F524C3C44">
<p class="notep1">Note:</p>
<p>Oracle Enterprise Manager provides automated workflows for steps <a href="GUID-860FC707-B281-4D81-8B43-1E3857194A72.htm#GUID-860FC707-B281-4D81-8B43-1E3857194A72__BHCIFFDF">3</a> through <a href="GUID-860FC707-B281-4D81-8B43-1E3857194A72.htm#GUID-860FC707-B281-4D81-8B43-1E3857194A72__BHCGDEFB">9</a> to simplify this process.</p>
</div>
<div class="infobox-note" id="GUID-860FC707-B281-4D81-8B43-1E3857194A72__GUID-C33F4953-A579-4581-BABA-57C5A6F9B5B9">
<p class="notep1">Note:</p>
<p>Data visibility and privilege requirements may differ when using SQL Performance Analyzer with pluggable databases (PDBs). For information about how manageability features&mdash;including SQL Performance Analyzer&mdash;work in a multitenant container database (CDB), see <a class="olink ADMIN13885" target="_blank" href="../ADMIN/cdb_admin.htm#ADMIN13885"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a>.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2747">
<tr>
<td class="cellalignment2754">
<table class="cellalignment2752">
<tr>
<td class="cellalignment2751"><a href="GUID-8CE976A3-FB73-45FF-9B18-A6AB3F158A95.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2751"><a href="GUID-3828F92F-62BC-4A5E-8303-9720DCCB64B4.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2756">
<table class="cellalignment2750">
<tr>
<td class="cellalignment2751"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2751"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2751"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2751"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2751"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2751"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-88085"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Capturing%20Workloads%20from%20Multiple%20Databases%20Concurrently"></a><title>Capturing Workloads from Multiple Databases Concurrently</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-01-24T11:32:44Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Testing Guide"/>
<meta name="dcterms.identifier" content="E55028-05"/>
<meta name="dcterms.isVersionOf" content="RATUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-509ABE02-E9DB-420B-80AA-5FF2B8CDD9A5.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E55028-05.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67"></a> <span id="PAGE" style="display:none;">97/309</span> <!-- End Header -->
<a id="RATUG4124"></a>
<h1 id="RATUG-GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67" class="sect1"><span class="enumeration_section">10.8</span> Capturing Workloads from Multiple Databases Concurrently</h1>
<div>
<p>Concurrent capture refers to capturing the workload on multiple databases simultaneously.</p>
<div class="section">
<p class="subhead1">To capture a concurrent database replay workload:</p>
<ol>
<li>
<p>From the Enterprise menu of the Enterprise Manager Cloud Control console, select <span class="bold">Quality Management</span>, then <span class="bold">Database Replay</span>.</p>
<p>If the Database Login page appears, log in as a user with administrator privileges.</p>
<p>The Database Replay page appears.</p>
</li>
<li>
<p>From the Database Replay page, click the <span class="bold">Captured</span> <span class="bold">Workloads</span> tab, then click <span class="bold">Create</span> in the toolbar.</p>
<p>The Create Capture: Plan Environment page appears.</p>
</li>
<li>
<p>Make sure that you have met both prerequisites described on this page, then enable both checkboxes and click <span class="bold">Next</span>.</p>
<p>The Create Capture: Database page appears.</p>
<div class="infoboxnotealso" id="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67__GUID-FE712472-3383-4898-9E86-AC65BD0505E1">
<p class="notep1">Tip:</p>
<p>For information about the prerequisites, see <span class="q">&#34;<a href="GUID-372BA03D-7A24-4300-A0AE-30E0D9D9C724.htm">Prerequisites for Capturing a Database Workload</a>&#34;</span>.</p>
</div>
</li>
<li id="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67__BABGGAGG">
<p>Click <span class="bold">Add</span>.</p>
<p>The Add pop-up appears.</p>
</li>
<li>
<p>Provide a Capture name, provide an optional description, then click the Target Database search icon.</p>
<p>The Search and Select: Targets pop-up appears.</p>
</li>
<li>
<p>Choose a target database from the list, then click <span class="bold">Select</span>.</p>
<p>The Add pop-up reappears with added sections for Database Credential and Database Host Credential.</p>
</li>
<li id="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67__BABIDAGC">
<p>Provide database credentials, database host credentials, a Database Capture Intermediate Storage Location, then click <span class="bold">OK</span>.</p>
<ul style="list-style-type: disc;">
<li>
<p>After the Capture, the files are copied to the storage location, unless you use the intermediate storage location as the final storage location.</p>
</li>
</ul>
<p>The selected target database now appears in the list of databases in the Select Production Databases table.</p>
</li>
<li>
<p>Add another database for concurrent capture:</p>
<ol>
<li>
<p>Follow the instructions in steps <a href="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67.htm#GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67__BABGGAGG">4</a> through <a href="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67.htm#GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67__BABIDAGC">7</a>.</p>
<p>The Create Capture: Database page reappears, and displays the additional database for capture along with the first database you specified in steps <a href="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67.htm#GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67__BABGGAGG">4</a> through <a href="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67.htm#GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67__BABIDAGC">7</a>.</p>
</li>
<li>
<p>Provide a name and optional description for the concurrent capture, then click <span class="bold">Next</span>.</p>
<p>The Create Capture: Options page appears.</p>
</li>
</ol>
</li>
<li>
<p>Select the workload capture options:</p>
<ul style="list-style-type: disc;">
<li>
<p>Under the SQL Performance Analyzer section, select whether to capture SQL statements into a SQL tuning set during workload capture.</p>
<p>While Database Replay provides an analysis of how a change affects your entire system, you can use a SQL tuning set in conjunction with the SQL Performance Analyzer to gain a more SQL-centric analysis of how the change affects SQL statements and execution plans.</p>
<p>By capturing a SQL tuning set during workload capture and another SQL tuning set during workload replay, you can use the SQL Performance Analyzer to compare these SQL tuning sets to each other without having to re-execute the SQL statements. This enables you to obtain a SQL Performance Analyzer report and compare the SQL performance, before and after changes, while running Database Replay.</p>
<div class="infobox-note" id="GUID-B36B0024-FBB1-4560-87A8-C2EF499B6F67__GUID-5D549E24-474C-4B66-8146-90158D7C6C33">
<p class="notep1">Note:</p>
<p>Capturing SQL statements into a SQL tuning set is the default and recommended workload capture option.</p>
</div>
</li>
<li>
<p>Under the Workload Filters section, select whether to use exclusion filters by selecting <span class="bold">Exclusion</span> in the Filter Mode list, or inclusion filters by selecting <span class="bold">Inclusion</span> in the Filter Mode list.</p>
<p>To add filters, click <span class="bold">Add</span> and enter the filter name, session attribute, and value in the corresponding fields.</p>
</li>
</ul>
<p>After selecting the desired workload capture options, click <span class="bold">Next</span>.</p>
<p>The Create Capture: Storage page appears.</p>
</li>
<li>
<p>Click the Storage Host icon, choose a target from the list, then click <span class="bold">Select</span>.</p>
<p>The Storage page now requests Host Credentials and a Storage Location.</p>
</li>
<li>
<p>Provide Host Credentials, click <span class="bold">Browse</span> to select a Storage Location, then click <span class="bold">Next</span>.</p>
<p>The Create Capture: Schedule page appears.</p>
</li>
<li>
<p>Schedule the starting time and duration for the capture, schedule the exporting of AWR data, then click <span class="bold">Next</span>.</p>
<ul style="list-style-type: disc;">
<li>
<p>The default capture duration is 5 minutes. Change the capture duration to capture representative activity over a time period of interest that needs to be tested.</p>
</li>
</ul>
<p>The Create Capture: Review page appears.</p>
</li>
<li>
<p>If all of the parameters appear as you have intended, click <span class="bold">Submit</span> to start the Capture job.</p>
<ul style="list-style-type: disc;">
<li>
<p>The &#34;Capture SQL statements into a SQL Tuning Set during workload capture&#34; option is enabled by default. Uncheck this option if you do not want to compare SQL tuning sets at the end of the Replay.</p>
</li>
</ul>
<p>The Database Replay page reappears, displays a message that the capture was created successfully, and displays the status of the capture in the Captures list, such as &#34;Scheduled.&#34;</p>
</li>
<li>
<p>For detailed information about the capture, double-click the name of the capture.</p>
<p>The Capture Summary page appears, and displays several attributes, including the average active sessions, a workload comparison, and related concurrent captures.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2747">
<tr>
<td class="cellalignment2754">
<table class="cellalignment2752">
<tr>
<td class="cellalignment2751"><a href="GUID-1679DB12-B633-4021-A3B9-9CC6216D6681.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2751"><a href="GUID-509ABE02-E9DB-420B-80AA-5FF2B8CDD9A5.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2756">
<table class="cellalignment2750">
<tr>
<td class="cellalignment2751"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2751"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2751"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2751"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2751"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2751"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5560"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Data%20Guard%20Installation"></a><title>Oracle Data Guard Installation</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="installation, Data Guard, prerequisites, installation"/>
<meta name="dcterms.created" content="2017-07-21T13:32:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Data Guard Broker"/>
<meta name="dcterms.identifier" content="E48241-09"/>
<meta name="dcterms.isVersionOf" content="DGBKR"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="concepts.htm" title="Previous" type="text/html"/>
<link rel="Next" href="configure.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48241-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-21393DF3-FD7E-44AA-A90C-6533E03CBDDA"></a> <span id="PAGE" style="display:none;">7/17</span> <!-- End Header -->
<a id="DGBKR1300"></a>
<h1 id="DGBKR-GUID-21393DF3-FD7E-44AA-A90C-6533E03CBDDA" class="sect1"><span class="enumeration_chapter">2</span> Oracle Data Guard Installation</h1>
<div>
<p>See the following topics for information about Oracle Data Guard installation:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="install.htm#GUID-DBCAC77D-8B4D-4727-B89E-6CFA69302187">Oracle Data Guard Installation</a></p>
</li>
<li>
<p><a href="install.htm#GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D">Prerequisites</a></p>
<div class="infoboxnotealso" id="GUID-21393DF3-FD7E-44AA-A90C-6533E03CBDDA__GUID-29ECD3FD-4624-441E-9332-E8673C9ADEFF">
<p class="notep1">See Also:</p>
<p><a href="upgrade_appx.htm#GUID-82682FF3-6052-471B-B581-5E91183A5432">Oracle Data Guard Broker Upgrading and Downgrading</a> for help with upgrading to a new release in an Oracle Data Guard broker configuration</p>
</div>
</li>
</ul>
</div>
<a id="DGBKR070"></a>
<div class="props_rev_3"><a id="GUID-DBCAC77D-8B4D-4727-B89E-6CFA69302187"></a>
<h2 id="DGBKR-GUID-DBCAC77D-8B4D-4727-B89E-6CFA69302187" class="sect2"><span class="enumeration_section">2.1</span> Oracle Data Guard Installation</h2>
<div>
<p>Oracle Data Guard is included with the E<a id="d5527e65" class="indexterm-anchor"></a>nterprise Edition and Personal Edition of the Oracle database software. You can manage an Oracle Data Guard configuration by using either SQL*Plus, the Oracle Data Guard broker&#39;s command-line interface (DGMGRL), or a compatible version of Oracle Enterprise Manager Cloud Control (Cloud Control).</p>
<p>Install the Oracle Enterprise Edition or Personal Edition database software on each location you expect to include in broker configurations. You must i<a id="d5527e72" class="indexterm-anchor"></a>nstall a compatible version of Cloud Control if you want to use the graphical user interface for Oracle Data Guard.</p>
<p>In addition, to use fast-start failover you must install DGMGRL and run the observer software. Oracle recommends running the observer on a computer system that is separate from the primary and standby systems. To install DGMGRL on the observer computer, use one of the methods described in the following list:</p>
<ul style="list-style-type: disc;">
<li>
<p>Install the complete <a id="d5527e83" class="indexterm-anchor"></a><a id="d5527e87" class="indexterm-anchor"></a><a id="d5527e91" class="indexterm-anchor"></a><a id="d5527e95" class="indexterm-anchor"></a>Oracle Client Administrator by choosing the <code class="codeph">Administrator</code> option from Oracle Universal Installer.</p>
<p>This installation includes DGMGRL but it does not include the Cloud Control agent. This allows you to manage the observer using DGMGRL commands but not Cloud Control. (The Cloud Control agent can be installed separately.)</p>
</li>
<li>
<p>Install the full Oracle Database E<a id="d5527e108" class="indexterm-anchor"></a>nterprise Edition or Personal Edition software kit</p>
<p>This installation includes DGMGRL and the Cloud Control agent, allowing you to manage the observer using Cloud Control or DGMGRL commands.</p>
<div class="infobox-note" id="GUID-DBCAC77D-8B4D-4727-B89E-6CFA69302187__GUID-D0D616C2-B3F1-4A44-B805-F6EEE44E1AB4">
<p class="notep1">Note:</p>
<p>The observer can be run from any platform that supports it, and that platform can be different from the platform of the primary or target standby database.</p>
</div>
</li>
</ul>
</div>
</div>
<a id="DGBKR090"></a>
<div class="props_rev_3"><a id="GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D"></a>
<h2 id="DGBKR-GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D" class="sect2"><span class="enumeration_section">2.2</span> Prerequisites</h2>
<div>
<p>The following <a id="d5527e150" class="indexterm-anchor"></a>c<a id="d5527e155" class="indexterm-anchor"></a>onditions must be met before you can use the broker:</p>
<ul style="list-style-type: disc;">
<li>
<p>The primary and standby <a id="d5527e164" class="indexterm-anchor"></a>databases must be using the same version of Oracle Database and each can be installed in either a single-instance or multi-instance environment. The database must be licensed for Oracle Enterprise Edition or Personal Edition.</p>
</li>
<li>
<p>You must use a <a id="d5527e172" class="indexterm-anchor"></a><a id="d5527e176" class="indexterm-anchor"></a>server parameter file (SPFILE) to ensure the broker can persistently reconcile values between broker properties and any related initialization parameter values. See <a href="dbresource.htm#GUID-58646FFF-47E4-40DC-A7DA-C4AB33CDB16B">Configurable (Changeable) Properties</a> for more information.</p>
<p>If any of the databases in the configuration is an Oracle RAC database, you must configure the server parameter file (SPFILE) appropriately for use in an Oracle RAC environment.</p>
<div class="infoboxnotealso" id="GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D__GUID-BBB99DBB-72DC-4E3F-8BD5-13A2BAC7FF40">
<p class="notep1">See Also:</p>
<p><a class="olink RACAD020" target="_blank" href="../RACAD/GUID-395DE0A5-6892-4988-B7F0-19D621DF2EB3.htm#RACAD020"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about initialization files in an Oracle RAC</p>
</div>
</li>
<li>
<p>The value of the <a id="d5527e199" class="indexterm-anchor"></a><a id="d5527e203" class="indexterm-anchor"></a><a id="d5527e205" class="indexterm-anchor"></a><code class="codeph">DG_BROKER_START</code> initialization parameter must be set to <code class="codeph">TRUE</code>. See <a href="configure.htm#GUID-BAAE6C51-C29F-4950-A885-EB1289A230B2">Starting the Data Guard Broker</a> for more information. (Cloud Control sets this parameter automatically.)</p>
</li>
<li>
<p>If any of the databases in the configuration is an Oracle RAC database, you must set up the <code class="codeph">DG_BROKER_CONFIG_FILE</code><span class="italic"><code class="codeph">n</code></span> initialization parameters for that database such that they point to the same shared files for all instances of that database. The shared files could be files on a cluster file system, if available, or stored using Oracle A<a id="d5527e228" class="indexterm-anchor"></a><a id="d5527e232" class="indexterm-anchor"></a><a id="d5527e236" class="indexterm-anchor"></a>utomatic Storage Management (Oracle ASM).</p>
<div class="infoboxnotealso" id="GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D__GUID-9AF37BF4-C792-46B5-9FE1-3F622BBD605F">
<p class="notep1">See Also:</p>
<p>Configuration file information in <a href="concepts.htm#GUID-755CC51D-7438-453D-9B59-2EA3B9689D8B">Configuration Management</a>. Also, see <a href="configure.htm#GUID-E4EE9680-63B7-4483-843B-47E33FC41B20">Setting Up the Broker Configuration Files</a> for details about setting up the broker configuration file.</p>
</div>
</li>
<li>
<p><a id="d5527e256" class="indexterm-anchor"></a>Oracle Net Services <a id="d5527e261" class="indexterm-anchor"></a>network configuration files must be set up on the primary database and on the standby <a id="d5527e266" class="indexterm-anchor"></a>database if you configure an existing standby database into the broker configuration. Cloud Control can assist you in creating the configuration files when creating a standby database.</p>
<div class="infoboxnotealso" id="GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D__GUID-D0B956CD-30F9-4EB2-9A57-930A4310460E">
<p class="notep1">See Also:</p>
<p><a class="olink NETAG187" target="_blank" href="../NETAG/config_concepts.htm#NETAG187"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for more information about network configuration files</p>
</div>
</li>
<li>
<p>In a broker configuration, you use the <code class="codeph">DGConnectIdentifer</code> property to specify a connect identifier for each database. The connect identifier for a database must:</p>
<ul style="list-style-type: disc;">
<li>
<p>Allow all other databases in the configuration to reach it.</p>
</li>
<li>
<p>Allow all instances of an Oracle RAC database to be reached.</p>
</li>
<li>
<p>Specify a service that all instances dynamically register with the listeners so that connect-time failover on an Oracle RAC database is possible.</p>
<div class="infobox-note" id="GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D__GUID-CC7BA29F-20D8-4FED-8689-2015BE4BEAC9">
<p class="notep1">Caution:</p>
The service should NOT be one that is defined and managed by Oracle Clusterware.</div>
</li>
<li>
<p>Have failover attributes set to allow the primary database&#39;s Redo Transport Services to continue shipping redo data to an Oracle RAC standby database, even if the receiving instance of that standby database has failed.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D__GUID-34E764AC-4F97-469A-B7C1-71A995D4F1DE">
<p class="notep1">See Also:</p>
<p><a class="olink NETAG364" target="_blank" href="../NETAG/concepts.htm#NETAG364"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for more information about connect identifiers</p>
</div>
</li>
<li>
<p>To enable DGMGRL to restart instances during the course of broker operations, a static service must be registered with the local listener of each instance. A static service registration is also required to enable the observer to restart instances as part of automatic reinstatement of the old primary database after a fast-start failover has occurred. A static service needs to be defined and registered only if Oracle Clusterware or Oracle Restart is not being used.</p>
<p>By default, the broker assumes a static service name of <code class="codeph">db_unique_name_DGMGRL.db_domain</code> and expects the listener has been started with the following content in the <code class="codeph">listener.ora</code> file:</p>
<pre dir="ltr">LISTENER = (DESCRIPTION =
     (ADDRESS_LIST=(ADDRESS=(PROTOCOL=tcp)(HOST=host_name)
     (PORT=port_num))))
SID_LIST_LISTENER=(SID_LIST=(SID_DESC=(SID_NAME=sid_name)
     (GLOBAL_DBNAME=db_unique_name_DGMGRL.db_domain)
     (ORACLE_HOME=oracle_home)
     (ENVS=&#34;TNS_ADMIN=oracle_home/network/admin&#34;)))
</pre>
<p>Alternatively, you can use a different static service name. If you do, be sure to modify the <code class="codeph">StaticConnectIdentifier</code> instance-specific property to reflect the static service that has been registered.</p>
<div class="infoboxnotealso" id="GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D__GUID-0C09B30F-AC24-4EB2-9FE0-5A85F90BB6C9">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p>See <a class="olink NETAG1589" target="_blank" href="../NETAG/advcfg.htm#NETAG1589"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for more information about configuring static services</p>
</li>
<li>
<p>See the My Oracle Support Note 1387859.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a> for additional information about using static services and the <code class="codeph">StaticConnectIdentifier</code> configurable property</p>
</li>
</ul>
</div>
</li>
<li>
<p>The <a id="d5527e349" class="indexterm-anchor"></a>primary database must be opened in <a id="d5527e354" class="indexterm-anchor"></a><a id="d5527e358" class="indexterm-anchor"></a><code class="codeph">ARCHIVELOG</code> mode.</p>
</li>
<li>
<p>You must set the <code class="codeph">COMPATIBLE</code> initialization parameter to 11.2 or higher for both the primary and standby databases. However, if you want to take advantage of new Oracle Database 12<span class="italic">c</span> Release 1 (12.1) features, then set the <code class="codeph">COMPATIBLE</code> parameter to 12.1 on all databases within the Oracle Data Guard configuration.</p>
<p>For the broker to work, the <code class="codeph">COMPATIBLE</code> initialization parameter must be set to the same value on both the primary and standby databases. If the values differ, redo transport services may be unable to transmit redo data from the primary database to the standby databases.</p>
</li>
<li>
<p>Select and configure a redo transport authentication method, as described in <a class="olink SBYDB00424" target="_blank" href="../SBYDB/create_ps.htm#SBYDB00424"><span class="italic">Oracle Data Guard Concepts and Administration</span></a>.</p>
</li>
<li>
<p>As of Oracle Database 12<span class="italic">c</span> Release 1 (12.1), for all databases to be added to a broker configuration, any <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> parameters that have the <code class="codeph">SERVICE</code> attribute set, but not the <code class="codeph">NOREGISTER</code> attribute, must be cleared.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D__GUID-8AAFA9C2-252A-45F2-8438-905ED13B376A">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="configure.htm#GUID-BAAE6C51-C29F-4950-A885-EB1289A230B2">Starting the Data Guard Broker</a> for more information about preparing and starting Oracle Data Guard broker</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5444">
<tr>
<td class="cellalignment5451">
<table class="cellalignment5449">
<tr>
<td class="cellalignment5448"><a href="concepts.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5448"><a href="configure.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5453">
<table class="cellalignment5447">
<tr>
<td class="cellalignment5448"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5448"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5448"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5448"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5448"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5448"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
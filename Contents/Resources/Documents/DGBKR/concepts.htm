<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5473"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Data%20Guard%20Broker%20Concepts"></a><title>Oracle Data Guard Broker Concepts</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="Oracle RAC One Node, supported by Oracle Data Guard broker, broker, configuration, Data Guard broker, See Also, benefits, Data Guard broker, broker configurations, benefits, disaster protection, high availability, increased scalability, scalability, with Oracle Real Application Clusters, Oracle Real Application Clusters, management, switchovers, failovers, application integration, user interfaces, Oracle Enterprise Manager, Data Guard monitor (DMON), DMON, overview, configuration files, management, properties, managing, databases, property management"/>
<meta name="dcterms.created" content="2017-07-21T13:32:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Data Guard Broker"/>
<meta name="dcterms.identifier" content="E48241-09"/>
<meta name="dcterms.isVersionOf" content="DGBKR"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="release_changes.htm" title="Previous" type="text/html"/>
<link rel="Next" href="install.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48241-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-723E5B73-A350-4B2E-AF3C-5EA4EFC83966"></a> <span id="PAGE" style="display:none;">6/17</span> <!-- End Header -->
<a id="DGBKR001"></a>
<h1 id="DGBKR-GUID-723E5B73-A350-4B2E-AF3C-5EA4EFC83966" class="sect1"><span class="enumeration_chapter">1</span> Oracle Data Guard Broker Concepts</h1>
<div>
<p>The following topics describe the Oracle Data Guard broker, its architecture and components, and how it automates the creation, control, and monitoring of an Oracle Data Guard configuration:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="concepts.htm#GUID-EAC49F16-D821-4F64-9E78-270E07F3B465">Overview of Oracle Data Guard and the Broker</a></p>
</li>
<li>
<p><a href="concepts.htm#GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0">Benefits of Oracle Data Guard Broker</a></p>
</li>
<li>
<p><a href="concepts.htm#GUID-26348C71-E564-4289-880B-1612F77FA9A9">Oracle Data Guard Broker Components</a></p>
</li>
<li>
<p><a href="concepts.htm#GUID-B8CEA7B0-9251-4CBB-A8EF-B691D4C8FF61">Oracle Data Guard Broker User Interfaces</a></p>
</li>
<li>
<p><a href="concepts.htm#GUID-8511BA76-85EB-4581-A993-991DE2EF71A5">Oracle Data Guard Monitor</a></p>
</li>
</ul>
<p>See <a class="olink SBYDB00100" target="_blank" href="../SBYDB/standby.htm#SBYDB00100"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for the definition of an Oracle Data Guard configuration and for complete information about Oracle Data Guard concepts and terminology.</p>
</div>
<a id="DGBKR3667"></a><a id="DGBKR005"></a>
<div class="props_rev_3"><a id="GUID-EAC49F16-D821-4F64-9E78-270E07F3B465"></a>
<h2 id="DGBKR-GUID-EAC49F16-D821-4F64-9E78-270E07F3B465" class="sect2"><span class="enumeration_section">1.1</span> Overview of Oracle Data Guard and the Broker</h2>
<div>
<p>Oracle Data Guard ensures high availability, data protection, and disaster recovery for enterprise data. Oracle Data Guard provides a comprehensive set of services that create, maintain, manage, and monitor one or more standby databases to enable production Oracle databases to survive disasters and data corruptions. Oracle Data Guard maintains these standby databases as transactionally consistent copies of the primary database. If the primary database becomes unavailable because of a planned or an unplanned outage, Oracle Data Guard enables you to switch any standby database to the production role, thus minimizing the downtime associated with the outage. Oracle Data Guard can be used with traditional backup, recovery, and cluster techniques, as well as with the Flashback Database feature to provide a high level of data protection and data availability.</p>
<div class="section">
<p class="subhead2">Oracle Data Guard and Oracle RAC One Node</p>
</div>
<!-- class="section" -->
<div class="section">
<p>As of Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2), Oracle Data Guard and Oracle Data Guard broker are fully integrated with Oracle Real Application Clusters One Node (Oracle RAC One Node).</p>
</div>
<!-- class="section" --></div>
<a id="DGBKR010"></a>
<div class="props_rev_3"><a id="GUID-8B013C48-82D0-4098-9598-6CFDA82160AD"></a>
<h3 id="DGBKR-GUID-8B013C48-82D0-4098-9598-6CFDA82160AD" class="sect3"><span class="enumeration_section">1.1.1</span> Oracle Data Guard Configurations and Broker Configurations</h3>
<div>
<p>An <span class="italic">Oracle Data Guard configuration</span> consists of one primary database and a combination of standby databases and far sync instances that receive redo directly from the primary database. The databases in an Oracle Data Guard configuration are connected by Oracle Net and may be dispersed geographically. There are no restrictions on where the databases are located as long as they can communicate with each other. For example, you can have a standby database on the same system as the primary database, along with two standby databases on another system.</p>
<p>The Oracle Data Guard broker logically groups these primary and standby databases into a <span class="italic">broker configuration</span> that allows the broker to manage and monitor them together as an integrated unit. You can manage a broker configuration using either Oracle Enterprise Manager Cloud Control (Cloud Control) or the Oracle Data Guard command-line interface.</p>
</div>
</div>
<a id="DGBKR3505"></a><a id="DGBKR015"></a>
<div class="props_rev_3"><a id="GUID-738DB75C-1366-42C5-849E-C25F7E811222"></a>
<h3 id="DGBKR-GUID-738DB75C-1366-42C5-849E-C25F7E811222" class="sect3"><span class="enumeration_section">1.1.2</span> Oracle Data Guard Broker</h3>
<div>
<p>The Oracle Data Guard <a id="d3895e159" class="indexterm-anchor"></a>broker is a <a id="d3895e164" class="indexterm-anchor"></a>distributed management framework that automates and centralizes the creation, maintenance, and monitoring of Oracle Data Guard configurations. The following list describes some of the operations the broker automates and simplifies:</p>
<ul style="list-style-type: disc;">
<li>
<p>Creating Oracle Data Guard configurations that include one primary database, new or existing standbys (physical, logical, snapshot, and far sync), and redo transport services and log apply services. The standbys can be Oracle Real Application Clusters (Oracle RAC) databases.</p>
</li>
<li>
<p>Adding additional new or existing standbys (physical, logical, snapshot, far sync, Oracle RAC or non-Oracle RAC) to an existing Data Guard configuration.</p>
</li>
<li>
<p>Managing the protection mode for the broker configuration.</p>
</li>
<li>
<p>Invoking switchover or failover with a single command to initiate and control complex role changes across all databases in the configuration.</p>
</li>
<li>
<p>Configuring failover to occur automatically upon loss of the primary database, increasing availability without manual intervention.</p>
</li>
<li>
<p>Monitoring the status of the entire configuration, capturing diagnostic information, reporting statistics such as the Redo Apply rate and the redo generation rate, and detecting problems quickly with centralized monitoring, testing, and performance tools.</p>
</li>
<li>
<p>Assessing whether a database is ready to become a primary. (See <span class="q">&#34;<a href="dgmgrl.htm#GUID-06ED8F7F-4547-4D4D-9D1A-4A84FF234A12">VALIDATE DATABASE</a>&#34;</span>).</p>
</li>
</ul>
<p>You can perform all management operations <a id="d3895e196" class="indexterm-anchor"></a>locally or <a id="d3895e201" class="indexterm-anchor"></a>remotely through the broker&#39;s easy-to-use interfaces: <a id="d3895e206" class="indexterm-anchor"></a>the Oracle Data Guard management pages in Cloud Control, and the Oracle Data Guard command-line interface called DGMGRL.</p>
<p>These interfaces simplify the configuration and management of an Oracle Data Guard configuration. <a href="concepts.htm#GUID-738DB75C-1366-42C5-849E-C25F7E811222__I1005678" title="a comparison of configuration management with and without the Data Guard broker">Table 1-1</a> provides a comparison of configuration management using the broker&#39;s interfaces and using SQL*Plus.</p>
<div class="tblformalwide" id="GUID-738DB75C-1366-42C5-849E-C25F7E811222__I1005678">
<p class="titleintable">Table 1-1 Configuration Management With and Without the Broker</p>
<table class="cellalignment5456" title="Configuration Management With and Without the Broker" summary="a comparison of configuration management with and without the Data Guard broker">
<thead>
<tr class="cellalignment5445">
<th class="cellalignment5457" id="d3895e229">Operation</th>
<th class="cellalignment5458" id="d3895e232">With the Broker</th>
<th class="cellalignment5458" id="d3895e235">Without the Broker</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5445">
<td class="cellalignment5459" id="d3895e240" headers="d3895e229">
<p><span class="bold">General</span></p>
</td>
<td class="cellalignment5460" headers="d3895e240 d3895e232">
<p>Provides primary database, standby database, and far sync instance management as one unified configuration.</p>
</td>
<td class="cellalignment5460" headers="d3895e240 d3895e235">
<p>You must manage the primary database, standby databases, and far sync instances separately.</p>
</td>
</tr>
<tr class="cellalignment5445">
<td class="cellalignment5459" id="d3895e251" headers="d3895e229">
<p><span class="bold">Standby Database Creation</span></p>
</td>
<td class="cellalignment5460" headers="d3895e251 d3895e232">
<p>Provides <a id="d3895e258" class="indexterm-anchor"></a>Cloud Control wizards that automate and simplify the steps required to create a configuration with an Oracle database on each site, including creating the standby control file, online redo log files, datafiles, and server parameter files.</p>
</td>
<td class="cellalignment5460" headers="d3895e251 d3895e235">
<p>You must manually (using RMAN or other tools):</p>
<ul style="list-style-type: disc;">
<li>
<p>Copy the database files to the standby database system.</p>
</li>
<li>
<p>Create a control file on the standby database system.</p>
</li>
<li>
<p>Create server parameter or initialization parameter files on the standby database system.</p>
</li>
<li>
<p>Copy the primary database password file to the standby database system.</p>
<p><span class="bold">Note:</span> Even when you are using the broker, you must ensure that all physical and snapshot standby databases are using a current copy of the password file from the primary database. The copy must be refreshed whenever an administrative privilege (<code class="codeph">SYSDG</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSDBA</code>, and so on) is granted or revoked, and after the password of any user with administrative privileges is changed.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5445">
<td class="cellalignment5459" id="d3895e295" headers="d3895e229">
<p><span class="bold">Configuration and Management</span></p>
</td>
<td class="cellalignment5460" headers="d3895e295 d3895e232">
<p>Enables you to configure and manage multiple databases from a single location and automatically unifies all of the databases in the broker configuration.</p>
</td>
<td class="cellalignment5460" headers="d3895e295 d3895e235">
<p>You must manually connect to multiple locations in order to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set up redo transport services and log apply services on each database in the configuration.</p>
</li>
<li>
<p>Manage the primary database and standby databases individually.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5445">
<td class="cellalignment5459" id="d3895e313" headers="d3895e229">
<p><span class="bold">Control</span></p>
</td>
<td class="cellalignment5460" headers="d3895e313 d3895e232">
<ul style="list-style-type: disc;">
<li>
<p>Automatically sets up redo transport services and log apply services. Simplifies management of these services, especially in an Oracle RAC environment.</p>
</li>
<li>
<p>Simplifies switchovers, failovers, reinstatements, and conversions to and from a snapshot standby database, allowing you to invoke them through a single command.</p>
</li>
<li>
<p>Automates failover by allowing the broker to determine if failover is necessary and to initiate failover to a specified target standby database, with no need for DBA intervention and with either no loss of data or with a configurable amount of data loss.</p>
</li>
<li>
<p>Integrates role changes with Oracle Clusterware.</p>
</li>
<li>
<p>Manageable and monitorable through Cloud Control</p>
</li>
<li>
<p>Integrates with Oracle Global Data Services, providing support for role-specific global services.</p>
</li>
</ul>
</td>
<td class="cellalignment5460" headers="d3895e313 d3895e235">
<p>You must manually:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use multiple SQL statements to manage the database.</p>
</li>
<li>
<p>Coordinate sequences of multiple commands across multiple database sites to execute switchover and failover operations.</p>
</li>
<li>
<p>Coordinate sequences of multiple commands to manage services and instances during role transitions.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5445">
<td class="cellalignment5459" id="d3895e351" headers="d3895e229">
<p><span class="bold">Monitoring</span></p>
</td>
<td class="cellalignment5460" headers="d3895e351 d3895e232">
<ul style="list-style-type: disc;">
<li>
<p>Provides continuous monitoring of the configuration health, database health, and other runtime parameters.</p>
</li>
<li>
<p>Provides a unified updated status and detailed reports.</p>
</li>
<li>
<p>Provides integration with <a id="d3895e366" class="indexterm-anchor"></a><a id="d3895e370" class="indexterm-anchor"></a>Cloud Control events.</p>
</li>
</ul>
</td>
<td class="cellalignment5460" headers="d3895e351 d3895e235">
<p>You must manually:</p>
<ul style="list-style-type: disc;">
<li>
<p>Monitor the status and runtime parameters using fixed views on each database&mdash;there is no unified view of status for all of the databases in the configuration.</p>
</li>
<li>
<p>Provide a custom method for monitoring Cloud Control events.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="DGBKR3678"></a>
<div class="props_rev_3"><a id="GUID-998C6A31-B223-4F8B-94D7-EB36BA8103EF"></a>
<h3 id="DGBKR-GUID-998C6A31-B223-4F8B-94D7-EB36BA8103EF" class="sect3"><span class="enumeration_section">1.1.3</span> Oracle Data Guard Broker and CDBs</h3>
<div>
<p>Oracle Data Guard broker supports multitenant<a id="d3895e408" class="indexterm-anchor"></a><a id="d3895e414" class="indexterm-anchor"></a> container databases (CDBs) within a broker configuration. Keep the following in mind:</p>
<ul style="list-style-type: disc;">
<li>
<p>When the primary database is a CDB, all standby databases in the broker configuration must also be CDBs.</p>
</li>
<li>
<p>When a broker configuration is made up of CDBs, all broker actions execute at the root level and not at the individual pluggable database (PDB) level.</p>
</li>
<li>
<p>To administer a multitenant environment you must have the <code class="codeph">CDB_DBA</code> role.</p>
</li>
<li>
<p>After a role change, the broker opens all active instances of the new primary. The broker also opens all active instances of a snapshot standby, a logical standby and the first instance of a physical standby (if the former physical standby was open for read).</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-998C6A31-B223-4F8B-94D7-EB36BA8103EF__GUID-6EDDE922-E7B6-47BF-A517-8FA5C836E249">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink CNCPT89249" target="_blank" href="../CNCPT/cdblogic.htm#CNCPT89249"><span class="italic">Oracle Database Concepts</span></a> for more information about CDBs</p>
</li>
<li>
<p><a class="olink DBSEG800" target="_blank" href="../DBSEG/release_changes.htm#DBSEG800"><span class="italic">Oracle Database Security Guide</span></a> for more information about privileges and roles in CDBs and PDBs</p>
</li>
</ul>
</div>
</div>
</div>
<a id="DGBKR3680"></a><a id="DGBKR3681"></a><a id="DGBKR3679"></a>
<div class="props_rev_3"><a id="GUID-F0079AFA-A9A9-4580-B332-60503E1DA18A"></a>
<h3 id="DGBKR-GUID-F0079AFA-A9A9-4580-B332-60503E1DA18A" class="sect3"><span class="enumeration_section">1.1.4</span> Oracle Data Guard Broker and Oracle Global Data Services</h3>
<div>
<div class="section">
<p>To manage broker configurations that support Oracle Global Data Services (GDS), you use both the broker command-line interface, DGMGRL, and the GDS command line interface, GDSCTL. Broker configurations are added to GDS pools (logical groupings of GDS databases which span across GDS regions).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Managing Broker Configurations in a GDS Pool</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To add a broker configuration to a GDS pool, use the GDS command-line interface, GDSCTL. A broker configuration can only be added to an empty pool. A broker configuration cannot span multiple pools.</p>
<p>To delete a broker configuration that is in a pool, you must first remove it from the pool by using the GDSCTL <code class="codeph">REMOVE BROKERCONFIG ...</code> command. Otherwise an error is returned.</p>
<p>Only entire broker configurations are added and removed using GDSCTL; to add and remove individual databases to/from a broker configuration, use the broker command-line interface, DGMGRL.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Managing Individual Configuration Databases When They Are Part of a GDS Pool</p>
</div>
<!-- class="section" -->
<div class="section">
<p>If a GDS pool already contains a broker configuration, then only databases that belong to that configuration can be added to the pool. The only way to add or remove individual databases to or from a broker configuration in a pool is to use the broker command-line interface, DGMGRL.</p>
<p>When a database is added to a broker configuration, that database is automatically also added to the GDS pool to which the configuration belongs.</p>
<p>When a database is removed from a broker configuration, it is automatically removed from the GDS pool to which the configuration belongs.</p>
<p>The broker interacts with GDS and notifies it of any role or configuration changes to ensure that the appropriate database services are active and that the appropriate FAN events are published after a role change.</p>
<div class="infoboxnotealso" id="GUID-F0079AFA-A9A9-4580-B332-60503E1DA18A__GUID-A8413E61-F23F-46B4-9D7D-7A070F013C41">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink GSMUG107" target="_blank" href="../GSMUG/intro.htm#GSMUG107"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a> for more information about GDS.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="DGBKR3506"></a><a id="DGBKR3507"></a><a id="DGBKR3887"></a><a id="DGBKR3508"></a><a id="DGBKR3509"></a><a id="DGBKR3510"></a><a id="DGBKR3511"></a><a id="DGBKR3512"></a><a id="DGBKR3513"></a><a id="DGBKR020"></a>
<div class="props_rev_3"><a id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0"></a>
<h2 id="DGBKR-GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0" class="sect2"><span class="enumeration_section">1.2</span> Benefits of Oracle Data Guard Broker</h2>
<div>
<p>The broker&#39;s interfaces improve usability and centralize management and monitoring of the Oracle Data Guard configuration. Available as a feature of the Enterprise Edition and Personal Edition of the Oracle database, the broker is also integrated with the Oracle database and Cloud Control. These broker attributes result in the following benefits:</p>
<div class="section">
<p class="subhead2">Disaster protection:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>By automating many of the manual tasks required to configure and monitor an Oracle Data Guard configuration, the broker enhances the high availability, data protection, and disaster protection capabilities that are inherent in Oracle Data Guard. Access is possible through a client to any system in the Oracle Data Guard configuration, eliminating any single point of failure. If the primary database fails, the broker automates the process for any one of the standby databases to replace the primary database and take over production processing. The database availability that Oracle Data Guard provides makes it easier to protect your data.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Higher availability and scalability with Oracle Real Application Clusters (Oracle RAC) Databases:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>While Oracle Data Guard broker enhances disaster protection by maintaining transactionally consistent copies of the primary database, Oracle Data Guard, configured with Oracle high availability solutions such as Oracle Real Application Clusters (Oracle RAC) databases, further enhances the availability and scalability of any given copy of that database. The <span class="italic">intrasite</span> high availability of an Oracle RAC database complements the <span class="italic">intersite</span> protection that is provided by Oracle Data Guard broker.</p>
<p>Consider that you have a cluster system hosting a primary Oracle RAC database comprised of multiple instances sharing access to that database. Further consider that an unplanned failure has occurred. From an Oracle Data Guard broker perspective, the primary database remains available as long as at least one instance of the clustered database continues to be available for transporting redo data to the standby databases. <a id="d3895e617" class="indexterm-anchor"></a><a id="d3895e619" class="indexterm-anchor"></a><a id="d3895e623" class="indexterm-anchor"></a>Oracle <a id="d3895e628" class="indexterm-anchor"></a><a id="d3895e632" class="indexterm-anchor"></a><a id="d3895e636" class="indexterm-anchor"></a>Clusterware manages the availability of instances of an Oracle RAC database. It works to rapidly recover failed instances to keep the primary database available. If Oracle Clusterware is unable to recover a failed instance, the broker continues to run automatically with one less instance. If the last instance of the primary database fails, the broker provides a way to fail over to a specified standby database. If the last instance of the primary database fails, and fast-start failover is enabled, the broker can continue to provide high availability by automatically failing over to a pre-determined standby database.</p>
<p>The broker is integrated with Oracle Clusterware so that database role changes occur smoothly and seamlessly. This is especially apparent in the case of a planned role switchover (for example, when a physical standby database is directed to take over the primary role while the former primary database assumes the role of standby). The broker and Oracle Clusterware work together to temporarily suspend service availability on the primary database, accomplish the actual role change for both databases during which Oracle Clusterware works with the broker to properly restart the instances as necessary on the old primary database, and then start services defined on the new primary database. The broker manages the underlying Oracle Data Guard configuration and its database roles while Oracle Clusterware manages service availability that depends upon those roles. Applications that rely on Oracle Clusterware for managing service availability will see only a temporary suspension of service as the role change occurs in the Oracle Data Guard configuration.</p>
<p>Note that while Oracle Clusterware helps to maintain the availability of the individual instances of an Oracle RAC database, the broker coordinates actions that maintain one or more physical or logical copies of the database across multiple geographically dispersed locations to provide disaster protection. Together, the broker and Oracle Clusterware provide a strong foundation for Oracle&#39;s high-availability architecture.</p>
<div class="infoboxnotealso" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-1B4B0FC5-23F0-4565-BD7F-5EDE9D85D366">
<p class="notep1">See Also:</p>
<p><a class="olink RACAD1111" target="_blank" href="../RACAD/GUID-5A1B02A2-A327-42DD-A1AD-20610B2A9D92.htm#RACAD1111"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about Oracle Clusterware</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Support for Oracle RAC One Node:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>As of Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2), Oracle Data Guard and Oracle Data Guard broker are fully integrated with Oracle Real Application Clusters One Node (Oracle RAC One Node). This support provides a higher level of availability at the local site by leveraging many of the Oracle Clusterware benefits just noted for Oracle RAC configurations.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Automated creation of an Oracle Data Guard configuration:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The broker helps you to logically define and create an <a id="d3895e667" class="indexterm-anchor"></a>Oracle Data Guard configuration. The broker automatically communicates between the members of an Oracle Data Guard configuration using O<a id="d3895e672" class="indexterm-anchor"></a><a id="d3895e676" class="indexterm-anchor"></a>r<a id="d3895e681" class="indexterm-anchor"></a>acle Net Services. The members can be local or remote, connected by a LAN or geographically dispersed over a WAN.</p>
<p>Cloud Control provides a wizard that automates the complex tasks involved in creating a broker configuration, including:</p>
<ul style="list-style-type: disc;">
<li>
<p>Adding an existing standby database, or a new standby database created from existing backups taken through Cloud Control</p>
</li>
<li>
<p>Configuring the standby control file, server parameter file, and datafiles</p>
</li>
<li>
<p>Initializing communication with the standbys</p>
</li>
<li>
<p>Creating standby redo log files</p>
</li>
<li>
<p>Enabling Flashback Database if you plan to use fast-start failover</p>
</li>
</ul>
<p>Although DGMGRL cannot automatically create a new standby, you can use DGMGRL commands to configure and monitor an existing standby, including those created using Cloud Control.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Easy configuration of additional standbys:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>After you create an Oracle Data Guard configuration, you can add new or existing standbys to each Oracle Data Guard configuration. Cloud Control provides an Add Standby Database wizard to guide you through the process of adding more databases.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Simplified, centralized, and extended management:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>You can issue commands to manage many aspects of the broker configuration. These include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Simplify the management of all components of the configuration, including the primary database, standbys, redo transport services, and log apply services.</p>
</li>
<li>
<p>Coordinate database state transitions and update database properties dynamically, with the broker recording the changes in a broker configuration file that includes information about all the databases in the configuration. The broker propagates the changes to all databases in the configuration and their server parameter files.</p>
</li>
<li>
<p>Simplify the control of the configuration <a id="d3895e729" class="indexterm-anchor"></a>protection modes (to <a id="d3895e734" class="indexterm-anchor"></a>maximize protection, to <a id="d3895e737" class="indexterm-anchor"></a>maximize availability, or to <a id="d3895e740" class="indexterm-anchor"></a>maximize performance).</p>
</li>
<li>
<p>Invoke the Cloud Control <a id="d3895e746" class="indexterm-anchor"></a>verify operation to ensure that redo transport services and <a id="d3895e751" class="indexterm-anchor"></a>log apply services are configured and functioning properly.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Simplified switchover and failover operations:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The broker simplifies switchovers and failovers by allowing you to invoke them using a single key click in Cloud Control or a single command at the DGMGRL command-line interface (referred to in this documentation as <a id="d3895e762" class="indexterm-anchor"></a><span class="italic">manual</span> failover). For <span class="italic">lights-out administration</span>, you can enable fast-start failover to allow the broker to determine if a failover is necessary and to initiate the failover to a pre-specified target standby automatically, with no need for DBA intervention. Fast-start failover can be configured to occur with no data loss or with a configurable amount of data loss.</p>
<p>Fast-start failover allows you to increase availability with less need for manual intervention, thereby reducing management costs. Manual failover gives you control over exactly when a failover occurs and to which target standby. Regardless of the method you choose, the broker coordinates the role transition on all databases in the configuration. Once failover is complete, the broker publishes a Fast Application Notification (FAN) event to notify applications that the new primary is available.</p>
<p>Note that you can use the <code class="codeph">DBMS_DG</code> PL/SQL package to enable an application to initiate a fast-start failover when it encounters specific conditions. See <a href="dbresource.htm#GUID-D9E5FC78-657B-4C66-8EB7-D56880665861">Application Initiated Fast-Start Failover</a> for more information.</p>
<p>Only one command is required to initiate complex role changes for switchover or failover operations across all databases in the configuration. The broker automates switchover and failover to a specified standby database in the broker configuration. Cloud Control enables you to select a new primary database from a set of viable standby databases (enabled and running, with normal status). The DGMGRL <code class="codeph">SWITCHOVER</code> and <code class="codeph">FAILOVER</code> commands only require you to specify the target standby database before automatically initiating and completing the many steps in switchover or failover operations across the multiple databases in the configuration.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Built-in monitoring and alert and control mechanisms:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The broker provides built-in validation that monitors the <span class="italic">health</span> of all of the databases in the configuration. While connected to any database in the configuration, you can capture diagnostic information and detect obvious and subtle problems quickly with centralized monitoring, testing, and performance tools. Both Cloud Control and DGMGRL retrieve a complete configuration view of the progress of redo transport services on the primary database and the progress of Redo Apply or SQL Apply on the standby database.</p>
<p>The ability to <a id="d3895e800" class="indexterm-anchor"></a>monitor local and remote <a id="d3895e805" class="indexterm-anchor"></a>databases and <a id="d3895e810" class="indexterm-anchor"></a>respond to events is significantly enhanced by the broker&#39;s <a id="d3895e815" class="indexterm-anchor"></a>health check mechanism and tight integration with the <a id="d3895e818" class="indexterm-anchor"></a>Cloud Control <a id="d3895e824" class="indexterm-anchor"></a>event management system.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Transparent to application:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Use of the broker is possible for any database because the broker works transparently with applications; no application code changes are required to accommodate a configuration that you manage with the broker.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="DGBKR3515"></a><a id="DGBKR030"></a>
<div class="props_rev_3"><a id="GUID-26348C71-E564-4289-880B-1612F77FA9A9"></a>
<h2 id="DGBKR-GUID-26348C71-E564-4289-880B-1612F77FA9A9" class="sect2"><span class="enumeration_section">1.3</span> Oracle Data Guard Broker Components</h2>
<div>
<p>The Oracle Data Guard broker consists of the following <a id="d3895e859" class="indexterm-anchor"></a><a id="d3895e863" class="indexterm-anchor"></a><a id="d3895e867" class="indexterm-anchor"></a>components:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="concepts.htm#GUID-B550305D-FAB8-4805-82F3-18527F6801AC">Oracle Enterprise Manager Cloud Control</a></p>
</li>
<li>
<p><a href="concepts.htm#GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4">Oracle Data Guard Command-Line Interface (DGMGRL)</a></p>
</li>
<li>
<p><a href="concepts.htm#GUID-8511BA76-85EB-4581-A993-991DE2EF71A5">Oracle Data Guard Monitor</a></p>
</li>
</ul>
<p><a id="d3895e889" class="indexterm-anchor"></a>Cloud Control and the Oracle Data Guard command-line interface (DGMGRL) are the broker client interfaces that help you define and manage a configuration consisting of a collection of primary and standby databases. DGMGRL also includes commands to create an <strong class="term">observer</strong>, a process that facilitates fast-start failover. <a href="concepts.htm#GUID-B8CEA7B0-9251-4CBB-A8EF-B691D4C8FF61">Oracle Data Guard Broker User Interfaces</a> describes these interfaces in more detail.</p>
<p>The Oracle Data Guard monitor is the broker server-side component that is integrated with the Oracle database. The Oracle Data Guard monitor is composed of several processes, including the DMON process, and broker configuration files that allow you to control the databases of that configuration, modify their behavior at runtime, monitor the overall health of the configuration, and provide notification of other operational characteristics. <a href="concepts.htm#GUID-8511BA76-85EB-4581-A993-991DE2EF71A5">Oracle Data Guard Monitor</a> describes the Oracle Data Guard monitor in more detail.</p>
<p><a href="concepts.htm#GUID-26348C71-E564-4289-880B-1612F77FA9A9__I1021687">Figure 1-1</a> shows these components of the broker.</p>
<div class="figure" id="GUID-26348C71-E564-4289-880B-1612F77FA9A9__I1021687">
<p class="titleinfigure">Figure 1-1 Oracle Data Guard Broker</p>
<img width="510" height="113" src="img/GUID-A5CDE225-C4DD-4091-B00F-924EA1536C4C-default.gif" alt="Description of Figure 1-1 follows" title="Description of Figure 1-1 follows"/><br/>
<a href="img_text/GUID-A5CDE225-C4DD-4091-B00F-924EA1536C4C-print.htm">Description of &#34;Figure 1-1 Oracle Data Guard Broker&#34;</a></div>
<!-- class="figure" --></div>
</div>
<a id="DGBKR035"></a>
<div class="props_rev_3"><a id="GUID-B8CEA7B0-9251-4CBB-A8EF-B691D4C8FF61"></a>
<h2 id="DGBKR-GUID-B8CEA7B0-9251-4CBB-A8EF-B691D4C8FF61" class="sect2"><span class="enumeration_section">1.4</span> Oracle Data Guard Broker User Interfaces</h2>
<div>
<p>You can use either of the broker&#39;s <a id="d3895e943" class="indexterm-anchor"></a>user interfaces to create a broker configuration and to control and monitor the configuration. The following sections describe the broker&#39;s user interfaces:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="concepts.htm#GUID-B550305D-FAB8-4805-82F3-18527F6801AC">Oracle Enterprise Manager Cloud Control</a></p>
</li>
<li>
<p><a href="concepts.htm#GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4">Oracle Data Guard Command-Line Interface (DGMGRL)</a></p>
</li>
</ul>
</div>
<a id="DGBKR040"></a>
<div class="props_rev_3"><a id="GUID-B550305D-FAB8-4805-82F3-18527F6801AC"></a>
<h3 id="DGBKR-GUID-B550305D-FAB8-4805-82F3-18527F6801AC" class="sect3"><span class="enumeration_section">1.4.1</span> Oracle Enterprise Manager Cloud Control</h3>
<div>
<p><a id="d3895e984" class="indexterm-anchor"></a><a id="d3895e988" class="indexterm-anchor"></a>Oracle Enterprise Manager Cloud Control (Cloud Control) works with the Oracle Data Guard monitor to automate and simplify the <a id="d3895e993" class="indexterm-anchor"></a><a id="d3895e997" class="indexterm-anchor"></a>management of an Oracle Data Guard configuration.</p>
<p>With Cloud Control, the complex operations of <a id="d3895e1004" class="indexterm-anchor"></a>creating and managing standby databases are simplified through Oracle Data Guard management pages and <a id="d3895e1009" class="indexterm-anchor"></a><a id="d3895e1015" class="indexterm-anchor"></a>wizards, including:</p>
<ul style="list-style-type: disc;">
<li>
<p>An <a id="d3895e1024" class="indexterm-anchor"></a><a id="d3895e1028" class="indexterm-anchor"></a><a id="d3895e1032" class="indexterm-anchor"></a>Add Standby Database wizard that helps you to create a broker configuration, if one does not already exist, having a primary database and a local or remote standby database. The wizard can create a physical, snapshot, or logical standby <a id="d3895e1037" class="indexterm-anchor"></a>database or import an existing physical, snapshot, or logical (Oracle RAC or non-Oracle RAC) standby database. If the wizard creates a physical, snapshot, or logical standby database, the wizard also automates the creation of the standby control file, server parameter file, online and standby redo log files, and the standby datafiles.</p>
</li>
<li>
<p>A <a id="d3895e1045" class="indexterm-anchor"></a>switchover operation that helps you switch roles between the primary database and a standby database.</p>
</li>
<li>
<p>A <a id="d3895e1055" class="indexterm-anchor"></a>failover operation that changes one of the <a id="d3895e1060" class="indexterm-anchor"></a>standby databases to the role of a primary database.</p>
</li>
<li>
<p><a id="d3895e1067" class="indexterm-anchor"></a><a id="d3895e1071" class="indexterm-anchor"></a>Performance tools and graphs that help you monitor and tune redo transport services and log apply services.</p>
</li>
<li>
<p><a id="d3895e1078" class="indexterm-anchor"></a><a id="d3895e1082" class="indexterm-anchor"></a><a id="d3895e1086" class="indexterm-anchor"></a>Property pages that allow you to set database properties on any database and, if applicable, the settings are immediately propagated to all other databases and server parameter files in the configuration.</p>
</li>
<li>
<p><a id="d3895e1093" class="indexterm-anchor"></a><a id="d3895e1097" class="indexterm-anchor"></a>Event reporting through e-mail.</p>
</li>
</ul>
<p>In addition, it makes all <a id="d3895e1104" class="indexterm-anchor"></a><a id="d3895e1108" class="indexterm-anchor"></a><a id="d3895e1112" class="indexterm-anchor"></a>Oracle Net Services configuration changes necessary to support <a id="d3895e1117" class="indexterm-anchor"></a>redo transport services and l<a id="d3895e1122" class="indexterm-anchor"></a>og apply services.</p>
<div class="infoboxnotealso" id="GUID-B550305D-FAB8-4805-82F3-18527F6801AC__GUID-86248E6A-F4AB-400E-B001-FC5D1B814864">
<p class="notep1">See Also:</p>
<p>My Oracle Support note 787461.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a> for information about which versions of Cloud Control are required to manage the full set of Oracle Data Guard features in various Oracle Database releases</p>
</div>
</div>
</div>
<a id="DGBKR045"></a>
<div class="props_rev_3"><a id="GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4"></a>
<h3 id="DGBKR-GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4" class="sect3"><span class="enumeration_section">1.4.2</span> Oracle Data Guard Command-Line Interface (DGMGRL)</h3>
<div>
<p>The Oracle Data Guard <a id="d3895e1157" class="indexterm-anchor"></a>command-line interface (DGMGRL) enables you to control and monitor an Oracle Data Guard <a id="d3895e1162" class="indexterm-anchor"></a>configuration from the DGMGRL prompt or within scripts. You can perform most of the activities required to manage and <a id="d3895e1167" class="indexterm-anchor"></a>monitor the databases in the configuration using DGMGRL commands.</p>
<p><a id="d3895e1173" class="indexterm-anchor"></a>DGMGRL also includes commands to create an observer process that continuously monitors the primary and target standby databases and evaluates whether failover is necessary, and then initiates a fast-start failover when conditions warrant.</p>
<div class="infoboxnotealso" id="GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4__GUID-1A88F64B-7C41-4347-BA31-C594005B2FEC">
<p class="notep1">See Also:</p>
<p><a href="dgmgrl.htm#GUID-E7889124-C414-466F-9FBB-B8F035881F89" title="The DGMGRL ADD DATABASE command adds a standby database to an existing broker configuration.The DGMGRL CONNECT command connects you to a database or far sync instance that is a member of a Data Guard broker configuration.">Oracle Data Guard Command-Line Interface Reference</a> for complete reference information for the Oracle Data Guard command-line interface. <a href="dgmgrl.htm#GUID-FC402EF5-D633-4A46-BE8C-4EDC6A340886__i77055" title="summary of DGMGRL CLI commands">Table 7-1</a> provides a summary of DGMGRL commands.</p>
</div>
</div>
</div>
</div>
<a id="DGBKR050"></a>
<div class="props_rev_3"><a id="GUID-8511BA76-85EB-4581-A993-991DE2EF71A5"></a>
<h2 id="DGBKR-GUID-8511BA76-85EB-4581-A993-991DE2EF71A5" class="sect2"><span class="enumeration_section">1.5</span> Oracle Data Guard Monitor</h2>
<div>
<p>The configuration, control, and monitoring functions of the broker are implemented by <a id="d3895e1228" class="indexterm-anchor"></a>server-side software and configuration files that are maintained for each database that the broker manages. The software is called the Oracle Data Guard monitor.</p>
<p>The following sections describe how the Oracle Data Guard monitor interacts with the Oracle database and with remote Oracle Data Guard monitors to manage the broker configuration.</p>
</div>
<a id="DGBKR3517"></a><a id="DGBKR055"></a>
<div class="props_rev_3"><a id="GUID-948B0D53-79BF-4E69-815F-421B8B68038F"></a>
<h3 id="DGBKR-GUID-948B0D53-79BF-4E69-815F-421B8B68038F" class="sect3"><span class="enumeration_section">1.5.1</span> Oracle Data Guard Monitor (DMON) Process</h3>
<div>
<p>The <a id="d3895e1262" class="indexterm-anchor"></a>Oracle Data Guard monitor process (DMON) is an Oracle <a id="d3895e1267" class="indexterm-anchor"></a>background process that runs on every database instance that is managed by the broker. When you start the Oracle Data Guard broker, a DMON process is created.</p>
<div class="infoboxnotealso" id="GUID-948B0D53-79BF-4E69-815F-421B8B68038F__GUID-B25A9D42-F6FC-406C-92F6-EBB89DB32C2B">
<p class="notep1">See Also:</p>
<p><a href="configure.htm#GUID-BAAE6C51-C29F-4950-A885-EB1289A230B2">Starting the Data Guard Broker</a> for information on starting the broker</p>
</div>
<p>Whether you use Cloud Control or DGMGRL to manage a database, the DMON process is the server-side component that interacts with the local database and the DMON processes of the other databases to perform the requested function. The DMON process is also responsible for monitoring the <a id="d3895e1280" class="indexterm-anchor"></a><a id="d3895e1284" class="indexterm-anchor"></a><a id="d3895e1288" class="indexterm-anchor"></a>health of the broker configuration and for ensuring that every database has a consistent description <a id="d3895e1293" class="indexterm-anchor"></a><a id="d3895e1297" class="indexterm-anchor"></a>of the configuration.</p>
<p><a href="concepts.htm#GUID-948B0D53-79BF-4E69-815F-421B8B68038F__I1005892">Figure 1-2</a> shows the broker&#39;s <a id="d3895e1305" class="indexterm-anchor"></a><a id="d3895e1309" class="indexterm-anchor"></a><a id="d3895e1313" class="indexterm-anchor"></a>DMON process as one of several background processes that constitute an instance of the Oracle database. Each database instance shown in the figure has its own DMON process.</p>
<div class="figure" id="GUID-948B0D53-79BF-4E69-815F-421B8B68038F__I1005892">
<p class="titleinfigure">Figure 1-2 Databases With Broker (DMON) Processes</p>
<img width="584" height="653" src="img/GUID-6C1CD007-D8FF-40E7-9AF3-563B214B9DE3-default.gif" alt="Description of Figure 1-2 follows" title="Description of Figure 1-2 follows"/><br/>
<a href="img_text/GUID-6C1CD007-D8FF-40E7-9AF3-563B214B9DE3-print.htm">Description of &#34;Figure 1-2 Databases With Broker (DMON) Processes&#34;</a></div>
<!-- class="figure" -->
<p>The zigzag arrow in the center of <a href="concepts.htm#GUID-948B0D53-79BF-4E69-815F-421B8B68038F__I1005892">Figure 1-2</a> represents the <a id="d3895e1327" class="indexterm-anchor"></a><a id="d3895e1331" class="indexterm-anchor"></a><a id="d3895e1335" class="indexterm-anchor"></a>two-way Oracle Net Services communication channel that exists between the DMON processes of two databases in the same broker configuration.</p>
<p>This <a id="d3895e1342" class="indexterm-anchor"></a>two-way communication channel is used to pass <a id="d3895e1345" class="indexterm-anchor"></a><a id="d3895e1349" class="indexterm-anchor"></a>requests between databases and to monitor the <a id="d3895e1354" class="indexterm-anchor"></a>health of all of the databases in the broker configuration.</p>
</div>
</div>
<a id="DGBKR060"></a>
<div class="props_rev_3"><a id="GUID-755CC51D-7438-453D-9B59-2EA3B9689D8B"></a>
<h3 id="DGBKR-GUID-755CC51D-7438-453D-9B59-2EA3B9689D8B" class="sect3"><span class="enumeration_section">1.5.2</span> Configuration Management</h3>
<div>
<p>The broker&#39;s DMON process persistently maintains information about all members of the broker configuration in a binary configuration file. A copy of this file is maintained by the DMON process for each of the databases that belong to the broker configuration. If it is an Oracle RAC database, each database&#39;s copy of the file is shared by all instances of the database.</p>
<p>This configuration file contains information that describes the states and properties of the databases in the configuration. For example, the file records the databases that are part of the configuration, the roles and properties of each of the databases, and the state of each database in the configuration.</p>
<p>The configuration data is managed transparently by the DMON process to ensure that the configuration information is kept consistent across all of the databases. The <a id="d3895e1398" class="indexterm-anchor"></a>broker uses the data in the configuration file to configure and start the databases, control each database&#39;s behavior, and provide information to DGMGRL and Cloud Control.</p>
<div class="infoboxnotealso" id="GUID-755CC51D-7438-453D-9B59-2EA3B9689D8B__GUID-AA679F09-7379-4F3C-BF28-E9B88F0B979D">
<p class="notep1">See Also:</p>
<p><a href="dbresource.htm#GUID-5CA7C5EC-DE39-482D-8E54-2C3126651271">Managing Database Properties</a> for more information</p>
</div>
<p>Whenever you add databases to a broker configuration, or make a change to an existing database&#39;s properties, each DMON process records the new information in its copy of the configuration file.</p>
</div>
</div>
<a id="DGBKR065"></a>
<div class="props_rev_3"><a id="GUID-D7C4C999-70E9-415D-8338-1CC6246D12BB"></a>
<h3 id="DGBKR-GUID-D7C4C999-70E9-415D-8338-1CC6246D12BB" class="sect3"><span class="enumeration_section">1.5.3</span> Database Property Management</h3>
<div>
<p>Associated with each database<a id="d3895e1444" class="indexterm-anchor"></a> are various properties that the DMON process uses to control the database&#39;s behavior. The properties are recorded in the configuration file. Many database properties are used to control database initialization parameters related to the Oracle Data Guard environment.</p>
<p>To ensure that the broker can update the values of parameters in both the database itself and in the configuration file, you must use a <a id="d3895e1451" class="indexterm-anchor"></a><a id="d3895e1455" class="indexterm-anchor"></a>server parameter file to control static and dynamic initialization parameters. The use of a server parameter file gives the broker a mechanism that allows it to reconcile property values selected by the database administrator (DBA) when using the broker with any related initialization parameter values recorded in the server parameter file.</p>
<p>When you set values for database properties in the broker configuration, the broker records the change in the configuration file and propagates the change to all of the databases in the Oracle Data Guard configuration.</p>
<div class="infobox-note" id="GUID-D7C4C999-70E9-415D-8338-1CC6246D12BB__GUID-4BE4ABC6-7FE6-45C5-91F9-DB181B61E83F">
<p class="notep1">Note:</p>
<p>The broker supports both the default and nondefault <a id="d3895e1467" class="indexterm-anchor"></a><a id="d3895e1471" class="indexterm-anchor"></a>server parameter file filenames. If you use a nondefault server parameter filename, the initialization parameter file must include the complete filename and location of the server parameter file. If this is an Oracle RAC database, there must be one nondefault server parameter file for all instances.</p>
</div>
<div class="infoboxnotealso" id="GUID-D7C4C999-70E9-415D-8338-1CC6246D12BB__GUID-26223C31-F483-4029-AA67-463060C88EEC">
<p class="notep1">See Also:</p>
<p><a href="dbresource.htm#GUID-58646FFF-47E4-40DC-A7DA-C4AB33CDB16B">Configurable (Changeable) Properties</a> for more information</p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5444">
<tr>
<td class="cellalignment5451">
<table class="cellalignment5449">
<tr>
<td class="cellalignment5448"><a href="release_changes.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5448"><a href="install.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5453">
<table class="cellalignment5447">
<tr>
<td class="cellalignment5448"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5448"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5448"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5448"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5448"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5448"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-79276"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/OLAP%20DML%20Commands%3A%20A-G"></a><title>OLAP DML Commands: A-G</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1079"/>
<meta name="dcterms.created" content="2016-04-19T12:43:47Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="OLAP DML Reference"/>
<meta name="dcterms.identifier" content="E17673-12"/>
<meta name="dcterms.isVersionOf" content="OLADM"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="dml_functions_2.htm" title="Previous" type="text/html"/>
<link rel="Next" href="dml_commands_2.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17673-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">13/19</span> <!-- End Header -->
<div id="OLADM721" class="chapter"><a id="BGEEAEAB"></a>
<h1 class="chapter"><span class="secnum">9</span> OLAP DML Commands: A-G</h1>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BGEJHCAG">About OLAP DML Commands</a></p>
</li>
<li>
<p><a href="#BGEJIIFC">Commands: Alphabetical Listing</a></p>
</li>
<li>
<p><a href="#BGEBDFCG">Commands by Category</a></p>
</li>
<li>
<p>One topic for each of the OLAP DML commands that begins with the letters A - G, beginning with <a href="#i1021649">ACQUIRE</a>.</p>
</li>
</ul>
<p>Reference topics for the remaining OLAP DML commands appear in alphabetical order in <a href="dml_commands_2.htm#CCHCECAG">Chapter 10, &#34;OLAP DML Commands: H-Z&#34;</a>.</p>
<p>For other OLAP DML reference topics, see <a href="dml_properties.htm#BABIGDDG">Chapter 4, &#34;OLAP DML Properties&#34;</a>, <a href="dml_options.htm#CHDFCICB">Chapter 5, &#34;OLAP DML Options&#34;</a>, <a href="dml_functions_1.htm#CJAGEFHJ">Chapter 7, &#34;OLAP DML Functions: A - K&#34;</a>, and <a href="dml_functions_2.htm#CHDBBGJA">Chapter 8, &#34;OLAP DML Functions: L - Z&#34;</a>.</p>
<a id="BGEJHCAG"></a>
<div id="OLADM722" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About OLAP DML Commands</h2>
<p>OLAP DML commands work in much the same way as commands in other programming languages&mdash;the one exception is the looping nature of OLAP DML commands as discussed in <a href="dml_basics.htm#BABHFFFI">&#34;OLAP DML Statements Apply to All of the Values of a Data Object&#34;</a>.</p>
<p>Many OLAP DML commands perform complex actions. Some of these commands are data definition commands like the AW command which you use to create an analytic workspace and the DEFINE command which you use to define objects within an analytic workspace. Other OLAP DML commands are data manipulation commands. For example, you can use the OLAP DML SQL command to embed SQL statements in an OLAP DML program to copy data from relational tables into analytic workspace data objects, or you can use the AGGREGATE command to calculate summary data. Additionally, the DEFINE, MAINTAIN, PROPERTY, SET (=) UPDATE, and AW commands are recognized by Oracle OLAP as events that can trigger the execution of OLAP DML programs. (See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information.)</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Many OLAP DML statements can be coded as a 3-character abbreviation that consists of the first letter of the statement plus the next two consonants.</div>
<p>Additionally, you can augment the functionality of the OLAP DML by writing an OLAP DML program for use as a command.</p>
</div>
<!-- class="sect1" -->
<a id="BGEJIIFC"></a>
<div id="OLADM723" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Commands: Alphabetical Listing</h2>
<p><a href="#BGEDEICG">A</a> <a href="#BGEFJBGJ">B</a> <a href="#BGEJCEAF">C</a> <a href="#BGEFIBFG">D</a> <a href="#BGEHGFFG">E</a> <a href="#BGEBEIJI">F</a> <a href="#BGEIBIEC">G</a> <a href="#BGEGCDAF">H</a> <a href="#BGECHHCI">I</a> <a href="#BGEHBGCC">L</a> <a href="#BGEECDDB">M</a> <a href="#BGEIFFIH">O</a> <a href="#BGEBDCAF">P</a> <a href="#BGEFDIIJ">R</a> <a href="#BGEDJEBJ">S</a> <a href="#BGEIECCE">T</a> <a href="#BGEHGGAH">U</a> <a href="#BGEDHIFD">V</a> <a href="#BGEHJDHF">W</a> <a href="#BGEFHJJB">Z</a></p>
<p class="subhead2"><a id="BGEDEICG"></a><a id="OLADM2044"></a>A</p>
<br/>
<a href="#i1021649">ACQUIRE</a><br/>
<a href="#i78720">ACROSS</a><br/>
<a href="#BGEEHCEG">ADD_CUBE_MODEL</a><br/>
<a href="#BGEBHJGE">ADD_DIMENSION_MEMBER</a><br/>
<a href="#BGEDHJID">ADD_MODEL_DIMENSION</a><br/>
<a href="#i1032719">AGGMAP</a><br/>
<a href="#i1025748">AGGMAP ADD or REMOVE model</a><br/>
<a href="#i1028030">AGGMAP SET</a><br/>
<a href="#i78745">AGGREGATE command</a><br/>
<a href="#i78760">ALLCOMPILE</a><br/>
<a href="#i1030856">ALLOCATE</a><br/>
<a href="#i78780">ALLOCMAP</a><br/>
<a href="#i78785">ALLSTAT</a><br/>
<a href="#i79082">ARGUMENT</a><br/>
<a href="#i79092">AW command</a><br/>
<a href="#i79102">AWDESCRIBE</a>
<p class="subhead2"><a id="BGEFJBGJ"></a><a id="OLADM2045"></a>B</p>
<br/>
<a href="#i1033742">BLANK</a><br/>
<a href="#i79160">BREAK</a>
<p class="subhead2"><a id="BGEJCEAF"></a><a id="OLADM2046"></a>C</p>
<br/>
<a href="#i79175">CALL</a><br/>
<a href="#CACFGEBD">CDA</a><br/>
<a href="#g1044782">CHGDFN</a><br/>
<a href="#i79129">CLEAR</a><br/>
<a href="#i79149">COMMIT</a><br/>
<a href="#i79154">COMPILE</a><br/>
<a href="#i79169">CONSIDER</a><br/>
<a href="#i79174">CONTEXT command</a><br/>
<a href="#i1007920">CONTINUE</a><br/>
<a href="#i79194">COPYDFN</a><br/>
<a href="#BGEECJFD">CREATE_LOGICAL_MODEL</a>
<p class="subhead2"><a id="BGEFIBFG"></a><a id="OLADM2047"></a>D</p>
<br/>
<a href="#CACIIBBF">DATE_FORMAT</a><br/>
<a href="#i79253">DBGOUTFILE</a><br/>
<a href="#i78478">DEFINE</a><br/>
<a href="#g1057637">DELETE</a><br/>
<a href="#i80436">DESCRIBE</a><br/>
<a href="#i80451">DO ... DOEND</a>
<p class="subhead2"><a id="BGEHGFFG"></a><a id="OLADM2048"></a>E</p>
<br/>
<a href="#i80466">EDIT</a><br/>
<a href="#i80525">EQ</a><br/>
<a href="#g1024108">EXPORT</a>
<p class="subhead2"><a id="BGEBEIJI"></a><a id="OLADM2049"></a>F</p>
<br/>
<a href="#i78818">FCCLOSE</a><br/>
<a href="#i1002088">FCEXEC</a><br/>
<a href="#CIHIDJIF">FCSET</a><br/>
<a href="#g1037946">FETCH</a><br/>
<a href="#i78848">FILECLOSE</a><br/>
<a href="#i78853">FILECOPY</a><br/>
<a href="#i78858">FILEDELETE</a><br/>
<a href="#CIHGEJFI">FILEMOVE</a><br/>
<a href="#i79466">FILEPAGE</a><br/>
<a href="#i79471">FILEPUT</a><br/>
<a href="#i79481">FILEREAD</a><br/>
<a href="#i79486">FILESET</a><br/>
<a href="#i79491">FILEVIEW</a><br/>
<a href="#i79526">FOR</a><br/>
<a href="#i79531">FORECAST</a><br/>
<a href="#i1006493">FORECAST.REPORT</a><br/>
<a href="#i79541">FULLDSC</a>
<p class="subhead2"><a id="BGEIBIEC"></a><a id="OLADM2050"></a>G</p>
<br/>
<a href="#i78866">GOTO</a><br/>
<a href="#i78871">GROUPINGID command</a><br/>
<a href="dml_commands_2.htm#i78881">HEADING</a>
<p class="subhead2"><a id="BGEGCDAF"></a><a id="OLADM2051"></a>H</p>
<br/>
<a href="dml_commands_2.htm#i78886">HIDE</a><br/>
<a href="dml_commands_2.htm#CCHJEBGF">HIERDEPTH</a><br/>
<a href="dml_commands_2.htm#i78896">HIERHEIGHT command</a>
<p class="subhead2"><a id="BGECHHCI"></a><a id="OLADM2052"></a>I</p>
<br/>
<a href="dml_commands_2.htm#i78906">IF...THEN...ELSE command</a>
<p class="subhead2"><a id="OLADM2053"></a>I</p>
<br/>
<a href="dml_commands_2.htm#i78911">IMPORT</a><br/>
<a href="dml_commands_2.htm#CHEHFBFE">INFILE</a>
<p class="subhead2"><a id="BGEHBGCC"></a><a id="OLADM2054"></a>L</p>
<br/>
<a href="dml_commands_2.htm#i79636">LD</a><br/>
<a href="dml_commands_2.htm#i78802">LIMIT command</a><br/>
<a href="dml_commands_2.htm#CIHHAFHI">LIMIT BASEDIMS</a><br/>
<a href="dml_commands_2.htm#i78827">LISTBY</a><br/>
<a href="dml_commands_2.htm#i78832">LISTFILES</a><br/>
<a href="dml_commands_2.htm#i78837">LISTNAMES</a><br/>
<a href="dml_commands_2.htm#i78842">LOAD</a><br/>
<a href="dml_commands_2.htm#i78852">LOG command</a>
<p class="subhead2"><a id="BGEECDDB"></a><a id="OLADM2055"></a>M</p>
<br/>
<a href="dml_commands_2.htm#i1017721">MAINTAIN</a><br/>
<a href="dml_commands_2.htm#i1004861">MODEL</a><br/>
<a href="dml_commands_2.htm#i1004377">MODEL.COMPRPT</a><br/>
<a href="dml_commands_2.htm#g1068375">MODEL.DEPRT</a><br/>
<a href="dml_commands_2.htm#i1004462">MODEL.XEQRPT</a><br/>
<a href="dml_commands_2.htm#g1037071">MONITOR</a><br/>
<a href="dml_commands_2.htm#CFABACJD">MOVE</a>
<p class="subhead2"><a id="BGEIFFIH"></a><a id="OLADM2056"></a>O</p>
<br/>
<a href="dml_commands_2.htm#i79538">OUTFILE</a>
<p class="subhead2"><a id="BGEBDCAF"></a><a id="OLADM2057"></a>P</p>
<br/>
<a href="dml_commands_2.htm#i79548">PAGE</a><br/>
<a href="dml_commands_2.htm#i79578">PARSE</a><br/>
<a href="dml_commands_2.htm#i79588">PERMIT</a><br/>
<a href="dml_commands_2.htm#i79598">PERMITRESET</a><br/>
<a href="dml_commands_2.htm#i79603">POP</a><br/>
<a href="dml_commands_2.htm#i79608">POPLEVEL</a><br/>
<a href="dml_commands_2.htm#i79623">PROGRAM</a><br/>
<a href="dml_commands_2.htm#i79628">PROPERTY</a><br/>
<a href="dml_commands_2.htm#i79633">PUSH</a><br/>
<a href="dml_commands_2.htm#i79638">PUSHLEVEL</a>
<p class="subhead2"><a id="BGEFDIIJ"></a><a id="OLADM2058"></a>R</p>
<br/>
<a href="dml_commands_2.htm#i79462">RECAP</a><br/>
<a href="dml_commands_2.htm#i79477">REDO</a><br/>
<a href="dml_commands_2.htm#i79482">REEDIT</a><br/>
<a href="dml_commands_2.htm#i79487">REGRESS</a><br/>
<a href="dml_commands_2.htm#i1010396">REGRESS.REPORT</a><br/>
<a href="dml_commands_2.htm#CACBJGDI">RELATION command</a><br/>
<a href="dml_commands_2.htm#i1016511">RELEASE</a><br/>
<a href="dml_commands_2.htm#CCHJBDCB">REMOVE_CUBE_MODEL</a><br/>
<a href="dml_commands_2.htm#CCHDJFHB">REMOVE_DIMENSION_MEMBER</a><br/>
<a href="dml_commands_2.htm#CCHFFHHA">REMOVE_MODEL_DIMENSION</a><br/>
<a href="dml_commands_2.htm#CACCCIHD">RENAME</a><br/>
<a href="dml_commands_2.htm#i79557">REPORT</a><br/>
<a href="dml_commands_2.htm#i1010007">RESYNC</a><br/>
<a href="dml_commands_2.htm#i79191">RETURN</a><br/>
<a href="dml_commands_2.htm#i1010016">REVERT</a><br/>
<a href="dml_commands_2.htm#i79216">ROW command</a>
<p class="subhead2"><a id="BGEDJEBJ"></a><a id="OLADM2059"></a>S</p>
<br/>
<a href="dml_commands_2.htm#CIHCEHEH">SET</a><br/>
<a href="dml_commands_2.htm#CIHBHFFD">SET1</a><br/>
<a href="dml_commands_2.htm#CCHIFGHD">SET_INCLUDED_MODEL</a><br/>
<a href="dml_commands_2.htm#CCHIEIFE">SET_PROPERTY</a><br/>
<a href="dml_commands_2.htm#i79246">SHOW</a><br/>
<a href="dml_commands_2.htm#i1010075">SIGNAL</a><br/>
<a href="dml_commands_2.htm#i79266">SLEEP</a><br/>
<a href="dml_commands_2.htm#i79281">SORT command</a><br/>
<a href="dml_commands_2.htm#g1037371">SQL</a><br/>
<a href="dml_commands_2.htm#i78669">STATUS</a><br/>
<a href="dml_commands_2.htm#i78568">STDHDR</a><br/>
<a href="dml_commands_2.htm#i78578">SWITCH command</a>
<p class="subhead2"><a id="BGEIECCE"></a><a id="OLADM2060"></a>T</p>
<br/>
<a href="dml_commands_2.htm#i78618">TEMPSTAT</a><br/>
<a href="dml_commands_2.htm#CCHCFEDC">TRACE</a><br/>
<a href="dml_commands_2.htm#i78678">TRACKPRG</a><br/>
<a href="dml_commands_2.htm#g1037686">TRAP</a><br/>
<a href="dml_commands_2.htm#BABGJHJH">TRIGGER command</a><br/>
<a href="dml_commands_2.htm#BABHJHHI">TRIGGERASSIGN</a>
<p class="subhead2"><a id="BGEHGGAH"></a><a id="OLADM2061"></a>U</p>
<br/>
<a href="dml_commands_2.htm#BABEJDHB">UNHIDE</a><br/>
<a href="dml_commands_2.htm#i79209">UPDATE</a><br/>
<a href="dml_commands_2.htm#CCHBIGEG">UPDATE_ATTRIBUTE_VALUE</a><br/>
<a href="dml_commands_2.htm#CCHEJECB">UPDATE_DIMENSION_MEMBER</a>
<p class="subhead2"><a id="BGEDHIFD"></a><a id="OLADM2062"></a>V</p>
<br/>
<a href="dml_commands_2.htm#i79234">VARIABLE</a><br/>
<a href="dml_commands_2.htm#i79244">VNF</a>
<p class="subhead2"><a id="BGEHJDHF"></a><a id="OLADM2063"></a>W</p>
<br/>
<a href="dml_commands_2.htm#i79264">WHILE</a>
<p class="subhead2"><a id="BGEFHJJB"></a><a id="OLADM2064"></a>Z</p>
<br/>
<a href="dml_commands_2.htm#BABIDJGI">ZEROTOTAL</a></div>
<!-- class="sect1" -->
<a id="BGEBDFCG"></a>
<div id="OLADM724" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Commands by Category</h2>
<p class="subhead2"><a id="BGEIDFGC"></a><a id="OLADM2065"></a>OLAP Cube and Cube Dimension Modification Commands</p>
<br/>
<a href="#BGEEHCEG">ADD_CUBE_MODEL</a><br/>
<a href="#BGEBHJGE">ADD_DIMENSION_MEMBER</a><br/>
<a href="#BGEDHJID">ADD_MODEL_DIMENSION</a><br/>
<a href="#BGEECJFD">CREATE_LOGICAL_MODEL</a><br/>
<a href="dml_commands_2.htm#CCHJBDCB">REMOVE_CUBE_MODEL</a><br/>
<a href="dml_commands_2.htm#CCHDJFHB">REMOVE_DIMENSION_MEMBER</a><br/>
<a href="dml_commands_2.htm#CCHFFHHA">REMOVE_MODEL_DIMENSION</a><br/>
<a href="dml_commands_2.htm#CCHIFGHD">SET_INCLUDED_MODEL</a><br/>
<a href="dml_commands_2.htm#CCHIEIFE">SET_PROPERTY</a><br/>
<a href="dml_commands_2.htm#CCHBIGEG">UPDATE_ATTRIBUTE_VALUE</a><br/>
<a href="dml_commands_2.htm#CCHEJECB">UPDATE_DIMENSION_MEMBER</a><br/>
<br/>
See also <a href="dml_functions_2.htm#CHDFAIFC">OBJORG</a> function
<p class="subhead2"><a id="OLADM2066"></a>Aggregation Commands</p>
<br/>
<a href="#i1032719">AGGMAP</a><br/>
<a href="#i1025748">AGGMAP ADD or REMOVE model</a><br/>
<a href="#i1028030">AGGMAP SET</a><br/>
<a href="#i78745">AGGREGATE command</a><br/>
<a href="#i78488">DEFINE AGGMAP</a><br/>
<a href="dml_commands_2.htm#CCHJEBGF">HIERDEPTH</a><br/>
<a href="dml_commands_2.htm#i78896">HIERHEIGHT command</a>
<p class="subhead2"><a id="OLADM2067"></a>Allocation Commands</p>
<br/>
<a href="#i1030856">ALLOCATE</a><br/>
<a href="#i78780">ALLOCMAP</a><br/>
<a href="#i78488">DEFINE AGGMAP</a>
<p class="subhead2"><a id="OLADM2068"></a>Assigment Commands</p>
<br/>
<a href="#i79129">CLEAR</a><br/>
<a href="dml_commands_2.htm#i1017721">MAINTAIN</a><br/>
<a href="dml_commands_2.htm#CIHCEHEH">SET</a><br/>
<a href="dml_commands_2.htm#CIHBHFFD">SET1</a><br/>
<a href="dml_commands_2.htm#BABGJHJH">TRIGGER command</a><br/>
<a href="dml_commands_2.htm#BABHJHHI">TRIGGERASSIGN</a>
<p class="subhead2"><a id="OLADM2069"></a>Debugging Commands</p>
<br/>
<a href="#i79253">DBGOUTFILE</a><br/>
<a href="dml_commands_2.htm#i78852">LOG command</a><br/>
<a href="dml_commands_2.htm#g1037071">MONITOR</a><br/>
<a href="dml_commands_2.htm#i1010075">SIGNAL</a><br/>
<a href="dml_commands_2.htm#i78678">TRACKPRG</a><br/>
<a href="dml_commands_2.htm#g1037686">TRAP</a>
<p class="subhead2"><a id="OLADM2070"></a>Analytic Workspace Object Definition Commands</p>
<br/>
<a href="#g1044782">CHGDFN</a><br/>
<a href="#i79169">CONSIDER</a><br/>
<a href="#i79194">COPYDFN</a><br/>
<a href="#i78478">DEFINE</a><br/>
<a href="#g1057637">DELETE</a><br/>
<a href="#i80436">DESCRIBE</a><br/>
<a href="#i79541">FULLDSC</a><br/>
<a href="#i78871">GROUPINGID command</a><br/>
<a href="dml_commands_2.htm#i78886">HIDE</a><br/>
<a href="dml_commands_2.htm#i78896">HIERHEIGHT command</a><br/>
<a href="dml_commands_2.htm#i79636">LD</a><br/>
<a href="dml_commands_2.htm#i78827">LISTBY</a><br/>
<a href="dml_commands_2.htm#i78837">LISTNAMES</a><br/>
<a href="dml_commands_2.htm#i78842">LOAD</a><br/>
<a href="dml_commands_2.htm#i79628">PROPERTY</a><br/>
<a href="dml_commands_2.htm#CACBJGDI">RELATION command</a><br/>
<a href="dml_commands_2.htm#CACCCIHD">RENAME</a><br/>
<a href="dml_commands_2.htm#BABGJHJH">TRIGGER command</a><br/>
<a href="dml_commands_2.htm#BABEJDHB">UNHIDE</a>
<p class="subhead2"><a id="OLADM2071"></a>Dimension Status Commands</p>
<br/>
<a href="#i78720">ACROSS</a><br/>
<a href="#i78785">ALLSTAT</a><br/>
<a href="dml_commands_2.htm#i78802">LIMIT command</a><br/>
<a href="dml_commands_2.htm#CIHHAFHI">LIMIT BASEDIMS</a><br/>
<a href="dml_commands_2.htm#i78669">STATUS</a><br/>
<a href="dml_commands_2.htm#i78618">TEMPSTAT</a>
<p class="subhead2"><a id="OLADM2072"></a>Forecast and Regression Commands</p>
<br/>
<a href="#i78818">FCCLOSE</a><br/>
<a href="#i1002088">FCEXEC</a><br/>
<a href="#CIHIDJIF">FCSET</a><br/>
<a href="#i79531">FORECAST</a><br/>
<a href="#i1006493">FORECAST.REPORT</a><br/>
<a href="dml_commands_2.htm#i79487">REGRESS</a><br/>
<a href="dml_commands_2.htm#i1010396">REGRESS.REPORT</a>
<p class="subhead2"><a id="OLADM2073"></a>Date Formatting Commands</p>
<br/>
<a href="#CACIIBBF">DATE_FORMAT</a><br/>
<a href="dml_commands_2.htm#i79244">VNF</a>
<p class="subhead2"><a id="OLADM2074"></a>Formula Commands</p>
<br/>
<a href="#i1010609">DEFINE FORMULA</a><br/>
<a href="#i80525">EQ</a><br/>
<a href="dml_commands_2.htm#CCHCFEDC">TRACE</a>
<p class="subhead2"><a id="OLADM2075"></a>Analytic Workspace Management Commands</p>
<br/>
<a href="#i79092">AW command</a><br/>
<a href="#i79149">COMMIT</a><br/>
<a href="#i78783">EXPORT (EIF)</a><br/>
<a href="dml_commands_2.htm#i78916">IMPORT (EIF)</a><br/>
<a href="dml_commands_2.htm#i79588">PERMIT</a><br/>
<a href="dml_commands_2.htm#i79598">PERMITRESET</a><br/>
<a href="dml_commands_2.htm#CACCCIHD">RENAME</a><br/>
<a href="dml_commands_2.htm#i79209">UPDATE</a>
<p class="subhead2"><a id="BGEJHFDF"></a><a id="OLADM2076"></a>Analytic Workspace Multiwriter Management Commands</p>
<br/>
<a href="#i1021649">ACQUIRE</a><br/>
<a href="dml_commands_2.htm#i1016511">RELEASE</a><br/>
<a href="dml_commands_2.htm#i1010007">RESYNC</a><br/>
<a href="dml_commands_2.htm#i1010016">REVERT</a>
<p class="subhead2"><a id="OLADM2077"></a>File Management Commands</p>
<br/>
<a href="#CACFGEBD">CDA</a><br/>
<a href="#i78848">FILECLOSE</a><br/>
<a href="#i78853">FILECOPY</a><br/>
<a href="#i78858">FILEDELETE</a><br/>
<a href="#CIHGEJFI">FILEMOVE</a><br/>
<a href="#i79466">FILEPAGE</a><br/>
<a href="#i79471">FILEPUT</a><br/>
<a href="#i79481">FILEREAD</a><br/>
<a href="#i79486">FILESET</a><br/>
<a href="#i79491">FILEVIEW</a><br/>
<a href="dml_commands_2.htm#i78921">IMPORT (text)</a><br/>
<a href="dml_commands_2.htm#CHEHFBFE">INFILE</a><br/>
<a href="dml_commands_2.htm#i78832">LISTFILES</a><br/>
<a href="dml_commands_2.htm#i79538">OUTFILE</a>
<p class="subhead2"><a id="OLADM2078"></a>Data Model Commands</p>
<br/>
<a href="#i1025748">AGGMAP ADD or REMOVE model</a><br/>
<a href="#i78508">DEFINE MODEL</a><br/>
<a href="dml_commands_2.htm#i80588">DIMENSION (in models)</a><br/>
<a href="dml_commands_2.htm#i78931">INCLUDE</a><br/>
<a href="dml_commands_2.htm#i1004861">MODEL</a><br/>
<a href="dml_commands_2.htm#i1004377">MODEL.COMPRPT</a><br/>
<a href="dml_commands_2.htm#g1068375">MODEL.DEPRT</a><br/>
<a href="dml_commands_2.htm#i1004462">MODEL.XEQRPT</a><br/>
<a href="dml_commands_2.htm#CIHCEHEH">SET</a><br/>
<a href="dml_commands_2.htm#CCHCFEDC">TRACE</a>
<p class="subhead2"><a id="OLADM2079"></a>Programming Commands</p>
<br/>
<a href="#i78760">ALLCOMPILE</a><br/>
<a href="#i79082">ARGUMENT</a><br/>
<a href="#i79160">BREAK</a><br/>
<a href="#i79160">BREAK</a><br/>
<a href="#i79175">CALL</a><br/>
<a href="#i1007920">CONTINUE</a><br/>
<a href="#i1007920">CONTINUE</a><br/>
<a href="#i78513">DEFINE PROGRAM</a><br/>
<a href="#i80451">DO ... DOEND</a><br/>
<a href="#i79526">FOR</a><br/>
<a href="#i78866">GOTO</a><br/>
<a href="dml_commands_2.htm#i78886">HIDE</a><br/>
<a href="dml_commands_2.htm#i78906">IF...THEN...ELSE command</a><br/>
<a href="dml_commands_2.htm#i79578">PARSE</a><br/>
<a href="dml_commands_2.htm#i79623">PROGRAM</a><br/>
<a href="dml_commands_2.htm#i79191">RETURN</a><br/>
<a href="dml_commands_2.htm#i79266">SLEEP</a><br/>
<a href="dml_commands_2.htm#i78578">SWITCH command</a><br/>
<a href="dml_commands_2.htm#CCHCFEDC">TRACE</a><br/>
<a href="dml_commands_2.htm#BABGJHJH">TRIGGER command</a><br/>
<a href="dml_commands_2.htm#BABHJHHI">TRIGGERASSIGN</a><br/>
<a href="dml_commands_2.htm#BABEJDHB">UNHIDE</a><br/>
<a href="dml_commands_2.htm#i79234">VARIABLE</a><br/>
<a href="dml_commands_2.htm#i79264">WHILE</a>
<p class="subhead2"><a id="OLADM2080"></a>Reporting Commands</p>
<br/>
<a href="#i1033742">BLANK</a><br/>
<a href="dml_commands_2.htm#i78881">HEADING</a><br/>
<a href="dml_commands_2.htm#i79548">PAGE</a><br/>
<a href="dml_commands_2.htm#i79557">REPORT</a><br/>
<a href="dml_commands_2.htm#i79216">ROW command</a><br/>
<a href="dml_commands_2.htm#i79246">SHOW</a><br/>
<a href="dml_commands_2.htm#i78568">STDHDR</a><br/>
<a href="dml_commands_2.htm#BABIDJGI">ZEROTOTAL</a>
<p class="subhead2"><a id="OLADM2081"></a>Save and Restore Value Commands</p>
<br/>
<a href="#i79174">CONTEXT command</a><br/>
<a href="dml_commands_2.htm#i79603">POP</a><br/>
<a href="dml_commands_2.htm#i79608">POPLEVEL</a><br/>
<a href="dml_commands_2.htm#i79633">PUSH</a><br/>
<a href="dml_commands_2.htm#i79638">PUSHLEVEL</a>
<p class="subhead2"><a id="OLADM2082"></a>Sorting Commands</p>
<br/>
<a href="dml_commands_2.htm#CFABACJD">MOVE</a><br/>
<a href="dml_commands_2.htm#i79281">SORT command</a>
<p class="subhead2"><a id="OLADM2083"></a>Spreadsheet Commands</p>
<br/>
<a href="#i78538">DEFINE WORKSHEET</a><br/>
<a href="#i78788">EXPORT (spreadsheet)</a><br/>
<a href="dml_commands_2.htm#i78926">IMPORT (spreadsheet)</a>
<p class="subhead2"><a id="OLADM2084"></a>SQL Execution Commands</p>
<br/>
<a href="#g1037946">FETCH</a><br/>
<a href="dml_commands_2.htm#g1037371">SQL</a>
<p class="subhead2"><a id="OLADM2085"></a>OLAP DML Statement Edit Commands</p>
<br/>
<a href="#i80466">EDIT</a><br/>
<a href="dml_commands_2.htm#i79462">RECAP</a><br/>
<a href="dml_commands_2.htm#i79477">REDO</a><br/>
<a href="dml_commands_2.htm#i79482">REEDIT</a></div>
<!-- class="sect1" -->
<div class="refentry"><a id="i1021649"></a>
<div id="OLADM725" class="refsect1">
<h2 class="refsect1">ACQUIRE</h2>
<p><a id="ABC1044637"></a>When an analytic workspace is attached in <a id="sthref3513"></a>multiwriter mode, the ACQUIRE command acquires and (optionally) resynchronizes the specified objects so that their changes can be updated and committed.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BGEGDACB">&#34;Managing Analytic Workspaces Attached in Multiwriter Mode&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3514"></a>Syntax</p>
<p class="synopsis">ACQUIRE {<span class="italic">acquired_noresync_objects</span> | RESYNC [CASCADE] -</p>
<p class="synopsis"><span class="italic">resync_objects</span> [WAIT] } [CONSISTENT WITH [CASCADE] <span class="italic">consistency_objects</span> [WAIT]]</p>
<p>where <span class="syntaxinlineitalic">resync_objects</span> has the following syntax:</p>
<p class="synopsis"><span class="italic">resynch_objname</span> [FOR DELETE | [WITH [CASCADE]|WITHOUT] RELATIONS]] , ...</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3515"></a>Parameters</p>
<dl>
<dt><span class="italic">acquired_noresync_objects</span></dt>
<dd>
<p>A list of one or more variables, relations, valuesets, dimension names, separated by commas, that you want to access in read/write mode without resynchronizing.</p>
<p>To specify individual partitions of a partitioned variable, use the following syntax.</p>
<p class="synopsis"><span class="italic">variable_name</span> (PARTITION <span class="italic">partition_name</span> [, PARTITION <span class="italic">partition_name</span> ]...)</p>
<p>Acquiring objects in this manner preserves all read-only changes made to the objects. You can update variables and dimensions acquired in this manner using an UPDATE statement.</p>
</dd>
<dt><span class="italic">partition_name</span></dt>
<dd>
<p>The name of the partition in which you want to acquire the objects.</p>
</dd>
<dt>RESYNC</dt>
<dd>
<p>Specifies acquisition in read/write mode of the latest generation of the specified objects with all private changes discarded.</p>
</dd>
<dt>CASCADE</dt>
<dt><span class="italic">resync_objname</span></dt>
<dd>
<p>The name of a variable, relations, valueset, or dimension name that you want to access in read/write mode and resynchronize.</p>
<p>To specify individual partitions of a partitioned variable, use the following syntax.</p>
<p class="synopsis"><span class="italic">variable_name</span> (PARTITION <span class="italic">partition_name</span> [, PARTITION <span class="italic">partition_name</span> ]...)</p>
</dd>
<dt>WAIT</dt>
<dd>
<p>When you do not specify WAIT, the ACQUIRE statement fails when another user has acquired any of the objects in <span class="syntaxinlineitalic">resync_objects</span> in read/write mode. When you specify WAIT, Oracle OLAP waits until all objects in <span class="syntaxinlineitalic">resync_objects</span> it can be acquired in read/write mode or the wait times out.</p>
</dd>
<dt>CONSISTENT WITH</dt>
<dd>
<p>Specifies that additional objects are to be accessible in read-only mode.the behavior of the ACQUIRE statement when a specified object is already acquired by another user and resynchronizes the specified objects when the ACQUIRE statement succeeds.</p>
</dd>
<dt><span class="italic">consistency_objects</span> [WAIT]</dt>
<dd>
<p>A list of one or more a list of one or more variables, relations, valuesets, or dimension names, separated by commas, that you want to acquire in read-only mode.</p>
<p>To specify individual partitions of a partitioned variable, use the following syntax.</p>
<p class="synopsis"><span class="italic">variable_name</span> (PARTITION <span class="italic">partition_name</span> [, PARTITION <span class="italic">partition_name</span> ]...)</p>
<p>When you do not specify WAIT, the ACQUIRE statement fails when any of the objects in the <span class="syntaxinlineitalic">consistency_objects</span> are acquired in read/write mode by another user. When you specify the WAIT keyword, Oracle OLAP waits to execute the ACQUIRE statement until none of the objects in <span class="syntaxinlineitalic">consistency_objects</span> are acquired in read/write mode by another user or until the wait times out.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3516"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2086"></a>Understanding Consistency</p>
<p>To some extent you can think of an ACQUIRE statement with a CONSISTENT WITH phrase as a combination of ACQUIRE and RELEASE statements.</p>
<pre dir="ltr">ACQUIRE [avar...] RESYNC [rvar ...] cvar ... [WAIT]
RELEASE cvar ...
</pre>
<p>The difference is that an ACQUIRE CONSISTENT WITH statement succeeds even when the user does not have sufficient permissions to acquire <code dir="ltr">cvar</code> variables.</p>
<p class="subhead2"><a id="OLADM2087"></a>Failure and Error-Handling</p>
<p>All of the clauses in the ACQUIRE statement must succeed or the statement fails. Consequently, either all of the requested objects are acquired or none of them are acquired.</p>
<p>Only one user can acquire an object in read/write mode at a time. You can first acquire an object in read-only mode, and then, assuming another user has not also acquired it in read-only mode, you can acquire it in read/write mode without releasing it first. However, once another user has acquired an object in read-only mode, you cannot acquire the same object in read/write mode until the other user releases the object. When a specified object has been acquired by another user or when your read-only generation for a specified object is not the latest generation for the object, the ACQUIRE statement fails.</p>
<p>Also, it can take a long time for the ACQUIRE statement to complete when you specify WAIT for either the RESYNC or CONSISTENT phrase. During the wait, some variables in the acquisition lists may be released while others may have been acquired. It is even possible for a deadlock to occur which causes the ACQUIRE statement to fail with a timeout error.</p>
<p>To avoid problems caused by deadlock, be thoughtful about the order in which you code ACQUIRE and RELEASE statements and include appropriate error handling routines.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3517"></a>Examples</p>
<div id="OLADM2088" class="example">
<p class="titleinexample"><a id="sthref3518"></a>Example 9-1 Acquiring, Updating, and Releasing Objects</p>
<p>A classic use of multiwriter attachment mode is to allow two users to modify two different objects in the same analytic workspace. For example, assume that an analytic workspace has two variables: <code dir="ltr">actuals</code> and <code dir="ltr">budget</code>. Assume also that one user (user A) wants to modify <code dir="ltr">actuals</code>, while another user (user B) wants to modify <code dir="ltr">budget</code>. In this case, after attaching the analytic workspace in the multiwriter mode, each user acquires the desired variable, performs the desired modification, updates, commits the changes, and then, either detaches the workspace or releases the acquired variable.</p>
<p>User A executes the following statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE actuals
... make modifications
UPDATE MULTI actuals
COMMIT
RELEASE actuals
AW DETACH myworkspace
</pre>
<p>While, at the same time, User B executes the following statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE budget
... make modifications
UPDATE MULTI budget
COMMIT
RELEASE budget
AW DETACH myworkspace
</pre></div>
<!-- class="example" -->
<div id="OLADM2089" class="example">
<p class="titleinexample"><a id="sthref3519"></a>Example 9-2 Acquiring and Resynchronizing Objects</p>
<p>Assume that two users (named B1 and B2) both have to make what-if changes to <code dir="ltr">budget</code> and possibly modify their parts of <code dir="ltr">budget</code> when they like the results of the what-if changes. Neither user knows if anyone else needs to access <code dir="ltr">budget</code> at the same time that they are or if they have to make any permanent changes to <code dir="ltr">budget</code>. Consequently, they do not want to block anyone while they are performing what-if changes.</p>
<p>In this case, both users perform their what-if computation after attaching the analytic workspace in the multiwriter mode but without acquiring <code dir="ltr">budget</code>. When they later decide to make their what-if changes permanent, they try to acquire budget in unresynchronized mode. When the acquire succeeds, they update <code dir="ltr">budget</code> and commit the changes. The following OLAP DML statements show this scenario.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
...perform what-if computations
ACQUIRE budget
...maybe make some additional final changes
UPDATE MULTI budget
COMMIT
RELEASE budget
AW DETACH myworkspace
</pre>
<p>However, when the first acquire does not succeed, however, the users try again to acquire <code dir="ltr">budget</code> in resynchronized mode (possibly requesting a wait). When the resynchronized acquisition succeeds, they re-create the changes (because some relevant numbers might have changed) and then proceed to update and commit their analytic workspace. The following OLAP DML statements show this scenario.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
... perform what-if computations
ACQUIRE budget
...maybe make some additional final changes
UPDATE MULTI budget
COMMIT
RELEASE budget
AW DETACH myworkspace
AW ATTACH myworkspace MULTI
...perform what-if computations 
ACQUIRE budget --&gt; failed
ACQUIRE RESYNC budget WAIT
...determine that the changes are still needed
...make changes to make permanent
UPDATE MULTI budget
COMMIT
RELEASE budget
AW DETACH myworkspace
</pre></div>
<!-- class="example" -->
<div id="OLADM2090" class="example">
<p class="titleinexample"><a id="sthref3520"></a>Example 9-3 Acquiring Objects While Keeping Consistency</p>
<p>Sometimes you must keep some objects consistent with each other, which requires special care in multiwriter mode.</p>
<p>Assume that two users (User B1 and User B2) both have to modify <code dir="ltr">budget</code>, that <code dir="ltr">budget</code> must be kept consistent with <code dir="ltr">investment</code>, and that another user (User I) needs to modify <code dir="ltr">investment</code>. In this scenario, even though none of the users needs to modify both <code dir="ltr">budget</code> and <code dir="ltr">investment</code>, they all must ensure that when they acquire either <code dir="ltr">budget</code> or <code dir="ltr">investment</code> that no one else has either budget or investment already acquired. To achieve this effect, each user must issue an ACQUIRE statement with the CONSISTENT WITH phrase as shown in the following example code. Note that all of the users must be aware that the objects listed in the CONSISTENT phrase may be resynchronized by the ACQUIRE statement, if needed.</p>
<p>For example, User B1 could issue the following OLAP DML statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
... perform what-if computations
ACQUIRE budget CONSISTENT WITH investment
... maybe make some additional final changes
UPDATE MULTI budget
COMMIT
RELEASE budget, investment
AW DETACH myworkspace
</pre>
<p>User B2 could issue the following OLAP DML statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
... perform what-if computations 
ACQUIRE budget CONSISTENT WITH investment --&gt; failed
ACQUIRE RESYNC budget CONSISTENT WITH investment WAIT
... determine that the changes are still needed
... make changes to make permanent
UPDATE MULTI budget
COMMIT
RELEASE budget, investment
AW DETACH myworkspace
</pre>
<p>User I could issue the following OLAP DML statements.<a id="sthref3521"></a></p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE investment CONSISTENT WITH budget --&gt; failed
ACQUIRE RESYNC investment CONSISTENT WITH budget WAIT
... make changes to investment
UPDATE MULTI investment
COMMIT
RELEASE budget, investment
AW DETACH myworkspace
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78720"></a>
<div id="OLADM726" class="refsect1">
<h2 class="refsect1">ACROSS</h2>
<p><a id="ABC1044817"></a>The ACROSS command specifies a text expression that contains one or more statements to be executed in a loop. ACROSS temporarily sets status to the values that are in current status for the specified dimensions. After the ACROSS statement executes, dimension status is restored to what it was before the loop, and execution of the program resumes with the next statement. The repetition of the statements in the DO clause statements is controlled by the status of the dimensions and composites specified in the ACROSS statement and by the results of the WHERE clause when included.E</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3522"></a>Syntax</p>
<p class="synopsis">ACROSS&nbsp;<span class="italic">dimension.</span>..&nbsp;DO&nbsp;<span class="italic">dml-statements</span> [WHERE <span class="italic">boolean-expression</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3523"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>One or more dimensions or composites whose current status controls the repetition of one or more statements, which are contained in <span class="italic">dml-statements</span>. The statements are repeated for each combination of the values of the specified dimensions in the current status. When two or more dimensions are specified, the first one varies the slowest.</p>
</dd>
<dt>DO <span class="italic">dml-statements</span></dt>
<dd>
<p>A multiline text expression that is one or more OLAP DML statements to be executed for each iteration of the loop. You can specify any OALAP DML statement except one that is typically used as part of a multiple-line construct in a program. For example, the IF...THEN...ELSE, WHILE, FOR, or SWITCH commands cannot be executed by an ACROSS statement.</p>
</dd>
<dt>WHERE boolean-expression</dt>
<dd>
<p>For each iteration of the loop, specifies that the command evaluate <span class="italic">boolean-expression</span> before executing <span class="italic">dml-statements</span> and, when the result of <span class="italic">boolean-expression</span> is either <code dir="ltr">NA</code> or <code dir="ltr">FALSE</code>, to not execute <span class="italic">dml-statements</span> for that iteration.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3524"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2091"></a>Code May Change Between Compilation and Execution</p>
<p>Oracle OLAP does not generate the code for the loop body until an ACROSS statement or the program that contains it is executed. Waiting until execution to generate the code allows for the possibility that, because the statements are contained within a text expression, the contents of an ACROSS loop may change between compilation and execution.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3525"></a>Examples</p>
<div id="OLADM2092" class="example">
<p class="titleinexample"><a id="sthref3526"></a>Example 9-4 Using ACROSS to Repeat ROW Commands</p>
<p>In a report program, you want to show the unit sales of tents for each of three months. Use the following ACROSS statement to repeat ROW commands for each value of the <code dir="ltr">month</code> dimension<a id="sthref3527"></a>.</p>
<pre dir="ltr">LIMIT product TO &#39;Tents&#39;
LIMIT month TO &#39;Jan95&#39; to &#39;Mar95&#39;
ACROSS month DO &#39;ROW INDENT 5 month WIDTH 6 unit&#39;

     Jan95     533363
     Feb95     572796
     Mar95     707198 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BGEEHCEG"></a>
<div id="OLADM2093" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_CUBE_MODEL</h2>
<p>Adds a <a href="#i1010068">MODEL (in an aggregation)</a> statement<a id="sthref3528"></a><a id="sthref3529"></a><a id="sthref3530"></a> for a specified model into the aggregation map of a cube dimension. The changes made when this program executes are not transactional; an automatic COMMIT is executed as part of the program.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use this program to modify a cube dimension if a materialized view exists for that cube dimension or any cube in which it participates.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3531"></a>Syntax</p>
<p class="synopsis">CALL ADD_CUBE_MODEL(<span class="italic">logical_cube</span>, <span class="italic">logical_dim</span>, <span class="italic">model_name</span>, <span class="italic">is_static_model</span>, [<span class="italic">position</span> ])</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3532"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because ADD_CUBE_MODEL is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">logical_cube</span></dt>
<dd>
<p>A text expression that is the name of the cube as defined in the Oracle data dictionary.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension being modified.</p>
</dd>
<dt><span class="italic">model_name</span></dt>
<dd>
<p>A text expression that is the name of the logical model that is associated with <span class="italic">logical_dim</span>.</p>
</dd>
<dt><span class="italic">is_static_model</span></dt>
<dd>
<p>A Boolean expression that specifies whether <span class="italic">model_name</span> is added before or after the <a href="#i1017474">RELATION (for aggregation)</a> statements in the aggmap for <span class="italic">logical_cube</span>.</p>
<p>The default value is <code dir="ltr">TRUE</code> which means that the MODEL statement added before the RELATION statements (that is that <span class="italic">model_name</span> is a static model).</p>
<p>Specify <code dir="ltr">FALSE</code> if you want the MODEL statement added after the RELATION statements (that is, that <span class="italic">model_name</span> is a dynamic model).</p>
</dd>
<dt><span class="italic">position</span></dt>
<dd>
<p>An integer that specifies where in the list of either static or dynamic models, the new model is added. For example, if you specify a value of <code dir="ltr">0</code> (zero) for <span class="italic">position</span> and <code dir="ltr">FALSE</code> for <span class="italic">is_static_model</span>, then the model is added as the first dynamic model. The default value of <span class="italic">position</span>, is at the end of the list.</p>
<p>When you specify a negative value for <span class="italic">position</span>, then the model is added that many positions from the end of the list.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3533"></a>Examples</p>
<p>For an example of using ADD_CUBE_MODEL in conjunction with SET_INCLUDED_MODEL, see the example provided for <a href="dml_commands_2.htm#CCHIFGHD">SET_INCLUDED_MODEL</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BGEBHJGE"></a>
<div id="OLADM2094" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_DIMENSION_MEMBER</h2>
<p>The ADD_DIMENSION_MEMBER <a id="sthref3534"></a>program adds a member to an OLAP cube dimension. An OLAP cube dimension (sometimes also called an &#34;OLAP logical dimension&#34;) is an OLAP dimension that is defined as a first-class data object in the Oracle data dictionary.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use this program to modify a cube dimension if a materialized view exists for that cube dimension or any cube in which it participates.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3535"></a>Syntax</p>
<p class="synopsis">CALL ADD_DIMENSION_MEMBER(<span class="italic">member_id</span>, <span class="italic">logical_dim</span>, <span class="italic">hier_list</span>, l<span class="italic">evel_name</span>, -</p>
<p class="synopsis"><span class="italic">parent-member_id</span>, [ <span class="italic">auto_compile</span>, [ <span class="italic">merge</span> ]])</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3536"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because ADD_DIMENSION_MEMBER is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">member_id</span></dt>
<dd>
<p>A text expression that is the value of the member that you want to add to the cube dimension.</p>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension being modified.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt><span class="italic">hier_list</span></dt>
<dd>
<p>A multi-line text expression consisting of the Oracle data dictionary names of all of the hierarchies that you want the dimension member added to. Specify one hierarchy name per line.</p>
<p>When you want the member to be added to all of the cube dimension hierarchies, specify <code dir="ltr">NA</code>.</p>
</dd>
<dt><span class="italic">level_name</span></dt>
<dd>
<p>For level hierarchies, a text value that specifies the hierarchy level at which the program will add the member to the cube dimension. For level hierarchies, the value you specify for <span class="italic">level_name</span> must be:</p>
<ul>
<li>
<p>Compatible with the value you specify for <span class="italic">parent_member_id</span></p>
</li>
<li>
<p>At the same hierarchy level as the existing cube dimension member because a cube dimension member cannot be in two different levels across hierarchies.</p>
</li>
</ul>
<p>When the member participates in a value hierarchy (that is, when there are no levels), specify <code dir="ltr">NA</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BGEDFFDG">&#34;Invalid Level Names in Cube-Aware OLAP DML Statements&#34;</a></div>
</dd>
<dt><span class="italic">parent_member_id</span></dt>
<dd>
<p>A text expression that specifies the value of the member which is the parent of the member that you want to add to the cube dimension. When you want to add the member as the top member of a hierarchy, specify <code dir="ltr">NA</code>.</p>
</dd>
<dt><span class="italic">auto_compile</span></dt>
<dd>
<p>A Boolean expression that specifies whether or not you want related analytic workspace objects (for example, he parent relation) to be updated immediately. The default value is <code dir="ltr">TRUE</code> in which case all of the changes to the analytic workspace that are needed to add the cube dimension member happen now. Specify FALSE only when, for performance reasons, you want to make a bulk set of changes before issuing a compile. In this case, you need to explicitly compile the cube dimension before the values of the analytic workspace objects take effect as described in <a href="#BGEJCHAE">&#34;Explicitly Compiling a Cube Dimension&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Regardless of the value that you specify for this argument, the new member is always immediately added to the dimension -- even when an error is signaled during compilation.</div>
</dd>
<dt><span class="italic">merge</span></dt>
<dd>
<p>A Boolean expression that specifies whether or not the program updates the dimension member if it exists or creates it if it does not. The default value is <code dir="ltr">FALSE</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3537"></a>Usage Notes</p>
<p class="subhead2"><a id="BGEJCHAE"></a><a id="OLADM2095"></a>Explicitly Compiling a Cube Dimension</p>
<p>When you specify <code dir="ltr">FALSE</code> for <span class="italic">auto_compile</span>, you need to explicitly compile the cube dimension before the values of the analytic workspace objects take effect. You perform the compilation with a <code dir="ltr">DBMS_CUBE.BUILD</code> package call. You can make this call within Analytic Workspace Manager by issuing the following statement where <span class="italic">cube_dimension_name</span> is the fully-qualified name of the cube dimension as defined in the Oracle data dictionary.</p>
<pre dir="ltr">SQL PROCEDURE DBMS_CUBE.BUILD(&#39;<span class="italic">cube_dimension_name</span> USING (COMPILE)&#39;);
</pre>
<p>By default, issuing the above statement performs an UPDATE and COMMIT to the database. To prevent an UPDATE and COMMIT from occurring, add NO COMMIT to the statement as shown below.</p>
<pre dir="ltr">SQL PROCEDURE DBMS_CUBE.BUILD&#39;NO COMMIT <span class="italic">cube_dimension_name</span> USING (COMPILE)&#39;);
</pre>
<p class="subhead2"><a id="BGECJJGA"></a><a id="OLADM2096"></a>Guidelines for Specifying Values for the Names of Logical OLAP Objects</p>
<p>In an OLAP DML statement the text expression that you specify for an OLAP logical object (that is, a first-class OLAP object that is defined in the Oracle data dictionary such as a cube or cube dimension) must resolve to a value with the following form where <span class="italic">LOGICAL_OBJECT_NAME</span> is the Oracle data dictionary name of the OLAP object:</p>
<p class="synopsis">[<span class="italic">SCHEMA_NAME</span>.] <span class="italic">LOGICAL_OBJECT_NAME</span></p>
<p>For example, valid expressions for referencing the XADEMO cube dimension in the XADEMO schema include:</p>
<pre dir="ltr">&#39;product&#39;
&#39;xademo.product&#39;
&#39;PRODUCT&#39;
&#39;XADEMO.product&#39;
&#39;\&#34;XADEMO\&#34;.\&#34;PRODUCT\&#34;&#39;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
OLAP DML cube-aware programs interpret a text value that you specify for an OLAP logical object as upper case text unless you enclose the value in double quotes.</div>
<p class="subhead2"><a id="OLADM2097"></a>Transaction Scope of Cube-Aware OLAP DML Statements</p>
<p>Unless otherwise noted, the scope of a cube-aware OLAP DML statement, just like other OLAP DML statement, is a single session. To persist any changes, you must have attached the analytic workspace in Read/Write mode before you issue the statement and issue OLAP DML UPDATE and COMMIT statements after you execute the statement. If the analytic workspace is attached Read Only or if you do not issue UPDATE and COMMIT statements, then the changes exist only in the session while the analytic workspace is attached.</p>
<p class="subhead2"><a id="BGEDFFDG"></a><a id="OLADM2098"></a>Invalid Level Names in Cube-Aware OLAP DML Statements</p>
<p>If you specify an invalid value for <span class="italic">level_name</span> or <span class="italic">parent_member_id</span>, a compile-time error is thrown. Also, an error will occur if you specify a hierarchy level for the member that is different from the level it participates in another hierarchy. In this case, a call error is thrown if <span class="italic">auto_compile</span> is <code dir="ltr">FALSE</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3538"></a>Examples</p>
<div id="OLADM2099" class="example">
<p class="titleinexample"><a id="BGEIGAJJ"></a>Example 9-5 Adding Members to an OLAP Cube Dimension</p>
<p>This example adds members to an OLAP cube dimension named <code dir="ltr">my_time</code>.</p>
<ol>
<li>
<p>Execute the following PL/SQL statement to report on the values and hierarchy of the <code dir="ltr">my_time</code> cube dimension before any changes are made.</p>
<pre dir="ltr">select dim_key||&#39;  &#39;||level_name||&#39;  &#39;||parent
         from my_time_lvl_hier_view
         order by dim_key asc;

DIM_KEY||&#39;&#39;||LEVEL_NAME||&#39;&#39;||PARENT
-------------------------------------------------------------------------------
L1_0  L1
L1_1  L1
L2_1  L2  L1_1
L2_2  L2  L1_1
L3_1  L3  L2_1
L3_2  L3  L2_1
L3_3  L3  L2_2
L3_4  L3  L2_2
L3_5  L3  L2_2
 
9 rows selected.
</pre></li>
<li>
<p>Execute the following PL/SQL statement to execute the user-written OLAP DML program named <code dir="ltr">ADD_LQ_2</code>.</p>
<pre dir="ltr">exec dbms_aw.execute(&#39;call my_util_aw!add_l1_2&#39;);
</pre>
<p>The definition of the user-written OLAP DML program named <code dir="ltr">ADD_LQ_2</code> is shown below. Note that it calls the <code dir="ltr">ADD_DIMENSION_MEMBER</code> program provided with the OLAP DML to add new members to the <code dir="ltr">my_time</code> cube dimension.</p>
<pre dir="ltr">DEFINE ADD_L1_2 PROGRAM
PROGRAM
  VARIABLE _aw_dim       text
  VARIABLE _aw_sales     text
  VARIABLE _members      text
  VARIABLE _member       text
  VARIABLE _i            integer

  _aw_dim = OBJORG(DIM &#39;my_time&#39;)
  _aw_sales = OBJORG(MEASURE &#39;my_cube&#39; &#39;sales&#39;)

  &#34; Adds L1_2, L2_3, L3_6  CALL ADD_DIMENSION_MEMBER(&#39;L1_2&#39;, &#39;my_time&#39;, NA, &#39;L1&#39;, NA, NO)
  CALL ADD_DIMENSION_MEMBER(&#39;L2_3&#39;, &#39;my_time&#39;, NA, &#39;L2&#39;, &#39;L1_2&#39;, NO)
  CALL ADD_DIMENSION_MEMBER(&#39;L3_6&#39;, &#39;my_time&#39;, NA, &#39;L3&#39;, &#39;L2_3&#39;, NO)

  &#34; Set my_time attribute (to meaningless values) so dimension can compile
  LIMIT &amp;_aw_dim TO &#39;L1_2&#39;, &#39;L2_3&#39;, &#39;L3_6&#39;
  _members = VALUES(&amp;_aw_dim)
  _i = 1
  WHILE _i LE NUMLINES(_members)
  DO
    _member = EXTLINES(_members, _i, 1)
    _i = _i + 1
    CALL UPDATE_ATTRIBUTE_VALUE(_member, &#39;my_time&#39;, &#39;start_date&#39;, -
                                to_date(&#39;01/01/08&#39;, &#39;MM/DD/YY&#39;), NO)
    CALL UPDATE_ATTRIBUTE_VALUE(_member, &#39;my_time&#39;, &#39;timespan&#39;, 1, NO)
  DOEND

  &amp;_aw_sales(&amp;_aw_dim &#39;L3_6&#39;) = 3

  UPDATE
  COMMIT
END
</pre></li>
<li>
<p>Issue the following PL/SQL statement to compile the <code dir="ltr">my_time</code> cube dimension.</p>
<pre dir="ltr"> exec dbms_cube.build(&#39;MY_TIME USING (COMPILE)&#39;);
</pre></li>
<li>
<p>Report the values and hierarchy of the <code dir="ltr">my_time</code> cube dimension after compilation</p>
<pre dir="ltr">select dim_key||&#39;  &#39;||level_name||&#39;  &#39;||parent
    from my_time_lvl_hier_view
    order by dim_key asc;

DIM_KEY||&#39;&#39;||LEVEL_NAME||&#39;&#39;||PARENT
-------------------------------------------------------------------------------
L1_0  L1
L1_1  L1
L1_2  L1
L2_1  L2  L1_1
L2_2  L2  L1_1
L2_3  L2  L1_2
L3_1  L3  L2_1
L3_2  L3  L2_1
L3_3  L3  L2_2
L3_4  L3  L2_2
L3_5  L3  L2_2
L3_6  L3  L2_3

12 rows selected.
</pre></li>
<li>
<p>Execute the following PL/SQL statement to solve <code dir="ltr">my_cube</code> with the new hierarchy.</p>
<pre dir="ltr">exec dbms_cube.build(script =&gt; &#39;MY_CUBE USING (SOLVE)&#39;, add_dimensions =&gt; false);
</pre></li>
<li>
<p>Issue the following PL/SQL statement to report on the values of the <code dir="ltr">sales</code> and <code dir="ltr">moving_sales</code> measure in my-cube. Note that the new <code dir="ltr">my_time</code> cube dimension values are shown.</p>
<pre dir="ltr">select my_time||&#39;  &#39;||lpad(sales, 2)||&#39;  &#39;||lpad(moving_sales, 2)
from my_cube_view
order by my_time asc;

MY_TIME||&#39;&#39;||LPAD(SALES,2)||&#39;&#39;||LPAD(MOVING_SALES,2)
--------------------------------------------------------------------
L1_0  24  27
L1_1  14  38
L1_2   3   3
L2_1   2   5
L2_2  12  14
L2_3   3   3
L3_1   1   4
L3_2   1   2
L3_3  10  11
L3_4   1  11
L3_5   1   2
L3_6   3   3
 
12 rows selected.
</pre></li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BGEDHJID"></a>
<div id="OLADM2100" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_MODEL_DIMENSION</h2>
<p>The ADD_MODEL_DIMENSION <a id="sthref3539"></a><a id="sthref3540"></a><a id="sthref3541"></a><a id="sthref3542"></a>program adds a <a href="dml_commands_2.htm#i80588">DIMENSION (in models)</a> statement to a cube dimension&#39;s model. The changes made when this program executes are not transactional; an automatic COMMIT is executed as part of the program.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3543"></a>Syntax</p>
<p>CALL ADD_MODEL_DIMENSION(<span class="italic">logical_dim</span>, <span class="italic">model_name</span>, <span class="italic">explicit_dim</span>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3544"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because ADD_MODEL_DIMENSION is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension being modified.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt><span class="italic">model_name</span></dt>
<dd>
<p>A text expression that is the name of the logical model that is associated with <span class="italic">logical_dim</span>.</p>
</dd>
<dt><span class="italic">explicit_dim</span></dt>
<dd>
<p>A text expression that is the name of the dimension that you want to add to the cube dimension&#39;s model.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1032719"></a>
<div id="OLADM727" class="refsect1">
<h2 class="refsect1">AGGMAP</h2>
<p><a id="sthref3545"></a><a id="ABC1045471"></a>The AGGMAP command identifies an aggmap object as a specification for aggregation and adds an aggregation specification to the definition of the current aggmap object. To use AGGMAP to assign an aggregation specification to n aggmap object, the definition must be the one most recently defined or considered during the current session. When it is not, you must first use a CONSIDER statement to make it the current definition.</p>
<p>An alternative to the AGGMAP command is the EDIT AGGMAP statement, which is available only in OLAP Worksheet. The EDIT AGGMAP statement opens an Edit window in which you can add, delete, or change the aggregation specification for an aggmap object.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_objects.htm#BABEJFHJ">&#34;OLAP DML Aggregation Objects&#34;</a></div>
<p>(Note that there are two other OLAP DML statements that are also sometimes referred to as &#34;AGGMAP statements&#34;: AGGMAP ADD or REMOVE model statement that you can use to add or remove a model from an aggmap object of type AGGMAP, and AGGMAP SET that you can use to specify the default aggmap for a variable.)</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3546"></a>Syntax</p>
<p class="synopsis">AGGMAP [<span class="italic">specification</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3547"></a>Parameters</p>
<dl>
<dt><span class="italic">specification</span></dt>
<dd>
<p>A multiline text expression that is the aggregation specification for the current aggmap object. Each statement is a line of the multiline text expression. When coding an AGGMAP command at the command line level, separate statements with newline delimiters (<code dir="ltr">\n</code>), or use JOINLINES.</p>
<p>An aggregation specification begins with AGGMAP and ends with an <code dir="ltr">END</code>. Between these statements, you code one or more the following statements depending on the calculation that you want to specify. Minimally, you must code one RELATION (for aggregation) statement.</p>
<dl>
<dd><a href="#i78730">AGGINDEX</a></dd>
<dd><a href="#i1018970">BREAKOUT DIMENSION</a></dd>
<dd><a href="#i1020124">CACHE</a></dd>
<dd><a href="#i80583">DIMENSION (for aggregation)</a></dd>
<dd><a href="#BCFECFFC">DROP DIMENSION</a></dd>
<dd><a href="#i1005123">MEASUREDIM (for aggregation)</a></dd>
<dd><a href="#i1010068">MODEL (in an aggregation)</a></dd>
<dd><a href="#BCFJGIGI">PRECOMPUTE</a></dd>
<dd><a href="#i1017474">RELATION (for aggregation)</a></dd>
</dl>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot specify a conjoint dimension in the specification for the aggmap; use composites instead.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3548"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2101"></a>Creating Temporary or Custom Aggregates</p>
<p>Most aggmap objects are defined to calculate variable values that are dimensioned by permanent dimension members (that is, dimension members that persist from one session to another). However, users might want to create their own aggregates at run time for forecasting or what-if analysis, or just because they want to view the data in an unforeseen way. Adding temporary members to dimensions and aggregating data for those members is sometimes called creating temporary or custom aggregates. For example, you can use a <a href="dml_commands_2.htm#i1023561">MAINTAIN ADD SESSION</a> statement like the one below to temporarily add a model to an aggmap object.</p>
<p><span class="syntaxinline">MAINTAIN</span> <span class="syntaxinlineitalic">dimension</span> <span class="syntaxinline">ADD SESSION</span> <span class="syntaxinlineitalic">member</span> <span class="syntaxinline">=</span> <span class="syntaxinlineitalic">model</span> <span class="syntaxinline">APPLY TO AGGMAP</span> <span class="syntaxinlineitalic">aggmap</span></p>
<p class="subhead2"><a id="CHDFGADE"></a><a id="OLADM2102"></a>Aggregating Variables Dimensioned by Compressed Composites</p>
<p>Keep the following points in mind when designing an aggregation specification for a variable dimensioned by a compressed composite:</p>
<ul>
<li>
<p>RELATION statements in the aggregation specification must be coded following the guidelines given in <a href="#BCFFHAEF">&#34;RELATION Statements for Compressed Composites&#34;</a>.</p>
</li>
<li>
<p>There is no support for parallel aggregation. Instead, use multiple sessions to compute variables or partitions that have their own compressed composites.</p>
</li>
<li>
<p>If possible, Oracle OLAP automatically performs incremental aggregation when you reaggregate a variable dimensioned by the compressed composite. In other words, Oracle OLAP determines what changes have occurred since the last aggregation, determines the smallest region of the variable that needs to be recomputed, and recomputes only that region.</p>
<p>Consequently, there is no support for explicit incremental aggregation. You cannot aggregate a variable dimensioned by a compressed composite if the dimension status of the variable is limited. The status of the variable&#39;s dimensions must be ALLSTAT for the aggregation to succeed. You can, however, partition using a dense dimension with local compressed composites. In this way you can aggregate only those partitions that contain new data.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2103"></a>Aggregation Options and System Properties</p>
<p>Several options can impact aggregation as outlined in <a href="dml_options.htm#CHDEGEDE">&#34;Aggregation Options&#34;</a>.</p>
<p>See <a href="dml_properties.htm#BABEIFHE">&#34;System Properties by Category&#34;</a> for a list of system properties that relate to aggregation or allocation.</p>
<p class="subhead2"><a id="OLADM2104"></a>Checking for Circularity</p>
<p>AGGREGATE automatically checks relations for circularity in and among multiple hierarchies. When you first define hierarchies, check for circularity by setting PRECOMPUTE statements to <code dir="ltr">NA</code> and AGGINDEX to <code dir="ltr">NO</code>. A XSHIERCK01 error during aggregation indicates that a circular hierarchy may have been detected. However, when the message includes a reference to UNDIRECTED, then multiple paths to an ancestor from a detail data cell have been detected. Some calculations require that a detail data cell use multiple paths to the same ancestor cell. When this is the case, then you must set the MULTIPATHHIER option to <code dir="ltr">YES</code> before you execute the AGGREGATE command. Otherwise, you must correct the error in the hierarchy structure. For more details about this error message and how to interpret it, see the <a href="dml_options.htm#i79230">MULTIPATHHIER</a> option.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3549"></a>Examples</p>
<div id="OLADM2105" class="example">
<p class="titleinexample"><a id="i1026297"></a>Example 9-6 Combining Pre-calculation and Calculation on the Fly</p>
<p>This example describes the steps you can take to pre-calculate some data in your analytic workspace and specify that the rest should be calculated when users request it.</p>
<p>Suppose you define an analytic workspace named <code dir="ltr">mydtb</code> that has a <code dir="ltr">units</code> variable with the following definition.</p>
<pre dir="ltr">DEFINE units INTEGER &lt;time, SPARSE &lt;product, geography&gt;&gt;
</pre>
<p>You now must create and add a specification to the aggmap, which specifies the data that should be aggregated. This example shows you how to use an input file, which contains OLAP DML statements that define the aggmap and add a specification to it:</p>
<ol>
<li>
<p>Identify the name of each dimension&#39;s hierarchy. When you have defined the hierarchies as self-relations, you use the names of the self-relations.</p>
</li>
<li>
<p>Decide which data to aggregate.</p>
<p>Suppose you want to calculate data for all levels of the <code dir="ltr">time</code> and <code dir="ltr">product</code> dimensions, but not for <code dir="ltr">geography</code>. The <code dir="ltr">geography</code> dimension&#39;s lowest level of data is at the city level. The second level of the hierarchy has three dimension values that represent regions: <code dir="ltr">East</code>, <code dir="ltr">Central</code>, and <code dir="ltr">West</code>. The third level of the hierarchy has one dimension value: <code dir="ltr">Total</code>.</p>
<p>Suppose that you want to pre-calculate the data for <code dir="ltr">East</code> and store it in the analytic workspace. You want the data for <code dir="ltr">Central</code>, <code dir="ltr">West</code>, and <code dir="ltr">Total</code> to be calculated only when users request that data &mdash; that data is not stored in the analytic workspace. Therefore, you must specify this information in the specification that you add to your aggmap object.</p>
</li>
<li>
<p>Create an ASCII text file named <code dir="ltr">units.txt</code>. Add the following OLAP DML statements to your text file.</p>
<pre dir="ltr">DEFINE units.agg AGGMAP &lt;time, SPARSE &lt;product, geography&gt;&gt;
AGGMAP
RELATION myti.parent
RELATION mypr.parent
RELATION myge.parent PRECOMPUTE (&#39;East&#39;)
END
</pre>
<p>The preceding statements define an aggmap named <code dir="ltr">units.agg</code>, then add the three RELATION statements to the aggregation specification when you read the units.txt file into your analytic workspace.</p>
</li>
<li>
<p>To read the <code dir="ltr">units.txt</code> file into your analytic workspace, execute the following statement.</p>
<pre dir="ltr">INFILE &#39;inf/units.txt&#39;
</pre></li>
<li>
<p>The <code dir="ltr">units.agg</code> aggmap should now exist in your analytic workspace. You can aggregate the <code dir="ltr">units</code> variable with the following statement.</p>
<pre dir="ltr">AGGREGATE units USING units.agg
</pre>
<p>Now the data for <code dir="ltr">East</code> for all times and products has been calculated and stored in the analytic workspace.</p>
</li>
<li>
<p>Set up the analytic workspace so that when a user requests data for <code dir="ltr">Central</code>, <code dir="ltr">West</code>, or <code dir="ltr">Total</code>, that data is calculated and displayed. It is generally a good idea to compile the aggmap object before using it with the AGGREGATE function, as shown by the following statement.</p>
<pre dir="ltr">COMPILE units.agg
</pre>
<p>This is not an issue when you are just using the AGGREGATE command, because this statement compiles the aggmap object before it uses it. However, when you do not use the FUNCDATA keyword with the AGGREGATE command, the metadata that is needed to perform calculation on the fly has not been compiled yet. If you have performed all other necessary calculations (such as calculating models), then it is a good practice to compile the aggmap when you load data. When you fail to do so, that means that every time a user opens the analytic workspace, that user has to wait for the aggregation to be compiled automatically. In other words, when any data is calculated on the fly, you can improve query performance for all of your users by compiling the aggmap before making the analytic workspace available to your users.</p>
</li>
<li>
<p>Add a property to the <code dir="ltr">units</code> variable.</p>
<pre dir="ltr">CONSIDER units
PROPERTY &#39;$NATRIGGER&#39; &#39;AGGREGATE(units USING units.agg)&#39;
</pre>
<p>This property indicates that when a data cell contains an <code dir="ltr">NA</code> value, Oracle OLAP calls the AGGREGATE function to aggregate the data for that cell. Therefore, any <code dir="ltr">units</code> data that is requested by a user displayed. However, only the data for the <code dir="ltr">East</code> dimension value of the <code dir="ltr">geography</code> dimension has actually been aggregated and stored in the analytic workspace. All other data (for <code dir="ltr">Central</code>, <code dir="ltr">West</code>, and <code dir="ltr">Total</code>) is calculated only when users request it.</p>
</li>
</ol>
</div>
<!-- class="example" -->
<div id="OLADM2106" class="example">
<p class="titleinexample"><a id="sthref3550"></a>Example 9-7 Performing Non-additive Aggregation</p>
<p>This example shows how to use operators and arguments to combine additive and non-additive aggregation.</p>
<p>Suppose that you have defined four variables: <code dir="ltr">sales</code>, <code dir="ltr">debt</code>, <code dir="ltr">interest_rate</code>, and <code dir="ltr">inventory</code>. The variables have been defined with the same dimensionality where <code dir="ltr">cp</code> is a composite that has been defined with the <code dir="ltr">product</code> and <code dir="ltr">geography</code> dimensions.</p>
<pre dir="ltr">&lt;time cp&lt;product geography&gt;&gt;
</pre>
<pre dir="ltr"></pre>
<p>Suppose you want to use one AGGREGATE command to aggregate all four variables. The <code dir="ltr">debt</code> variable requires additive aggregation. The <code dir="ltr">sales</code> variable requires a weighted sum aggregation, and <code dir="ltr">interest_rate</code> requires a hierarchical weighted average. Therefore, both <code dir="ltr">sales</code> and <code dir="ltr">interest_rate</code> require a weight object, which you must define and populate with weight values. <code dir="ltr">inventory</code> requires a result that represents the total inventory, which is the last value in the hierarchy.</p>
<p>You specify the aggregation operation for <code dir="ltr">debt</code> and <code dir="ltr">inventory</code> with the OPERATOR keyword. However, because <code dir="ltr">sales</code> and <code dir="ltr">interest_rate</code> have aggregation operations that require weight objects, you must use the ARGS keyword to specify their operations. You define an operator variable to use the OPERATOR keyword. Typically, the operator variable is dimensioned by a measure dimension or a line item dimension.</p>
<p>Here are the steps to define the aggregation you want to occur:</p>
<ol>
<li>
<p>Because you are also using a measure dimension to define an argument variable to use with the ARGS keyword, define that <code dir="ltr">measure</code> dimension, as illustrated by the following statements.</p>
<pre dir="ltr">DEFINE measure DIMENSION TEXT
MAINTAIN measure &#39;sales&#39;, &#39;debt&#39;, &#39;interest_rate&#39;, &#39;inventory&#39;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Whenever you use a <code dir="ltr">measure</code> dimension in a RELATION statement, you must include a MEASUREDIM statement in the same aggregation specification</div>
</li>
<li>
<p>Define an operator variable named <code dir="ltr">opvar</code> and populate it.The statements specify that the aggregation for <code dir="ltr">debt</code> should use the <code dir="ltr">SUM</code> operator, and the aggregation for <code dir="ltr">inventory</code> should use the <code dir="ltr">HLAST</code> operator.</p>
<pre dir="ltr">DEFINE opvar TEXT &lt;measure&gt;
opvar (measure &#39;sales&#39;) = &#39;WSUM&#39;
opvar (measure &#39;debt&#39;) = &#39;SUM&#39;
opvar (measure &#39;interest_rate&#39;) = &#39;HWAVERAGE&#39;
opvar (measure &#39;inventory&#39;) = &#39;HLAST&#39;
</pre></li>
<li>
<p>Because <code dir="ltr">sales</code> and <code dir="ltr">interest_rate</code> require weight objects, define and populate those weight objects. The following statement defines a weight object named <code dir="ltr">currency</code> (to be used by <code dir="ltr">sales</code>).</p>
<pre dir="ltr">DEFINE currency DECIMAL &lt;time geography&gt;
</pre>
<p>Notice that the <code dir="ltr">currency</code> variable is dimensioned only by <code dir="ltr">time</code> and <code dir="ltr">geography</code>. The purpose of this variable is to provide weights that act as currency conversion information for foreign countries; therefore, it is unnecessary to include the <code dir="ltr">product</code> dimension.</p>
</li>
<li>
<p>Populate <code dir="ltr">currency</code> with the weight values that you want to use.</p>
</li>
<li>
<p>The <code dir="ltr">interest_rate</code> variable&#39;s nonaddictive aggregation (hierarchical weighted average) requires the sum of the variable <code dir="ltr">debt</code>. In other words, <code dir="ltr">interest_rate</code> cannot be aggregated without the results of the aggregation of <code dir="ltr">debt</code>.</p>
<p>You can now define an argument variable, which you must specify the aggregation results of <code dir="ltr">debt</code> as a weight object for <code dir="ltr">interest_rate</code>. You use the same argument variable to specify <code dir="ltr">currency</code> as the weight object for the <code dir="ltr">sales</code> variable. The following statement defines an argument variable named <code dir="ltr">argvar</code>.</p>
<pre dir="ltr">DEFINE argvar TEXT &lt;measure&gt;
</pre></li>
<li>
<p>The next few statements populate the argument variable.</p>
<pre dir="ltr">argvar (measure &#39;sales&#39;) = &#39;weightby currency&#39;
argvar (measure &#39;debt&#39;) = NA
argvar (measure &#39;interest_rate&#39;) = &#39;weightby debt&#39;
argvar (measure &#39;inventory&#39;) = NA
</pre></li>
<li>
<p>For the aggregation of <code dir="ltr">product</code> and <code dir="ltr">geography</code>, the data for the <code dir="ltr">sales</code>, <code dir="ltr">debt</code>, and <code dir="ltr">interest_rate</code> variables can simply be added. But the <code dir="ltr">inventory</code> variable requires a hierarchical weighted average. Consequently, it is necessary to define a second operator variable and a second argument variable, both of which are used in the RELATION statement for <code dir="ltr">product</code> and <code dir="ltr">geography</code>.</p>
<p>The following statements define the second operator variable and populate it.</p>
<pre dir="ltr">DEFINE opvar2 TEXT &lt;measure&gt;
opvar (measure &#39;sales&#39;) = &#39;Sum&#39;
opvar (measure &#39;debt&#39;) = &#39;Sum&#39;
opvar (measure &#39;interest_rate&#39;) = &#39;Sum&#39;
opvar (measure &#39;inventory&#39;) = &#39;HWAverage&#39;
</pre>
<p>The following statements define the second argument variable and populate it.</p>
<pre dir="ltr">DEFINE argvar2 TEXT &lt;measure&gt;
argvar (measure &#39;sales&#39;) = NA
argvar (measure &#39;debt&#39;) = NA
argvar (measure &#39;interest_rate&#39;) = NA
argvar (measure &#39;inventory&#39;) = &#39;weightby debt&#39;
</pre></li>
<li>
<p>Now create the aggmap, by issuing the following statements.</p>
<pre dir="ltr">DEFINE sales.agg AGGMAP &lt;time, CP&lt;product geography&gt;&gt;
AGGMAP
RELATION time.r OPERATOR opvar ARGS argvar
RELATION product.r OPERATOR opvar2 ARGS argvar2
RELATION geography.r OPERATOR opvar2 ARGS argvar2
MEASUREDIM measure
END
</pre></li>
<li>
<p>Finally, use the following statement to aggregate all four variables.</p>
<pre dir="ltr">AGGREGATE sales debt interest_rate inventory USING sales.agg
</pre></li>
</ol>
</div>
<!-- class="example" -->
<div id="OLADM2107" class="example">
<p class="titleinexample"><a id="sthref3551"></a>Example 9-8 Programmatically Defining an Aggmap</p>
<p>The following program uses the EXISTS function to test whether an AGGMAP exists, and defines the AGGMAP when it does not. It then uses an AGGMAP statement to define the specification for the aggmap.</p>
<pre dir="ltr">DEFINE MAKEAGGMAP PROGRAM
LD Create dynamic aggmap
PROGRAM
IF NOT EXISTS (&#39;test.agg&#39;)
   THEN DEFINE test.agg AGGMAP &lt;geography product channel time&gt;
   ELSE CONSIDER test.agg
AGGMAP JOINLINES(-
   &#39;RELATION geography.parentrel PRECOMPUTE (geography.lvldim 2 4)&#39; -
   &#39;RELATION product.parentrel&#39; -
   &#39;RELATION channel.parentrel&#39; -
   &#39;RELATION time.parentrel&#39; -
   &#39;END&#39;)
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2108" class="example">
<p class="titleinexample"><a id="sthref3552"></a>Example 9-9 Creating an Aggmap Using an Input File</p>
<p>Suppose that you have created a disk file called <code dir="ltr">salesagg.txt</code>, which contains the following aggmap definition and specification.</p>
<pre dir="ltr">DEFINE sales.agg AGGMAP &lt;time, product, geography&gt;
AGGMAP
RELATION time.r PRECOMPUTE (time NE &#39;Year99&#39;)
RELATION product.r PRECOMPUTE (product NE &#39;ALL&#39;)
RELATION geography.r
CACHE STORE
END
</pre>
<p>To include the <code dir="ltr">sales.agg</code> aggmap in your analytic workspace, execute the following statement, where <code dir="ltr">inf</code> is the alias for the directory where the file is stored.</p>
<pre dir="ltr">INFILE &#39;inf/salesagg.txt&#39;
</pre>
<p>The <code dir="ltr">sales.agg</code> aggmap has now been defined and contains the three RELATION statements and the CACHE statement. In this example, you are specifying that all of the data for the hierarchy for the <code dir="ltr">time</code> dimension, <code dir="ltr">time.r</code>, should be aggregated, except for any data that has a <code dir="ltr">time</code> dimension value of <code dir="ltr">Year99</code>. All of the data for the hierarchy for the <code dir="ltr">product</code> dimension, <code dir="ltr">product.r</code>, should be aggregated, except for any data that has a <code dir="ltr">product</code> dimension value of <code dir="ltr">All</code>. All <code dir="ltr">geography</code> dimension values are aggregated. The CACHE STORE statement specifies that any data that are rolled up on the fly should be calculated just once and stored in the cache for other access requests during the same session.</p>
<p>You can now use the <code dir="ltr">sales.agg</code> aggmap with an AGGREGATE command, such as.</p>
<pre dir="ltr">AGGREGATE sales USING sales.agg
</pre>
<p>In this example, any data value that dimensioned by a <code dir="ltr">Year99</code> value of the <code dir="ltr">time</code> dimension or an <code dir="ltr">All</code> value of the <code dir="ltr">product</code> dimension is calculated on the fly. All other data is aggregated and stored in the analytic workspace.<a id="sthref3553"></a></p>
</div>
<!-- class="example" -->
<div id="OLADM2109" class="example">
<p class="titleinexample"><a id="i1037127"></a>Example 9-10 Using Multiple Aggmaps</p>
<p>When you use a forecast, you must ensure that all of the input data that is required by that forecast has been pre-calculated. Otherwise, the forecast uses incorrect or nonexistent data. For example, suppose your forecast requires that all line items are aggregated. Using a <code dir="ltr">budget</code> variable that is dimensioned by <code dir="ltr">time</code>, <code dir="ltr">line</code>, and <code dir="ltr">division</code>, one approach would be to perform a complete aggregation of the <code dir="ltr">line</code> dimension, forecast the <code dir="ltr">dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR</code>, and then aggregate the remaining dimension, <code dir="ltr">division</code>.</p>
<p>You can support this processing by defining three aggmap objects:</p>
<ol>
<li>
<p>Define the first aggmap, named <code dir="ltr">forecast.agg1</code>, which aggregates the data needed by the forecast. It contains the following statement.</p>
<pre dir="ltr">RELATION line.parentrel
</pre></li>
<li>
<p>Define the second aggmap, named <code dir="ltr">forecast.agg2</code>, which aggregates the data generated using the first aggmap and the forecast. It contains the following statement.</p>
<pre dir="ltr">RELATION division.parentrel PRECOMPUTE (&#39;L3&#39;)
</pre></li>
<li>
<p>Define the third aggmap, named <code dir="ltr">forecast.agg3</code>, which contains the RELATION statements in the specifications of the first two aggmaps.</p>
<pre dir="ltr">RELATION line.parentrel
RELATION division.parentrel PRECOMPUTE (&#39;L3&#39;)
</pre></li>
</ol>
<p>When your forecast is in a program named <code dir="ltr">fore.prg</code>, then you would use the following statements to aggregate the data.</p>
<pre dir="ltr">AGGREGATE budget USING forecast.agg1   &#34;Aggregate over LINE 
CALL fore.prg                          &#34;Forecast over TIME
AGGREGATE budget USING forecast.agg2   &#34;Aggregate over DIVISION
&#34;Compile the limit map for LINE and DIVISION
COMPILE forecast.agg3
&#34;Use the combined aggmap for the AGGREGATE function
CONSIDER budget
PROPERTY &#39;NATRIGGER&#39; &#39;AGGREGATE(budget USING forecast.agg3)&#39;
</pre></div>
<!-- class="example" -->
<div id="OLADM2110" class="example">
<p class="titleinexample"><a id="CHDIHJDJ"></a>Example 9-11 Using an AGGINDEX Statement in an Aggregation Specification</p>
<p>Suppose you have two variables, <code dir="ltr">sales1</code> and <code dir="ltr">sales2</code>, with the following definitions.</p>
<pre dir="ltr">DEFINE sales1 DECIMAL &lt;time, SPARSE&lt;product, channel, customer&gt;&gt;
DEFINE sales2 DECIMAL &lt;time, SPARSE&lt;product, channel, customer&gt;&gt;
</pre>
<p>You do not want to precompute and commit all of the <code dir="ltr">sales</code> data to the database, because disk space is limited and you must improve performance. Therefore, you must create an aggmap, in which you specify which data should be pre-computed and which data should be calculated on the fly.</p>
<p>You define the aggmap, named <code dir="ltr">sales.agg</code>, with the following statement.</p>
<pre dir="ltr">DEFINE sales.agg AGGMAP &lt;time, SPARSE&lt;product, channel, customer&gt;&gt;
</pre>
<p>Next, you use an AGGMAP statement to enter the following specification for <code dir="ltr">sales.agg</code>.</p>
<pre dir="ltr">RELATION time.r PRECOMPUTE (time NE &#39;Year99&#39;)
RELATION product.r PRECOMPUTE (product NE &#39;All&#39;)
RELATION channel.r
RELATION customer.r
AGGINDEX NO
</pre>
<p>This aggregation specification tells Oracle OLAP that all <code dir="ltr">sales</code> data should be rolled up and committed to the database except for any data that has a <code dir="ltr">time</code> dimension value of <code dir="ltr">Year99</code> or a <code dir="ltr">product</code> dimension value of <code dir="ltr">All</code>&mdash;the data for those cells is calculated the first time a user accesses them. The AGGINDEX value of <code dir="ltr">NO</code> tells Oracle OLAP not to create the indexes for data that should be calculated on the fly.</p>
<p>Now you execute the following statement.</p>
<pre dir="ltr">sales2 = AGGREGATE(sales1 USING sales.agg) ACROSS SPARSE -
   &lt;product, channel, customer&gt;
</pre>
<p><code dir="ltr">sales2</code> now contains all of the data in <code dir="ltr">sales1</code>, plus any data that is aggregated for <code dir="ltr">Year99</code>&mdash;this is because <code dir="ltr">time</code> is not included in a composite.</p>
<p>On the other hand, the data that is aggregated for the <code dir="ltr">product</code> value of <code dir="ltr">All</code> is not computed and stored in <code dir="ltr">sales2</code>. This data is not computed or stored because the <code dir="ltr">product</code> dimension is included in a composite&mdash;the indexes that are required for dimensions that are included in composites were not created because the aggregation specification contains an <code dir="ltr">AGGINDEX</code> <code dir="ltr">NO</code> statement. Because the indexes did not exist, Oracle OLAP never called the AGGREGATE function to compute the data to be calculated on the fly.</p>
</div>
<!-- class="example" -->
<div id="OLADM2111" class="example">
<p class="titleinexample"><a id="CHDIIIAC"></a><a id="i1027309"></a>Example 9-12 Aggregating By Dimension Attributes</p>
<p>Assume that when your business makes a sales it keeps records of the customer&#39;s name, sex, age, and the amount of the sale. To hold this data, your analytic workspace contains a dimension named <code dir="ltr">customer</code> and three variables (named <code dir="ltr">customer_sex</code>, <code dir="ltr">customer_age</code>, and <code dir="ltr">sales</code>) that are dimensioned by <code dir="ltr">customer</code>.</p>
<pre dir="ltr"> REPORT W 14 &lt;customer_sex customer_age sales&gt;

CUSTOMER        CUSTOMER_SEX   CUSTOMER_AGE      SALES
-------------- -------------- -------------- --------------
Clarke         M                          26      26,000.00
Smith          M                          47      15,000.00
Ilsa           F                          24      33,000.00
Rick           M                          33      22,000.00
</pre>
<p>You want to aggregate the detail sales data over sex and age to calculate the amount of sales you have made to males and females, and the amount of sales for different age ranges. To hold this data you need an <code dir="ltr">INTEGER</code> variable that is dimensioned by hierarchical dimensions for sex and age. You also need an aggmap object that specifies the calculations that Oracle OLAP performs to populate this variable from the data in the <code dir="ltr">sales</code> variable.</p>
<p>To create and populate the necessary objects, you take the following steps:</p>
<ol>
<li>
<p>Create and populate dimensions and self-relations for hierarchical dimensions named <code dir="ltr">sex</code> and <code dir="ltr">age</code>.</p>
<pre dir="ltr">DEFINE sex DIMENSION TEXT
DEFINE sex.parentrel RELATION sex &lt;sex&gt;
DEFINE age DIMENSION TEXT
DEFINE age.parentrel RELATION age &lt;age&gt;

AGE               AGE.PARENTREL
-------------- --------------------
0-20           All
21-30          All
31-50          All
51-100         All
No Response    All
All            NA

SEX               SEX.PARENTREL
-------------- --------------------
M              All
F              All
No Reponse     All
All            NA
</pre></li>
<li>
<p>Create and populate relations that map the <code dir="ltr">age</code> and <code dir="ltr">sex</code> dimensions to the <code dir="ltr">customer</code> dimension.</p>
<pre dir="ltr">DEFINE customer.age.rel RELATION age &lt;customer&gt;
DEFINE customer.sex.rel RELATION sex &lt;customer&gt;

CUSTOMER         CUSTOMER.AGE.REL     CUSTOMER.SEX.REL
-------------- -------------------- --------------------
Clarke         21-30                M
Smith          31-50                M
Ilsa           21-30                F
Rick           31-50                M
</pre></li>
<li>
<p>Create a variable named <code dir="ltr">sales_by_sex_age</code> to hold the aggregated data. Like the <code dir="ltr">sales</code> variable this variable is of type DECIMAL, but it is dimensioned by <code dir="ltr">sex</code> and <code dir="ltr">age</code> rather than by <code dir="ltr">customer</code>.</p>
<pre dir="ltr">DEFINE sales_by_sex_age VARIABLE DECIMAL &lt;sex age&gt;
</pre></li>
<li>
<p>Define an AGGMAP type aggmap object named <code dir="ltr">ssa_aggmap</code> to calculate the values of the <code dir="ltr">sales_by_sex_age</code> variable.</p>
<pre dir="ltr">DEFINE SSA_AGGMAP AGGMAP
AGGMAP
RELATION sex.parentrel OPERATOR SUM
RELATION age.parentrel OPERATOR SUM
BREAKOUT DIMENSION customer -
BY customer.sex.rel, customer.age.rel OPERATOR SUM
END
</pre>
<p>Notice that the specification for the <code dir="ltr">ssa_aggmap</code> includes the following statements:</p>
<ul>
<li>
<p>A BREAKOUT DIMENSION statement that specifies how to map the <code dir="ltr">customer</code> dimension of the <code dir="ltr">sales</code> variable to the lowest-level values of the <code dir="ltr">sales_by_sex_age</code> variable. This statement specifies the name of the dimension of the variable that contains the detail values (that is, <code dir="ltr">customer</code>) and the names of the relations (<code dir="ltr">customer.sex.rel</code> and <code dir="ltr">customer.age.rel</code>) that define the relations between <code dir="ltr">customer</code> dimension and the <code dir="ltr">sex</code> and <code dir="ltr">age</code> dimensions.</p>
</li>
<li>
<p>Two RELATION statements that specify how to aggregate up the <code dir="ltr">sex</code> and <code dir="ltr">age</code> dimensions of the <code dir="ltr">sales_by_sex_age</code> variable. Each of these statements includes the name of the child-parent relation (<code dir="ltr">sex.parentrel</code> or <code dir="ltr">age.parentrel</code>) that define the self-relation for the hierarchal dimension (<code dir="ltr">sex</code> or <code dir="ltr">age</code>).</p>
</li>
</ul>
</li>
<li>
<p>Populate the <code dir="ltr">sales_by_sex_age</code> variable by issuing an AGGREGATE command that specifies that the detail data for the aggregation comes from the <code dir="ltr">sales</code> variable.</p>
<pre dir="ltr">AGGREGATE sales_by_sex_age USING ssa_aggmap FROM sales 
</pre>
<p>After performing the aggregation, a report of <code dir="ltr">sales_by_sex_age</code> shows the calculated values.</p>
<pre dir="ltr">               ---------------------SALES_BY_SEX_AGE----------------------
               ----------------------------SEX----------------------------
AGE                  M              F          No Reponse        All
-------------- -------------- -------------- -------------- --------------
0-20                       NA             NA             NA             NA
21-30               26,000.00      33,000.00             NA      59,000.00
31-50               37,000.00             NA             NA      37,000.00
51-100                     NA             NA             NA             NA
No Response                NA             NA             NA             NA
All                 63,000.00      33,000.00             NA      96,000.00
</pre></li>
</ol>
</div>
<!-- class="example" -->
<div id="OLADM2112" class="example">
<p class="titleinexample"><a id="CHDJJFED"></a>Example 9-13 Using a CACHE Statement in an Aggregation Specification</p>
<p>Suppose you have a <code dir="ltr">sales</code> variable with the following definition.</p>
<pre dir="ltr">DEFINE sales DECIMAL &lt;time, SPARSE&lt;product, channel, customer&gt;&gt;
</pre>
<p>You do not want to pre-compute and commit all of the <code dir="ltr">sales</code> data, because space is limited and you must improve performance. Therefore, you must create an aggmap, in which you specify which data should be pre-computed and which data should be calculated on the fly.</p>
<p>You define the aggmap, named <code dir="ltr">sales.agg</code>, with the following statement.</p>
<pre dir="ltr">DEFINE sales.agg AGGMAP &lt;time, SPARSE&lt;product, channel, - customer&gt;&gt;
</pre>
<p>Next, you use the AGGMAP statement to enter the following aggregation specification for<code dir="ltr">sales.agg</code>.</p>
<pre dir="ltr">AGGMAP
RELATION time.r PRECOMPUTE (time NE &#39;YEAR99&#39;)
RELATION product.r PRECOMPUTE (product NE &#39;ALL&#39;)
RELATION channel.r
RELATION customer.r
CACHE SESSION
END
</pre>
<p>This aggregation specification tells Oracle OLAP that all <code dir="ltr">sales</code> data should be rolled up and committed, except for any cells that have a time dimension value of <code dir="ltr">Year99</code> or a product dimension value of <code dir="ltr">ALL</code>; the data for those cells is calculated the first time a user accesses them. Because the CACHE statement uses the SESSION keyword, that means that when those cells are calculated on the fly, the data is stored in the cache for the remainder of the Oracle OLAP session. That way, the next time a user accesses the same cell, the data does not have to be calculated again. Instead, the data is retrieved from the session cache.</p>
</div>
<!-- class="example" -->
<div id="OLADM2113" class="example">
<p class="titleinexample"><a id="CHDBDBFJ"></a>Example 9-14 Populating All Levels of a Hierarchy Except the Detail Level</p>
<p>Assume that your analytic workspace contains the relations and dimensions with the following definitions.</p>
<pre dir="ltr">DEFINE geog.d TEXT DIMENSION
DEFINE geog.r RELATION geog.d &lt;geog.d&gt;
DEFINE sales_by_units   INTEGER VARIABLE &lt;geog.d&gt;
DEFINE sales_by_revenue DECIMAL VARIABLE &lt;geog.d&gt;
DEFINE price_per_unit   DECIMAL VARIABLE &lt;geog.d&gt;
</pre>
<p>Assume that you create two aggmap objects. One aggmap object, named <code dir="ltr">units_aggmap</code>, is the specification to aggregate data in the <code dir="ltr">sales_by_units</code> variable. The other aggmap object, <code dir="ltr">revenue_aggmap</code>, is the specification to calculate all of the data <span class="italic">except</span> the detail data in the <code dir="ltr">sales_by_revenue</code> variable.</p>
<pre dir="ltr">DEFINE units_aggmap AGGMAP
AGGMAP
  RELATION geog.r OPERATOR SUM
END

DEFINE revenue_aggmap AGGMAP
AGGMAP
  RELATION geog.r OPERATOR WSUM ARGS WEIGHTBY price_per_unit
  CACHE NOLEAF
END
</pre>
<p>The following steps outline the aggregation process:</p>
<ol>
<li>
<p>Before either the <code dir="ltr">sales_by_unit</code> or <code dir="ltr">sales_by_revenue</code> variables are aggregated, they have the following values.</p>
<pre dir="ltr">GEOG.D    SALES_BY_UNIT SALES_BY_REVENUE
--------- ------------- ----------------
Boston                1               NA
Medford               2               NA
San Diego             3               NA
Sunnydale             4               NA
MA                    NA              NA             
CA                    NA              NA
USA                   NA              NA
</pre></li>
<li>
<p>After the data for the <code dir="ltr">sales_by_unit</code> variable is aggregated, the <code dir="ltr">sales_by_unit</code> and <code dir="ltr">sales_by_revenue</code> variables have the following values.</p>
<pre dir="ltr">AGGREGATE sales_by_unit    USING units_aggmap

GEOG.D    SALES_BY_UNIT SALES_BY_REVENUE
--------- ------------- ----------------
Boston                1               NA
Medford               2               NA
San Diego             3               NA
Sunnydale             4               NA
MA                    3               NA             
CA                    7               NA
USA                  10               NA
</pre></li>
<li>
<p>After the data for the <code dir="ltr">sales_by_revue</code> variable is aggregated, the <code dir="ltr">sales_by_unit</code> and <code dir="ltr">sales_by_revenue</code> variables have the following values.</p>
<pre dir="ltr">AGGREGATE sales_by_revenue USING revenue_aggmap FROM units_aggmap

GEOG.D    SALES_BY_UNIT SALES_BY_REVENUE
--------- ------------- ----------------
Boston                1               NA
Medford               2               NA
San Diego             3               NA
Sunnydale             4               NA
MA                    3             13.5             
CA                    7             31.5
USA                  10             45.0
</pre></li>
</ol>
</div>
<!-- class="example" -->
<div id="OLADM2114" class="example">
<p class="titleinexample"><a id="CHDBHJHD"></a>Example 9-15 Aggregating into a Different Variable</p>
<p>Assume that there is a variable named <code dir="ltr">sales</code> that is dimensioned by <code dir="ltr">time</code>, a hierarchical dimension, and <code dir="ltr">district</code>, a non-hierarchical dimension.</p>
<pre dir="ltr">DEFINE time DIMENSION TEXT
DEFINE time.parentrel RELATION time &lt;time&gt;
DEFINE district DIMENSION TEXT
DEFINE sales VARIABLE DECIMAL &lt;time district&gt;

             -----------------------SALES-----------------------
             ---------------------DISTRICT----------------------
TIME            North        South         West         East
------------ ------------ ------------ ------------ ------------
1976Q1         168,776.81   362,367.87   219,667.47   149,815.65
1976Q2         330,062.49   293,392.29   237,128.26   167,808.03
1976Q3         304,953.04   354,240.51   170,892.80   298,737.70
1976Q4         252,757.33   206,189.01   139,954.56   175,063.51
1976                   NA           NA           NA           NA
</pre>
<p>Assume also that you want to calculate the total sales for each quarter and year for all districts <span class="italic">except</span> the <code dir="ltr">North</code> district. To perform this calculation using an aggmap object, you take the following steps:</p>
<ol>
<li>
<p>Create a valueset named <code dir="ltr">not_north</code> that represents the values of <code dir="ltr">district</code> for which you want to aggregate data.</p>
<pre dir="ltr">DEFINE not_north VALUESET district
LIMIT not_north TO ALL
LIMIT not_north REMOVE &#39;North&#39;
</pre></li>
<li>
<p>Define a variable named <code dir="ltr">total_sales_exclud_north</code> to hold the results of the calculation.</p>
<pre dir="ltr">DEFINE total_sales_exclud_north VARIABLE DECIMAL &lt;time&gt;
</pre>
<p>Notice that, like <code dir="ltr">sales</code>, the <code dir="ltr">total_sales_exclud_north</code> variable is dimensioned by time. However, unlike <code dir="ltr">sales</code>, the <code dir="ltr">total_sales_exclud_north</code> variable is not dimensioned by <code dir="ltr">district</code> because it holds detail data for each district, but only the total (aggregated) values for the <code dir="ltr">South</code>, <code dir="ltr">West</code>, and <code dir="ltr">East</code> districts (that is, all districts <span class="italic">except</span> <code dir="ltr">North</code>).</p>
<pre dir="ltr"></pre></li>
<li>
<p>Define an aggmap object that specifies the calculation that you want performed.</p>
<pre dir="ltr">DEFINE agg_sales_exclud_north AGGMAP
AGGMAP
RELATION time.parentrel OPERATOR SUM
DROP DIMENSION district OPERATOR SUM VALUES not_north
END
</pre>
<p>Notice that the aggregation specification consists of two statements that specify how to perform the aggregation:</p>
<ul>
<li>
<p>A RELATION statement that specifies how to aggregate up the hierarchical <code dir="ltr">time</code> dimension</p>
</li>
<li>
<p>A DROP DIMENSION statement that specifies how to aggregate across the non-hierarchical <code dir="ltr">district</code> dimension. In this case, the DROP DIMENSION also uses the <code dir="ltr">not_north</code> valueset to specify that values for the <code dir="ltr">North</code> district are excluded when performing the aggregation</p>
</li>
</ul>
</li>
<li>
<p>Aggregate the data.</p>
<pre dir="ltr">AGGREGATE total_sales_exclud_north USING agg_sales_exclud_north FROM sales
</pre>
<p>The report of the <code dir="ltr">total_sales_exclud_north</code> variable shows the aggregated values.</p>
<pre dir="ltr">TIME             ALL_SALES_EXCEPT_NORTH
------------ ------------------------------
1976Q1                           731,850.99
1976Q2                           698,328.58
1976Q3                           823,871.02
1976Q4                           521,207.09
1976                           2,775,257.69
</pre></li>
</ol>
</div>
<!-- class="example" -->
<div id="OLADM2115" class="example">
<p class="titleinexample"><a id="CHDHEIGA"></a>Example 9-16 Using a MEASUREDIM Statement in an Aggregation Specification</p>
<p>Suppose you have defined a measure dimension named <code dir="ltr">measure</code>. You then define an operation variable named <code dir="ltr">myopvar</code>, which is dimensioned by <code dir="ltr">measure</code>. When you use <code dir="ltr">myopvar</code> in an aggregation specification, you must also include a MEASUREDIM statement that identifies <code dir="ltr">measure</code> as the dimension is included in the definition of <code dir="ltr">myopvar</code>.</p>
<p>The MEASUREDIM statement should follow the last RELATION statement in the aggregation specification, as shown in the following example.</p>
<pre dir="ltr">DEFINE sales.agg AGGMAP &lt;time, product, geography&gt;
AGGMAP
RELATION time.r OPERATOR myopvar
RELATION product.r
RELATION geography.r
MEASUREDIM measure
END 
</pre></div>
<!-- class="example" -->
<div id="OLADM2116" class="example">
<p class="titleinexample"><a id="CHDEEHBB"></a><a id="BABJFHCA"></a>Example 9-17 Solving a Model in an Aggregation</p>
<p>This example uses the <code dir="ltr">budget</code> variable.</p>
<pre dir="ltr">DEFINE budget VARIABLE DECIMAL &lt;line time&gt;
LD Budgeted $ Financial
</pre>
<p>The <code dir="ltr">time</code> dimension has two hierarchies (<code dir="ltr">Standard</code> and <code dir="ltr">YTD</code>) and a parent relation named <code dir="ltr">time.parentrel</code> as follows.</p>
<pre dir="ltr">               -----TIME.PARENTREL------
               ----TIME.HIERARCHIES-----
TIME             Standard       YTD
-------------- ------------ ------------
Last.YTD       NA           NA
Current.YTD    NA           NA
Jan01          Q1.01        Last.YTD
...
Dec01          Q4.01        Last.YTD
Jan02          Q1.02        Current.YTD
Feb02          Q1.02        Current.YTD
Mar02          Q1.02        Current.YTD
Apr02          Q2.02        Current.YTD
May02          Q2.02        Current.YTD
Q1.01          2001         NA
...
Q4.01          2001         NA
Q1.02          2002         NA
Q2.02          2002         NA
2001           NA           NA
2002           NA           NA
</pre>
<p>The relationships among line items are defined in the following model.</p>
<pre dir="ltr">DEFINE income.budget MODEL
MODEL
DIMENSION line time
opr.income = gross.margin - marketing
gross.margin = revenue - cogs
revenue = LAG(revenue, 12, time) * 1.02
cogs = LAG(cogs, 1, time) * 1.01
marketing = LAG(opr.income, 1, time) * 0.20
END
</pre>
<p>The following aggregation specification pre-aggregates all of the data. Notice that all of the data must be pre-aggregated because the model includes both LAG functions and a simultaneous equation.</p>
<pre dir="ltr">DEFINE budget.aggmap1 AGGMAP
AGGMAP
MODEL income.budget
RELATION time.parentrel
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2117" class="example">
<p class="titleinexample"><a id="CHDEHECG"></a><a id="i1016915"></a>Example 9-18 Aggregating Up a Hierarchy</p>
<p>Suppose you define a <code dir="ltr">sales</code> variable with the following statement.</p>
<pre dir="ltr">DEFINE sales VARIABLE &lt;time, SPARSE &lt;product, geography&gt;&gt;
</pre>
<p>The aggregation specification for <code dir="ltr">sales</code> might include RELATION statements like the following.</p>
<pre dir="ltr">AGGMAP
RELATION time.r PRECOMPUTE (&#39;Yr98&#39;, &#39;Yr99&#39;)
RELATION product.r
RELATION geography.r PRECOMPUTE (geography NE &#39;Atlanta&#39;)
END
</pre>
<p>The AGGREGATE command aggregates values for <code dir="ltr">Yr98</code> and <code dir="ltr">Yr99</code>, over all of products, and over all geographic areas except for <code dir="ltr">Atlanta</code>. All other aggregates are calculated on the fly.</p>
</div>
<!-- class="example" -->
<div id="OLADM2118" class="example">
<p class="titleinexample"><a id="sthref3554"></a>Example 9-19 Using Valuesets</p>
<p>Suppose you have a hierarchy dimension named time.type, whose dimension values are <code dir="ltr">Fiscal</code> and <code dir="ltr">Calendar</code>, in that order. These hierarchies are in conflict, and you want to precompute some <code dir="ltr">time</code> data but calculate the rest on the fly. Because the <code dir="ltr">Calendar</code> hierarchy is the last dimension value in the hierarchy dimension, consequently, you must define a valueset to get the correct results for the <code dir="ltr">Fiscal</code> hierarchy.</p>
<p>First, use the following statements to define and populate a valueset.</p>
<pre dir="ltr">DEFINE time.vs VALUESET time
LIMIT time.vs TO &#39;Calendar&#39; &#39;Fiscal&#39;
</pre>
<p>You can then use the valueset in the following RELATION statement. Because the Fiscal hierarchy is the last hierarchy in the valueset, the data that is aggregated is accurate for the Fiscal hierarchy.</p>
<pre dir="ltr">RELATION time.r(time.vs) PRECOMPUTE (&#39;Yr99&#39;, &#39;Yr00&#39;)
</pre></div>
<!-- class="example" -->
<div id="OLADM2119" class="example">
<p class="titleinexample"><a id="sthref3555"></a>Example 9-20 Aggregating with a RELATION Statement That Uses an ARGS Keyword</p>
<p>You can list the arguments in a RELATION statement directly in the statement or as the value of a text variable. For example, the following statement specifies <code dir="ltr">WEIGHTBY wobj</code> as an argument.</p>
<pre dir="ltr">RELATION time.r OPERATOR wsum ARGS WEIGHTBY wobj
</pre>
<p>Alternatively, you can define an variable for the argument whose value is the text of the WEIGHTBY clause.</p>
<pre dir="ltr">DEFINE argvar TEXT
argvar = &#39;WEIGHTBY wobj&#39;
</pre>
<p>Then the RELATION statement can specify the text variable that contains the WEIGHTBY clause.</p>
<pre dir="ltr">RELATION time.r OPERATOR WSUM ARGS argvar
</pre></div>
<!-- class="example" -->
<div id="OLADM2120" class="example">
<p class="titleinexample"><a id="i87187"></a>Example 9-21 Aggregating Using a Measure Dimension</p>
<p>Suppose you want to use a single AGGREGATE command to aggregate the <code dir="ltr">sales</code>, <code dir="ltr">units</code>, <code dir="ltr">price</code>, and <code dir="ltr">inventory</code> variables. When you want to use the same operator for each variable, then you do not have to use a measure dimension. However, when you want to specify different aggregation operations, then you must use a measure dimension.</p>
<p>The following statement defines a dimension named <code dir="ltr">measure</code>.</p>
<pre dir="ltr">DEFINE measure DIMENSION TEXT
</pre>
<p>You can then use a MAINTAIN statement to add dimension values to the <code dir="ltr">measure</code> dimension.</p>
<pre dir="ltr">MAINTAIN measure ADD &#39;sales&#39;, &#39;units&#39;, &#39;quota&#39;, &#39;inventory&#39;
</pre>
<p>Use the <code dir="ltr">measure</code> dimension to dimension a text variable named <code dir="ltr">meas.opvar</code> that you use as the operator variable.</p>
<pre dir="ltr">DEFINE meas.opvar TEXT WIDTH 2 &lt;measure&gt;
</pre>
<p>The following statements add values to OPVAR</p>
<pre dir="ltr">meas.opvar (measure &#39;sales&#39;) = &#39;SU&#39;
meas.opvar (measure &#39;units&#39;) = &#39;SU&#39;
meas.opvar (measure &#39;price&#39;) = &#39;HA&#39;
meas.opvar (measure &#39;inventory&#39;) = &#39;HL&#39;
</pre>
<p>The aggregation specification might look like the following. Note that when you specify an operator variable in a RELATION statement, you must include a MEASUREDIM statement that specifies the name of the measure dimension (<code dir="ltr">measure</code> in the following example) in the aggregation specification.</p>
<pre dir="ltr">DEFINE opvar.aggmap AGGMAP
AGGMAP
RELATION geography.parentrel PRECOMPUTE (geography.lvldim 2 4)
RELATION product.parentrel OPERATOR opvar
RELATION channel.parentrel OPERATOR opvar
RELATION time.parentrel OPERATOR opvar
MEASUREDIM measure
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2121" class="example">
<p class="titleinexample"><a id="i87198"></a>Example 9-22 Aggregating Using a Line Item Dimension</p>
<p>Suppose you have two variables, <code dir="ltr">actual</code> and <code dir="ltr">budget</code>, that have these dimensions.</p>
<pre dir="ltr">&lt;time line division&gt;
</pre>
<p>You want to use different methods to calculate different line items. You create a text variable that you use as the operator variable.</p>
<pre dir="ltr">DEFINE line.opvar TEXT WIDTH 2 &lt;line&gt;
</pre>
<p>You then populate <code dir="ltr">line.opvar</code> with the appropriate operator for each line item, for example.</p>
<pre dir="ltr">line.opvar (line &#39;Net.Income&#39;) = &#39;SU&#39;
line.opvar (line &#39;Tax.Rate&#39;) = &#39;AV&#39;
</pre>
<p>&nbsp;The aggregation specification might look like this.</p>
<pre dir="ltr">DEFINE LINE.AGGMAP AGGMAP
AGGMAP
RELATION time.parentrel OPERATOR line.opvar
RELATION division.parentrel
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2122" class="example">
<p class="titleinexample"><a id="CHDCAEBD"></a>Example 9-23 Skip-Level Aggregation</p>
<p>Suppose you want to aggregate <code dir="ltr">sales</code> data. The <code dir="ltr">sales</code> variable is dimensioned by <code dir="ltr">geography</code>, <code dir="ltr">product</code>, <code dir="ltr">channel</code>, and <code dir="ltr">time</code>.</p>
<p>First, consider the hierarchy for each dimension. How many levels does each hierarchy have? What levels of data do users typically query? When you are designing a new workspace, what levels of data do your users plan to query?</p>
<p>Suppose you learn the information described in the following table about how users tend to query <code dir="ltr">sales</code> data for the <code dir="ltr">time</code> hierarchy.</p>
<div class="inftblinformal">
<table class="cellalignment3615" title="How Users Query sales Data for the time Hierarchy" summary="This table summarizes how users in this example query data in the sales variable over the time hierarchy." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t18">Time Level Names</th>
<th class="cellalignment3616" id="r1c2-t18">Descriptive Level Name</th>
<th class="cellalignment3616" id="r1c3-t18">Examples of Dimension Values</th>
<th class="cellalignment3616" id="r1c4-t18">Do users query this level often?</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t18" headers="r1c1-t18">L1</td>
<td class="cellalignment3617" headers="r2c1-t18 r1c2-t18">Year</td>
<td class="cellalignment3617" headers="r2c1-t18 r1c3-t18"><code dir="ltr">Year99</code>, <code dir="ltr">Year00</code></td>
<td class="cellalignment3617" headers="r2c1-t18 r1c4-t18">yes</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t18" headers="r1c1-t18">L2</td>
<td class="cellalignment3617" headers="r3c1-t18 r1c2-t18">Quarter</td>
<td class="cellalignment3617" headers="r3c1-t18 r1c3-t18"><code dir="ltr">Q3.99</code>, <code dir="ltr">Q3.99</code>, <code dir="ltr">Q1.00</code></td>
<td class="cellalignment3617" headers="r3c1-t18 r1c4-t18">yes</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t18" headers="r1c1-t18">L3</td>
<td class="cellalignment3617" headers="r4c1-t18 r1c2-t18">Month</td>
<td class="cellalignment3617" headers="r4c1-t18 r1c3-t18"><code dir="ltr">Jan99</code>, <code dir="ltr">Dec00</code></td>
<td class="cellalignment3617" headers="r4c1-t18 r1c4-t18">yes</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>While the next table shows how your users tend to query <code dir="ltr">sales</code> data for the <code dir="ltr">geography</code> hierarchy.</p>
<div class="inftblinformal">
<table class="cellalignment3615" title="How Users Query sales Data for the geography Hierarchy" summary="This table summarizes how users in this example query data in the sales variable over the geography hierarchy." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t19">Geography Level Names</th>
<th class="cellalignment3616" id="r1c2-t19">Descriptive Level Name</th>
<th class="cellalignment3616" id="r1c3-t19">Examples of Dimension Values</th>
<th class="cellalignment3616" id="r1c4-t19">Do users query this level often?</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t19" headers="r1c1-t19">L1</td>
<td class="cellalignment3617" headers="r2c1-t19 r1c2-t19">World</td>
<td class="cellalignment3617" headers="r2c1-t19 r1c3-t19"><code dir="ltr">World</code></td>
<td class="cellalignment3617" headers="r2c1-t19 r1c4-t19">yes</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t19" headers="r1c1-t19">L2</td>
<td class="cellalignment3617" headers="r3c1-t19 r1c2-t19">Continent</td>
<td class="cellalignment3617" headers="r3c1-t19 r1c3-t19"><code dir="ltr">Europe, Americas</code></td>
<td class="cellalignment3617" headers="r3c1-t19 r1c4-t19">no</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t19" headers="r1c1-t19">L3</td>
<td class="cellalignment3617" headers="r4c1-t19 r1c2-t19">Country</td>
<td class="cellalignment3617" headers="r4c1-t19 r1c3-t19"><code dir="ltr">Hungary, Spain</code></td>
<td class="cellalignment3617" headers="r4c1-t19 r1c4-t19">yes</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t19" headers="r1c1-t19">L4</td>
<td class="cellalignment3617" headers="r5c1-t19 r1c2-t19">City</td>
<td class="cellalignment3617" headers="r5c1-t19 r1c3-t19"><code dir="ltr">Budapest, Madrid</code></td>
<td class="cellalignment3617" headers="r5c1-t19 r1c4-t19">yes</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>Finally, the next table shows how your users tend to query <code dir="ltr">sales</code> data for the <code dir="ltr">product</code> dimension hierarchy.</p>
<div class="inftblinformal">
<table class="cellalignment3615" title="How Users Use the Product Dimension" summary="This table shows how users use the product dimension." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t20">Product Level Names</th>
<th class="cellalignment3616" id="r1c2-t20">Descriptive Level Name</th>
<th class="cellalignment3616" id="r1c3-t20">Examples of Dimension Values</th>
<th class="cellalignment3616" id="r1c4-t20">Do users query this level often?</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t20" headers="r1c1-t20">L1</td>
<td class="cellalignment3617" headers="r2c1-t20 r1c2-t20">All Products</td>
<td class="cellalignment3617" headers="r2c1-t20 r1c3-t20"><code dir="ltr">Totalprod</code></td>
<td class="cellalignment3617" headers="r2c1-t20 r1c4-t20">yes</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t20" headers="r1c1-t20">L2</td>
<td class="cellalignment3617" headers="r3c1-t20 r1c2-t20">Division</td>
<td class="cellalignment3617" headers="r3c1-t20 r1c3-t20"><code dir="ltr">Audiodiv, Videodiv</code></td>
<td class="cellalignment3617" headers="r3c1-t20 r1c4-t20">yes</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t20" headers="r1c1-t20">L3</td>
<td class="cellalignment3617" headers="r4c1-t20 r1c2-t20">Category</td>
<td class="cellalignment3617" headers="r4c1-t20 r1c3-t20"><code dir="ltr">TV, VCR</code></td>
<td class="cellalignment3617" headers="r4c1-t20 r1c4-t20">yes</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t20" headers="r1c1-t20">L4</td>
<td class="cellalignment3617" headers="r5c1-t20 r1c2-t20">Product</td>
<td class="cellalignment3617" headers="r5c1-t20 r1c3-t20"><code dir="ltr">Tuner, CDplayer</code></td>
<td class="cellalignment3617" headers="r5c1-t20 r1c4-t20">yes</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>Using this information about how users query data, use the following strategy for aggregation:</p>
<ul>
<li>
<p>Fully aggregate <code dir="ltr">time</code> and <code dir="ltr">product</code> because all levels are queried frequently.</p>
</li>
<li>
<p>For the <code dir="ltr">geography</code> dimension, aggregate data for <code dir="ltr">L1</code> (<code dir="ltr">World</code>) and <code dir="ltr">L3</code> (<code dir="ltr">Country</code>) because they are queried frequently. However, <code dir="ltr">L2</code> is queried less often and so can be calculated on the fly.</p>
</li>
</ul>
<p>The lowest level of data was loaded into the analytic workspace. The aggregate data is calculated from this source data.</p>
<p>Therefore, the aggregation specification might look like the following.</p>
<pre dir="ltr">RELATION time.parentrel
RELATION geography.parentrel PRECOMPUTE (geog.leveldim &#39;L3&#39; &#39;L1&#39;)
RELATION product.parentrel
</pre></div>
<!-- class="example" -->
<div id="OLADM2123" class="example">
<p class="titleinexample"><a id="sthref3556"></a>Example 9-24 Aggregation Specification with RELATION Statements That Include PRECOMPUTE Clauses</p>
<p>This aggregation specification uses PRECOMPUTE clauses in the RELATION statements to limit the data that is aggregated by the AGGREGATE command.</p>
<pre dir="ltr">DEFINE gpct.aggmap AGGMAP
LD Aggmap for sales, units, quota, costs
AGGMAP
RELATION geography.parentrel PRECOMPUTE (geography.levelrel &#39;L3&#39;)
RELATION product.parentrel PRECOMPUTE (LIMIT(product complement &#39;TotalProd&#39;))
RELATION channel.parentrel
RELATION time.parentrel PRECOMPUTE (time NE &#39;2001&#39;)
END
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" -->
<div id="OLADM728" class="refsect2"><a id="i78730"></a>
<h3 class="refsect2">AGGINDEX</h3>
<p>Within an aggregation specification used with a non-compressed cube, an<a id="ABC1044925"></a> AGGINDEX statement tells Oracle OLAP whether the AGGREGATE command should create indexes (meaning, composite tuples) for data cells that it calculates on the fly. The AGGINDEX statement signals the AGGREGATE command to create composite tuples for any dimension that is included in a composite.</p>
<p>These indexes are used by the MODEL statement in an AGGMAP and by statements that use the ACROSS phrase to help Oracle OLAP loop over variables that are dimensioned by composites. These statements expect all data to be calculated. When you specify calculating some data on the fly, that data appears to be missing. When you set AGGINDEX to <code dir="ltr">YES</code>, then the statements try to access the missing data whether or not you are using the AGGREGATE function to perform calculation on the fly (meaning, you have added to the variable whose data is being aggregated an <code dir="ltr">NA</code> trigger property that calls the AGGREGATE function).</p>
<p>When the indexes have been created and you use the AGGREGATE function, then when MODEL (or a statement that uses the ACROSS phrase) requests the missing data, that data is calculated on the fly. That means that the results of the MODEL (or other statement) are correct, because the statement has all of the data that it needs.</p>
<p>When these indexes have not been created, the missing data cannot be calculated. Consequently, the statements that need the indexes interpret the missing data as <code dir="ltr">NA</code> data, even when you use the AGGREGATE function.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3557"></a>Syntax</p>
<p class="synopsis">AGGINDEX&nbsp;{<span class="underline">YES</span>|NO}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3558"></a>Parameters</p>
<dl>
<dt>YES</dt>
<dd>
<p>(Default) Ensures that all possible indexes are created whenever the AGGREGATE command is used with an aggmap. In other words, indexes are created both for the data that is being pre-calculated and the data that is calculated on the fly. The creation of all possible indexes results in the AGGREGATE command taking longer to execute. For a discussion of when AGGINDEX should be set to YES, see <a href="#BCFCAAFB">&#34;When To Use an AGGINDEX Value of YES&#34;</a>.</p>
</dd>
<dt>NO</dt>
<dd>
<p>Does not create the indexes for data that is calculated on the fly. Omitting the creation of these index values accelerates execution of AGGREGATE command, but causes Oracle OLAP to treat the uncomputed data as <code dir="ltr">NA</code> data whenever the MODEL statement in an AGGMAP or an ACROSS phrase is executed. For a discussion of when AGGINDEX should be set to NO, see <a href="#BCFDJFEG">&#34;When To Use an AGGINDEX Value of NO&#34;</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3559"></a>Usage Notes</p>
<p class="subhead2"><a id="BCFCAAFB"></a><a id="OLADM2124"></a>When To Use an AGGINDEX Value of YES</p>
<p>The primary advantage to using an AGGINDEX value of <code dir="ltr">YES</code> is that then Oracle OLAP always tries to access data that you have specified to be calculated on the fly. When you have created an $NATRIGGER property for a variable that calls the AGGREGATE function, the variable appears to have been fully precomputed. That means that when any <code dir="ltr">NA</code> value is encountered, the <code dir="ltr">NA</code> trigger is called during the execution of an ACROSS phrase or the MODEL statement in an AGGMAP. When the <code dir="ltr">NA</code> trigger is called, the AGGREGATE function is executed, and the data is calculated on the fly.</p>
<p>When AGGINDEX has a value of <code dir="ltr">NO</code>, then the <code dir="ltr">NA</code> trigger is called only to aggregate data for composite tuples that have been materialized and for all of the values of dimensions not included in the composite. Data for composite dimension members that is not PRECOMPUTED is interpreted as <code dir="ltr">NA</code> values.</p>
<p>For example, suppose you have two variables called <code dir="ltr">sales1</code> and <code dir="ltr">sales2</code>, which are defined with the following definitions.</p>
<pre dir="ltr">DEFINE sales1 DECIMAL &lt;time, SPARSE &lt;product, geography&gt;&gt;
DEFINE sales2 DECIMAL &lt;time, SPARSE &lt;product, geography&gt;&gt;
</pre>
<p>Now suppose you have an aggmap object named <code dir="ltr">sales.agg</code>, which has the following definition.</p>
<pre dir="ltr">DEFINE sales.agg AGGMAP
</pre>
<p>When you add a specification to the <code dir="ltr">sales.agg</code> aggmap, you enter RELATION statements for <code dir="ltr">time</code>, <code dir="ltr">product</code> and <code dir="ltr">geography</code> with <code dir="ltr">PRECOMPUTE</code> clauses that specify <code dir="ltr">NA</code> which specifies that no data is aggregated&mdash;instead, all of the data for any variable that uses this aggmap is calculated on the fly.</p>
<pre dir="ltr">RELATION time.r PRECOMPUTE (NA)
RELATION product.r PRECOMPUTE (NA)
RELATION geography.r PRECOMPUTE (NA)
AGGINDEX YES
</pre>
<p>Now attach the following $NATRIGGER property to the <code dir="ltr">sales1</code> variable.</p>
<pre dir="ltr">CONSIDER sales1
PROPERTY &#39;$NATRIGGER&#39; &#39;AGGREGATE(sales1 USING sales.agg)&#39;
</pre>
<p>Now call the AGGREGATE command on <code dir="ltr">sales1</code> to instantiate the index values.</p>
<pre dir="ltr">AGGREGATE sales1 using sales.agg
</pre>
<p>Consider the effect of AGGINDEX in the following statement, when the aggmap specifies AGGINDEX <code dir="ltr">YES</code>.</p>
<pre dir="ltr">sales2 = sales1 ACROSS SPARSE &lt;product, geography&gt;
</pre>
<p>This statement loops over the data in <code dir="ltr">sales1</code> and copies the values into <code dir="ltr">sales2</code>. This statement causes the <code dir="ltr">NA</code> trigger to call the AGGREGATE function for all of the data that you have specified to be calculated on the fly in <code dir="ltr">sales1</code>. Consequently, after the aggregation that <code dir="ltr">sales2</code> contains a copy of <code dir="ltr">sales1</code> plus all the aggregate data cells (the cells that would have been calculated if the <code dir="ltr">sales1</code> data had been completely precomputed, meaning, fully rolled up).</p>
<p>However, when you put an AGGINDEX <code dir="ltr">NO</code> statement in the <code dir="ltr">sales.agg</code> aggregation specification, then <code dir="ltr">sales2</code> contains a copy of the data in <code dir="ltr">sales1</code> and the aggregate data cells for the leaf values of the composite dimensions.</p>
<p>Note that in both cases, $NATRIGGER is called to aggregate <code dir="ltr">time</code> data, because the <code dir="ltr">time</code> dimension is not included in the composite, so the value of AGGINDEX has no effect on it.</p>
<p class="subhead2"><a id="BCFDJFEG"></a><a id="OLADM2125"></a>When To Use an AGGINDEX Value of NO</p>
<p>You can use an AGGINDEX value of <code dir="ltr">NO</code> when you know that either of the following is true:</p>
<ul>
<li>
<p>Your application does not contain an ACROSS phrase or a MODEL statement in an AGGMAP command.</p>
</li>
<li>
<p>The MODEL statement in the aggmap appears before the RELATION statements. The results of your MODEL statements or ACROSS phrases are additive, and data that needs to be aggregated can be calculated safely on the fly.</p>
</li>
</ul>
<p>Each of the preceding cases ensures that the data that you have specified to be calculated on the fly is available at the appropriate time.</p>
<p>By setting AGGINDEX to <code dir="ltr">NO</code>, the size of the indexes is reduced, and overall application performance improves.</p>
<p class="subhead2"><a id="OLADM2126"></a>When Using an AGGINDEX Value Of NO Causes Problems</p>
<p>When you run a MODEL that assumes all data that should be aggregated has been aggregated, then you may get <code dir="ltr">NA</code> data where real data should occur. For instance, suppose you have a variable that has a composite that includes the <code dir="ltr">time</code> dimension. You perform a calculation that subtracts the fourth quarter from the total for the year. When the value of <code dir="ltr">Year</code> is to be calculated dynamically, and the AGGINDEX statement is set to <code dir="ltr">NO</code>, then the result of the calculation is <code dir="ltr">NA</code>. When the value of <code dir="ltr">Year</code> was precomputed or when AGGINDEX is set to <code dir="ltr">YES</code>, then the MODEL correctly calculates a result equal to the sum of the first three quarters.</p>
<p class="subhead2"><a id="OLADM2127"></a>Index Creation Is Based on Existing Data</p>
<p>Only the indexes that are needed to aggregate existing data are created when AGGINDEX has a value of <code dir="ltr">YES</code>. For example, suppose one dimension in your composite is a dimension named <code dir="ltr">time</code>. The lowest-level data for the <code dir="ltr">time</code> dimension is at the monthly level. Therefore, the dimension values that are associated with the lowest-level data are <code dir="ltr">Jan99</code>, <code dir="ltr">Feb99</code>, and so on. The monthly data aggregates to quarters and to years. Suppose you have data for the first six months of the year. When AGGINDEX has a value of <code dir="ltr">YES</code>, indexes are created for the <code dir="ltr">Q1</code>, <code dir="ltr">Q2</code>, and <code dir="ltr">Yr99</code> dimension values, but not for <code dir="ltr">Q3</code> and <code dir="ltr">Q4</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3560"></a>Examples</p>
<p>For an example of using an AGGINDEX statement, see <a href="#CHDIHJDJ">Example 9-11, &#34;Using an AGGINDEX Statement in an Aggregation Specification&#34;</a>.<a id="sthref3561"></a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM729" class="refsect2"><a id="i1018970"></a>
<h3 class="refsect2">BREAKOUT DIMENSION</h3>
<p>Within an aggregation specification, a BREAKOUT DIMENSION statement specifies how a dimension of the target variable maps to one or more dimensions of the source variable. You use this statement in an aggregation specification when you are aggregating the detail data from one variable (the source variable) into another variable (the target variable) that has a different dimension (that is, a &#34;breakout&#34; dimension) than the variable that contains the detail data.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3562"></a>Syntax</p>
<p class="synopsis">BREAKOUT DIMENSION <span class="italic">dimname</span> BY <span class="italic">relation</span> [, <span class="italic">relation</span>...] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPERATOR <span class="italic">operation</span> [ARGS&nbsp;<span class="italic">argument</span>]</p>
<p>where:</p>
<p><span class="syntaxinlineitalic">relation</span> has the following syntax:</p>
<p class="synopsis"><span class="italic">relationname</span> [IGNORE <span class="italic">ignore_dim_value</span> [DEFAULT <span class="italic">default_dim_value</span>]]</p>
<p><span class="syntaxinlineitalic">argument</span> specifies the settings of various options and is one or more of the following phrases:</p>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">DIVIDEBYZERO {YES|NO}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">DECIMALOVERFLOW {YES|NO}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">NASKIP {YES|NO}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">WEIGHTBY&nbsp;[WNAFILL {</span><span class="syntaxinlineitalic">number</span> <span class="syntaxinline">| NA}]</span> <span class="syntaxinlineitalic">wobj</span></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3563"></a>Parameters</p>
<dl>
<dt><span class="italic">dimname</span></dt>
<dd>
<p>The name of a dimension in the variable that contains the detail data (that is, the source variable).</p>
</dd>
<dt><span class="italic">relationname</span></dt>
<dd>
<p>The name of a relation whose values relate a dimension of the target variable to <span class="italic">dimname</span>.</p>
</dd>
<dt>IGNORE <span class="italic">ignore_dim_value</span></dt>
<dd>
<p>Specifies that if the target dimension is QDRd to the value specified by <span class="italic">ignore_dim-value</span> then AGGREGATE does not use the relation specified by <span class="italic">relationname</span> to limit the source dimension.</p>
</dd>
<dt>DEFAULT <span class="italic">default_dim_value</span></dt>
<dd>
<p>Specifies that if all relations have an IGNORE phrase, then AGGREGATE uses the value specified by <span class="italic">default_dim-value</span> value to create a QDR rather than using a relation. If all relations have an IGNORE phrase and you do not include a DEFAULT phrase, the AGGREGATE arbitrarily chooses a relationship to limit by.</p>
<p>when <span class="italic">dimname</span> is QDRd to the dimension value specified by <span class="italic">ignore_dim-value</span> then AGGREGATE does not use the relation specified by <span class="italic">relationname</span> to limit the source dimension</p>
</dd>
<dt>OPERATOR</dt>
<dd>
<p>Identifies the calculation method used to aggregate the data.</p>
</dd>
<dt><span class="italic">operation</span></dt>
<dd>
<p>A keyword that describes the type of aggregation to perform. The keywords are listed in <a href="#g1028397">Table 9-1, &#34;Aggregation Methods&#34;</a>.</p>
</dd>
<dt>ARGS</dt>
<dd>
<p>Indicates optional handling of the aggregation.</p>
</dd>
<dt>DIVIDEBYZERO</dt>
<dd>
<p>Specifies whether to allow division by zero.</p>
<p><span class="syntaxinlinebold">YES</span> allows division by zero; a statement involving division by zero executes without error but produces <code dir="ltr">NA</code> results.</p>
<p><span class="syntaxinlinebold">NO</span> disallows division by zero; a statement involving division by zero stops executing and produces an error message.</p>
<p>The default value is the current value of the DIVIDEBYZERO option.</p>
</dd>
<dt>DECIMALOVERFLOW</dt>
<dd>
<p>Specifies whether to allow decimal overflow, which occurs when the result of a calculation is very large and can no longer be represented by the exponent portion of the numeric representation. Specify <span class="syntaxinlinebold">YES</span> to allow overflow, which means that a calculation that generates overflow executes without error and produces <code dir="ltr">NA</code> results. Specify <span class="syntaxinlinebold">NO</span> to disallow overflow, which means that; a calculation involving overflow stops executing and generates an error message. The default value is the current value of the DECIMALOVERFLOW option.</p>
</dd>
<dt>NASKIP</dt>
<dd>
<p>Specifies whether <code dir="ltr">NA</code> values are input. Specify <span class="syntaxinlinebold">YES</span> when you want Oracle OLAP to ignore <code dir="ltr">NA</code> values when aggregating which means that only actual values are used in calculations. Specify <span class="syntaxinlinebold">NO</span> when you want Oracle OLAP to consider <code dir="ltr">NA</code> values are considered which means that when any of the values being considered are <code dir="ltr">NA</code>, the calculation returns <code dir="ltr">NA</code>.The default value is the current value of the NASKIP option.</p>
<p>The value that you specify for the NASKIP phrase does <span class="italic">not</span> effect calculation performed when you specify HAVERAGE, HFIRST, HLAST, HWAVERAGE, HWFIRST, HWLAST for <span class="italic">operation</span>.</p>
</dd>
<dt>WEIGHTBY</dt>
<dd>
<p>Indicates that weighted aggregation is to be performed. You must include a WEIGHTBY clause when you specify HWAVERAGE, HWFIRST, HWLAST, SSUM, WAVERAGE, WFIRST, WLAST, or WSUM for <span class="italic">operation</span>. The WEIGHTBY phrase always includes a <span class="italic">wobj</span> argument and can optionally include the WNAFILL keyword. For more information about the use of the WEIGHTBY phrase, see <a href="#i1017474">RELATION (for aggregation)</a> statement of the AGGMAP command.</p>
</dd>
<dt>WNAFILL</dt>
<dd>
<p>Indicates handling for <code dir="ltr">NA</code> values. The default values for WNAFILL vary depending on the value of operation.</p>
</dd>
<dt><span class="syntaxinlineboldital">number</span></dt>
<dd>
<p>Substitutes a number for every <code dir="ltr">NA</code> value. That number replaces every <code dir="ltr">NA</code> value in the weight object, weight formula, or weight relation. The default for HWAVERAGE and SSUM is The default for HWFIRST, HWLAST, WAVERAGE, WFIRST, WLAST, and WSUM is <code dir="ltr">1.0</code> .</p>
</dd>
<dt><span class="syntaxinlinebold">NA</span></dt>
<dd>
<p>Specifies that <code dir="ltr">NA</code> values are to be specified as <code dir="ltr">NA</code>. <code dir="ltr">NA</code> is the default for OR.</p>
<p>For more information about using the WNAFILL phrase, see <a href="#i1017474">RELATION (for aggregation)</a> statement of the AGGMAP command.</p>
</dd>
<dt><span class="italic">wobj</span></dt>
<dd>
<p>A variable, formula, or relation that provides the weighted values. It can be numeric or BOOLEAN. When <span class="italic">wobj</span> is BOOLEAN, then <code dir="ltr">TRUE</code> has a weight of <code dir="ltr">1.0</code> and <code dir="ltr">FALSE</code> has a weight of&nbsp;<code dir="ltr">0.0</code>. A formula is queried only when needed, depending on the dimensionality of the formula and the variable being aggregated. When <span class="italic">wobj</span> is a relation, it should be a one-dimensional self-relation. For more information about specifying values for <span class="italic">wobj</span>, see <a href="#i1017474">RELATION (for aggregation)</a> statement of the AGGMAP command.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3564"></a>Examples</p>
<p>For an example of using the BREAKOUT DIMENSION statement, see <a href="#CHDIIIAC">Example 9-12, &#34;Aggregating By Dimension Attributes&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM730" class="refsect2"><a id="i1020124"></a>
<h3 class="refsect2">CACHE</h3>
<p>Within an aggregation specification, a <a id="sthref3565"></a>CACHE statement tells Oracle OLAP whether to cache or store the calculated data, whether to populate leaf or detail data when the variable data is aggregated using detail data from another variable, and whether to cache <code dir="ltr">NA</code> values when a summary values calculates to <code dir="ltr">NA</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The CACHE statement is only one factor that determines whether variable data that has been aggregated on-the-fly using the AGGREGATE function is stored or cached. See <a href="dml_properties.htm#i1029245">&#34;How Oracle OLAP Determines Whether to Store or Cache Aggregated Data&#34;</a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3566"></a>Syntax</p>
<p class="synopsis">CACHE&nbsp;{NOSTORE|NONE|STORE|SESSION|<span class="underline">DEFAULT</span>} [LEAF|<span class="underline">NOLEAF</span>] [NA|NONA]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3567"></a>Parameters</p>
<dl>
<dt>NONE</dt>
<dt>NOSTORE</dt>
<dd>
<p>For data that is calculated using the AGGREGATE function, specifies that Oracle OLAP calculates the data each time the AGGREGATE function executes. When you specify either of these keywords, Oracle OLAP does not store or cache the data calculated by the AGGREGATE function.</p>
</dd>
<dt>STORE</dt>
<dd>
<p>For data that is calculated using the AGGREGATE function, specifies that Oracle OLAP stores data calculated by the AGGREGATE function in the variable in the database. When you specify this option, the results of the aggregation are permanently stored in the variable when the analytic workspace is updated and committed.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p><a id="sthref3568"></a><a id="sthref3569"></a>For data that is calculated using the AGGREGATE function, specifies that Oracle OLAP caches data calculated by the AGGREGATE function in the session cache (see <a href="dml_options.htm#i1011029">&#34;What is an Oracle OLAP Session Cache?&#34;</a>). When you specify this option, the results of the aggregation are ignored during updates and commits and are discarded after the session.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When SESSCACHE is set to <code dir="ltr">NO</code>, Oracle OLAP does not cache the data even when you specify <code dir="ltr">SESSION</code>. In this case, specifying <code dir="ltr">SESSION</code> is the same as specifying <code dir="ltr">NONE</code>.</div>
</dd>
<dt>DEFAULT</dt>
<dd>
<p><a id="sthref3570"></a>(Default) For data that is calculated using the AGGREGATE function, specifies that Oracle OLAP uses the value of the VARCACHE option to determine what to do with data that is calculated by the AGGREGATE function. See <a href="dml_properties.htm#i1029245">&#34;How Oracle OLAP Determines Whether to Store or Cache Aggregated Data&#34;</a>.</p>
</dd>
<dt>LEAF</dt>
<dd>
<p>When the variable data is aggregated using detail data from another variable, specifies that Oracle OLAP calculates the leaf data for the variable.</p>
</dd>
<dt>NOLEAF</dt>
<dd>
<p>(Default) When the variable data is aggregated using detail data from another variable, specifies that Oracle OLAP does not calculate the leaf data for the variable.</p>
</dd>
<dt>NA</dt>
<dd>
<p><a id="sthref3571"></a>For data that is calculated using the AGGREGATE function, specifies that Oracle OLAP places any <code dir="ltr">NA</code> values that are the results of the execution of the AGGREGATE function in the Oracle OLAP session cache. In this case, when there is a variable has an $NATRIGGER property with an AGGREGATE function as its expression, Oracle OLAP does <span class="italic">not</span> recalculate the values for the variable. (For more information on the caching <code dir="ltr">NA</code> values, see <a href="dml_properties.htm#i1028822">&#34;How Oracle OLAP Determines Whether to Store or Cache Results of $NATRIGGER&#34;</a>.)</p>
</dd>
<dt>NONA</dt>
<dd>
<p><a id="sthref3572"></a>For data that is calculated using the AGGREGATE function, specifies that Oracle OLAP does <span class="italic">not</span> cache any <code dir="ltr">NA</code> values that are the results of the execution of the AGGREGATE function. In this case, when a variable has an $NATRIGGER property with an AGGREGATE function as its expression, Oracle OLAP recalculates the values for the variable.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3573"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2129"></a>When to Use NOSTORE</p>
<p>Use NOSTORE when you know that your users are likely to modify pre-computed data, and you want any data that calculated by the AGGREGATE function to consistent with any of those users&#39; changes.</p>
<p>In other words, suppose a user makes a change to detail-level data, such as <code dir="ltr">sales</code> figures for three stores, which are in a <code dir="ltr">geography</code> dimension. The <code dir="ltr">geography</code> dimension rolls up data from stores to cities to states to regions to countries. In other words, there are five levels in the <code dir="ltr">geography</code> dimension&#39;s hierarchy. Now suppose that users tend to access data only at the store level (your detail data), the regions level, and the countries level. Those are the levels for which you roll up sales data and commit it to the database. Because users do not access data at the city and state level, you specify that the data cells in those two levels are calculated on the fly. When users modify the store-level data and then access city data, the city data are calculated every time that a user requests it. Therefore, any changes that a user makes to the store-level details accurately rollup to the city and state level every time that user accesses a data cell in the city or state level. (However, this is not true of the data in the region and country levels, because those cells store pre-computed data.)</p>
<p class="subhead2"><a id="OLADM2130"></a>When to Use STORE or SESSION</p>
<p>The advantage to using STORE or SESSION is that it improves query performance. For example, suppose your users use a Table tool to look at a variable&#39;s data and an individual user requests the same data cells several times in the same session. When you use the default of NOSTORE, then any data that is not aggregated using the AGGREGATE command has to be calculated every time the user requests that data even if you do not use the FORECALC keyword in the AGGREGATE function. On the other hand, when you use STORE or SESSION, then any given cell of data is calculated only once because it is available in either the variable or the cache for the entire session. Therefore, the next time a user requests that data cell, the data is returned from the variable or the cache instead of being calculated on the fly, which results in faster query time for the user.</p>
<p>Frequently you do not want the data that is calculated using the AGGREGATE function to be stored permanently in the database because that would defeat the purpose of calculating data on the fly.</p>
<ul>
<li>
<p>To ensure that the aggregated values cannot be permanently committed to the database, use SESSION.</p>
</li>
<li>
<p>Use STORE when you know either of the following is true which also ensures that the data that is calculated on the fly using the AGGREGATE function is not committed to the database:</p>
<ul>
<li>
<p>The users of the analytic workspace can only open it as read-only</p>
</li>
<li>
<p>You know that the users of the analytic workspace will not or cannot issue UPDATE and COMMIT statements.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
Use STORE with caution when it is likely that your users modify pre-computed data, and they access data that you have specified to be calculated on the fly using the AGGREGATE function. The problem is that any data that is calculated using the AGGREGATE function before the user&#39;s modification does not reflect the user&#39;s change unless the user made the change using an AGGREGATE function with the FORCECALC keyword or unless there is an $AGGREGATE_FORCECALC property on the variable being aggregated</div>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="i79977"></a>Examples</p>
<p>For examples of using a CACHE statement in an aggregation specification, see <a href="#CHDJJFED">Example 9-13, &#34;Using a CACHE Statement in an Aggregation Specification&#34;</a> and <a href="#CHDBDBFJ">Example 9-14, &#34;Populating All Levels of a Hierarchy Except the Detail Level&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM731" class="refsect2"><a id="i80583"></a>
<h3 class="refsect2">DIMENSION (for aggregation)</h3>
<p>Within an aggregation specification, a<a id="sthref3574"></a> DIMENSION statement sets the status to a single value of a dimension. When an aggregation specification does not specify such single values with DIMENSION statements, Oracle OLAP uses the current status values of the dimensions when performing the aggregation.</p>
<p>You use a DIMENSION statement to ensure that the status of a dimension is set to the value that you want it to have for the aggregation. You must use a separate DIMENSION statement for each dimension that is not shared by the source, basis, and target objects.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3575"></a>Syntax</p>
<p class="synopsis">DIMENSION&nbsp;<span class="italic">dimension&nbsp;</span>&#39;<span class="italic">dimval</span> &#39;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3576"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>the name of the dimension to limit.</p>
</dd>
<dt><span class="italic">dimval</span></dt>
<dd>
<p>A <code dir="ltr">TEXT</code> expression that is the single value of the dimension to which you want the status of the dimension set for the duration of an aggregation.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM732" class="refsect2"><a id="BCFECFFC"></a>
<h3 class="refsect2">DROP DIMENSION</h3>
<p>Within an aggregation specification, a DROP DIMENSION statement specifies how non-hierarchical aggregation across variables is performed. You use this statement in aggregation specification when you are aggregating the detail data from one variable (the source variable) into another variable (the target variable) and you want to aggregate across a non-hierarchical dimension of the source variable. In this case, the target variable has one less dimension (the &#34;dropped&#34; dimension) than the source variable because the values of the source variable associated with this dimension are aggregated to populate the target variable.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3577"></a>Syntax</p>
<p class="synopsis">DROP DIMENSION <span class="italic">dimname</span> [VALUES {<span class="italic">valsetname</span>|ALL} &nbsp;OPERATOR <span class="italic">operation</span> [ARGS&nbsp;<span class="italic">argument</span>]</p>
<p>where <span class="syntaxinlineitalic">argument</span> is one or more of the following phrases:</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIVIDEBYZERO {YES|NO}</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DECIMALOVERFLOW {YES|NO}</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NASKIP {YES|NO}</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WEIGHTBY&nbsp;[WNAFILL {<span class="italic">number|</span>NA}] <span class="italic">wobj</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3578"></a>Parameters</p>
<dl>
<dt><span class="italic">dimname</span></dt>
<dd>
<p>The name of a dimension in the source variable that contains the detail data.</p>
</dd>
<dt>VALUES</dt>
<dd>
<p>Sets the status of <span class="italic">dimname</span> during the aggregation.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>The name of a valueset object that determines the status of the dimension specified by <span class="italic">dimname</span>.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>Specifies that all of the values of <span class="italic">dimname</span> are in status.</p>
</dd>
<dt>OPERATOR</dt>
<dd>
<p>Identifies the calculation method used to aggregate the data.</p>
</dd>
<dt><span class="italic">operation</span></dt>
<dd>
<p>A keyword that describes the type of aggregation to perform. The keywords are listed in <a href="#g1028397">Table 9-1, &#34;Aggregation Methods&#34;</a>.</p>
</dd>
<dt>ARGS</dt>
<dd>
<p>Indicates optional handling of the aggregation.</p>
</dd>
<dt>DIVIDEBYZERO</dt>
<dd>
<p>Specifies whether to allow division by zero. Specify <span class="syntaxinlinebold">YES</span> to allow division by zero which means that a statement involving division by zero executes without error but produces <code dir="ltr">NA</code> results. Specify <span class="syntaxinlinebold">NO</span> to disallow division by zero which means that a statement involving division by zero stops executing and produces an error message. The default value is the current value of the DIVIDEBYZERO option.</p>
</dd>
<dt>DECIMALOVERFLOW</dt>
<dd>
<p>Specifies whether to allow decimal overflow, which occurs when the result of a calculation is very large and can no longer be represented by the exponent portion of the numeric representation. Specify <span class="syntaxinlinebold">YES</span> to allow overflow, which means that a calculation that generates overflow executes without error and produces <code dir="ltr">NA</code> results. Specify <span class="syntaxinlinebold">NO</span> to disallow overflow which means that a calculation involving overflow stops executing and generates an error message. The default value is the current value of the DECIMALOVERFLOW option.</p>
</dd>
<dt>NASKIP</dt>
<dd>
<p>Specifies whether <code dir="ltr">NA</code> values are input. Specify <span class="syntaxinlinebold">YES</span> when you want Oracle OLAP to ignore <code dir="ltr">NA</code> values when aggregating which means that only actual values are used in calculations. Specify <span class="syntaxinlinebold">NO</span> when you want Oracle OLAP to consider <code dir="ltr">NA</code> values when aggregating which means that when any of the values being considered are <code dir="ltr">NA</code>, the calculation returns <code dir="ltr">NA</code>. The default value is the current value of the NASKIP option.</p>
<p>The value that you specify for the NASKIP phrase does <span class="italic">not</span> effect calculation performed when you specify HAVERAGE, HFIRST, HLAST, HWAVERAGE, HWFIRST, HWLAST for <span class="italic">operation</span>.</p>
</dd>
<dt>WEIGHTBY</dt>
<dd>
<p>Indicates that weighted aggregation is to be performed. You must include a WEIGHTBY clause when you specify HWAVERAGE, HWFIRST, HWLAST, SSUM, WAVERAGE, WFIRST, WLAST, or WSUM for <span class="italic">operation</span>. The WEIGHTBY phrase always includes a <span class="italic">wobj</span> argument and can optionally include the WNAFILL keyword. For more information about the use of the WEIGHTBY phrase, see the <a href="#i1017474">RELATION (for aggregation)</a> statement of the AGGMAP command.</p>
</dd>
<dt>WNAFILL</dt>
<dd>
<p>Indicates handling for <code dir="ltr">NA</code> values. The default values for WNAFILL vary depending on the value of operation. For more information about using the WNAFILL phrase, see the <a href="#i1017474">RELATION (for aggregation)</a> statement of the AGGMAP command.</p>
</dd>
<dt>number</dt>
<dd>
<p>Substitutes a number for every <code dir="ltr">NA</code> value. That number replaces every <code dir="ltr">NA</code> value in the weight object, weight formula, or weight relation.</p>
<ul>
<li>
<p><code dir="ltr">0.0</code> is the default for HWAVERAGE and SSUM.</p>
</li>
<li>
<p><code dir="ltr">1.0</code> is the default for HWFIRST, HWLAST, WAVERAGE, WFIRST, WLAST, and WSUM.</p>
</li>
</ul>
</dd>
<dt><span class="syntaxinlinebold">NA</span></dt>
<dd>
<p>Specifies that <code dir="ltr">NA</code> values are to be specified as <code dir="ltr">NA</code>. <code dir="ltr">NA</code> is the default for OR.</p>
</dd>
<dt><span class="italic">wobj</span></dt>
<dd>
<p>A variable, formula, or relation that provides the weighted values. It can be numeric or BOOLEAN. When <span class="italic">wobj</span> is BOOLEAN, then <code dir="ltr">TRUE</code> has a weight of <code dir="ltr">1.0</code> and <code dir="ltr">FALSE</code> has a weight of&nbsp;<code dir="ltr">0.0</code>. A formula is queried only when needed, depending on the dimensionality of the formula and the variable being aggregated. When <span class="italic">wobj</span> is a relation, it should be a one-dimensional self-relation. For more information about specifying values for <span class="italic">wobj</span>, see the <a href="#i1017474">RELATION (for aggregation)</a> statement of the AGGMAP command.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3579"></a>Examples</p>
<p>For an example of using a DROP DIMENSION statement in an aggregation specification, see <a href="#CHDBHJHD">Example 9-15, &#34;Aggregating into a Different Variable&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM733" class="refsect2"><a id="i1005123"></a>
<h3 class="refsect2">MEASUREDIM (for aggregation)</h3>
<p><a id="sthref3580"></a>Within an aggregation specification, a MEASUREDIM statement identifies the name of a measure dimension that is specified in the definition of an operator variable or an argument variable.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3581"></a>Syntax</p>
<p class="synopsis">MEASUREDIM&nbsp;<span class="italic">name</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3582"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the measure dimension. A measure dimension is a dimension that you define. The dimension values are names of existing variables.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot specify a measure dimension when it is included in the definition of the aggmap object.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3583"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2131"></a>Defining a Measure Dimension</p>
<p>The following statement defines a dimension named MEASURE.</p>
<pre dir="ltr">DEFINE measure DIMENSION TEXT
</pre>
<p class="subhead2"><a id="OLADM2132"></a>Populating a Measure Dimension</p>
<p>Once you have defined a measure dimension, you can then use a MAINTAIN statement to add dimension values to the MEASURE dimension.</p>
<p>The following statement adds the names of the <code dir="ltr">sales</code>, <code dir="ltr">units</code>, <code dir="ltr">price</code>, and <code dir="ltr">inventory</code> variables to <code dir="ltr">measure</code> as its dimension values.</p>
<pre dir="ltr">MAINTAIN measure ADD &#39;sales&#39;, &#39;units&#39;, &#39;price&#39;, &#39;inventory&#39;
</pre>
<p class="subhead2"><a id="OLADM2133"></a>Using a Measure Dimension with an Operator Variable</p>
<p>The purpose of using measure dimensions is to take advantage of the flexibility of using non-additive aggregation operators. You can use measure dimensions in the definition of operation variables or argument variables.</p>
<p>The following statements show how to define an operator variable named <code dir="ltr">opvar</code> and populate it.</p>
<pre dir="ltr">DEFINE opvar TEXT &lt;measure&gt;
opvar (measure &#39;sales&#39;) = &#39;SUM&#39;
opvar (measure &#39;inventory&#39;) = &#39;HLAST&#39;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3584"></a>Examples</p>
<p>For an example of an aggregation specification that includes a MEASUREDIM statement, see <a href="#CHDHEIGA">Example 9-16, &#34;Using a MEASUREDIM Statement in an Aggregation Specification&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM734" class="refsect2"><a id="i1010068"></a>
<h3 class="refsect2">MODEL (in an aggregation)</h3>
<p>Within an aggregation specification, a MODEL statement executes a predefined model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3585"></a>Syntax</p>
<p class="synopsis">MODEL&nbsp;<span class="italic">modelname</span> [<span class="underline">PRECOMPUTE</span>&nbsp;<span class="underline">ALL</span> | PRECOMPUTE NA]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3586"></a>Parameters</p>
<dl>
<dt><span class="italic">modelname</span></dt>
<dd>
<p>A text expression that contains the name of a predefined MODEL object.</p>
</dd>
<dt>PRECOMPUTE ALL</dt>
<dt>PRECOMPUTE NA</dt>
<dd>
<p>&nbsp;Specifies whether the model is a static (precomputed) model or a dynamic model.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">PRECOMPUTE ALL</span> is the default and specifies a static model. The following conditions must be met:</p>
<ul>
<li>
<p>Any RELATION or MODEL statements that precede it in the aggregation specification must also be specified as PRECOMPUTE ALL.</p>
</li>
<li>
<p>Any RELATION or MODEL statements that follow it in the aggregation specification can either be specified as PRECOMPUTE ALL or PRECOMPUTE NA.</p>
</li>
</ul>
</li>
<li>
<p><span class="syntaxinlinebold">PRECOMPUTE NA</span> specifies a dynamic model. The following conditions must be met for run-time execution of the model:</p>
<ul>
<li>
<p>All RELATION statements in the aggregation specification must appear before the MODEL statements specified as PRECOMPUTE NA.</p>
</li>
<li>
<p>Any additional MODEL statements that follow it in the aggregation specification must also be specified as PRECOMPUTE NA.</p>
</li>
</ul>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3587"></a>Usage Notes</p>
<p class="subhead2"><a id="BGEJFGEF"></a><a id="OLADM2134"></a>Dynamic Models and Non-Additive Operators</p>
<p>Model statements are executed in the order that they are coded within the aggregation specification. Typically, when the order of execution matters to the result, MODEL statements follow the corresponding RELATION statement.</p>
<p>Because the order of RELATION statements that use non-additive operators (for example, MAX) effects the result of the calculation and because dynamic models (that is, MODEL statements that include a PRECOMPUTE NA phrase) must follow all RELATION statements, the use of dynamic models with non-additive operators is somewhat constrained.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3588"></a>Examples</p>
<p>For an example of using a model in an aggregation specification, see <a href="#CHDEEHBB">Example 9-17, &#34;Solving a Model in an Aggregation&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM735" class="refsect2"><a id="BCFJGIGI"></a>
<h3 class="refsect2">PRECOMPUTE</h3>
<p>Within an aggregation specification, a <a id="sthref3589"></a>PRECOMPUTE statement specifies which of the variable&#39;s aggregate values are calculated <span class="italic">only</span> with the AGGREGATE command.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
An aggregation specification that has a PRECOMPUTE statement cannot have any PRECOMPUTE clauses in its RELATION statements.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3590"></a>Syntax</p>
<p class="synopsis">PRECOMPUTE <span class="italic">precompute-phrase</span></p>
<p>where <span class="syntaxinlineitalic">precompute-phrase</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinlineitalic">n</span><span class="syntaxinline">% | AUTO</span></dd>
<dd><span class="syntaxinline">ALL</span></dd>
<dd><span class="syntaxinline">NA | NONE</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3591"></a>Parameters</p>
<dl>
<dt><span class="italic">n</span>%</dt>
<dd>
<p>Specifies an explicit percentage of the aggregate variable values that are aggregated as a database maintenance procedure using an AGGREGATE command. Oracle OLAP uses special functionality called the <a id="sthref3592"></a>Aggregate Advisor to determine exactly which values are in the percentage.</p>
</dd>
<dt>AUTO</dt>
<dd>
<p>Specifies that Oracle OLAP uses the <a id="sthref3593"></a>Aggregate Advisor to determine how many and which aggregate variable values to aggregate as a database maintenance procedure using an AGGREGATE command.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>Specifies that all aggregated data is precomputed using an AGGREGATE command.</p>
</dd>
<dt>NA</dt>
<dt>NONE</dt>
<dd>
<p>Specifies that all values should be calculated on the fly using the AGGREGATE function (that is, that no data should be precalculated with the AGGREGATE command).</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM736" class="refsect2"><a id="i1017474"></a>
<h3 class="refsect2">RELATION (for aggregation)</h3>
<p><a id="sthref3594"></a><a id="sthref3595"></a>Within an aggregation specification, a RELATION statement specifies how data is aggregated across a hierarchical dimension. Frequently, an aggregation specification contains one RELATION statement for each of the hierarchical dimensions of a variable.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not confuse this RELATION statement which can only be used as part of an AGGMAP command with either the RELATION command that defines a default relation for a dimension or the RELATION statement that is used as part of an ALLOCMAP command.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3596"></a>Syntax</p>
<p class="synopsis">RELATION&nbsp;<span class="italic">rel-name&nbsp;</span>[(<span class="italic">valueset...</span>)] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[PRECOMPUTE&nbsp;(<span class="italic">precompute-phrase</span>)]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[OPERATOR&nbsp;{<span class="italic">operation|opvar</span>}] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[PARENTALIAS <span class="italic">dimension-alias-name</span>] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ARGS&nbsp;{<span class="italic">argument|argsvar</span>}] -</p>
<p class="synopsis">[LOAD_STATUS(<span class="italic">status-valueset-name</span>)]</p>
<p>where:</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">precompute-phrase</span> is one or more of the following:</p>
<dl>
<dd><span class="syntaxinlineitalic">n</span><span class="syntaxinline">% | AUTO</span></dd>
<dd><span class="syntaxinlineitalic">dimension-values</span></dd>
<dd><span class="syntaxinlineitalic">positions-of-dim-values</span></dd>
<dd><span class="syntaxinlineitalic">level-relation-name</span> <span class="syntaxinlineitalic">level-name</span><span class="syntaxinline">...</span></dd>
<dd><span class="syntaxinlineitalic">valueset2</span></dd>
<dd><span class="syntaxinline">ALL</span></dd>
<dd><span class="syntaxinline">NA | NONE</span></dd>
</dl>
</li>
<li>
<p><span class="syntaxinlineitalic">argument</span> is one or more of the following:</p>
<dl>
<dd><span class="syntaxinline">DIVIDEBYZERO {YES|NO}</span></dd>
<dd><span class="syntaxinline">DECIMALOVERFLOW {YES|NO}</span></dd>
<dd><span class="syntaxinline">NASKIP {YES|NO}</span></dd>
<dd><span class="syntaxinline">WEIGHTBY&nbsp;[WNAFILL {</span><span class="syntaxinlineitalic">number</span> <span class="syntaxinline">| NA}]</span> <span class="syntaxinlineitalic">wobj</span></dd>
<dd><span class="syntaxinline">COUNT {YES|NO}</span></dd>
</dl>
</li>
<li>
<p><span class="syntaxinlineitalic">argsvar</span> is a text variable that contains <span class="syntaxinlineitalic">argument</span> phrases for some or all dimension values.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3597"></a>Parameters</p>
<dl>
<dt><span class="italic">rel-name</span></dt>
<dd>
<p>A relation that defines a hierarchy by identifying the parent of every dimension value in a hierarchy.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>Sets the status of one or more dimensions for the duration of the aggregation. It overrides the current status.</p>
</dd>
<dt>PRECOMPUTE</dt>
<dd>
<p>Indicates that some dimension values are populated <span class="italic">only</span> with the AGGREGATE command. The PRECOMPUTE clause of the RELATION statement limits the data that is aggregated by the AGGREGATE command. In its simplest form, you can think of the PRECOMPUTE clause as working like a LIMIT&nbsp;<span class="italic">dimension</span> TO statement. Notice that the default limit is on the dimension, which is not explicitly named in the RELATION statement.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
An aggregation specification has PRECOMPUTE clauses in any of its RELATION statements cannot also have a PRECOMPUTE statement. Additionally, you cannot specify a PRECOMPUTE phrase for a RELATION statement for a compressed composite.</div>
</dd>
<dt><span class="italic">n</span>%</dt>
<dd>
<p>Specifies an explicit percentage of the aggregate variable values that are aggregated as a database maintenance procedure using an AGGREGATE command. Oracle OLAP uses special functionality called the <a id="sthref3598"></a>Aggregate Advisor to determine exactly which values are in the percentage.</p>
</dd>
<dt>AUTO</dt>
<dd>
<p>Specifies that Oracle OLAP uses the <a id="sthref3599"></a>Aggregate Advisor to determine how many and which aggregate variable values to aggregate as a database maintenance procedure using an AGGREGATE command.</p>
</dd>
<dt><span class="italic">dimension-values</span></dt>
<dd>
<p>A list of one or more values of dimension.</p>
</dd>
<dt><span class="italic">positions-of-dim-values</span></dt>
<dd>
<p>For all dimensions except those with <code dir="ltr">INTEGER</code> or <code dir="ltr">NUMBER</code> values, the positions of the dimension values that you want precomputed. Specify the positions using <code dir="ltr">INTEGER</code> values, separated by commas.</p>
</dd>
<dt><span class="italic">valueset2</span></dt>
<dd>
<p>The name of a valueset. When you include this argument, only data that is dimensioned by the dimension values in the valueset should be precalculated with the AGGREGATE command. The rest of the values can be calculated on the fly.</p>
<p>Note that the current status of a dimension can also limit the data that is precalculated. See the <a href="#i78745">AGGREGATE command</a> for details.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>Specifies that data should be precalculated for all dimension values.</p>
</dd>
<dt>NA</dt>
<dt>NONE</dt>
<dd>
<p>Specifies that all values should be calculated on the fly using the AGGREGATE function (that is, that no data should be precalculated with the AGGREGATE command).</p>
</dd>
<dt><span class="italic">level-relation-name</span> <span class="italic">level-name</span> ...</dt>
<dd>
<p>Specifies the levels of the dimension to be precomputed. For l<span class="italic">evel-relation-name</span>, specify, as a <code dir="ltr">TEXT</code> value, <a id="sthref3600"></a>the name of the relation object that relates the values of the dimension to the names of the levels of the dimension. For <span class="italic">level-name</span>, specify, as <code dir="ltr">TEXT</code> values, the name of one or more levels using the same level names used in <span class="italic">level-relation-name</span>.</p>
</dd>
<dt>OPERATOR <span class="italic">&nbsp;</span></dt>
<dd>
<p>Identifies the calculation method used to aggregate the data.</p>
</dd>
<dt><span class="italic">operation &nbsp;</span></dt>
<dd>
<p>A keyword that describes the type of calculation to perform. The keywords are listed in <a href="#g1028397">Table 9-1, &#34;Aggregation Methods&#34;</a> and can be retrieved by issuing an AGGROPS statement. You can specify a fixed-length three-character abbreviation for the keywords by specifying only the first three characters.</p>
<div id="OLADM2135" class="tblformal">
<p class="titleintable"><a id="sthref3601"></a><a id="g1028397"></a>Table 9-1 Aggregation Methods</p>
<table class="cellalignment3618" title="Aggregation Methods" summary="This table describes the valid values for the operator argument that specifies the aggregation operation to be performed." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t28">Keyword</th>
<th class="cellalignment3616" id="r1c2-t28">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t28" headers="r1c1-t28">
<p>AND</p>
</td>
<td class="cellalignment3617" headers="r2c1-t28 r1c2-t28">
<p>When any child data value is <code dir="ltr">FALSE</code>, then the data value of its parent is <code dir="ltr">FALSE</code>. A parent is <code dir="ltr">TRUE</code> only when all of its children are <code dir="ltr">TRUE</code>. (BOOLEAN variables only)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t28" headers="r1c1-t28">
<p>AVERAGE</p>
</td>
<td class="cellalignment3617" headers="r3c1-t28 r1c2-t28">
<p>Adds data values, then divides the sum by the number of data values that were added. When you use AVERAGE, there are special considerations described in <a href="#i1018865">&#34;Average Operators&#34;</a>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t28" headers="r1c1-t28">
<p>FIRST</p>
</td>
<td class="cellalignment3617" headers="r4c1-t28 r1c2-t28">
<p>The first non-<code dir="ltr">NA</code> data value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t28" headers="r1c1-t28">
<p>HAVERAGE</p>
</td>
<td class="cellalignment3617" headers="r5c1-t28 r1c2-t28">
<p>(Hierarchical Average) Adds data values, then divides the sum by the number of the children in the dimension hierarchy. Unlike AVERAGE, which counts only non-<code dir="ltr">NA</code> children, HAVERAGE counts all of the logical children of a parent, regardless of whether each child does or does not have a value.</p>
<p>This keyword is not affected by the setting of the NASKIP option for <span class="italic">argument</span>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t28" headers="r1c1-t28">
<p>HFIRST</p>
</td>
<td class="cellalignment3617" headers="r6c1-t28 r1c2-t28">
<p>(Hierarchical First) The first data value that is specified by the hierarchy, even when that value is <code dir="ltr">NA</code>.</p>
<p>This keyword is not affected by the setting of the NASKIP option for <span class="italic">argument</span>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t28" headers="r1c1-t28">
<p>HLAST</p>
</td>
<td class="cellalignment3617" headers="r7c1-t28 r1c2-t28">
<p>(Hierarchical Last) The last data value that is specified by the hierarchy, even when that value is <code dir="ltr">NA</code>.</p>
<p>This keyword is not affected by the setting of the NASKIP option for <span class="italic">argument</span>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t28" headers="r1c1-t28">
<p>HWAVERAGE</p>
</td>
<td class="cellalignment3617" headers="r8c1-t28 r1c2-t28">
<p>(Hierarchical Weighted Average) Multiplies non-<code dir="ltr">NA</code> child data values by their corresponding weight values then divides the result by the sum of the weight values. Unlike WAVERAGE, HWAVERAGE includes weight values in the denominator sum even when the corresponding child values are <code dir="ltr">NA</code>.</p>
<p>When you use this keyword, you must include the WEIGHTBY argument keyword with a variable, formula, or relation as the weight object.</p>
<p>This keyword is not affected by the setting of the NASKIP option for <span class="italic">argument</span>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t28" headers="r1c1-t28">
<p>HWFIRST</p>
</td>
<td class="cellalignment3617" headers="r9c1-t28 r1c2-t28">
<p>(Hierarchical Weighted First) The first data value that is specified by the hierarchy multiplied by its corresponding weight value, even when that value is <code dir="ltr">NA</code>.</p>
<p>When you use this keyword, you must include the WEIGHTBY argument keyword with a variable, formula, or relation as the weight object.</p>
<p>This keyword is not affected by the setting of the NASKIP option for <span class="italic">argument</span>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r10c1-t28" headers="r1c1-t28">
<p>HWLAST</p>
</td>
<td class="cellalignment3617" headers="r10c1-t28 r1c2-t28">
<p>(Hierarchical Weighted Last) The last data value that is specified by the hierarchy multiplied by its corresponding weight value, even when that value is <code dir="ltr">NA</code>.</p>
<p>When you use this keyword, you must include the WEIGHTBY argument keyword with a variable, formula, or relation as the weight object.</p>
<p>This keyword is not affected by the setting of the NASKIP option for <span class="italic">argument</span>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r11c1-t28" headers="r1c1-t28">
<p>LAST</p>
</td>
<td class="cellalignment3617" headers="r11c1-t28 r1c2-t28">
<p>The last non-<code dir="ltr">NA</code> data value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r12c1-t28" headers="r1c1-t28">
<p>MAX</p>
</td>
<td class="cellalignment3617" headers="r12c1-t28 r1c2-t28">
<p>The largest data value among the children of any parent data value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r13c1-t28" headers="r1c1-t28">
<p>MIN</p>
</td>
<td class="cellalignment3617" headers="r13c1-t28 r1c2-t28">
<p>The smallest data value among the children of any parent data value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r14c1-t28" headers="r1c1-t28">
<p>NOAGG</p>
</td>
<td class="cellalignment3617" headers="r14c1-t28 r1c2-t28">
<p>Do <span class="italic">not</span> aggregate any data for this dimension.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r15c1-t28" headers="r1c1-t28">
<p>OR</p>
</td>
<td class="cellalignment3617" headers="r15c1-t28 r1c2-t28">
<p>When any child data value is <code dir="ltr">TRUE</code>, then the data value of its parent is <code dir="ltr">TRUE</code>. A parent is <code dir="ltr">FALSE</code> only when all of its children are <code dir="ltr">FALSE</code>. (BOOLEAN variables only)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r16c1-t28" headers="r1c1-t28">
<p>SSUM</p>
</td>
<td class="cellalignment3617" headers="r16c1-t28 r1c2-t28">
<p>(Scaled Sum) Adds the value of a weight object to each data value, then adds the data values.</p>
<p>When you use this keyword, you must include the WEIGHTBY argument keyword with a variable, formula, or relation as the weight object.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r17c1-t28" headers="r1c1-t28">
<p>SUM</p>
</td>
<td class="cellalignment3617" headers="r17c1-t28 r1c2-t28">
<p>(Default) Adds data values.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r18c1-t28" headers="r1c1-t28">
<p>WAVERAGE</p>
</td>
<td class="cellalignment3617" headers="r18c1-t28 r1c2-t28">
<p>(Weighted Average) Multiplies each data value by a weight factor, adds the data values, and then divides that result by the sum of the weight factors.</p>
<p>When you use this keyword, you must include the WEIGHTBY argument keyword with a variable, formula, or relation as the weight object.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r19c1-t28" headers="r1c1-t28">
<p>WFIRST</p>
</td>
<td class="cellalignment3617" headers="r19c1-t28 r1c2-t28">
<p>(Weighted First) The first non-<code dir="ltr">NA</code> data value multiplied by its corresponding weight value.</p>
<p>When you use this keyword, you must include the WEIGHTBY argument keyword with a variable, formula, or relation as the weight object.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r20c1-t28" headers="r1c1-t28">
<p>WLAST</p>
</td>
<td class="cellalignment3617" headers="r20c1-t28 r1c2-t28">
<p>(Weighted Last) The last non-<code dir="ltr">NA</code> data value multiplied by its corresponding weight value.</p>
<p>When you use this keyword, you must include the WEIGHTBY argument keyword with a variable, formula, or relation as the weight object.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r21c1-t28" headers="r1c1-t28">
<p>WMAX</p>
</td>
<td class="cellalignment3617" headers="r21c1-t28 r1c2-t28">
<p>(Weighted Maximum) The largest data value among the children of any parent data value multiplied by its corresponding weight value.</p>
<p>When you use this keyword, you must include the WEIGHTBY argument keyword with a variable, formula, or relation as the weight object.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r22c1-t28" headers="r1c1-t28">
<p>WMIN</p>
</td>
<td class="cellalignment3617" headers="r22c1-t28 r1c2-t28">
<p>(Weighted Minimum) The smallest data value among the children of any parent data value multiplied by its corresponding weight value.</p>
<p>When you use this keyword, you must include the WEIGHTBY argument keyword with a variable, formula, or relation as the weight object.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r23c1-t28" headers="r1c1-t28">
<p>WSUM</p>
</td>
<td class="cellalignment3617" headers="r23c1-t28 r1c2-t28">
<p>(Weighted Sum) Multiplies each data value by a weight factor, then adds the data values.</p>
<p>When you use this keyword, you must include the WEIGHTBY argument keyword with a variable, formula, or relation as the weight object.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></dd>
<dt><span class="italic">opvar</span></dt>
<dd>
<p>A <code dir="ltr">TEXT</code> variable that you define that specifies a different the operation for each of its dimension values.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Not valid for variables dimensioned by compressed composites.</div>
<p>The <span class="italic">opvar</span> argument is used in two ways:</p>
<ul>
<li>
<p>Measure dimension -- Changes the aggregation method depending upon the variable being aggregated. Changing the aggregation method based on the variable being aggregated is useful when a single aggmap is used to aggregate several variables that must be aggregated with different methods. Whether you pre-aggregate all of the measures in a single AGGREGATE command or in separate statements, AGGREGATE uses the operation variable to identify the calculation method. The values of the measure dimension are the names of the variables to be aggregated. It dimensions a text variable whose values identify the operation to be used to aggregate each measure. The aggregation specification must include a MEASUREDIM statement that identifies the measure dimension. See <a href="#i87187">Example 9-21, &#34;Aggregating Using a Measure Dimension&#34;</a>.</p>
</li>
<li>
<p>Line item dimension -- Changes the aggregation method depending upon the line item being aggregated. The line item dimension is typically non-hierarchical and identifies financial allocations. The line item dimension is used both to dimension the data variable and to dimension a text variable that identifies the operation to be used to aggregate each item. The operation variable is typically used to aggregate line items over time. You do not use the MEASUREDIM statement in the aggmap. See <a href="#i87198">Example 9-22, &#34;Aggregating Using a Line Item Dimension&#34;</a>.</p>
</li>
</ul>
<p>The <span class="italic">opvar</span> argument cannot be dimensioned by the dimension it is used to aggregate. For example, when you want to specify different operations for the <code dir="ltr">geography</code> dimension, then <span class="italic">opvar</span> cannot be dimensioned by <code dir="ltr">geography</code>.</p>
<p>To minimize the amount of paging for the operator variable, define the operation variable as type of <code dir="ltr">TEXT</code> with a fixed width of <code dir="ltr">8</code>.</p>
</dd>
<dt>PARENTALIAS</dt>
<dd>
<p>Specifies that an alias dimension for the dimension being aggregated is QDRd to the parent value currently being aggregated.</p>
</dd>
<dt><span class="italic">dimension-alias-name</span></dt>
<dd>
<p>The name of the alias dimension for the dimension of <span class="italic">rel-name</span>.</p>
</dd>
<dt>ARGS</dt>
<dd>
<p>Indicates optional handling of the aggregation.</p>
</dd>
<dt>DIVIDEBYZERO</dt>
<dd>
<p>Specifies whether to allow division by zero.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">YES</span> allows division by zero; a statement involving division by zero executes without error but produces <code dir="ltr">NA</code> results.</p>
</li>
<li>
<p><span class="syntaxinlinebold">NO</span> disallows division by zero; a statement involving division by zero stops executing and produces an error message.</p>
</li>
</ul>
<p>The default value is the current value of the DIVIDEBYZERO option.</p>
</dd>
<dt>DECIMALOVERFLOW</dt>
<dd>
<p>Specifies whether to allow decimal overflow, which occurs when the result of a calculation is very large and can no longer be represented by the exponent portion of the numeric representation.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">YES</span> allows overflow; a calculation that generates overflow executes without error and produces <code dir="ltr">NA</code> results.</p>
</li>
<li>
<p><span class="syntaxinlinebold">NO</span> disallows overflow; a calculation involving overflow stops executing and generates an error message.</p>
</li>
</ul>
<p>The default value is the current value of the DECIMALOVERFLOW option.</p>
</dd>
<dt>NASKIP</dt>
<dd>
<p>Specifies whether <code dir="ltr">NA</code> values are input.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">YES</span> specifies that <code dir="ltr">NA</code> values are ignored when aggregating. Only actual values are used in calculations.</p>
</li>
<li>
<p><span class="syntaxinlinebold">NO</span> specifies that <code dir="ltr">NA</code> values are considered when aggregating. When any of the values being considered are <code dir="ltr">NA</code>, the calculation returns <code dir="ltr">NA</code>.</p>
</li>
</ul>
<p>The default value is the current value of the NASKIP option.</p>
<p>The value that you specify for the NASKIP phrase does <span class="italic">not</span> effect calculation performed when you specify HAVERAGE, HFIRST, HLAST, HWAVERAGE, HWFIRST, HWLAST for <span class="italic">operation</span>.</p>
</dd>
<dt>WEIGHTBY</dt>
<dd>
<p>Indicates that weighted aggregation is to be performed. You must include a WEIGHTBY clause when you specify HWAVERAGE, HWFIRST, HWLAST, SSUM, WAVERAGE, WFIRST, WLAST, or WSUM for <span class="italic">operation</span>. The WEIGHTBY phrase always includes a <span class="italic">wobj</span> argument and, optionally, can include the WNAFILL keyword.</p>
</dd>
<dt>WNAFILL {<span class="italic">number</span> | NA}</dt>
<dd>
<p>Indicates handling for <code dir="ltr">NA</code> values. The default values for WNAFILL vary depending on the value of operation. The default value for HWAVERAGE and SSUM is <code dir="ltr">0.0</code>. The default value for OR is <code dir="ltr">NA</code>. The default value for the other operators is <code dir="ltr">1.0</code>. WNAFILL defaults for each operator in an aggregation specification. In other words, when one RELATION statement includes a WSUM OPERATOR, then WNAFILL defaults to <code dir="ltr">1.0</code>. When the next RELATION statement includes an SSUM OPERATOR, then WNAFILL defaults to <code dir="ltr">0.0</code>, and so on. See <a href="#i87209">&#34;Using WNAFILL&#34;</a>.</p>
</dd>
<dt><span class="italic">wobj</span></dt>
<dd>
<p>A variable, formula, or relation that provides the weighted values. It can be numeric or BOOLEAN. When <span class="italic">wobj</span> is BOOLEAN, then <code dir="ltr">TRUE</code> has a weight of <code dir="ltr">1.0</code> and <code dir="ltr">FALSE</code> has a weight of&nbsp;<code dir="ltr">0.0</code>. A formula is queried only when needed, depending on the dimensionality of the formula and the variable being aggregated. When <span class="italic">wobj</span> is a relation, it should be a one-dimensional self-relation. See <a href="#BCFEIEBI">Using Weighted Aggregation Methods</a> for more information about specifying values for <span class="italic">wobj</span>.</p>
</dd>
<dt>COUNT {YES|NO}</dt>
<dd>
<p>YES specifies that when Oracle OLAP aggregates a variable using this relation that it also populates the Aggcount variable associated with that variable. For more information on Aggcount variables, see <a href="#CIHFEAGE">&#34;Aggcount Variables&#34;</a>.</p>
<p>NO specifies that when Oracle OLAP aggregates a variable using this relation that it does <span class="italic">not</span> populate the Aggcount variable associated with that variable. For more information on Aggcount variables, see <a href="#CIHFEAGE">&#34;Aggcount Variables&#34;</a>.</p>
</dd>
<dt><span class="italic">argsvar</span></dt>
<dd>
<p>A <code dir="ltr">TEXT</code> variable that contains the <span class="italic">argument</span> options for some or all dimension values.</p>
</dd>
<dt>LOAD_STATUS</dt>
<dd>
<p>Specifies that, for the aggregation, Oracle OLAP consider the values specified by <span class="italic">status-valueset-name</span> as the detail or lowest level of the hierarchy.</p>
</dd>
<dt><span class="italic">status-valueset-name</span></dt>
<dd>
<p>A previously-defined valueset that specifies the lowest-level values to have in status when performing the aggregation. When performing any aggregation using an aggmap with a RELATION statement with this clause, Oracle OLAP temporarily sets the status of the dimension to the values specified by <span class="italic">status-valueset-name</span> and their ancestors. The valueset specified by <span class="italic">status-valueset-name</span> must be a single dimensional valueset for the relation dimension (not the hierarchy dimension). Additionally, the valueset specified by <span class="italic">status-valueset-name</span> cannot contain both a value and an ancestor of that value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3602"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2136"></a>Ordering RELATION Statements with Non-Additive Operators</p>
<p>The order of RELATION statements that use non-additive operators effects the result of the calculation. For example the max of sum is not generally equal to the sum of max. Consequently, the order of RELATION statements within an aggregation specification must follow the logical requirements of the calculation. This logical necessity limits the use of dynamic models within an aggregation as discussed in <a href="#BGEJFGEF">&#34;Dynamic Models and Non-Additive Operators&#34;</a>.</p>
<p class="subhead2"><a id="BCFFHAEF"></a><a id="OLADM2137"></a>RELATION Statements for Compressed Composites</p>
<p>When designing the aggregation specification, follow these guidelines when coding RELATION statements for compressed composites:</p>
<ul>
<li>
<p>The HAVERAGE, HWAVERAGE, HWFIRST, HWLAST, SSUM, WAVERAGE, WFIRST, WLAST, WMAX, WMIN, and WSUM operators cause data values to change with each level of aggregation, regardless of sparsity. When possible, to insure the largest amount of overall compression, place RELATION statements with these operators at the beginning of your aggregation specification before RELATION statements that use an AND, AVERAGE, FIRST, HFIRST, HLAST, LAST, MAX, MIN, NOAGG, OR, or SUM operator.</p>
</li>
<li>
<p>To optimize the compression of a compressed composite, list similar operators contiguously if the calculation logic allows. For example, specifying MAX for the first dimension and then SUM for all the other dimensions results in better compression, and thus provides better calculation performance, than specifying SUM, MAX, and then SUM over the remaining dimensions.</p>
</li>
<li>
<p>SUM is the fastest and most compressible operator. Changing the aggregation operator for one or more dimensions from SUM to some other operator results in less compression, and therefore a larger variable, and the AGGREGATE command for that variable takes longer to complete.</p>
</li>
<li>
<p>When an AGGMAP contains a RELATION statement that specifies the AVERAGE operator, any variable using that aggregation specification must be defined using a DEFINE VARIABLE statement with a WITH AGGCOUNT phrase.</p>
</li>
<li>
<p>You can only specify a single aggregation operation. You cannot specify aggregation operations using an <span class="italic">opvar</span> variable.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2138"></a>Two Ways to use Valuesets</p>
<p>You can use valuesets to:</p>
<ul>
<li>
<p>Limit hierarchy dimensions. You can limit which hierarchies are used by the AGGREGATE command and AGGREGATE function and the order in which these hierarchies should be used. The valueset that you use specifies the names of a dimension&#39;s hierarchies. To use a valueset in this way, use the following syntax.</p>
<pre dir="ltr">RELATION <span class="italic">rel-name </span>(<span class="italic">valueset</span>)
</pre>
<p>In this case, using valuesets provides a way to manage hierarchies that are in conflict with each other, meaning, when the same dimension value stores data for different children in different hierarchies (such as, <code dir="ltr">Q1</code> stores data for <code dir="ltr">Jan</code>, <code dir="ltr">Feb</code>, and <code dir="ltr">Mar</code> in the <code dir="ltr">Calendar</code> hierarchy, but <code dir="ltr">Q1</code> stores data for <code dir="ltr">May</code>, <code dir="ltr">Jun</code>, and <code dir="ltr">Jul</code> in the <code dir="ltr">Fiscal</code> hierarchy).</p>
</li>
<li>
<p>Specify which values should be calculated on the fly by the AGGREGATE function and which values should be pre-calculated by the AGGREGATE command. The valueset that you use specifies the names of dimension values. To use a valueset in this way, use the following syntax.</p>
<pre dir="ltr">RELATION <span class="italic">rel-name</span> PRECOMPUTE (<span class="italic">valueset</span>)
</pre>
<p>In this case, you use the valueset that follows the PRECOMPUTE keyword.</p>
<p>When you use valuesets to limit hierarchy dimensions and when using multiple aggmaps and the hierarchies are inconsistent, you must also use the FORCECALC keyword in the AGGREGATE function or have set an $AGGREGATE_FORCECALC property on the variable to be aggregated.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2139"></a>When You Change a PRECOMPUTE or an OPERATOR Clause</p>
<p>Any time you make changes to a PRECOMPUTE or an OPERATOR clause, aggregate the variable data again and recompile the aggmap to produce accurate data.</p>
<p class="subhead2"><a id="OLADM2140"></a>Aggregating Data Loaded into Different Hierarchy Levels</p>
<p>When data is loaded into dimension values that are at different levels of a hierarchy, then you must be careful in how you set status in the PRECOMPUTE clause in a RELATION statement in your aggregation specification.</p>
<p>Suppose that a <code dir="ltr">time</code> dimension has a hierarchy with three levels: months aggregate into quarters, and quarters aggregate into years. Some data is loaded into month dimension values, while other data is loaded into quarter dimension values. For example, <code dir="ltr">Q1</code> is the parent of <code dir="ltr">January</code>, <code dir="ltr">February</code>, and <code dir="ltr">March</code>. Data for <code dir="ltr">March</code> is loaded into the <code dir="ltr">March</code> dimension value. But the sum of data for <code dir="ltr">January</code> and <code dir="ltr">February</code> is loaded directly into the <code dir="ltr">Q1</code> dimension value. In fact, the <code dir="ltr">January</code> and <code dir="ltr">February</code> dimension values contain <code dir="ltr">NA</code> values instead of data. Your goal is to add the data in <code dir="ltr">March</code> to the data in <code dir="ltr">Q1</code>.</p>
<p>When you attempt to aggregate <code dir="ltr">January</code>, <code dir="ltr">February</code>, and <code dir="ltr">March</code> into <code dir="ltr">Q1</code>, the data in <code dir="ltr">March</code> simply replaces the data in <code dir="ltr">Q1</code>. When this happens, <code dir="ltr">Q1</code> contains only the <code dir="ltr">March</code> data instead of the sum of <code dir="ltr">January</code>, <code dir="ltr">February</code>, and <code dir="ltr">March</code>.</p>
<p>To aggregate data that is loaded into different levels of a hierarchy, create a valueset for only those dimension values that contain data.</p>
<pre dir="ltr">DEFINE all_but_q4 VALUESET time
LIMIT all_but_q4 TO ALL
LIMIT all_but_q4 REMOVE &#39;Q4&#39;
</pre>
<p>Within the aggregation specification, use that valueset to specify that the detail-level data should be added to the data that exists in its parent, <code dir="ltr">Q1</code>, as shown in the following statement.</p>
<pre dir="ltr">RELATION time.r PRECOMPUTE (all_but_q4)
</pre>
<p class="subhead2"><a id="i1018865"></a><a id="OLADM2141"></a>Average Operators</p>
<p>There are several issues involved in using the AVERAGE, HAVERAGE, WAVERAGE, and HWAVERAGE operators:</p>
<ul>
<li>
<p>Oracle OLAP needs a separate <code dir="ltr">INTEGER</code> variable in which it stores the non-<code dir="ltr">NA</code> counts of the number of leaf nodes that contributed to aggregate values to calculate average values. When you want to aggregate a variable using one the average operators, include the WITH AGGCOUNT phrase in the DEFINE VARIABLE statement for the variable.</p>
</li>
<li>
<p>Accuracy when averaging&mdash;All decimal data is converted to floating point format, both for storing and for calculations, consequently, in some cases, an average aggregation computed on a <code dir="ltr">DECIMAL</code> or <code dir="ltr">SHORTDECIMAL</code> variable can differ in the least significant digits from a result you compute by hand. For this reason, you might want to use the <code dir="ltr">NUMBER</code> data type when accuracy is more important than computational speed, such as variables that contain currency amounts. See <a href="dml_expression.htm#i1012610">&#34;Numeric Expressions&#34;</a> for more information.</p>
</li>
<li>
<p>Using Average operators when aggregating using an AGGREGATE command&mdash;When you use an average operator with the PRECOMPUTE keyword, the best practice is to use variables that have a decimal or <code dir="ltr">NUMBER</code> data type to ensure the accuracy of the results.</p>
</li>
<li>
<p>Using Average operators for partial aggregations&mdash;When you use an average operator in a partial aggregation, then you must always aggregate using the same <code dir="ltr">INTEGER</code> variable (that is, Aggcount or Countvar variable). Do not change the values that are stored in this <code dir="ltr">INTEGER</code> variable between aggregations. Finally, the number of <code dir="ltr">INTEGER</code> variables must match the number of variables that are being aggregated.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2142"></a>HAVERAGE, HFIRST, HLAST, AND HWAVERAGE Operators</p>
<p>The &#34;hierarchical&#34; operators (HAVERAGE, HFIRST, HLAST, AND HWAVERAGE) are intended to provide an alternative form of <code dir="ltr">NA</code> handling.</p>
<p class="subhead2"><a id="OLADM2143"></a>FIRST, HFIRST, LAST, AND HLAST Operators</p>
<p>These operators rely on the existing order of the dimension values, which are assumed to be the default logical order of that dimension. For example, in a month dimension, it is assumed that February follows January, March follows February, and so on.</p>
<p>When you must change the default order, use the MAINTAIN statement to do so. For example, suppose <code dir="ltr">Q1</code> includes <code dir="ltr">January</code>, <code dir="ltr">February</code>, and <code dir="ltr">March</code>, but you must make <code dir="ltr">Februar</code>y the last month in the <code dir="ltr">Q1</code> instead of <code dir="ltr">March</code>. Use the following statement to do so.</p>
<pre dir="ltr">MAINTAIN time MOVE &#39;Feb01&#39; AFTER &#39;Mar01&#39;
</pre>
<p>Now, the LAST operator assumes that <code dir="ltr">FEB01</code> is the last month in <code dir="ltr">Q1</code>.</p>
<p class="subhead2"><a id="OLADM2144"></a>Read Permissions and Aggmaps</p>
<p>When you change the read permission to <span class="italic">rel-name</span> in a RELATION statement, then you must recompile the aggmap before using it with the AGGREGATE function. Compilation is not an issue when you use the AGGREGATE command, because the aggmap is recompiled automatically. However, when you do not have read access to every <span class="italic">rel-name</span> in the aggmap, then attempting to use that aggmap results in an error message.</p>
<p class="subhead2"><a id="BCFEIEBI"></a><a id="OLADM2145"></a>Using Weighted Aggregation Methods</p>
<p>When you use a weighted method of aggregation, you must define and populate an object that contains the weights. You identify the aggregation method in the OPERATOR clause and the weight object in the ARGS clause.</p>
<p>The weight object can be a variable, a formula, or a relation. Special considerations apply depending on the type of object. the data type of the weight object, and whether or not you are performing a partial aggregation.</p>
<p><a id="OLADM2146"></a><span class="subhead3">Weight Object Considerations Based on Type of Object&nbsp;</span>The following considerations apply depending on the type of object that you use for the weight object:</p>
<ul>
<li>
<p>When the weight object is a variable, you can define it with a numeric or BOOLEAN data type. Use a variable as your weight object when you want to pre-calculate weight values and commit them to the database. You can use a variable weight object with any weight option.</p>
</li>
<li>
<p>When the weight object is a relation, define it as a one-dimensional self-relation. <span class="italic">Y</span>ou can use the weight object to specify that the weight for a specific cell is contained in the current variable at a different location. Use a relation as your weight object when you use a line item or a measure dimension. In this case, one line item is used as the weight to calculate the aggregate value of another line item. Using a relation enables you to specify another set of cells in the variable being aggregated as the weight values for a weighted operation.</p>
</li>
<li>
<p>When the weight object is a formula, that formula is queried only as often as needed, depending on the dimensionality of the formula and the dimensionality of the variable whose data is being aggregated. You can define the formula with a numeric or BOOLEAN data type. Use a formula as your weight object when you want to calculate weight values on the fly. A formula weight object is similar to a variable weight object, except that it cannot be aggregated. The value of a formula weight object is executed dynamically. Therefore, you cannot use a formula weight object with many of the weight options.</p>
</li>
</ul>
<p><a id="OLADM2147"></a><span class="subhead3">Considerations Based on Data Type of the Weight Object&nbsp;</span>The following considerations apply when the weight object is numeric or <code dir="ltr">BOOLEAN</code>:</p>
<ul>
<li>
<p>When the weight object has a numeric data type, It is good practice for the weight object variable to have the same dimensionality (or a subset thereof) as the variable to which it corresponds, but it is not required. When you use Oracle numbers or decimals to define your data variable, then always use the same data type to define the corresponding weight object. Otherwise, use the same data type for the weight object and the data variable unless you use WAVERAGE or HWAVERAGE; in this case, use a decimal or <code dir="ltr">NUMBER</code> data type to define the weight object.</p>
</li>
<li>
<p>When the weight object variable, formula, or relation that you define has a <code dir="ltr">BOOLEAN</code> data type, then <code dir="ltr">TRUE</code> represents a weight of <code dir="ltr">1.0</code> and <code dir="ltr">FALSE</code> represents a weight of <code dir="ltr">0.0</code>. Furthermore, when an <code dir="ltr">NA</code> value is multiplied by any value, the result is <code dir="ltr">NA</code>.</p>
</li>
</ul>
<p><a id="i1020804"></a><a id="OLADM2148"></a><span class="subhead3">Weight Object Considerations When Performing Partial Aggregations&nbsp;</span>When you use any operators that require the WEIGHTBY phrase, and you are performing a partial aggregation, then do not change the values that are stored in the weight object between AGGREGATE commands.</p>
<p class="subhead2"><a id="i87209"></a><a id="OLADM2149"></a>Using WNAFILL</p>
<p>For example, suppose you use the WSUM operator to perform currency conversion. The currency conversation rates are applied at the detail data level. Only the detail data needs to be converted, because the variable data is aggregated after the conversion. To get the correct results, all of the non-detail level weight values in the weight object would have to be <code dir="ltr">1</code>. Although this strategy produces correct results, it is inefficient. The best practice is to use the default WNAFILL value of <code dir="ltr">1</code> which specifies that all <code dir="ltr">NA</code> values in the weight object should be treated as if they have a weight of <code dir="ltr">1</code>. In this case, because the operator is WSUM, you do not have to include WNAFILL in the AGGREGATE command, because the default values are correct.</p>
<p>For example, the following statement causes the value <code dir="ltr">0.7</code> to be substituted for every <code dir="ltr">NA</code> value in the <code dir="ltr">salesw</code> weight object.</p>
<pre dir="ltr">AGGREGATE sales USING sales.agg WEIGHTBY WNAFILL 0.7 salesw
</pre>
<p>When you do not want to specify a number to replace <code dir="ltr">NA</code> values, then you can use <code dir="ltr">NA</code> instead of a number, as shown in the following statement.</p>
<pre dir="ltr">AGGREGATE sales USING sales.agg WEIGHTBY WNAFILL NA salesw
</pre>
<p>Specifying <code dir="ltr">NA</code> after WNAFILL has the following effect:</p>
<ul>
<li>
<p>When the aggregation specification contains a WAVERAGE or a WSUM OPERATOR, then any child cell in the weight object that has an <code dir="ltr">NA</code> value is treated as an <code dir="ltr">NA</code> cell.</p>
</li>
<li>
<p>When the aggregation specification contains an SSUM OPERATOR, then the results depend on how the Oracle OLAP option NASKIP is set. When NASKIP is set to <code dir="ltr">YES</code>, then any <code dir="ltr">NA</code> value is treated as 0.0. However, when NASKIP is set to <code dir="ltr">NO</code>, then any <code dir="ltr">NA</code> value is treated as an <code dir="ltr">NA</code> cell.</p>
</li>
</ul>
<p class="subhead2"><a id="i1016653"></a><a id="OLADM2150"></a>Effects of Dimension Status on Aggregation</p>
<p>A RELATION statement only aggregates those source data values that are in status&mdash;whether you set the status using LIMI T statements or a LOAD STATUS clause on the RELATION statement. The parent values are calculated regardless of whether they are in status or not. For example, when only <code dir="ltr">Jan01</code>, <code dir="ltr">Feb01</code>, and <code dir="ltr">Mar01</code> are in status for the <code dir="ltr">time</code> dimension, then <code dir="ltr">Q1.01</code> is calculated (but no other quarters), and <code dir="ltr">2001</code> is calculated (but no other years) using only <code dir="ltr">Q1.01</code> as input because the other quarters are NA. This functionality is useful when you want to aggregate just the new data in your analytic workspace.</p>
<p>Assume that there is a variable named <code dir="ltr">sales</code> that is dimensioned by <code dir="ltr">time</code>, a hierarchical dimension, and <code dir="ltr">district</code>, a non-hierarchical dimension.</p>
<pre dir="ltr">DEFINE time DIMENSION TEXT
DEFINE time.parentrel RELATION time &lt;time&gt;
DEFINE district DIMENSION TEXT
DEFINE sales VARIABLE DECIMAL &lt;time district&gt;

REPORT DOWN time sales

             -----------------------SALES-----------------------
             ---------------------DISTRICT----------------------
TIME            North        South         West         East
------------ ------------ ------------ ------------ ------------
1976Q1         168,776.81   362,367.87   219,667.47   149,815.65
1976Q2         330,062.49   293,392.29   237,128.26   167,808.03
1976Q3         304,953.04   354,240.51   170,892.80   298,737.70
1976Q4         252,757.33   206,189.01   139,954.56   175,063.51
1976                   NA           NA           NA           NA
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3603"></a>Examples</p>
<p>For examples of aggregation specifications that include RELATION statements, see the examples in the <a href="#i1032719">AGGMAP</a> command.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i1025748"></a>
<div id="OLADM737" class="refsect1">
<h2 class="refsect1">AGGMAP ADD or REMOVE model</h2>
<p><a id="ABC1103122"></a>The AGGMAP ADD or <a id="ABC1103128"></a>REMOVE <a id="sthref3604"></a><a id="sthref3605"></a><a id="sthref3606"></a><a id="sthref3607"></a><a id="sthref3608"></a>model command adds or removes a previously-defined model from a previously-defined aggregation specification (that is, aggmap object of type AGGMAP). Models are used in aggregation specifications to aggregate data over a non-hierarchical dimension (such as line items), which has no parent relation and therefore cannot be aggregated by a RELATION statement. See <a href="#i1010068">MODEL (in an aggregation)</a> for details.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Although you can use the AGGMAP ADD MODEL and AGGMAP REMOVE MODEL statements to temporarily add a model to an aggmap object, typically you use a <a href="dml_commands_2.htm#i1023561">MAINTAIN ADD SESSION</a> statement like the one below to perform this action.
<p><span class="syntaxinline">MAINTAIN</span> <span class="syntaxinlineitalic">dimension</span> <span class="syntaxinline">ADD SESSION</span> <span class="syntaxinlineitalic">member</span> <span class="syntaxinline">=</span> <span class="syntaxinlineitalic">model</span> <span class="syntaxinline">APPLY TO AGGMAP</span> <span class="syntaxinlineitalic">aggmap</span></p>
<p>When you use a MAINTAIN ADD SESSION statement neither the calculated member or its definition persists from session to session; both are deleted after the session in which they are created</p>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3609"></a>Syntax</p>
<p class="synopsis">AGGMAP {ADD&nbsp;<span class="italic">model</span>&nbsp;TO&nbsp;<span class="italic">aggmap</span>|REMOVE&nbsp;<span class="italic">model&nbsp;</span>FROM&nbsp;<span class="italic">aggmap</span>}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3610"></a>Parameters</p>
<dl>
<dt>ADD</dt>
<dd>
<p>Temporarily adds a model to an aggmap object. The model is attached to the aggmap only for the duration of the session. Even when the analytic workspace has been updated and committed, the model is discarded from the aggmap when the session is closed.</p>
</dd>
<dt>REMOVE</dt>
<dd>
<p>Removes a model from an aggmap.</p>
</dd>
<dt><span class="italic">model</span></dt>
<dd>
<p>The name of the model object that you want to add to the specified aggmap.</p>
</dd>
<dt><span class="italic">aggmap</span></dt>
<dd>
<p>The name of a previously defined aggmap object of type AGGMAP.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3611"></a>Examples</p>
<div id="OLADM2151" class="example">
<p class="titleinexample"><a id="sthref3612"></a>Example 9-25 Temporarily Adding a Model to an Aggmap</p>
<p>Assume for example, that you have an aggmap object named <code dir="ltr">letter.aggmap</code> with the following definition.</p>
<pre dir="ltr">DEFINE LETTER.AGGMAP AGGMAP
AGGMAP
RELATION letter.letter PRECOMPUTE (&#39;AA&#39;)
END
</pre>
<p>Assume also that you want to create summarized variable data for the cells that are dimensioned by the dimension values <code dir="ltr">AAB</code> and <code dir="ltr">ABA</code>. However, you do not want this data to be permanently stored in the analytic workspace. You just want to see the data during your session.</p>
<p>To perform this type of aggregation, you can take the following steps:</p>
<ol>
<li>
<p>Create a dimension value for the custom aggregate. This dimension value is the parent of the dimension values <code dir="ltr">AAB</code> and <code dir="ltr">ABA</code>. The following statement adds &#39;<code dir="ltr">BB</code>&#39; to the <code dir="ltr">letter</code> dimension.</p>
<pre dir="ltr">MAINTAIN letter ADD &#39;BB&#39;
</pre></li>
<li>
<p>Create a <code dir="ltr">MODEL</code> object that contains an <code dir="ltr">AGGREGATION</code> function, which associates child dimension values with the new dimension value. The following model identifies <code dir="ltr">BB</code> as the parent of <code dir="ltr">AAB</code> and <code dir="ltr">ABA</code>. Note that the parent dimension value (in this case, BB) cannot already be defined as a parent in the parent relation (<code dir="ltr">letter.letter</code>).</p>
<pre dir="ltr">DEFINE LETTER.MODEL MODEL
MODEL
DIMENSION letter
BB=AGGREGATION(&#39;AAB&#39; &#39;ABA&#39;)
</pre></li>
<li>
<p>Execute an <code dir="ltr">AGGMAP ADD</code> statement to append the model to the existing <code dir="ltr">AGGMAP</code> object.</p>
<pre dir="ltr">AGGMAP ADD letter.model TO letter.aggmap
</pre>
<p>The aggmap now looks like this.</p>
<pre dir="ltr">DEFINE LETTER.AGGMAP AGGMAP
AGGMAP
RELATION letter.letter PRECOMPUTE (&#39;AA&#39;)
END
AGGMAP ADD letter.model
</pre></li>
<li>
<p>The model is executed only by the <code dir="ltr">AGGREGATE</code> function like the one shown here; the <code dir="ltr">AGGREGATE</code> command ignores it.</p>
<pre dir="ltr">REPORT AGGREGATE(units USING letter.aggmap)
</pre></li>
<li>
<p>When you want to remove the model from the aggmap during a session, use the <code dir="ltr">AGGMAP REMOVE</code> statement.</p>
</li>
<li>
<p>To ensure that your aggmap does not become a permanent object in the analytic workspace, before you close your session issue the following statement to delete the dimension values that you added in Step 1.</p>
<pre dir="ltr">MAINTAIN letter DELETE &#39;BB&#39;
</pre>
<p>When your session ends, Oracle OLAP automatically removes the model added using the AGGMAP ADD statement. You do not have to issue an explicit AGGMAP REMOVE statement.<a id="sthref3613"></a><a id="sthref3614"></a></p>
</li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1028030"></a>
<div id="OLADM738" class="refsect1">
<h2 class="refsect1">AGGMAP SET</h2>
<p><a id="ABC1046368"></a>Specifies the default aggmap for a variable.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also use an $AGGMAP property to specify the default aggregation specification for a variable or the $ALLOCMAP property to specify the default allocation specification for a variable.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3615"></a>Syntax</p>
<p class="synopsis">AGGMAP SET <span class="italic">aggmap</span> AS DEFAULT FOR <span class="italic">variables</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3616"></a>Parameters</p>
<dl>
<dt><span class="italic">aggmap</span></dt>
<dd>
<p>The name of a previously defined aggmap object.</p>
</dd>
<dt><span class="italic">variables</span></dt>
<dd>
<p>A text expression that is the name of one or more variables for which the specified aggmap is the default aggmap. When you specify a literal value, separate the names of the variables with commas<a id="sthref3617"></a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3618"></a>Examples</p>
<div id="OLADM2152" class="example">
<p class="titleinexample"><a id="sthref3619"></a>Example 9-26 Using AGGMAP SET to Specify a Default Aggmap</p>
<p><a href="dml_properties.htm#CHDHGJCH">Example 4-3, &#34;Using the $AGGREGATE_FROM Property&#34;</a> illustrates how the AGGREGATE command shown in <a href="#CHDJJFED">Example 9-13, &#34;Using a CACHE Statement in an Aggregation Specification&#34;</a> can be simplified to the following statement.</p>
<pre dir="ltr">AGGREGATE sales_by_revenue USING revenue_aggmap
</pre>
<p>You can further simplify the AGGREGATE command if you make <code dir="ltr">revenue_aggmap</code> the default aggmap for the <code dir="ltr">sales_by_revenue</code> variable. You can do this either by defining an $AGGMAP property on the <code dir="ltr">sales_by_revenue</code> variable or by issuing the following statement.</p>
<pre dir="ltr">AGGMAP SET revuienue_aggmap AS DEFAULT FOR sales_by_revenue
</pre>
<p>Now you can aggregate the data by issuing the following AGGREGATE command that does not include a USING clause.</p>
<pre dir="ltr">AGGREGATE sales_by_revenue
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78745"></a>
<div id="OLADM739" class="refsect1">
<h2 class="refsect1">AGGREGATE command</h2>
<p><a id="ABC1046944"></a>The AGGREGATE command calculates summary data in the variable that is specified as PRECOMPUTE in the specified aggmap. (For information about specifying precompute data, see the <a href="#BCFJGIGI">PRECOMPUTE</a> and <a href="#i1017474">RELATION (for aggregation)</a> statements of the AGGMAP command.) The aggregation is limited to those values that are currently in status.</p>
<p>Use the $AGGMAP property or the AGGREGATE function to calculate data that is not specified as precomputed data.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_functions_1.htm#i78750">AGGREGATE function</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3620"></a>Syntax</p>
<p class="synopsis">AGGREGATE|AGGR {&nbsp;<span class="italic">var</span> &nbsp;[(PARTITION <span class="italic">partition-name</span>)]}... [USING&nbsp;<span class="italic">aggmap</span>] -</p>
<p class="synopsis">[FROM <span class="italic">fromspec|</span>FROMVAR <span class="italic">textvar</span>] [FORCEORDER] [FUNCDATA]&nbsp;[COUNTVAR&nbsp;<span class="italic">countvar</span>...]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3621"></a>Parameters</p>
<dl>
<dt><span class="italic">var</span></dt>
<dd>
<p>A variable whose data values are to be calculated. Every variable in a single AGGREGATE command must have the same dimensions in the same order.</p>
</dd>
<dt>PARTITION</dt>
<dd>
<p>Specifies that you want AGGREGATE to recalculate only the values in the specified partition of the specified variable. Frequently, the reason for aggregating only a single partition is to parallelize a build using multiwriter.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Because the AGGREGATE command does not consider partition dependencies when aggregating individual partitions, aggregate only a set of non-dependent partitions within a single AGGREGATE command.</div>
</dd>
<dt><span class="italic">partition-name</span></dt>
<dd>
<p>The name of a previously-defined partition. See <a href="#i1007745">DEFINE PARTITION TEMPLATE</a></p>
</dd>
<dt>USING</dt>
<dd>
<p>This keyword indicates that the aggregation is performed using the specified aggmap. When you do not include this phrase, the command uses the default aggmap for the variable as previously specified using an AGGMAP statement or the $AGGMAP property.</p>
</dd>
<dt><span class="italic">aggmap</span></dt>
<dd>
<p>The name of a previously-defined aggmap that specifies how the data is aggregated.&nbsp;For information about aggmaps, see the <a href="#i78488">DEFINE AGGMAP</a> command.</p>
</dd>
<dt>FROM</dt>
<dd>
<p>This keyword indicates that the detail data is obtained from a different object.</p>
<p>A FROM clause is only one way in which you can specify the variable from which detail data should be obtained when performing aggregation. See <a href="#i1013876">&#34;Ways of Specifying Where to Obtain Detail Data for Aggregation&#34;</a>.</p>
</dd>
<dt><span class="italic">fromspec</span></dt>
<dd>
<p>An arbitrarily dimensioned variable, formula, or relation from which the detail data for the aggregation is obtained.</p>
</dd>
<dt>FROMVAR</dt>
<dd>
<p>This keyword indicates that the detail data is obtained from different objects to perform a capstone aggregation. (For an example of using the FROMVAR clause, see <a href="#i1014840">Example 9-32, &#34;Capstone Aggregation&#34;</a>.)</p>
<p>A FROMVAR clause is only one way in which you can specify the variable from which detail data should be obtained when performing aggregation. See <a href="#i1013876">&#34;Ways of Specifying Where to Obtain Detail Data for Aggregation&#34;</a>.</p>
</dd>
<dt><span class="italic">textvar</span></dt>
<dd>
<p>An arbitrarily dimensioned variable used to resolve any leaf nodes. Specify <code dir="ltr">NA</code> to indicate that a node does not need detail data to calculate the value.</p>
</dd>
<dt>FORCEORDER</dt>
<dd>
<p>Specifies that the calculation must be performed in the order in which the RELATION statements are listed in the aggmap. Use this option when you have changed some values calculated by the AGGREGATE command. Otherwise, the optimization methods used by the AGGREGATE command may cause the modified values to be ignored.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also set an $AGGREGATE_FORCEORDER property on a variable to specify this behavior as the default aggregation behavior. In this case, you do not have to include the FORCEORDER keyword with the AGGREGATE command.</div>
</dd>
<dt>FUNCDATA</dt>
<dd>
<p>Compiles the aggregation specification for future use by the AGGREGATE function. When you use FUNCDATA, you do not have to recompile the aggmap before using the AGGREGATE function, unless afterward you make changes to the aggmap, the relation hierarchies, or a composite.</p>
<p>When the variables have composite dimensions, the indexes (composite tuples) are created and saved for use by the AGGREGATE function. Otherwise, the indexes are re-created each time the AGGREGATE function is called. Refer to AGGINDEX for more information about composite indexes.</p>
</dd>
<dt>COUNTVAR <span class="italic">countvar</span></dt>
<dd>
<p>Indicates that Oracle OLAP should use the user-defined variable specified by <span class="italic">countvar</span> to store the non-<code dir="ltr">NA</code> counts of the number of leaf nodes that contributed to aggregate values calculated for RELATION statements that have an AVERAGE, HAVERAGE, HWAVERAGE, or WAVERAGE operator.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Typically, you do <span class="italic">not</span> use a user-defined Countvar variable to store the counts for average aggregations. Instead, you use an Oracle OLAP-created Aggcount variable. You <span class="italic">must</span> use an Aggcount variable when the aggregation specification includes a RELATION statement with an average operator is for a compressed composite.
<p>For more information on Aggcount variables, see <a href="#CIHFEAGE">&#34;Aggcount Variables&#34;</a>.</p>
</div>
<p>The <span class="italic">countvar</span> variable must be an <code dir="ltr">INTEGER</code> variable with the same dimensions in the same order as the dimensions of the variable specified by <span class="italic">var</span>. When you aggregate several variables together, you must define an <code dir="ltr">INTEGER</code> variable for each one to record the results.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3622"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2153"></a>Effect of Status on AGGREGATE</p>
<p>The current status only affects dimension values at the lowest level of the hierarchy, that is, the leaf nodes. Only leaf-node dimension values that are currently in status are aggregated. The parent values of leaf nodes in status are calculated, whether the parent values are in status or not (unless you exclude the dimension values in those levels with a PRECOMPUTE clause in the <a href="#i1032719">AGGMAP</a> command). Thus, when you want to aggregate all of the data specified in the aggmap, then be sure to set the status of the dimensions to ALL before performing the aggregation.</p>
<p>AGGREGATE uses the parent relation to distinguish among dimension values at different levels of the hierarchy. Alternatively, you can perform a partial aggregation of the data by limiting status. However, this must be done carefully when some data is aggregated at run time by the AGGREGATE function. See the notes in the <a href="dml_functions_1.htm#i78750">AGGREGATE function</a> topic for more information.</p>
<p>For example, suppose you use the <code dir="ltr">area</code> dimension and the <code dir="ltr">area.area</code> child-parent relation that supports one hierarchy for a geography dimension as illustrated in <a href="#g1042780">Table 9-2, &#34;Geography Hierarchy&#34;</a>.</p>
<div id="OLADM2154" class="tblformal">
<p class="titleintable"><a id="sthref3623"></a><a id="g1042780"></a>Table 9-2 Geography Hierarchy</p>
<table class="cellalignment3618" title="Geography Hierarchy" summary="This table shows the values for a child-parent relation that supports on hierarchy for a geography dimension." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t36">Level</th>
<th class="cellalignment3616" id="r1c2-t36">area Dimension</th>
<th class="cellalignment3616" id="r1c3-t36">area.area Parent Relation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t36" headers="r1c1-t36">
<p>1</p>
</td>
<td class="cellalignment3617" headers="r2c1-t36 r1c2-t36">
<p><code dir="ltr">TotalUS</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t36 r1c3-t36">
<p><code dir="ltr">NA</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t36" headers="r1c1-t36">
<p>2</p>
</td>
<td class="cellalignment3617" headers="r3c1-t36 r1c2-t36">
<p><code dir="ltr">East</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t36 r1c3-t36">
<p><code dir="ltr">TotalUS</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t36" headers="r1c1-t36">
<p>2</p>
</td>
<td class="cellalignment3617" headers="r4c1-t36 r1c2-t36">
<p><code dir="ltr">South</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t36 r1c3-t36">
<p><code dir="ltr">TotalUS</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t36" headers="r1c1-t36">
<p>3</p>
</td>
<td class="cellalignment3617" headers="r5c1-t36 r1c2-t36">
<p><code dir="ltr">Boston</code></p>
</td>
<td class="cellalignment3617" headers="r5c1-t36 r1c3-t36">
<p><code dir="ltr">East</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t36" headers="r1c1-t36">
<p>3</p>
</td>
<td class="cellalignment3617" headers="r6c1-t36 r1c2-t36">
<p><code dir="ltr">New York</code></p>
</td>
<td class="cellalignment3617" headers="r6c1-t36 r1c3-t36">
<p><code dir="ltr">East</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t36" headers="r1c1-t36">
<p>3</p>
</td>
<td class="cellalignment3617" headers="r7c1-t36 r1c2-t36">
<p><code dir="ltr">Atlanta</code></p>
</td>
<td class="cellalignment3617" headers="r7c1-t36 r1c3-t36">
<p><code dir="ltr">South</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>Now suppose you change the data value for <code dir="ltr">New</code> <code dir="ltr">York</code>. When you then use AGGREGATE with only <code dir="ltr">New</code> <code dir="ltr">York</code>, the calculation occurs without including the child value for <code dir="ltr">South</code> (<code dir="ltr">Atlanta</code>), but still includes level <code dir="ltr">2</code> as it goes from level <code dir="ltr">3</code> to level <code dir="ltr">1</code> (<code dir="ltr">TotalUS</code>). When you want <span class="italic">all</span> the child values included in rolling up to <code dir="ltr">TotalUS</code>, use <code dir="ltr">a LIMIT TO ALL</code> statement before you execute the AGGREGATE command.</p>
<p>When the data has changed for some, but not all, of the child values in a hierarchy, you can set the status to calculate just the values that have changed. For example, when your embedded-total dimension is called <code dir="ltr">d2</code>, and its parent relation is called <code dir="ltr">reld2</code>, first limit <code dir="ltr">d2</code> to the values that have changed.</p>
<p>To calculate the data for every hierarchy in a dimension, limit the dimension&#39;s hierarchy dimension to <code dir="ltr">ALL</code> before you execute the AGGREGATE command.</p>
<p class="subhead2"><a id="OLADM2155"></a>Controlling the Amount of Data That Is Calculated</p>
<p>You can control how much of the variable data is calculated by using the PRECOMPUTE keyword with the RELATION statement in the aggmap. Use the limit clause (after the PRECOMPUTE keyword) to set the status of the dimension.</p>
<p class="subhead2"><a id="OLADM2156"></a>When Users Modify Data</p>
<p>When users are able to change the data in a variable, then calculate aggregates on the fly using the AGGREGATE function, so that their changes are reflected in the aggregate data. See the <a href="dml_functions_1.htm#i78750">AGGREGATE function</a> for more information about run-time changes to the data.</p>
<p class="subhead2"><a id="OLADM2157"></a>Generation-Skipping Hierarchies</p>
<p>AGGREGATE automatically distinguishes between generations in the parent relation, even to the extent of allowing <span class="italic">generation-skipping</span> hierarchies. For example, you can have a four-level hierarchy (for example, <code dir="ltr">neighborhoods</code>, <code dir="ltr">cities</code>, <code dir="ltr">states</code>, and <code dir="ltr">totalUS</code>) that has a three-level branch (for example, <code dir="ltr">Boston</code>, <code dir="ltr">Massachusetts</code>, and <code dir="ltr">totalUS</code>).</p>
<p class="subhead2"><a id="OLADM2158"></a>Restrictions on Permissions</p>
<p>AGGREGATE does not work on variables that have cell-by-cell permissions; it immediately return an error. It also ignores the PERMITERROR option. However, AGGREGATE operates on variables with object level or dimension level permission. See the <a href="dml_commands_2.htm#i79588">PERMIT</a> command and <a href="dml_options.htm#i79593">PERMITERROR</a> option.</p>
<p class="subhead2"><a id="i1013876"></a><a id="OLADM2159"></a>Ways of Specifying Where to Obtain Detail Data for Aggregation</p>
<p>You can specify where to obtain detail data when aggregating data in the following ways:</p>
<ul>
<li>
<p>Assign either an $AGGREGATE_FROM property or an $AGGREGATE_FROMVAR property to a variable.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
You can only assign one of these properties to a variable. A variable cannot have both the $AGGREGATE_FROM and $AGGREGATE_FROMVAR properties assigned to it.</div>
</li>
<li>
<p>Include either a FROM or FROMVAR clause in the AGGREGATE command or AGGREGATE function that aggregates the data.</p>
</li>
</ul>
<p>When performing an aggregation, Oracle OLAP determines where to obtain the detail data as follows:</p>
<ol>
<li>
<p>When a location has been specified using a FROM or FROMVAR clause, Oracle OLAP uses the detail data at that location.</p>
</li>
<li>
<p>When a location has not been specified using a FROM or FROMVAR clause, Oracle OLAP checks to see if a location has been specified using an $AGGREGATE_FROM property or an $AGGREGATE_FROMVAR property. When a location has been specified using one of these properties, Oracle OLAP uses the detail data at that location.</p>
</li>
<li>
<p>When a location has not been specified using either FROM or FROMVAR clause or an $AGGREGATE_FROM property or an $AGGREGATE_FROMVAR property, Oracle OLAP performs the aggregation using the detail data in the variable itself.</p>
</li>
</ol>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3624"></a>Examples</p>
<p>This section contains several examples of using the AGGREGATE command. For additional aggregation examples, see the examples in the <a href="#i1032719">AGGMAP</a> command.</p>
<div id="OLADM2160" class="example">
<p class="titleinexample"><a id="CACEHBCH"></a><a id="i1034615"></a>Example 9-27 Precalculating Data in a Batch Job</p>
<p>Frequently, you generate precalculated aggregates in a batch window as part of maintaining the data in your database. For example, you can use Job Manager to schedule batch jobs in Oracle Enterprise Manager, as described in <span class="italic">Oracle OLAP User&#39;s Guide.</span></p>
<p>To generate precalculated aggregates, you use the AGGREGATE command. The AGGREGATE command aggregates the data for one or more variables according to the specifications provided in the aggmap.</p>
<p>Your batch job should include statements like the following<a id="sthref3625"></a>.</p>
<pre dir="ltr">AGGREGATE sales units USING gpct.aggmap
UPDATE
COMMIT
</pre></div>
<!-- class="example" -->
<div id="OLADM2161" class="example">
<p class="titleinexample"><a id="i80192"></a>Example 9-28 Aggregating One Variable</p>
<p>Suppose your analytic workspace contains a variable named <code dir="ltr">actuals</code>, which has the following definition.</p>
<pre dir="ltr">DEFINE actuals DECIMAL &lt;time, SPARSE &lt;product, customer, channel&gt;&gt;
</pre>
<p>The next step is to define an aggmap object, whose definition has the same dimensions in the same dimension order. Suppose you define an aggmap object named <code dir="ltr">act.agg</code> using DEFINE AGGMAP.</p>
<pre dir="ltr">DEFINE act.agg AGGMAP &lt;time, SPARSE &lt;product, customer, channel&gt;&gt;
</pre>
<p>Suppose that the name of the hierarchy for the <code dir="ltr">time</code> dimension is <code dir="ltr">time.r</code>, the name of the <code dir="ltr">product</code> dimension is <code dir="ltr">product.r</code>, and so on Next, you use an AGGMAP statement to add the following text in the <code dir="ltr">act.agg</code> aggmap.</p>
<pre dir="ltr">AGGMAP
RELATION time.r
RELATION product.r
RELATION customer.r
RELATION channel.r
END
</pre>
<p>The preceding text specifies the name of each dimension&#39;s hierarchy for which data should be rolled up. Assuming that the current status of every dimension is <code dir="ltr">ALL</code>, data is calculated for every dimension value of every dimension in the definition of <code dir="ltr">actuals</code>. No data is calculated on the fly.</p>
<p>Use the following statements to calculate the <code dir="ltr">actuals</code> variable. (It is not necessary to compile the aggmap, because the compilation is included as part of the AGGREGATE command.)</p>
<pre dir="ltr">AGGREGATE actuals USING act.agg
</pre></div>
<!-- class="example" -->
<div id="OLADM2162" class="example">
<p class="titleinexample"><a id="sthref3626"></a>Example 9-29 Aggregating Multiple Variables</p>
<p>Suppose your analytic workspace contains a variable named <code dir="ltr">actuals</code> and a variable named <code dir="ltr">forecast</code>. As shown in the following variable definitions, these variables have the same dimensions in the same dimension order.</p>
<pre dir="ltr">DEFINE actuals DECIMAL &lt;time, SPARSE &lt;product, customer, channel&gt;&gt;
DEFINE forecast DECIMAL &lt;time, SPARSE &lt;product, customer, channel&gt;&gt;
</pre>
<p>The next step is to define an aggmap object, whose definition has the same dimensions in the same dimension order. Suppose you define the same aggmap object named <code dir="ltr">act.agg</code>, as described in <a href="#i80192">&#34;Aggregating One Variable&#34;</a>. When you want the data for each variable to be rolled up in the same way, you can use the same aggmap to calculate both variables in a single statement.</p>
<p>Use the following statements to calculate the <code dir="ltr">actuals</code> and the <code dir="ltr">forecast</code> variables.</p>
<pre dir="ltr">AGGREGATE actuals forecast USING act.agg
</pre>
<p>Because the aggmap specifies that all data for every dimension value in each dimension should be rolled up, this statement rolls up all of the data in <code dir="ltr">actuals</code> and all of the data in <code dir="ltr">forecast</code>.</p>
</div>
<!-- class="example" -->
<div id="OLADM2163" class="example">
<p class="titleinexample"><a id="sthref3627"></a>Example 9-30 Using COUNTVAR with Multiple Variables</p>
<p>Suppose you plan to use one AGGREGATE command to aggregate the data for three variables: <code dir="ltr">sales</code>, <code dir="ltr">units</code>, and <code dir="ltr">projected_sales</code>. Each variable has the following dimensionality.</p>
<pre dir="ltr">&lt;month product geography&gt;
</pre>
<p>To tally the results with COUNTVAR, you must define three <code dir="ltr">INTEGER</code> variables that have the same dimensionality as <code dir="ltr">sales</code>, <code dir="ltr">units</code>, and <code dir="ltr">projected_sales</code>.</p>
<pre dir="ltr">DEFINE intsales INTEGER &lt;month product geography&gt;
DEFINE intunits INTEGER &lt;month product geography&gt;
DEFINE intprojsales INTEGER &lt;month product geography&gt;
</pre>
<p>You can then specify the <code dir="ltr">INTEGER</code> variables in the following statement.</p>
<pre dir="ltr">AGGREGATE sales units projected_sales USING sales.agg -
  COUNTVAR intsales intunits inprojsales
</pre></div>
<!-- class="example" -->
<div id="OLADM2164" class="example">
<p class="titleinexample"><a id="sthref3628"></a>Example 9-31 Performing a Partial Aggregation</p>
<p>This example limits the <code dir="ltr">time</code> dimension to the last two time periods, so that only newly loaded data is aggregated.</p>
<p>The <code dir="ltr">tp2.agg</code> aggmap specifies preaggregation for all detail data currently in status.</p>
<pre dir="ltr">DEFINE TP2.AGG AGGMAP
LD Full preaggregation
AGGMAP
RELATION time.parentrel PRECOMPUTE (ALL)
RELATION product.parentrel PRECOMPUTE (ALL)
END
</pre>
<p>For the aggregation, <code dir="ltr">time</code> is limited to the last two time periods and all <code dir="ltr">product</code> values are in status.</p>
<pre dir="ltr">LIMIT time TO LAST 2
STATUS time product
The current status of TIME is:
Apr02, May02
LIMIT product TO ALL
</pre>
<p>The following AGGREGATE statement calculates <code dir="ltr">units</code> using the <code dir="ltr">tp2.agg</code> aggmap.</p>
<pre dir="ltr">AGGREGATE units USING tp2.agg
</pre>
<p>The results of this aggregation show that parent values are calculated, regardless of their own status, when their children are in status.</p>
<pre dir="ltr">LIMIT time TO &#39;2002&#39; &#39;Q1.02&#39; &#39;Q2.02&#39; &#39;Jan02&#39; to &#39;May02&#39;
REPORT DOWN time units
</pre>
<pre dir="ltr"> -----------------------------------------UNITS-----------------------------------------
 ----------------------------------------PRODUCT----------------------------------------
TIME     FOOD      SNACKS    DRINKS   POPCORN   COOKIES   CAKES     SODA      JUICE
-------  --------  --------  -------- --------  --------  --------  --------  --------
2002     38        24        14       6         9         9         9         5
Q1.02    NA        NA        NA       NA        NA        NA        NA        NA
Q2.02    38        24        14       6         9         9         9         5
Jan02    NA        NA        NA       8         2         4         5         8
Feb02    NA        NA        NA       5         3         2         2         5
Mar02    NA        NA        NA       3         4         4         2         4
Apr02    21        13        8        2         7         4         6         2
May02    17        11        6        4         2         5         3         3
</pre></div>
<!-- class="example" -->
<div id="OLADM2165" class="example">
<p class="titleinexample"><a id="BCFIGIJJ"></a><a id="i1014840"></a>Example 9-32 Capstone Aggregation</p>
<p>Assume that your analytic workspace has the two hierarchical <code dir="ltr">TEXT</code> dimensions named <code dir="ltr">geog.d</code> and <code dir="ltr">time.d</code> with the following values.</p>
<pre dir="ltr">GEOG.D
--------------
Boston
Medford
San Diego
Sunnydale
Massachusetts
California
United States

TIME.D
--------------
Jan76
Feb76
Mar76
76Q1
</pre>
<p>Assume, also, that there are four variables with the following definitions</p>
<pre dir="ltr">DEFINE sales_jan76 VARIABLE INTEGER &lt;geog.d&gt;
DEFINE sales_feb76 VARIABLE INTEGER &lt;geog.d&gt;
DEFINE sales_mar76 VARIABLE INTEGER &lt;geog.d&gt;
DEFINE sales_capstone76 VARIABLE INTEGER &lt;geog.d time.d&gt;
</pre>
<p>Assume that you issue the following REPORT statements for the variables. The output of the reports show the detail data in the variables.</p>
<pre dir="ltr">REPORT sales_jan76  sales_feb76 sales_mar76
REPORT DOWN geog.d sales_capstone76

GEOG.D         SALES_JAN76  SALES_FEB76  SALES_MAR76
-------------- ------------ ------------ ------------
Boston                1,000        2,000        3,000
Medford               2,000        4,000        6,000
San Diego             3,000        6,000        9,000
Sunnydale             4,000        8,000       12,000
Massachusetts            NA           NA           NA
California               NA           NA           NA
United States            NA           NA           NA

               -----------------SALES_CAPSTONE76------------------
               ----------------------TIME.D-----------------------
GEOG.D            Jan76        Feb76        Mar76         76Q1
-------------- ------------ ------------ ------------ ------------
Boston                   NA           NA           NA           NA
Medford                  NA           NA           NA           NA
San Diego                NA           NA           NA           NA
Sunnydale                NA           NA           NA           NA
Massachusetts            NA           NA           NA           NA
California               NA           NA           NA           NA
United States            NA           NA           NA           NA
</pre>
<ol>
<li>
<p>Define two aggmap objects with the following definitions.</p>
<pre dir="ltr">DEFINE leaf_aggmap AGGMAP
AGGMAP
RELATION geog.parentrel OPERATOR SUM
END

DEFINE capstone_aggmap AGGMAP
AGGMAP
RELATION time.parentrel OPERATOR SUM
END
</pre></li>
<li>
<p>Define a variable named <code dir="ltr">capstone_source</code> with the following definition to use to aggregate the data.</p>
<pre dir="ltr">DEFINE capstone_source VARIABLE TEXT &lt;time.d&gt;
</pre>
<p>As the following output of a REPORT statement illustrates, for each value of <code dir="ltr">time.d</code>, you populate <code dir="ltr">capstone_source</code> with the name of the variable that contains the corresponding sales data.</p>
<pre dir="ltr">TIME.D            CAPSTONE_SOURCE
-------------- ----------------------
Jan76          sales_jan76
Feb76          sales_feb76
Mar76          sales_mar76
76Q1           NA
</pre></li>
<li>
<p>Issue the following statements to aggregate the variables.</p>
<pre dir="ltr">AGGREGATE sales_jan76 sales_feb76 sales_mar76 USING leaf_aggmap
AGGREGATE sales_capstone76 USING capstone_aggmap FROMVAR capstone_source
</pre>
<p>After aggregating the variables, when you issue the REPORT statements, the variables are populated with the calculated data.</p>
<pre dir="ltr">REPORT sales_jan76  sales_feb76 sales_mar76
REPORT DOWN geog.d sales_capstone76

GEOG.D         SALES_JAN76  SALES_FEB76  SALES_MAR76
-------------- ------------ ------------ ------------
Boston                1,000        2,000        3,000
Medford               2,000        4,000        6,000
San Diego             3,000        6,000        9,000
Sunnydale             4,000        8,000       12,000
Massachusetts         3,000        6,000        9,000
California            7,000       14,000       21,000
United States        10,000       20,000       30,000

               -----------------SALES_CAPSTONE76------------------
               ----------------------TIME.D-----------------------
GEOG.D            Jan76        Feb76        Mar76         76Q1
-------------- ------------ ------------ ------------ ------------
Boston                1,000        2,000        3,000        6,000
Medford               2,000        4,000        6,000       12,000
San Diego             3,000        6,000        9,000       18,000
Sunnydale             4,000        8,000       12,000       24,000
Massachusetts         3,000        6,000        9,000       18,000
California            7,000       14,000       21,000       42,000
United States        10,000       20,000       30,000       60,000
</pre></li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78760"></a>
<div id="OLADM740" class="refsect1">
<h2 class="refsect1">ALLCOMPILE</h2>
<p><a id="ABC1047964"></a>The ALLCOMPILE program compiles every compilable object in your current analytic workspace, one at a time. As it works, ALLCOMPILE sends to the current outfile messages that show the name of the object being compiled.</p>
<p>ALLCOMPILE uses the COMPILE command. Consequently, it checks for syntax errors as it compiles an object, and it records error messages in the current outfile as appropriate.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3629"></a>Syntax</p>
<p class="synopsis">ALLCOMPILE&nbsp;[<span class="italic">n</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3630"></a>Parameters</p>
<dl>
<dt><span class="italic">n</span></dt>
<dd>
<p>An <code dir="ltr">INTEGER</code> expression with a value of zero or higher. The expression specifies the number of objects to be compiled before an UPDATE statement is executed. For example, when you specify <code dir="ltr">1</code>, an UPDATE statement is executed after each object is compiled. When you specify <code dir="ltr">0</code> (zero), all the objects are compiled and an UPDATE statement is executed only at the end. When you omit the argument, no UPDATE statement is executed by ALLCOMPILE. Frequent updates during an ALLCOMPILE help ensure the most efficient use of space in the analytic workspace.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3631"></a>Examples</p>
<div id="OLADM2166" class="example">
<p class="titleinexample"><a id="sthref3632"></a>Example 9-33 ALLCOMPILE Output</p>
<p>The following example shows the output of ALLCOMPILE when it is run on an analytic workspace that contains four programs<a id="sthref3633"></a>.</p>
<pre dir="ltr">Compiling AUTOGO
Compiling READIT
Compiling REGION.REPORT
Compiling SALES.REPORT 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1030856"></a>
<div id="OLADM741" class="refsect1">
<h2 class="refsect1">ALLOCATE</h2>
<p><a id="ABC1047994"></a>The ALLOCATE command calculates lower-level data from upper-level data by allocating variable data down a hierarchical dimension. Frequently you allocate data for budgeting, forecasting, and profitability analysis.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3634"></a>Syntax</p>
<p class="synopsis">ALLOCATE <span class="italic">source</span> [SOURCE <span class="italic">conjoint</span>] [BASIS <span class="italic">basisname</span> [ACROSS <span class="italic">dimname</span>]] - [TARGET <span class="italic">targetname</span> [TARGETLOG <span class="italic">targetlogname</span>]] - [USING <span class="italic">aggmap</span>] [ERRORLOG <span class="italic">errorlogfileunit</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3635"></a>Parameters</p>
<dl>
<dt><span class="italic">source</span></dt>
<dd>
<p>A variable or formula that provides the values to allocate. When the <span class="italic">source</span> object is a formula, you must also specify a variable with the TARGET keyword. When you specify a variable as <span class="italic">source</span> and you do not specify a target variable or a <span class="italic">basisname</span> variable, then ALLOCATE uses <span class="italic">source</span> as the basis and the target.</p>
</dd>
<dt>SOURCE <span class="italic">conjoint</span></dt>
<dd>
<p>Specifies a conjoint dimension that contains a list of cells the user has changed. The ALLOCATE command uses this list to produce the smallest target status needed to allocate all of the changed source cells.</p>
</dd>
<dt>BASIS <span class="italic">basisname</span></dt>
<dd>
<p>Specifies a variable, relation, or formula that provides the data on which the allocation is based. That data determines which cells of the target receive allocated values and, in an even or proportional operation, the amount of the source allocated to a target cell.</p>
<p>When the OPERATOR specified by a RELATION (for allocation) statement in <span class="italic">aggmap</span> is a COPY operator (COPY, MIN, MAX, FIRST, LAST), the basis tells the ALLOCATE command which target cells to update. When the OPERATOR specified is EVEN, then ALLOCATE derives the counts that it uses for allocation from the basis. When the OPERATOR specified is the PROPORTIONAL, then ALLOCATE uses the basis data to determine the amount to allocate to each target cell. When the OPERATOR is HCOPY, HFIRST, HLAST, or HEVEN, then ALLOCATE does not use a BASIS object. Instead, it allocates the source data to all of the target cells in the dimension hierarchy that is specified by the relation named in the RELATION statement.</p>
<p>When you specify the same variable as both the basis and the target, the current values of the target cells determine the allocation. When you do not specify a basis, then the ALLOCATE command uses the source as the basis.</p>
</dd>
<dt>ACROSS <span class="italic">dimname</span></dt>
<dd>
<p>Specifies a dimension, which can be a named composite, that the ALLOCATE command loops over to discover the cells in a basis. Because a basis can be a formula, you can realize a significant performance advantage by supplying a looping dimension that eliminates the sparsity from the basis loop.</p>
</dd>
<dt>TARGET <span class="italic">targetname</span></dt>
<dd>
<p>Specifies a variable to hold the allocated values. When the source object is a formula, then you must specify a target. When the source object is a variable and you do not specify a target, then ALLOCATE uses the source variable as the target.</p>
</dd>
<dt>TARGETLOG <span class="italic">targetlogname</span></dt>
<dd>
<p>Specifies a variable (identically dimensioned to the <span class="italic">targetname</span> variable), or a relation that specifies such a variable, to which ALLOCATE assigns a copy of the allocation. For instance, when ALLOCATE assigns the value of <code dir="ltr">100</code> to the cell of the <code dir="ltr">costs</code> variable that is specified by the <code dir="ltr">time</code> and <code dir="ltr">product</code> dimension values <code dir="ltr">Jan01</code> and <code dir="ltr">TV</code>, and the <code dir="ltr">targetlog</code> relation specifies the cell of the <code dir="ltr">costacct</code> variable that is specified by the same dimension values, then ALLOCATE assigns the value of <code dir="ltr">100</code> to the specified <code dir="ltr">costacct</code> cell, also.</p>
</dd>
<dt>USING <span class="italic">aggmap</span></dt>
<dd>
<p>Specifies the name of a previously-defined aggmap to use for the allocation. When you do not include this phrase, the command uses the default allocation specification for the variable as previously specified using the $ALLOCMAP property.</p>
</dd>
<dt>ERRORLOG <span class="italic">errorlogfileunit</span></dt>
<dd>
<p>Specifies a file unit that ALLOCATE uses for logging allocation deadlocks, errors, or other information. When the allocation does not generate any deadlocks or errors, ALLOCATE sets <span class="italic">errorlogname</span> to <code dir="ltr">NA</code>. When the allocation produces one or more deadlocks or errors, the events are sent to the specified file. ALLOCATE writes one line in the file for each allocation source that remains unallocated.</p>
<p>When you do not specify a file unit with ERRORLOG, ALLOCATE sends the information to the standard output device.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3636"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2167"></a>Preserving Original Basis Values</p>
<p>Often the source, basis, and target objects are the same variable and therefore the original values in the cells of the target variable determine the proportions of the allocation. The allocation overwrites those original values in the target cells with the allocated values. To preserve original values in a variable, specify the original variable as the basis object and save the allocated values to a new variable as the target object. Using different basis and target objects makes it possible for you to preview the allocated data. When you then want to store the allocated values in the same variable as the basis, you can perform the allocation again with the same object as the basis and the target. Another example of using different basis and target objects is using an <code dir="ltr">actuals</code> variable as the basis of the allocation and a budget variable as the target.</p>
<p class="subhead2"><a id="OLADM2168"></a>Using a Formula as a Source or Basis</p>
<p>Source and basis objects can be formulas, which makes it possible for you to make complex computations and have the results be the source or basis object. For example, when you want to see the sales of individual products that would be necessary to produce a thirty percent increase in sales for the next year, you could express the increase in the following formula.</p>
<pre dir="ltr">DEFINE actualsWanted DECIMAL FORMULA &lt;time, product&gt;
EQ LAG(actuals, 1, time) * 1.3
</pre>
<p>You would then use ACTUALSWANTED as the <span class="italic">source</span> object with the ALLOCATE command. In this example, you would use the ACTUALS variable as the basis.</p>
<p class="subhead2"><a id="OLADM2169"></a>Tracking Multiple Allocations</p>
<p>When you specify a variable with the TARGETLOG argument, you can store an allocated value in that variable and in the <code dir="ltr">target</code> variable. This double entry allocation makes it possible for you to track multiple allocations to the same target cell. For example, when you allocate a series of different costs to the same costs centers, then each allocation increases the values in the target cells. You can keep track of the individual allocations by specifying a different <span class="italic">targetlogname</span> variable for each allocation.</p>
<p class="subhead2"><a id="OLADM2170"></a>Logging Allocation Errors</p>
<p>When you specify a file with the ERRORLOG argument, you can record errors that result from locks and <code dir="ltr">NA</code> basis values. The log can provide feedback to an application about which source values remain unallocated. You can use the information to modify the allocation, for example by using a hierarchical operator such as HEVEN in a RELATION statement in the aggmap. You can use the ALLOCERRLOGHEADER and ALLOCERRLOGFORMAT options to format the error log. Within an allocation specification, you can specify other aspects of the error log using the ERRORLOG and ERRORMASK statements.</p>
<p class="subhead2"><a id="OLADM2171"></a>Logging the Progress of an Allocation</p>
<p>With the cube operations log, you can record and monitor the progress of an allocation. You can use the file to get feedback during a lengthy allocation and to gain information that might be useful for optimizing the allocation in the future.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ARPLS72789" href="../ARPLS/d_cube_log.htm#ARPLS72789"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the cube operations log and the DBMS_CUBE_LOG package</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3637"></a>Examples</p>
<div id="OLADM2172" class="example">
<p class="titleinexample"><a id="sthref3638"></a>Example 9-34 Direct Even Allocation</p>
<p>This example allocates a value specified at one level of the <code dir="ltr">time</code> dimension hierarchy directly to the variable target cells that are specified by lower level values in the hierarchy without allocating values to an intermediate level. The <code dir="ltr">timemonthyear</code> relation specifies the hierarchical relationship of the <code dir="ltr">time</code> values. The source, basis, and target of the allocation are all the same variable, PROJBUDGET, which is dimensioned by <code dir="ltr">division</code>, <code dir="ltr">time</code>, and <code dir="ltr">line</code>. The <code dir="ltr">time</code> dimension is a nonunique concat dimension that has as its base dimensions <code dir="ltr">year</code>, <code dir="ltr">quarter</code>, and <code dir="ltr">month</code>. The <code dir="ltr">time</code> dimension is limited to <code dir="ltr">&lt;year: Yr02&gt;</code>, <code dir="ltr">&lt;quarter: Q1.02&gt;</code>, <code dir="ltr">&lt;quarter: q1.02&gt;</code>, and <code dir="ltr">&lt;month: Jan02&gt;</code> to <code dir="ltr">&lt;month: Jun02&gt;</code>. The following statements define the <code dir="ltr">projbudget</code> variable, set the value of a cell in to <code dir="ltr">6000</code> and then report the variable.</p>
<pre dir="ltr">DEFINE projbudget VARIABLE DECIMAL &lt;division time line&gt;
projbudget(division &#39;CAMPING&#39; time &#39;&lt;YEAR: YR02&gt;&#39; line  &#39;MARKETING&#39;) = 6000
REPORT projbudget
</pre>
<p>The preceding statement produces the following results.</p>
<pre dir="ltr">LINE: MARKETING
                 -PROJBUDGET--
                 --DIVISION---
TIME                CAMPING
---------------- -------------
&lt;year: Yr02&gt;          6,000.00
&lt;quarter: Q1.02&gt;            NA
&lt;quarter: Q2.02&gt;            NA
&lt;month: Jan02&gt;              NA
&lt;month: Feb02&gt;              NA
&lt;month: Mar02&gt;              NA
&lt;month: Apr02&gt;              NA
&lt;month: May02&gt;              NA
&lt;month: Jun02&gt;              NA
</pre>
<p>The following statements define a self-relation on the <code dir="ltr">time</code> dimension, relate the <code dir="ltr">month</code> values directly to the <code dir="ltr">year</code> values, and report the values of the relation.</p>
<pre dir="ltr">DEFINE timemonthyear RELATION time &lt;time&gt;
LIMIT month TO &#39;JAN02&#39; TO &#39;JUN02&#39;
timemonthyear(time month) = &#39;&lt;YEAR: YR02&gt;&#39;
REPORT timemonthyear
</pre>
<p>The preceding statement produces the following results.</p>
<pre dir="ltr">TIME             TIMEMONTHYEAR
---------------- -------------
&lt;year: Yr02&gt;     NA
&lt;quarter: Q1.02&gt; NA
&lt;quarter: Q2.02&gt; NA
&lt;month: Jan02&gt;   &lt;year: Yr02&gt;
&lt;month: Feb02&gt;   &lt;year: Yr02&gt;
&lt;month: Mar02&gt;   &lt;year: Yr02&gt;
&lt;month: Apr02&gt;   &lt;year: Yr02&gt;
&lt;month: May02&gt;   &lt;year: Yr02&gt;
&lt;month: Jun02&gt;   &lt;year: Yr02&gt;
</pre>
<p>The following statements define an aggmap and enter statements into the allocation specification. They allocate the value that is specified by <code dir="ltr">&lt;year: Yr02&gt;</code> from <code dir="ltr">projbudget</code> to the cells of the same variable that are specified by the <code dir="ltr">month</code> dimension values, and then report <code dir="ltr">projbudget</code>. The target cells of the variable have <code dir="ltr">NA</code> values so the RELATION statement in the allocation specification specifies the HEVEN operator. The ALLOCATE command specifies only one variable, <code dir="ltr">projbudget</code>, so that variable is the source and target of the allocation. No basis object is required because the allocation is an HEVEN operation. The allocation is directly from the <code dir="ltr">year</code> source value to the <code dir="ltr">month</code> target values because that is the hierarchy specified by the relation in the allocation specification.</p>
<pre dir="ltr">DEFINE projbudgmap AGGMAP
ALLOCMAP 
RELATION timemonthyear OPERATOR HEVEN
END
ALLOCATE projbudget USING projbudgmap
REPORT projbudget
</pre>
<p>The preceding statement produces the following results.</p>
<pre dir="ltr">LINE: MARKETING
                 -PROJBUDGET--
                 --DIVISION---
TIME                CAMPING
---------------- -------------
&lt;YEAR: YR02&gt;          6,000.00
&lt;QUARTER: Q1.02&gt;            NA
&lt;QUARTER: Q2.02&gt;            NA
&lt;MONTH: JAN02&gt;        1,000.00
...
&lt;MONTH: JUN02&gt;        1,000.00
</pre></div>
<!-- class="example" -->
<div id="OLADM2173" class="example">
<p class="titleinexample"><a id="CACDEJHD"></a>Example 9-35 Recursive Even Allocation with a Lock</p>
<p>This example allocates a value specified at one level of the <code dir="ltr">time</code> dimension hierarchy first to the target cells at an intermediate level in a variable and then to the cells that are specified by the lowest level values in the hierarchy. The <code dir="ltr">timeparent</code> relation specifies the hierarchical relationship of the <code dir="ltr">time</code> values. The source, basis, and target of the allocation are <code dir="ltr">projbudget</code>. The status of the <code dir="ltr">division</code>, <code dir="ltr">time</code>, and <code dir="ltr">line</code> dimensions are the same as the direct allocation example. At the beginning of this example, the <code dir="ltr">projbudget</code> variable again has just the single value, <code dir="ltr">6000</code>, in the cell specified by <code dir="ltr">&lt;year: Yr02&gt;</code>.</p>
<pre dir="ltr">DEFINE timeparent RELATION time &lt;time&gt;
LIMIT quarter TO &#39;Q1.02&#39; &#39;Q2.02&#39;
timeparent(time quarter) = &#39;&lt;YEAR: YR02&gt;&#39;
LIMIT month TO &#39;JAN02&#39; TO &#39;MAR02&#39;
timeparent(time month) = &#39;&lt;QUARTER: Q1.02&gt;&#39;
LIMIT month TO &#39;APR02&#39; TO &#39;JUN02&#39;
timeparent(time month) = &#39;&lt;QUARTER: Q1.02&gt;&#39;
REPORT timeparent
</pre>
<p>The preceding statement produces the following results.</p>
<pre dir="ltr">TIME             TIMEPARENT
---------------- -------------
&lt;year: Yr02&gt;     NA
&lt;quarter: Q1.02&gt; &lt;year: Yr02&gt;
&lt;quarter: Q2.02&gt; &lt;year: Yr02&gt;
&lt;month: Jan02&gt;   &lt;quarter: Q1.02&gt;
&lt;month: Feb02&gt;   &lt;quarter: Q1.02&gt;
&lt;month: Mar02&gt;   &lt;quarter: Q1.02&gt;
&lt;month: Apr02&gt;   &lt;quarter: Q2.02&gt;
&lt;month: May02&gt;   &lt;quarter: Q2.02&gt;
&lt;month: Jun02&gt;   &lt;quarter: Q2.02&gt;
</pre>
<p>This example demonstrates locking a cell so that it does not participate in the allocation. Locking a cell requires a valueset, so the following statements define one, limit the <code dir="ltr">time</code> dimension to the desired value, assign a value to the valueset, and then reset the status of the <code dir="ltr">time</code> dimension.</p>
<pre dir="ltr">DEFINE timeval TO &#39;&lt;QUARTER: Q2.02&gt;&#39;
LIMIT time TO &#39;&lt;Year: YR02&gt;&#39; &#39;&lt;Quarter: Q1.02&gt;&#39;  &#39;&lt;Quarter: Q2.02&gt;&#39; -
   &#39;&lt;month: Jan02&gt;&#39; &#39;&lt;month: Feb02&gt;&#39; &#39;&lt;month: Mar02&gt;&#39; -
   &#39;&lt;month: Apr02&gt;&#39; &#39;&lt;month: May02&gt;&#39; &#39;&lt;month: Jun02&gt;
</pre>
<p>The following statements revise the specification of the aggmap named <code dir="ltr">projbudgmap</code>. This time the RELATION statement in the allocation specification specifies the <code dir="ltr">timeparent</code> relation, the HEVEN operator, and the PROTECT argument. The READWRITE keyword specifies that the children of the locked cell also do not participate in the allocation. The NONORMALIZE keyword specifies that the value of the locked cell is not subtracted from the source value before it is allocated to the target cells. The statements then allocate the source value and report the results.</p>
<pre dir="ltr">CONSIDER projbudgmap
ALLOCMAP 
RELATION timeparent OPERATOR HEVEN ARGS PROTECT NONORMALIZE READWRITE timeval
END

ALLOCATE projbudget USING projbudgmap
REPORT projbudget
</pre>
<p>The preceding statement produces the following results.</p>
<pre dir="ltr">LINE: MARKETING
                 -PROJBUDGET--
                 --DIVISION---
TIME                CAMPING
---------------- -------------
&lt;year: Yr02&gt;          6,000.00
&lt;quarter: Q1.02&gt;      6,000.00
&lt;quarter: Q2.02&gt;            NA
&lt;month: Jan02&gt;        2,000.00
&lt;month: Feb02&gt;        2,000.00
&lt;month: Mar02&gt;        2,000.00
&lt;month: Apr02&gt;              NA
&lt;month: May02&gt;              NA
&lt;month: Jun02&gt;              NA
</pre></div>
<!-- class="example" -->
<div id="OLADM2174" class="example">
<p class="titleinexample"><a id="CACHFDCE"></a>Example 9-36 Recursive Proportional Allocation</p>
<p>This example uses the same relation as the recursive even allocation but it uses the PROPORTIONAL operator and it does not lock any cells. Because a proportional allocation uses the values of the basis object to calculate the values to assign to the target cells, the <code dir="ltr">projbudget</code> variable has values assigned to each of its cells. The value of the <code dir="ltr">&lt;year: Yr02&gt;</code> cell is <code dir="ltr">6000</code>., which was assigned to that cell. It is not the value an aggregation of the lower levels. A report of <code dir="ltr">projbudget</code> before the allocation produces the following results.</p>
<pre dir="ltr">LINE: MARKETING
                 -PROJBUDGET--
                 --DIVISION---
TIME                CAMPING
---------------- -------------
&lt;year: Yr02&gt;          6,000.00
&lt;quarter: Q1.02&gt;      1,000.00
&lt;quarter: Q2.02&gt;      2,000.00
&lt;month: Jan02&gt;          300.00
&lt;month: Feb02&gt;          100.00
&lt;month: Mar02&gt;          600.00
&lt;month: Apr02&gt;          400.00
&lt;month: May02&gt;          800.00
&lt;month: Jun02&gt;          800.00
</pre>
<p>The following statements replace the previous specification of the aggmap with the new RELATION statement, which specifies the PROPORTIONAL operator. The allocation specification includes a <code dir="ltr">SOURCEVAL</code> <code dir="ltr">ZERO</code> statement, which specifies that the source value is replace with a zero value after the allocation (see the <a href="#i79296">SOURCEVAL</a> statement of the ALLOCMAP command for more information). The statements then allocate the source value and report the result.</p>
<pre dir="ltr">CONSIDER projbudgmap
ALLOCMAP JOINLINES(&#39;RELATION timeparent OPERATOR PROPORTIONAL timeval&#39; -
  &#39;SOURCEVAL ZERO&#39; -
  &#39;END&#39;)
ALLOCATE projbudget USING projbudgmap
REPORT projbudget
</pre>
<p>The preceding statement produces the following results<a id="sthref3639"></a>.</p>
<pre dir="ltr">TIME             TIMEPARENT
LINE: MARKETING
                 -PROJBUDGET--
                 --DIVISION---
TIME                CAMPING
---------------- -------------
&lt;year: Yr02&gt;                 0
&lt;quarter: Q1.02&gt;      2,000.00
&lt;quarter: Q2.02&gt;      4,000.00
&lt;month: Jan02&gt;          600.00
&lt;month: Feb02&gt;          200.00
&lt;month: Mar02&gt;        1,200.00
&lt;month: Apr02&gt;          800.00
&lt;month: May02&gt;        1,600.00
&lt;month: Jun02&gt;        1,600.00 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78780"></a>
<div id="OLADM742" class="refsect1">
<h2 class="refsect1">ALLOCMAP</h2>
<p><a id="sthref3640"></a><a id="ABC1048722"></a>The ALLOCMAP command identifies an aggmap object as an allocation specification and enters the contents of the specification. To use AGGMAP to assign an allocation specification to n aggmap object, the definition must be the one most recently defined or considered during the current session. When it is not, you must first use a CONSIDER statement to make it the current definition.</p>
<p>An alternative to the AGGMAP command is the EDIT AGGMAP command, which is available only in OLAP Worksheet. The EDIT AGGMAP command opens an Edit window in which you can delete or change an allocation specification for an aggmap object. To use the OLAP Worksheet, to code an allocation specification follow the instructions given in <a href="#BCJBHAFB">&#34;Editing a Newly Defined Aggmap to Code an Allocation Specification&#34;</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_objects.htm#i1035122">&#34;OLAP DML Allocation Objects&#34;</a> and <a href="dml_options.htm#CHDGFHFA">&#34;Allocation Options&#34;</a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3641"></a>Syntax</p>
<p class="synopsis">ALLOCMAP&nbsp;[<span class="italic">specification</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3642"></a>Parameters</p>
<dl>
<dt><span class="italic">specification</span></dt>
<dd>
<p>A multiline text expression that is the allocation specification for the current aggmap object. An allocation specification begins with an ALLOCMAP statement and ends with an <code dir="ltr">END</code> statement. Between these statements, you code one or more of the following statements depending on the calculation that you want to specify:</p>
<dl>
<dd><a href="#BABIGGEA">CHILDLOCK</a></dd>
<dd><a href="#i79263">DEADLOCK</a></dd>
<dd><a href="#CACIFHBF">DIMENSION (for allocation)</a></dd>
<dd><a href="#i80540">ERRORLOG</a></dd>
<dd><a href="#i80545">ERRORMASK</a></dd>
<dd><a href="#CACFEIEC">MEASUREDIM (for allocation)</a></dd>
<dd><a href="#i79507">RELATION (for allocation)</a></dd>
<dd><a href="#i79296">SOURCEVAL</a></dd>
<dd><a href="#CACDJDFE">VALUESET</a></dd>
</dl>
<p>Each statement is a line of the multiline text expression. When coding an ALLOCMAP statement at the command line level, separate statements with newline delimiters (<code dir="ltr">\n</code>), or use JOINLINES.</p>
<p>For a discussion of how to determine which statements to include, see <a href="#CHDCDBBG">&#34;Designing an Allocation Specification&#34;</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3643"></a>Usage Notes</p>
<p class="subhead2"><a id="CHDCDBBG"></a><a id="OLADM2175"></a>Designing an Allocation Specification</p>
<p>Minimally, an allocation specification consists of a RELATION statement or a VALUESET statement However, you can create more complex allocation specifications and change the default settings for error handling by including additional OLAP DML statements in the specification, as follows:</p>
<ol>
<li>
<p>For hierarchical allocations, a RELATION statement that specifies a self-relation that identifies the child-parent relationships of the hierarchy. List the statements in the order in which you want to perform the various operations; or if this is not important, list the RELATION statements in the same order as the dimensions appear in the variable definition.</p>
</li>
<li>
<p>For non-hierarchical allocations, a VALUESET statement that specifies the values to be used when allocating.</p>
</li>
<li>
<p>A CHILDLOCK statement that tells the ALLOCATE command whether to determine if RELATION statements in the aggmap specify lock on both a parent and a child element of a dimension hierarchy.</p>
</li>
<li>
<p>A DEADLOCK statement that tells the ALLOCATE command whether to continue an allocation when it encounters a deadlock, which occurs when the allocation cannot distribute a value because the targeted cell is locked or, for some operations, has a basis value of <code dir="ltr">NA.</code></p>
</li>
<li>
<p>When a dimension is not shared by the target variable and the source or the basis objects, a DIMENSION (for allocation) statement that specifies a single value to set as the status of that dimension.</p>
</li>
<li>
<p>An ERRORLOG statement that specifies how many errors to allow in the error log specified by the ALLOCATE command and whether to continue the allocation when the maximum number of errors has occurred.</p>
</li>
<li>
<p>An ERRORMASK statement that specifies which error conditions to exclude from the error log.</p>
</li>
<li>
<p>When the source data comes from a variable, a SOURCEVAL statement that specifies whether ALLOCATE changes the source data value after the allocation.</p>
</li>
</ol>
<p class="subhead2"><a id="OLADM2176"></a>Aggmap Type</p>
<p>You can use the AGGMAPINFO function to learn the type of an aggmap. An aggmap into which you have entered an allocation specification using the ALLOCMAP has the type ALLOCMAP and an aggmap into which you have entered an aggregation specification using an AGGMAP statement has the type AGGMAP. When you have defined an aggmap but have not yet entered a specification in it, its type is <code dir="ltr">NA</code>.</p>
<p class="subhead2"><a id="OLADM2177"></a>One RELATION for Each Dimension</p>
<p>An aggmap can have only one RELATION statement for any given dimension.</p>
<p class="subhead2"><a id="OLADM2178"></a>One Hierarchy For Each Dimension</p>
<p>An allocation operation proceeds down only one hierarchy in a dimension. When a dimension has multiple hierarchies, then you must limit the dimension to a hierarchy with a qualified data reference after the <span class="italic">rel-name</span> argument.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3644"></a>Examples</p>
<div id="OLADM2179" class="example">
<p class="titleinexample"><a id="BABDGCJA"></a><a id="i80029"></a>Example 9-37 Allocation Specification from an Input File</p>
<p>In this example an aggmap and its specification are defined in an ASCII disk file called <code dir="ltr">salesalloc.txt</code>. The statements in the file are then executed in the analytic workspace through the use of the INFILE statement. The statements in <code dir="ltr">salesalloc.txt</code> are the following.</p>
<pre dir="ltr">IF NOT EXISTS (&#39;salesalloc&#39;)
  THEN DEFINE salesalloc AGGMAP
  ELSE CONSIDER salesalloc
ALLOCMAP
  RELATION time.parent OPERATOR EVEN
  RELATION product.parent OPERATOR EVEN
  RELATION geography.parent OPERATOR EVEN
  SOURCEVAL ZERO
  DEADLOCK SKIP
END
</pre>
<p>To include the <code dir="ltr">salesalloc</code> aggmap in your analytic workspace, execute the following statement.</p>
<pre dir="ltr">INFILE &#39;salesalloc.txt&#39;
</pre>
<p>The <code dir="ltr">sales.agg</code> aggmap has now been defined and contains three RELATION statements and the SOURCEVAL and DEADLOCK statements. In this example, the ALLOCATE statement allocates its source value evenly to all of the aggregate level cells and the detail level cells of the target variable because the relations <code dir="ltr">time.parent</code>, <code dir="ltr">product.parent</code>, and <code dir="ltr">geography.parent</code> relate each child dimension value to its parent in the dimension hierarchy. The DEADLOCK statement tells the ALLOCATE statement to log an error and continue the allocation when a branch of a target hierarchy is locked or has a value of <code dir="ltr">NA</code>. The SOURCEVAL statement tells ALLOCATE to assign a zero value to the source cells after allocating the source data.</p>
<p>You can now use the <code dir="ltr">salesalloc</code> aggmap with an ALLOCATE statement, such as.</p>
<pre dir="ltr">ALLOCATE sales USING salesalloc
</pre></div>
<!-- class="example" -->
<div id="OLADM2180" class="example">
<p class="titleinexample"><a id="BABCECHG"></a>Example 9-38 Allocation Specification from a Text Expression</p>
<p>In this example the <code dir="ltr">salesalloc</code> aggmap has already been defined. The specification is added to the aggmap as a text expression argument to the ALLOCMAP statement<a id="sthref3645"></a>.</p>
<pre dir="ltr">CONSIDER salesalloc
ALLOCMAP
RELATION time.parent OPERATOR EVEN
RELATION product.parent OPERATOR EVEN
RELATION geography.parent OPERATOR EVEN
SOURCEVAL ZERO
DEADLOCK SKIP
</pre>
<p>&nbsp;</p>
</div>
<!-- class="example" -->
<div id="OLADM2181" class="example">
<p class="titleinexample"><a id="CACICCAD"></a>Example 9-39 Specifying a Single Dimension Value in an Allocation Specification</p>
<p>This example proportionally allocates a value it calculates from the <code dir="ltr">sales</code> variable to cells in a <code dir="ltr">projectedsales</code> variable. The <code dir="ltr">sales</code> variable is dimensioned by the <code dir="ltr">time</code>, <code dir="ltr">product</code>, <code dir="ltr">customer</code>, and <code dir="ltr">channel</code> dimensions.</p>
<p>The example defines the <code dir="ltr">projectedsales</code> variable to use as the target of the allocation and the <code dir="ltr">increasefactor</code> formula to use as the source. The formula multiplies values from <code dir="ltr">sales</code> by ten percent. The example limits the <code dir="ltr">time</code> dimension and creates the <code dir="ltr">ytoq.rel</code> relation, which relates the year 2001 to the quarters of 2002. The next LIMIT commands limit the dimensions shared by <code dir="ltr">sales</code> and <code dir="ltr">projectedsales</code>.</p>
<p>The example creates an aggmap and uses the ALLOCMAP statement to enter a RELATION and a DIMENSION statement into the map. The RELATION statement specifies the <code dir="ltr">ytoq.rel</code> relation as the dimension hierarchy to use for the allocation and specifies that the allocation is proportional. The DIMENSION statement tells ALLOCATE to set the status of the <code dir="ltr">channel</code> dimension to <code dir="ltr">totalchannel</code> for the duration of the allocation.</p>
<pre dir="ltr">DEFINE projectedSales DECIMAL VARIABLE &lt;time, SPARSE &lt;product, customer&gt;&gt;
DEFINE increaseFactor DECIMAL FORMULA &lt;product&gt;
EQ sales * 1.1
LIMIT time TO &#39;2001&#39; &#39;Q1.02&#39; TO &#39;Q4.02&#39;
DEFINE YtoQ.rel RELATION time &lt;time&gt;
LIMIT time TO &#39;Q1.02&#39; to &#39;Q4.02&#39;
YtoQ.rel = &#39;2001&#39;
LIMIT time TO &#39;2001&#39; &#39;Q1.02&#39; to &#39;Q4.02&#39;
LIMIT product TO &#39;TotalProduct&#39; &#39;Videodiv&#39; &#39;Audiodiv&#39; &#39;Accdiv&#39;
LIMIT customers TO &#39;TotalCustomer&#39;
DEFINE time.alloc AGGMAP
ALLOCMAP
RELATION YtoQ.rel OPERATOR PROPORTIONAL
DIMENSION channel &#39;TotalChannel&#39;
END
ALLOCATE increaseFactor BASIS sales TARGET projectedSales USING time.alloc
</pre>
<p>The <code dir="ltr">sales</code> values that are the basis of the allocation are the following.</p>
<pre dir="ltr">CHANNEL: TOTALCHANNEL
CUSTOMERS: TOTALCUSTOMER
                 ---------------PROJECTEDSALES---------------
                 --------------------TIME--------------------
PRODUCT           2001      Q1.02      Q2.02      Q3.02      Q4.02
------------     ------     ------     ------     ------     ------
TotalProduct      7000       1000       2000       3000       1000
Videodiv          4100        600       1100       1900        500
Audiodiv          1700        200        600        600        300
Accdiv            1200        200        300        500        200
</pre>
<p>The following shows a report of <code dir="ltr">projectedsales</code> for <code dir="ltr">totalchannel</code> after the allocation.</p>
<pre dir="ltr">CHANNEL: TOTALCHANNEL
CUSTOMERS: TOTALCUSTOMER
                 ---------------PROJECTEDSALES---------------
                 --------------------TIME--------------------
PRODUCT           2001      Q1.02      Q2.02      Q3.02      Q4.02
------------     ------     ------     ------     ------     ------
TotalProduct       NA         NA         NA         NA         NA
Videodiv           NA        660       1210       2090        550
Audiodiv           NA        220        660        660        330
Accdiv             NA        220        330        550        220
</pre></div>
<!-- class="example" -->
<div id="OLADM2182" class="example">
<p class="titleinexample"><a id="CACFGGBG"></a>Example 9-40 Entering RELATION Statements in an Allocation Specification</p>
<p>This example defines a <code dir="ltr">time.type</code> dimension and adds to it the two hierarchies of the <code dir="ltr">time</code> dimension. It defines the <code dir="ltr">time.time</code> relation that relates the hierarchy types (that is, <code dir="ltr">time.type</code>) to the <code dir="ltr">time</code> dimension. The example defines the <code dir="ltr">time.alloc</code> aggmap. With the ALLOCMAP command, it enters a RELATION statement in the aggmap. The RELATION statement specifies the values of the <code dir="ltr">time</code> dimension hierarchy to use in the allocation, limits the <code dir="ltr">time</code> dimension to one hierarchy with the QDR, and the specifies the EVEN operation for the allocation. The ALLOCATE command then allocates data from the source object to the target variable using the <code dir="ltr">time.alloc</code> aggmap. In the ALLOCATE command the source, basis, and target objects are the same <code dir="ltr">sales</code> variable.</p>
<pre dir="ltr"> 
DEFINE time.type TEXT DIMENSION
MAINTAIN time.type add &#39;Fiscal&#39;
MAINTAIN time.type add &#39;Calendar&#39;
DEFINE time.time RELATION time &lt;time, time.type&gt;
DEFINE time.alloc AGGMAP
 
ALLOCMAP
RELATION time.time (time.type &#39;Fiscal&#39;) OPERATOR EVEN 
END
 
ALLOCATE sales USING time.alloc 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" -->
<div id="OLADM743" class="refsect2"><a id="BABIGGEA"></a>
<h3 class="refsect2">CHILDLOCK</h3>
<p><a id="sthref3646"></a>Within an allocation specification, a CHILDLOCK statement tells the ALLOCATE statement to determine if RELATION statements in the allocation specification have specified locks on both a parent and on a child of the parent in a dimension hierarchy. Locking both a parent and one of its children can cause incorrect allocation results.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3647"></a>Syntax</p>
<p class="synopsis">CHILDLOCK&nbsp;[DETECT|<span class="underline">NODETECT</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3648"></a>Parameters</p>
<dl>
<dt>DETECT</dt>
<dd>
<p>Tells the ALLOCATE statement to detect that an allocation lock exists on a parent and also on one of its children in a dimension hierarchy. When it detects a locked parent and child, the ALLOCATE statement creates an entry in the error log for the allocation.</p>
</dd>
<dt>NODETECT</dt>
<dd>
<p>(Default) Tells the ALLOCATE statement to continue an allocation even when a lock exists on a parent and also on one of its children in a hierarchy.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3649"></a>Examples</p>
<p>For an example of using a CHILDLOCK statement in an allocation specification, see <a href="#CIHGCFJC">Example 9-79, &#34;Creating an Aggmap for Allocation&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM744" class="refsect2"><a id="i79263"></a>
<h3 class="refsect2">DEADLOCK</h3>
<p><a id="sthref3650"></a>Within an allocation specification, a DEADLOCK statement tells the ALLOCATE statement what to do when it cannot distribute a source value to a target cell specified by a value in a dimension hierarchy because the target cell is either locked by a RELATION statement in the allocation specification or the cell has a basis value of <code dir="ltr">NA</code>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3651"></a>Syntax</p>
<p class="synopsis">DEADLOCK&nbsp;[SKIP|<span class="underline">NOSKIP</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3652"></a>Parameters</p>
<dl>
<dt>SKIP</dt>
<dd>
<p>Tells the ALLOCATE statement to log the error and continue with the allocation even though it cannot distribute source values to cells specified by a branch of a dimension hierarchy because a target cell is locked or the basis value of the cell is <code dir="ltr">NA</code>.</p>
</dd>
<dt>NOSKIP</dt>
<dd>
<p>Tells the ALLOCATE statement to stop the allocation and to return an error when it cannot distribute source values to cells in a branch of a dimension hierarchy because a target cell is locked or the basis value is <code dir="ltr">NA</code>. NOSKIP is the default action when you do not include a DEADLOCK statement in the aggmap used by the ALLOCATE command.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3653"></a>Examples</p>
<p>For examples of using a DEADLOCK statement in an allocation specification, see <a href="#BABDGCJA">Example 9-37, &#34;Allocation Specification from an Input File&#34;</a> and <a href="#BABCECHG">Example 9-38, &#34;Allocation Specification from a Text Expression&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM745" class="refsect2"><a id="CACIFHBF"></a>
<h3 class="refsect2">DIMENSION (for allocation)</h3>
<p><a id="sthref3654"></a>Within an allocation specification, a DIMENSION statement sets the status to a single value of a dimension. Within an allocation specification this dimension is a dimension that the source, basis, and target objects do not have in common. When an allocation specification does not specify such single values with DIMENSION statements, Oracle OLAP uses the current status values of the dimensions when performing the allocation.</p>
<p>You use a DIMENSION statement to ensure that the status of a dimension is set to the value that you want it to have for the allocation. You must use a separate DIMENSION statement for each dimension that is not shared by the source, basis, and target objects.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3655"></a>Syntax</p>
<p class="synopsis">DIMENSION&nbsp;<span class="italic">dimension&nbsp;</span>&#39;<span class="italic">dimval</span>&#39;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3656"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>the name of the dimension to limit.</p>
</dd>
<dt>d<span class="italic">imval</span></dt>
<dd>
<p>The single value of the dimension to which you want the status of the dimension set for the duration of an allocation.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3657"></a>Examples</p>
<p>For an example of using a DIMENSION statement in an allocation specification, see <a href="#CACICCAD">Example 9-39, &#34;Specifying a Single Dimension Value in an Allocation Specification&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM746" class="refsect2"><a id="i80540"></a>
<h3 class="refsect2">ERRORLOG</h3>
<p><a id="sthref3658"></a>Within an allocation specification, an ERRORLOG statement specifies how many allocation error conditions to log and whether to continue or to stop the allocation when the specified maximum number of errors have been logged. You specify the error log with the ERRORLOG keyword to the ALLOCATE command.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3659"></a>Syntax</p>
<p class="synopsis">ERRORLOG&nbsp;[<span class="underline">UNLIMITED</span>|MAX &lt;<span class="italic">num</span>&gt;] [STOP|NOSTOP]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3660"></a>Parameters</p>
<dl>
<dt>UNLIMITED</dt>
<dd>
<p>Tells the ALLOCATE command to write an unlimited number of errors to the error log. (Default.)</p>
</dd>
<dt>MAX <span class="italic">num</span></dt>
<dd>
<p>Specifies a maximum number of errors that ALLOCATE can write to the error log.</p>
</dd>
<dt>STOP</dt>
<dt>NOSTOP</dt>
<dd>
<p>Specifies whether to stop the allocation when ALLOCATE has written the maximum number of errors to the error log. When you specify STOP, the allocation stops. When you specify NOSTOP, the allocation continues but ALLOCATE does not write any more errors to the error log. When you have specified UNLIMITED, then the STOP and NOSTOP arguments have no effect and the allocation continues no matter how many errors occur.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3661"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2183"></a>Formatting the Error Log</p>
<p>The ALLOCERRLOGFORMAT option determines the contents and the formatting of the error log that you specify with the ERRORLOG argument to the ALLOCATE command. You can specify a header for the error log with the ALLOCERRLOGHEADER option.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM747" class="refsect2"><a id="i80545"></a>
<h3 class="refsect2">ERRORMASK</h3>
<p><a id="sthref3662"></a>Within an allocation specification, an ERRORMASK statement specifies the error conditions that you do not want to appear in the allocation error log. You specify the error log with the ERRORLOG keyword to the ALLOCATE command.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3663"></a>Syntax</p>
<p class="synopsis">ERRORMASK &lt;<span class="italic">num</span>...&gt;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3664"></a>Parameters</p>
<dl>
<dt><span class="italic">num</span>...</dt>
<dd>
<p>The number of the error that you do not want to appear in the error log.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3665"></a>Examples</p>
<div id="OLADM2184" class="example">
<p class="titleinexample"><a id="sthref3666"></a>Example 9-41 Excluding CHILDLOCK Errors</p>
<p>To exclude a CHILDLOCK error, you would enter the following statement in the allocation specification.</p>
<pre dir="ltr">ERRORMASK 10
</pre></div>
<!-- class="example" -->
<div id="OLADM2185" class="example">
<p class="titleinexample"><a id="sthref3667"></a>Example 9-42 Excluding All Allocation Errors</p>
<p>To exclude all errors, you would enter the following statement in the allocation specification.</p>
<pre dir="ltr">ERRORMASK 1 2 3 4 5 6 7 8 9 10
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM748" class="refsect2"><a id="CACFEIEC"></a>
<h3 class="refsect2">MEASUREDIM (for allocation)</h3>
<p><a id="sthref3668"></a>Within an allocation specification, a MEASUREDIM statement identifies the name of a measure dimension that is specified in the definition of an operator variable or an argument variable. However, you cannot specify a measure dimension when it is included in the definition of the aggmap object.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3669"></a>Syntax</p>
<p class="synopsis">MEASUREDIM&nbsp;<span class="italic">name</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3670"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the measure dimension. A measure dimension is a dimension that you define. The dimension values are names of existing variables.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i1005123">MEASUREDIM (for aggregation)</a> statement for the AGGMAP command</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM749" class="refsect2"><a id="i79507"></a>
<h3 class="refsect2">RELATION (for allocation)</h3>
<p><a id="sthref3671"></a>Within an allocation specification, a RELATION statement identifies a relation that specifies the path through a dimension hierarchy and the method of the allocation. To allocate a source data down a hierarchy of a dimension, you must specify with a RELATION statement the values of the hierarchy that identify the cells of the variable that are the targets of the allocation. When the target of the allocation is a multidimensional variable, then you must include a separate RELATION statement for each dimension down which you want to allocate the source data. The order of the RELATION statements in an aggmap determines the order of the allocation. The allocation proceeds down the dimension hierarchy in the first RELATION statement, then down the second, and so on.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not confuse this RELATION statement which can only be used as part of an AGGMAP command with either the RELATION command that defines a default relation for a dimension or the RELATION statement that is used as part of an AGGMAP command.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3672"></a>Syntax</p>
<p class="synopsis">RELATION <span class="italic">rel-name</span> [(<span class="italic">qdr</span>. . .)] OPERATOR {<span class="italic">operator|</span>} -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[NAOPERATOR <span class="italic">operator</span>] [REMOPERATOR <span class="italic">operator</span>] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[PARENTALIAS <span class="italic">dimension-alias-name</span>] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ARGS&nbsp;{[FLOOR&nbsp;<span class="italic">floorval</span>]&nbsp;[CEILING&nbsp;<span class="italic">ceilval</span>]&nbsp;[MIN&nbsp;<span class="italic">minval</span>]&nbsp;[MAX&nbsp;<span class="italic">maxval]</span>&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[NAHANDLE&nbsp;{<span class="underline">IGNORE</span>|CONSIDER|PREFER}]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ADD|<span class="underline">ASSIGN</span>]&nbsp;[PROTECT&nbsp;[NONORMALIZE]&nbsp;[<span class="underline">READWRITE</span>|WRITE]&nbsp;<span class="italic">lockvalueset</span>]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[WEIGHTBY&nbsp;[ADD|<span class="underline">MULTIPLY</span>]&nbsp;[WNAFILL&nbsp;<span class="italic">nafillval</span>]&nbsp;<span class="italic">weightobj</span>]}]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3673"></a>Parameters</p>
<dl>
<dt><span class="italic">rel-name</span></dt>
<dd>
<p>An Oracle OLAP self-relation that specifies the values of a dimension hierarchy that identify the path of allocation. The cells in the target variable identified by the values in <span class="italic">rel-name</span> receive the allocated data.</p>
</dd>
<dt><span class="italic">qdr.</span>&nbsp;.&nbsp;.</dt>
<dd>
<p>One or more qualified data references that specify a single dimension value for each dimension of the relation that is not part of the self-relation. When the self-relation has multiple hierarchies, you must provide a <span class="italic">qdr</span> for the hierarchy dimension of the self-relation dimension that limits to single values any hierarchies not involved in the allocation.</p>
</dd>
<dt>OPERATOR <span class="italic">operator</span></dt>
<dd>
<p>Specifies an allocation method described in <a href="#g1028728">Table 9-3, &#34;Allocation Operators&#34;</a> or returned by ALLOCOPS. The method determines the cells of the target variable for the <span class="italic">rel-name</span> relation to which ALLOCATE assigns a value. For the FIRST, LAST, HFIRST, and HLAST operators, ALLOCATE uses the order of the value in the dimension to determine the cell. The dimension order is the default logical order of the allocation dimension. There is no default operator for allocation.</p>
<div id="OLADM2186" class="tblformal">
<p class="titleintable"><a id="sthref3674"></a><a id="g1028728"></a>Table 9-3 Allocation Operators</p>
<table class="cellalignment3618" title="Allocation Operators" summary="This table describes the valid values for the operator argument that specifies the allocation method to be performed." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t42">Operator</th>
<th class="cellalignment3616" id="r1c2-t42">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t42" headers="r1c1-t42">
<p>COPY</p>
</td>
<td class="cellalignment3617" headers="r2c1-t42 r1c2-t42">
<p>Copies the allocation source to all of the target cells that have a basis data value that is not <code dir="ltr">NA</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t42" headers="r1c1-t42">
<p>HCOPY</p>
</td>
<td class="cellalignment3617" headers="r3c1-t42 r1c2-t42">
<p>Copies the allocation source to all of the target cells specified by the hierarchy even when the data in any of those cells is <code dir="ltr">NA</code>. When the source data is <code dir="ltr">NA</code>, then that <code dir="ltr">NA</code> value is not allocated to the target cells of that allocation.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t42" headers="r1c1-t42">
<p>MIN</p>
</td>
<td class="cellalignment3617" headers="r4c1-t42 r1c2-t42">
<p>Copies the allocation source to the target that has the smallest basis data value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t42" headers="r1c1-t42">
<p>MAX</p>
</td>
<td class="cellalignment3617" headers="r5c1-t42 r1c2-t42">
<p>Copies the allocation source to the target that has the largest basis data value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t42" headers="r1c1-t42">
<p>FIRST</p>
</td>
<td class="cellalignment3617" headers="r6c1-t42 r1c2-t42">
<p>Copies the allocation source to the first target cell that has a non-<code dir="ltr">NA</code> basis data value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t42" headers="r1c1-t42">
<p>HFIRST</p>
</td>
<td class="cellalignment3617" headers="r7c1-t42 r1c2-t42">
<p>Copies the allocation source to the first target cell specified by the hierarchy even when the current data value of that cell is <code dir="ltr">NA</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t42" headers="r1c1-t42">
<p>LAST</p>
</td>
<td class="cellalignment3617" headers="r8c1-t42 r1c2-t42">
<p>Copies the allocation source to the last target cell that has a non-<code dir="ltr">NA</code> basis data value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t42" headers="r1c1-t42">
<p>HLAST</p>
</td>
<td class="cellalignment3617" headers="r9c1-t42 r1c2-t42">
<p>Copies the allocation source to the last target cell specified by the hierarchy even when the current data value of that cell is <code dir="ltr">NA</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r10c1-t42" headers="r1c1-t42">
<p>EVEN</p>
</td>
<td class="cellalignment3617" headers="r10c1-t42 r1c2-t42">
<p>Divides the allocation source by the number of target cells that have non-<code dir="ltr">NA</code> basis data values and applies the quotient to each target cell.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r11c1-t42" headers="r1c1-t42">
<p>HEVEN</p>
</td>
<td class="cellalignment3617" headers="r11c1-t42 r1c2-t42">
<p>Divides the allocation source by the number of target cells, including the ones that have <code dir="ltr">NA</code> values, and applies the quotient to each target cell.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r12c1-t42" headers="r1c1-t42">
<p>PROPORTIONAL</p>
</td>
<td class="cellalignment3617" headers="r12c1-t42 r1c2-t42">
<p>Divides the allocation source by the sum of the data values of the target cells that have non-<code dir="ltr">NA</code> basis data values, multiplies the basis data value of each target cell by the quotient, and applies the resulting data to the target cell.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></dd>
<dt>NAOPERATOR <span class="italic">operator</span></dt>
<dd>
<p>The <span class="italic">operator</span> after the NAOPERATOR keyword specifies the operator that the ALLOCATE operation uses when it encounters an <code dir="ltr">NA</code> or lock-based deadlock. Valid operators are HFIRST, HLAST, and HEVEN which are described in <a href="#g1028728">Table 9-3, &#34;Allocation Operators&#34;</a>.</p>
</dd>
<dt>REMOPERATOR <span class="italic">operator</span></dt>
<dd>
<p>The <span class="italic">operator</span> after the REMOPERATOR keyword specifies the operator that the ALLOCATE operation uses when storing a remainder produced by an allocation. For example, assume you allocate the <code dir="ltr">INTEGER</code> 10 to three cells at the same level in a hierarchy, there is a remainder of 1. The REMOPERATOR specifies where you want the allocation operation to store this remainder. Valid operators for REMOPERATOR are MIN, MAX, FIRST, HFIRST, LAST, and HLAST which are described in <a href="#g1028728">Table 9-3, &#34;Allocation Operators&#34;</a>.</p>
</dd>
<dt>ARGS</dt>
<dd>
<p>Indicates additional arguments specify additional parameters for the allocation operation. All of these arguments apply uniformly to the dimension hierarchy specified by <span class="italic">rel-name</span>.</p>
</dd>
<dt>PARENTALIAS <span class="italic">dimension-alias-name</span></dt>
<dd>
<p>Specifies specialized allocation depending on the parent (for example, weighting by parent or child). For <span class="italic">dimension-alias-name</span>, specify the name of the alias for the dimension of <span class="italic">rel-name</span>.</p>
</dd>
<dt>ARGS <span class="italic">argument</span>...</dt>
<dd>
<p>One or more arguments after the ARGS keyword that specify additional parameters for the allocation operation. All of these arguments apply uniformly to the dimension hierarchy specified by <span class="italic">rel-name</span>.</p>
</dd>
<dt>FLOOR <span class="italic">floorval</span></dt>
<dd>
<p>Specifies that when an allocated target data value is less than <span class="italic">floorval</span>, the data allocated to the target cell is <code dir="ltr">NA</code>. This argument applies to the relation only when the PROPORTIONAL operator is specified.</p>
</dd>
<dt>CEILING <span class="italic">ceilval</span></dt>
<dd>
<p>Specifies that when an allocated target data value is greater than <span class="italic">ceilval</span>, the data allocated to the target cell is <code dir="ltr">NA</code>. This argument applies to the relation only when the PROPORTIONAL operator is specified.</p>
</dd>
<dt>MIN <span class="italic">minval</span></dt>
<dd>
<p>Specifies that when an allocated target data value is less than <span class="italic">minval</span>, the data allocated to the target cell is <span class="italic">minval</span>.</p>
</dd>
<dt>MAX <span class="italic">maxval</span></dt>
<dd>
<p>Specifies that when an allocated target data value is greater than <span class="italic">maxval</span>, the value allocated to the target cell is <span class="italic">maxval</span>.</p>
</dd>
<dt>NAHANDLE</dt>
<dd>
<p>Specifies how ALLOCATE treats <code dir="ltr">NA</code> values. Valid only when the OPERATOR is MIN or MAX.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">IGNORE</span> specifies that ALLOCATE does not consider <code dir="ltr">NA</code> values in a MIN or MAX operation. (Default)</p>
</li>
<li>
<p><span class="syntaxinlinebold">CONSIDER</span> specifies that ALLOCATE treats an <code dir="ltr">NA</code> value as a zero; however, when the data value of a target cell is actually zero, the zero cell receives the allocated data value and not the <code dir="ltr">NA</code> cell.</p>
</li>
<li>
<p><span class="syntaxinlinebold">PREFER</span> specifies that ALLOCATE treats an <code dir="ltr">NA</code> value as a zero and the <code dir="ltr">NA</code> has priority over a zero value, so the <code dir="ltr">NA</code> cell receives the allocated data value and not the cell with the actual zero value.</p>
</li>
</ul>
</dd>
<dt>ADD</dt>
<dd>
<p>Specifies that ALLOCATE adds the allocated data to the current data in the target cell.</p>
</dd>
<dt>ASSIGN</dt>
<dd>
<p>Specifies that ALLOCATE replaces the data in the target cell with the allocated data, which is the default behavior.</p>
</dd>
<dt>PROTECT <span class="italic">lockvalueset</span></dt>
<dd>
<p>Specifies a set of dimension values to lock so that they cannot be targets of the allocation. Before allocating the source data, the allocation operation normalizes the sources by subtracting the data values of the specified locked cells from the source data.</p>
</dd>
<dt>NONORMALIZE</dt>
<dd>
<p>Specifies that the allocation operation does not normalize the source data. Using NONORMALIZE effectively removes from the allocation the values of the hierarchy at and below the dimension values specified by <span class="italic">lockvalueset</span>.</p>
</dd>
<dt>READWRITE</dt>
<dd>
<p>Specifies that the locked data values cannot be used as source data in a subsequent allocation, thereby locking the data of the hierarchy below the <span class="italic">lockvalueset</span> values.</p>
</dd>
<dt>WRITE</dt>
<dd>
<p>Specifies that the allocation cannot store data values in the cells identified by the <span class="italic">lockvalueset</span> dimension values but the allocation can use the data in those cells as source data in its subsequent steps. However, when in the aggmap you include a SOURCEVAL statement that specifies <code dir="ltr">NA</code> or <code dir="ltr">ZERO</code> and the locked cell is the source of an allocation, then ALLOCATE sets the value of the locked cell to <code dir="ltr">NA</code> or zero after the allocation.</p>
</dd>
<dt>WEIGHTBY</dt>
<dd>
<p>Specifies that the allocation uses a the value specified by <span class="italic">weightobj</span>. Using this clause allows for processes such as unit or currency conversion.</p>
</dd>
<dt>ADD</dt>
<dd>
<p>Specifies that ALLOCATE adds the value specified by <span class="italic">weightobj</span> to the existing data value of the target and assigns the sum to the target cell.</p>
</dd>
<dt>MULTIPLY</dt>
<dd>
<p>(Default) Specifies that ALLOCATE multiplies the value specified by <span class="italic">weightobj</span> by the data value of the target and assigning the product.</p>
</dd>
<dt>WNAFILL</dt>
<dd>
<p>Specifies that ALLOCATE replaces <code dir="ltr">NA</code> values in a cell before applying the value specified by <span class="italic">weightobj</span> to the <span class="italic">nafillval</span> value.</p>
</dd>
<dt><span class="italic">nafillval</span></dt>
<dd>
<p>The value that the ALLOCATE replaces <code dir="ltr">NA</code> values with. When you specify the ADD option to the WEIGHTBY clause, the default <code dir="ltr">NA</code> fill value is <code dir="ltr">0</code>; in all other cases, the default <code dir="ltr">NA</code> fill value is <code dir="ltr">1</code>.</p>
</dd>
<dt><span class="italic">weightobj</span></dt>
<dd>
<p>The name of an variable, formula, or relation whose value or values are the weights that Oracle OLAP applies to the allocated data just before it is stored in the target cell. When a relation is used, the target variable is referenced based on the weight relation and the cell is applied to the allocation target cell.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3675"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2187"></a>Specifying the Path of the Allocation</p>
<p>The path of the allocation is the route the allocation system takes to go from the source data to the target data. Very different results derive from different allocation paths. You specify the path with the RELATION statements that you enter in the aggmap. The relation objects in the RELATION statements and the order of those statements specify the path and the method of allocation.</p>
<p>The allocation path goes from any level in the hierarchy of a dimension to any lower level of the hierarchy. You use a relation object that relates the members of the hierarchy to each other (a self-relation) to identify the elements of the hierarchy that you want to participate in the allocation. The allocation proceeds down the hierarchy of the dimension in the first RELATION statement in the aggmap, then down the hierarchy of the second RELATION statement, and so on.</p>
<p>When the dimension has multiple hierarchies, you must use the <span class="italic">qdr</span> argument in the RELATION statement to specify which hierarchy to use for the allocation. The hierarchy that you specify with a relation must not contain a circular relation (for example, one in which dimension value <code dir="ltr">A</code> relates to dimension value <code dir="ltr">B</code> which relates to dimension value <code dir="ltr">C</code> which relates to dimension value <code dir="ltr">A</code>).</p>
<p class="subhead2"><a id="OLADM2188"></a>Types of Allocation Paths</p>
<p>You can allocate values from a source to a target with any one of the following types of paths:</p>
<ul>
<li>
<p>Direct allocation path &shy;&mdash; You can allocate values directly from a source to the final target cells with no allocations to intermediate nodes of the hierarchy. For example, you can allocate source data values specified by dimension values at the <code dir="ltr">Quarter</code> level of a hierarchical <code dir="ltr">time</code> dimension to those at the <code dir="ltr">Month</code> level or those specified by dimension values at the <code dir="ltr">Year</code> level to those at the <code dir="ltr">Month</code> level.</p>
</li>
<li>
<p>Recursive descent hierarchy path &shy;&mdash; You can allocate values to intermediate nodes of the hierarchy and then to final target cells. For example, you can allocate source data values specified by dimension values at the <code dir="ltr">Category</code> level of a <code dir="ltr">product</code> dimension to those at the <code dir="ltr">Subcategory</code> level and then to those at the <code dir="ltr">ProductID</code> level.</p>
</li>
<li>
<p>Multidimensional allocation path &shy;&mdash; You can allocate values first down one dimension and then down another dimension. The allocations can be direct or recursive or a combination of both. The results might vary depending on the order of the allocation.</p>
</li>
<li>
<p>Simultaneous multidimensional allocation path &shy;&mdash; You can do a direct allocation of values simultaneously to variable cells specified by multiple dimensions by creating a composite dimension that specifies the non-<code dir="ltr">NA</code> cells of the variable to which you want to allocate values. You then use that composite as the basis of the allocation.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2189"></a>Restrictions When Designing a RELATION Statement for Allocation</p>
<p>Keep the following restrictions in mind when designing a RELATION statement:</p>
<ul>
<li>
<p>Oracle OLAP can perform allocations on only one hierarchy in a dimension in one execution of the ALLOCATE command. When a dimension has multiple hierarchies, then you must supply a <span class="italic">qdr</span> argument to limit the relation to only one hierarchy.</p>
</li>
<li>
<p>An allocation specification must include either a RELATION statement or a VALUESET statement.</p>
</li>
<li>
<p>Only one RELATION statement or VALUESET statement may be used for each dimension in the allocation specification.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2190"></a>Locking Cells in the Allocation Path</p>
<p>Sometimes you want a cell to retain its existing value and to not be affected by an allocation. You can lock a value of the hierarchy of the dimension and thereby remove that value from the allocation path.When you lock a value above the detail level in a hierarchy, then you remove the branch of the hierarchy below that value from the allocation. To lock a value, use the PROTECT argument to the RELATION statement.</p>
<p>For example, when you want to allocate a yearly budget that you revise monthly, then you would set the value of the <code dir="ltr">budget</code> at the <code dir="ltr">Year</code> level of the <code dir="ltr">time</code> dimension hierarchy. You would allocate data to the elements that are at the <code dir="ltr">Month</code> level. As the year progresses, you would enter the actual data for a month and then lock that element and reallocate the remaining yearly budget value to see the new monthly targets that are required to meet the annual goal.</p>
<p>When you lock an element, you can specify whether the source value is renormalized. By default, when you lock an element of the hierarchy, the value of the cell of the target variable specified by that element is subtracted from the source value and the remainder is allocated to the target cells. When you do not want the source renormalized during the allocation, specify NONORMALIZE after the PROTECT argument.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="i1020626"></a>Examples</p>
<p>For an example of using RELATION statements in an allocation statement, see the examples in the <a href="#i78780">ALLOCMAP</a> command, especially <a href="#CACFGGBG">Example 9-40, &#34;Entering RELATION Statements in an Allocation Specification&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM750" class="refsect2"><a id="i79296"></a>
<h3 class="refsect2">SOURCEVAL</h3>
<p><a id="sthref3676"></a>Within an allocation specification, a SOURCE VAL statement specifies the value that the ALLOCATE command assigns to a source cell in an allocation operation after it successfully allocates the value that the cell contained before the allocation.</p>
<p>The default value of SOURCEVAL is <code dir="ltr">NA</code>, which means that ALLOCATE sets the value of each of the allocated source cells to <code dir="ltr">NA</code> following the allocation. When you specify CURRENT as the SOURCEVAL, then the allocated source cells retain the values that they had before the allocation. When you specify <code dir="ltr">ZERO</code> as the SOURCEVAL, then ALLOCATE assigns a zero value to each source cell that is allocated.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3677"></a>Syntax</p>
<p class="synopsis">SOURCEVAL&nbsp;[CURRENT|ZERO|<span class="underline">NA</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3678"></a>Parameters</p>
<dl>
<dt>CURRENT</dt>
<dd>
<p>Specifies that the value of a source cell after the allocation equals its value before the allocation.</p>
</dd>
<dt>ZERO</dt>
<dd>
<p>Specifies that the value of a source cell after the allocation is zero.</p>
</dd>
<dt>NA</dt>
<dd>
<p>Specifies that the value of a source cell after the allocation is <code dir="ltr">NA</code>. (Default value.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM751" class="refsect2"><a id="CACDJDFE"></a>
<h3 class="refsect2">VALUESET</h3>
<p><a id="ABC1127962"></a>Within an allocation specification, a VALUESET statement specifies the target dimension values of an allocation. A dimensioned valueset can be used to specify the allocation targets for an entire non-hierarchical dimension such as a measure or line dimension.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Keep the following restrictions in mind:
<ul>
<li>
<p>An allocation specification must include at least one RELATION statement or a VALUESET statement.</p>
</li>
<li>
<p>You can only specify one RELATION statement or VALUESET statement for each dimension specified in the allocation specification.</p>
</li>
</ul>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3679"></a>Syntax</p>
<p class="synopsis">VALUSET <span class="italic">vs-name</span>[(<span class="italic">nondimvalueset</span>)| <span class="italic">qdr</span>... ] OPERATOR <span class="italic">operator</span> | <span class="italic">opvar</span> &ndash;</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[NAOPERATOR <span class="italic">text -exp</span>] [REMOPERATOR <span class="italic">text -exp</span>] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ARGS [FLOOR <span class="italic">floorval</span>] [CEILING <span class="italic">ceilval</span>] &ndash;</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[MIN <span class="italic">minval</span>] [MAX <span class="italic">maxval</span>] &ndash;</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ADDT [ {<span class="underline">TRUE</span>|FALSE} | ASSIGN] &ndash;</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{PROTECTRW| PROTECTW} [NONORMALIZE] <span class="italic">lockvalueset</span>] &ndash;</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[WEIGHTBY [ADD] <span class="italic">weightobj</span> [WNAFILL <span class="italic">nafillval</span>]] | -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[WEIGHTBY WEIGHTVAR <span class="italic">wobjr</span>]]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3680"></a>Parameters</p>
<dl>
<dt><span class="italic">vs-name</span></dt>
<dd>
<p>Specifies the name of a valueset object that specifies the values of a dimension which are the path of allocation. The cells in the target variable identified by the values in <span class="italic">vs-name</span> receive the allocated data.</p>
</dd>
<dt><span class="italic">nondimvalueset</span></dt>
<dd>
<p>When <span class="italic">vs-name</span> is a dimensioned valueset, specifies a nondimensioned valueset that is the status used to loop the valueset dimension. When you do not include <span class="italic">nondimvalueset</span> or <span class="italic">qdr</span>, Oracle OLAP uses the default logical order of the dimensions, not its current status.</p>
</dd>
<dt><span class="italic">qdr</span></dt>
<dd>
<p>When <span class="italic">vs-name</span> is a non-dimensioned valueset, one or more qualified data references that specify the dimension values to use when allocating data.</p>
</dd>
<dt>OPERATOR <span class="italic">operator</span></dt>
<dd>
<p>The <span class="italic">operator</span> argument after the OPERATOR keyword is a text expression that is an operator type described in <a href="#g1028728">Table 9-3, &#34;Allocation Operators&#34;</a>. The operator type specifies the method of the allocation. The method determines the cells of the target variable for the <span class="italic">vs-name</span> relation to which ALLOCATE assigns a value. Unless you have specified a different status using <span class="italic">dimorder valueset</span>, for the FIRST, LAST, HFIRST, and HLAST operators, ALLOCATE uses the default logical order of the allocation dimension to determine the cell. There is no default operator for allocation.</p>
</dd>
<dt>OPERATOR <span class="italic">opvar</span></dt>
<dd>
<p>The <span class="italic">opvar</span> argument after OPERATOR keyword specifies a <code dir="ltr">TEXT</code> variable that specifies different the operation for each of the values of a dimension. The values of the variable are the allocation operators described in <a href="#g1028728">Table 9-3, &#34;Allocation Operators&#34;</a>. An operator variable is used to change the allocation operator with the values of one dimension. The <span class="italic">opvar</span> argument is used with the following types of dimensions:</p>
<ul>
<li>
<p>Measure dimension -- Changes the allocation method depending upon the variable being allocated. The values of the measure dimension are the names of the variables to be allocated. It dimensions a text variable whose values identify the operation to be used to allocate each measure. The allocation specification must include a MEASUREDIM (for allocation) statement that identifies the measure dimension.</p>
</li>
<li>
<p>Line item dimension -- Changes the allocation method depending upon the line item being allocated. The line item dimension is typically non-hierarchical and identifies financial allocations. The line item dimension is used both to dimension the data variable and to dimension a text variable that identifies the operation to be used to allocate each item. The operation variable is typically used to allocate line items over time.</p>
</li>
</ul>
<p>The <span class="italic">opvar</span> argument cannot be dimensioned by the dimension it is used to allocate. For example, when you want to specify different operations for the <code dir="ltr">geography</code> dimension, then <span class="italic">opvar</span> cannot be dimensioned by <code dir="ltr">geography</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
To minimize the amount of paging for the operator variable, define the <span class="italic">opvar</span> variable as type of <code dir="ltr">TEXT</code> with a fixed width of <code dir="ltr">8</code>.</div>
</dd>
<dt>NAOPERATOR <span class="italic">text-exp</span></dt>
<dd>
<p>The <span class="italic">operator</span> after the NAOPERATOR keyword specifies the operator that the ALLOCATE operation uses when it encounters an <code dir="ltr">NA</code> or lock-based deadlock. Valid operators are HFIRST, HLAST, and HEVEN which are described in <a href="#g1028728">Table 9-3, &#34;Allocation Operators&#34;</a>.</p>
</dd>
<dt>REMOPERATOR <span class="italic">text-exp</span></dt>
<dd>
<p>The <span class="italic">operator</span> after the REMOPERATOR keyword specifies the operator that the ALLOCATE operation uses when storing a remainder produced by an allocation. For example, assume you allocate the <code dir="ltr">INTEGER</code> 10 to three cells at the same level in a hierarchy, there is a remainder of 1. The REMOPERATOR specifies where you want the allocation operation to store this remainder. Valid operators for REMOPERATOR are MIN, MAX, FIRST, HFIRST, LAST, and HLAST which are described in <a href="#g1028728">Table 9-3, &#34;Allocation Operators&#34;</a>.</p>
</dd>
<dt>ARGS</dt>
<dd>
<p>Indicates that additional arguments specify additional parameters for the allocation operation. All of these arguments apply uniformly to the valueset.</p>
</dd>
<dt>FLOOR <span class="italic">floorval</span></dt>
<dd>
<p>Specifies that when an allocated target value falls below the value specified in <span class="italic">floorval</span>, Oracle OLAP stores the value as NA.</p>
</dd>
<dt>CEILING <span class="italic">ceilval</span></dt>
<dd>
<p>Specifies that when an allocated target value exceeds the value specified in <span class="italic">ceilval</span>, then Oracle OLAP stores the value as NA.</p>
</dd>
<dt>MIN <span class="italic">minval</span></dt>
<dd>
<p>Specifies that when an allocated target value falls below the value specified <span class="italic">minval</span>, then Oracle OLAP stores the value of <span class="italic">minval</span> in the target.</p>
</dd>
<dt>MAX <span class="italic">maxval</span></dt>
<dd>
<p>Specifies that when an allocated target value exceeds the value specified <span class="italic">maxval</span>, then Oracle OLAP stores the value of <span class="italic">maxval</span> in the target</p>
</dd>
<dt>ADDT {<span class="underline">TRUE</span>|FALSE}</dt>
<dd>
<p>The ADDT phrase specifies the sign of the addition when Oracle OLAP adds target cells to the existing contents of the target cell:</p>
<ul>
<li>
<p><code dir="ltr">TRUE</code> specifies that the results of the allocation are added to the target. (Default)</p>
</li>
<li>
<p><code dir="ltr">FALSE</code> specifies that the results of the allocation are subtracted from the target cell.</p>
</li>
</ul>
</dd>
<dt>PROTECTRW <span class="italic">lockvalueset</span></dt>
<dd>
<p>Specifies that the dimension members specified by <span class="italic">lockvalueset</span> cannot be the targets or source values of allocation. Using this phrase allows users to specify an allocation &#34;lock&#34; on a hierarchical subtree. The current contents of the target cell are subtracted from the source and the source and basis is renormalized.</p>
</dd>
<dt>PROTECTW <span class="italic">lockvalueset</span></dt>
<dd>
<p>Specifies that the dimension members specified by <span class="italic">lockvalueset</span> cannot be the targets of an allocation. However, these target cells are used as the source values for subsequent steps in the allocation process. When the SOURCEVAL statement is set to <code dir="ltr">0</code> (zero) or <code dir="ltr">NA</code> and these values are reallocated, they are set appropriately.</p>
</dd>
<dt>NONORMALIZE</dt>
<dd>
<p>Specifies that Oracle OLAP should not renormalize the source and basis based on the protected cells. Specifying this keyword has an effect similar to removing a sub-branch from a hierarchy. Frequently, when you use this keyword, if, after allocation, data is aggregated from the allocation level, the source cell probably does not contain the original allocated amount</p>
</dd>
<dt>WEIGHTBY <span class="italic">weightobj</span></dt>
<dd>
<p>Specifies a weight that should be applied to the target cell just before it is stored. Using this phrase allows for processes such and unit or currency conversion. Value weight objects are variables, formulas and relations. When a relation is used, the target variable is referenced based on the weight relation, and the cell is applied the allocation target cell.</p>
</dd>
<dt>ADD</dt>
<dd>
<p>Specifies that Oracle OLAP adds the value of the weight to the allocation target rather than using multiplication.</p>
</dd>
<dt>WNAFILL <span class="italic">nafillval</span></dt>
<dd>
<p>Specifies the default value of the weight variable that should be used. When you do not include an <span class="syntaxinline">ADD</span> clause, the default value of <span class="syntaxinlineitalic">nafillval</span> is <code dir="ltr">1</code>. When you include the <span class="syntaxinline">ADD</span> clause, the default value of <span class="syntaxinlineitalic">nafillval</span> is <code dir="ltr">0</code> (zero).</p>
</dd>
<dt>WEIGHTBY WEIGHTVAR <span class="italic">wobj</span></dt>
<dd>
<p>Specifies that the allocated data should be weighted. The <span class="italic">wobj</span> argument is the name of a variable, relation, or formula whose values are the weights that Oracle OLAP applies to the allocated data just before it is stored in the target cell. Using this clause allows for processes such as unit or currency conversion and enables you to use different weight objects with the different operators specified in the operator variable you created for the OPERATOR <span class="italic">opvar</span> clause. <a id="sthref3681"></a></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i78785"></a>
<div id="OLADM752" class="refsect1">
<h2 class="refsect1">ALLSTAT</h2>
<p><a id="ABC1048832"></a>The ALLSTAT program sets the status of all dimensions in the current analytic workspace to all their values. ALLSTAT does not, however, set the status of the NAME dimension.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3682"></a>Syntax</p>
<p class="synopsis">ALLSTAT</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3683"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2191"></a>Limiting One Dimension</p>
<p>You can set the status of a single dimension to all its values with the LIMIT command.</p>
<p class="subhead2"><a id="OLADM2192"></a>ALLSTAT and the LOCK_LANGUAGE_DIMS Option</p>
<p>When LOCK_LANGUAGE_DIMS is <code dir="ltr">TRUE</code>, ALLSTAT ignores language dimensions. When LOCK_LANGUAGE_DIMS is <code dir="ltr">FALSE</code>, ALLSTAT treats language dimensions the same way it treats other dimensions.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_properties.htm#BCFJBDIG">$DEFAULT_LANGUAGE</a> property and <a href="dml_options.htm#CIHGAHAD">LOCK_LANGUAGE_DIMS</a> option</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3684"></a>Examples</p>
<div id="OLADM2193" class="example">
<p class="titleinexample"><a id="sthref3685"></a>Example 9-43 Limiting to All Values</p>
<p>The following STATUS statement produces the current status of the dimensions of the variable UNITS.</p>
<pre dir="ltr">status units
</pre>
<pre dir="ltr">The current status of MONTH is:
Jul96 TO Dec96
The current status of PRODUCT is:
Tents TO Racquets
The current status of DISTRICT is:
DALLAS
</pre>
<p>After you execute an ALLSTAT statement the same STATUS statement produces this output<a id="sthref3686"></a>.</p>
<pre dir="ltr">The current status of MONTH is:
ALL
The current status of PRODUCT is:
ALL
The current status of DISTRICT is:
ALL
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79082"></a>
<div id="OLADM753" class="refsect1">
<h2 class="refsect1">ARGUMENT</h2>
<p><a id="ABC1135455"></a>Within an OLAP DML program, the ARGUMENT statement declares an argument that is expected by the program. Within the program, the argument is stored in a structure similar to a variable or valueset. The argument is initialized with the value that was passed when the program was invoked. An argument exists only while the program is running.</p>
<p>The ARGUMENT statement is used only in programs, and it must precede the first executable line in the program. Be careful to distinguish the ARG abbreviation of the ARGUMENT statement from the ARG function.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3687"></a>Syntax</p>
<p class="synopsis">ARGUMENT&nbsp;<span class="italic">name&nbsp;</span>{<span class="italic">datatype|dimension|</span>VALUESET&nbsp;<span class="italic">dim</span>}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3688"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name by which the argument is referenced in the program. An argument cannot have the same name as a local variable or valueset. You name an argument according to the rules for naming analytic workspace objects (see the <a href="#i78478">DEFINE</a> command).</p>
</dd>
<dt><span class="italic">datatype</span></dt>
<dd>
<p>The data type of the argument, which indicates the kind of data to be stored. You can specify any of the data types that are listed and described in the DEFINE VARIABLE entry. Also, when you want to the program to be able to receive an argument without converting it to a specific data type, you can also specify <code dir="ltr">WORKSHEET</code> for the data type.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
When you declare an argument to be of type NTEXT, and a TEXT value is passed into the program, Oracle OLAP converts the TEXT value to NTEXT. Similarly, when you declare an argument to be of type TEXT, and an NTEXT value is passed into the program, Oracle OLAP converts the NTEXT value to TEXT. Data can be lost when NTEXT is converted to TEXT.</div>
</dd>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of a dimension, whose value is contained in the argument. The argument holds a single value of the dimension. Assigning a value that does not currently exist in the dimension causes an error.</p>
</dd>
<dt>VALUESET <span class="italic">dim</span></dt>
<dd>
<p>Indicates that <span class="italic">name</span> is a valueset. The keyword <span class="italic">dim</span> specifies the dimension for which the valueset holds values. Argument valuesets can be used within the program in the same way you would use a valueset in the analytic workspace<span class="italic">.</span></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3689"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2194"></a>The Life Span of an Argument</p>
<p>An argument exists only while the program in which it is declared is running. When the program terminates, the argument ceases to exist and its value is lost. Therefore, an argument is not an analytic workspace object.</p>
<p>A program can terminate when a RETURN or SIGNAL statement, or at the last line of the program executes. When the program calls a subprogram, the original program is temporarily suspended and the argument still exists when the subprogram ends and control returns to the original program. A program that calls itself recursively has separate arguments for each running copy of the program.</p>
<p class="subhead2"><a id="i1034808"></a><a id="OLADM2195"></a>Declaring Arguments that Are Passed Into a Program</p>
<p>When declaring arguments that are passed into a program special considerations apply.</p>
<p><a id="OLADM2196"></a><span class="subhead3">Arguments Passed by Value&nbsp;</span>Arguments are passed into a program by value. Consequently, the called program is given only the value of an argument, without access to any analytic workspace object to which it might be related. Therefore, you can change an argument value within the called program without affecting any value outside the program. You can think of an argument variable or valueset as a conveniently initialized local variable or local valueset.</p>
<p><a id="i1034640"></a><a id="OLADM2197"></a><span class="subhead3">Argument Processing for a Function&nbsp;</span>When a program is invoked either with a CALL statement or as a function, the following two-step process occurs:</p>
<ol>
<li>
<p>The specified data types are established. Argument expressions specified by the calling program are evaluated left to right, and their data types are identified. An expression representing a dimension value can be a text (<code dir="ltr">TEXT</code> or <code dir="ltr">ID</code>), numeric (<code dir="ltr">INTEGER</code>, <code dir="ltr">DECIMAL</code>, and so on), or RELATION value. An error in one argument expression stops the process<span class="italic">.</span></p>
</li>
<li>
<p>Each specified data type is matched with the declared data type. Argument expressions are matched positionally with the declared arguments. The first argument expression is matched with the first declared argument, the second argument expression with the second argument, and so on. Each expression is converted in turn to the declared data type of the declared argument.</p>
</li>
</ol>
<p>When an argument is declared as a dimension value, the matching value passed from the calling program can be <code dir="ltr">TEXT</code> or <code dir="ltr">ID</code> (representing a value of the specified dimension), numeric (representing a logical dimension position), or RELATION (representing a physical dimension position). The RELATION method is the way Oracle OLAP passes along dimension values that are the result of evaluating a dimension name or relation name used as the matching value. When the matching value is a noninteger numeric value (for example, <code dir="ltr">DECIMAL</code>), it is rounded to the nearest <code dir="ltr">INTEGER</code> value to represent a logical dimension position.</p>
<p>When an argument is declared as something other than a dimension value, and the matching value from the calling program is a RELATION value, an error occurs. When you want to pass a RELATION value and receive it as a <code dir="ltr">TEXT</code> argument, use CONVERT to convert the value in the program&#39;s argument list.</p>
<p>When an argument is declared as a valueset of a dimension, only the name of a valueset of that dimension is accepted as an argument.</p>
<p>When an error occurs in either the first or second step, the program is not executed.</p>
<p><a id="OLADM2198"></a><span class="subhead3">Argument Processing for a Command&nbsp;</span>When a program is invoked as a standalone command with its arguments not enclosed by parentheses, the arguments are matched positionally with the declared arguments. The called program can reference the specified arguments either as declared arguments or through the ARG (<span class="italic">n</span>), ARGS, and ARGFR (<span class="italic">n</span>) functions. In this situation, the arguments are passed as text strings, not by value.</p>
<p><a id="OLADM2199"></a><span class="subhead3">Extra Arguments&nbsp;</span>When the calling program specifies more arguments than there are declarations in the called program, the extra arguments are ignored. When the calling program specifies fewer arguments than there are declarations in the called program, the extra arguments are given <code dir="ltr">NA</code> values.</p>
<p class="subhead2"><a id="OLADM2200"></a>Argument Name that Duplicate the Names of Analytic Workspace Objects</p>
<p>Ordinarily, when you give an argument the same name as an analytic workspace object, the argument (not the analytic workspace object) is referenced within the program. Exceptions to this rule occur only when the statement in which the reference is made requires an analytic workspace object as an argument.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3690"></a>Examples</p>
<div id="OLADM2201" class="example">
<p class="titleinexample"><a id="BABIGFDB"></a>Example 9-44 Passing an Argument to a User-Defined Function</p>
<p>Sometimes verifying user input to the GET function can become complicated. The usual method involves a line of code such as the following one.</p>
<pre dir="ltr">SHOW GET(INT VERIFY VALUE GT 0 AND VALUE LT 100 -
   IFNOT &#39;The value must be between 1 and 100&#39;)
</pre>
<p>You can create a user-defined function to make the GET expression simpler. For example, the following program can be used as a function to check for values between <code dir="ltr">0</code> and <code dir="ltr">100</code>.</p>
<pre dir="ltr">DEFINE verit PROGRAM BOOLEAN
PROGRAM
  ARGUMENT uservalue INT
  TRAP ON haderror NOPRINT
  IF uservalue GT 100
     THEN SIGNAL toobig &#39;The value must be 100 or smaller.&#39;
  ELSE IF uservalue LT 0
     THEN SIGNAL toosmall &#39;The value must be 0 or greater.&#39;
  RETURN TRUE
haderror:
  RETURN FALSE
END
</pre>
<p>The following GET expression uses the <code dir="ltr">verit</code> function.</p>
<pre dir="ltr">SHOW GET(INT VERIFY VERIT(VALUE) IFNOT ERRORTEXT) 
</pre></div>
<!-- class="example" -->
<div id="OLADM2202" class="example">
<p class="titleinexample"><a id="CHDEGHGE"></a><a id="i1033454"></a>Example 9-45 Passing Multiple Arguments</p>
<p>Suppose, in the <code dir="ltr">product.rpt</code> program, that you want to supply a second argument that specifies the column width for the data columns in the report. In the <code dir="ltr">product.rpt</code> program, you would add a second ARGUMENT statement to declare the <code dir="ltr">INTEGER</code> argument to be used in setting the value of the COLWIDTH option.</p>
<pre dir="ltr">ARGUMENT natext TEXT
ARGUMENT widthamt INTEGER
NASPELL = natext
COLWIDTH = widthamt
</pre>
<p>To specify eight-character columns, you could run the <code dir="ltr">product.rpt</code> program with the following statement.</p>
<pre dir="ltr">CALL product.rpt (&#39;Missing&#39; 8)
</pre>
<p>When the <code dir="ltr">product.rpt</code> program also requires the name of a product as a third argument, then in the <code dir="ltr">product.rpt</code> program you would add a third ARGUMENT statement to handle the product argument, and you would set the status of the <code dir="ltr">product</code> dimension using this argument.</p>
<pre dir="ltr">ARGUMENT natext TEXT
ARGUMENT widthamt INTEGER
ARGUMENT rptprod PRODUCT
NASPELL = natext
COLWIDTH = widthamt
LIMIT product TO rptprod
</pre>
<p>You can run the <code dir="ltr">product.rpt</code> program with the following statement.</p>
<pre dir="ltr">CALL product.rpt (&#39;Missing&#39; 8 &#39;TENTS&#39;)
</pre>
<p>In this example, the third argument is specified in uppercase letters with the assumption that all the dimension values in the analytic workspace are in uppercase letters.</p>
</div>
<!-- class="example" -->
<div id="OLADM2203" class="example">
<p class="titleinexample"><a id="sthref3691"></a>Example 9-46 Using the ARGUMENT Statement</p>
<p><a id="sthref3692"></a>Suppose you are writing a program, called <code dir="ltr">product.rpt</code>. The <code dir="ltr">product.rpt</code> program produces a report, and you want to supply an argument to the report program that specifies the text that should appear for an NA value in the report. In the <code dir="ltr">product.rpt</code> program, you can use the declared argument <code dir="ltr">natext</code> in an ARGUMENT statement to set the NASPELL option to the value provided as an argument.</p>
<pre dir="ltr">ARGUMENT natext TEXT
NASPELL = natext
</pre>
<p>To specify <code dir="ltr">Missing</code> as the text for NA values, you can execute the following statement.</p>
<pre dir="ltr">CALL product.rpt (&#39;Missing&#39;)
</pre>
<p>In this example, literal text enclosed in single quotes provides the value of the text argument. However, any other type of text expression works equally well, as shown in the next example.</p>
<pre dir="ltr">DEFINE natemp VARIABLE TEXT TEMP
natemp = &#39;Missing&#39;
CALL product.rpt (natemp)
</pre></div>
<!-- class="example" -->
<div id="OLADM2204" class="example">
<p class="titleinexample"><a id="CHDBIFDI"></a><a id="i1033540"></a>Example 9-47 Passing the Text of an Expression</p>
<p>Suppose you have a program named <code dir="ltr">custom.rpt</code> that includes a REPORT statement, but you want to be able to use the program to present the values of an expression, such as <code dir="ltr">sales - expense</code>, and individual variables.</p>
<pre dir="ltr">custom.rpt &#39;sales - expense&#39;
</pre>
<p>Note that you must enclose the expression in single quotation marks. Because the expression contains punctuation (the minus sign), the quotation marks are necessary to indicate that the entire expression is a single argument.</p>
</div>
<!-- class="example" -->
<p>In the <code dir="ltr">custom.rpt</code> program, you could use the following statements to produce a report of this expression.</p>
<pre dir="ltr">ARGUMENT rptexp TEXT
REPORT &amp;rptexp
</pre>
<p>For an example of using ampersand substitution to pass multiple dimension values, see <a href="dml_commands_2.htm#CHDFHBAJ">Example 10-18, &#34;Using Ampersand Substitution with LIMIT&#34;</a>.</p>
</div>
<!-- class="refsubsect" -->
<div id="OLADM2205" class="example">
<p class="titleinexample"><a id="CHDFCJBB"></a><a id="i1033557"></a>Example 9-48 Passing Workspace Object Names and Keywords</p>
<p>Suppose you design a program called <code dir="ltr">sales.rpt</code> that produces a report on a variable that is specified as an argument and sorts the <code dir="ltr">product</code> dimension in the order that is specified in another argument. You would run the <code dir="ltr">sales.rpt</code> program by executing a statement like the following one.</p>
<pre dir="ltr">sales.rpt units d
</pre>
<p>In the <code dir="ltr">sales.rpt</code> program, you can use the following statements.</p>
<pre dir="ltr">ARGUMENT varname TEXT
ARGUMENT sortkey TEXT
SORT product &amp;sortkey &amp;varname
REPORT &amp;varname
</pre>
<p>After substituting the arguments, these statements are executed in the <code dir="ltr">sales.rpt</code> program.<a id="sthref3693"></a></p>
<pre dir="ltr">SORT product D units
REPORT units
</pre></div>
<!-- class="example" --></div>
<!-- class="refsect1" -->
<a id="i79092"></a>
<div id="OLADM754" class="refsect1">
<h2 class="refsect1">AW command</h2>
<p><a id="ABC1045124"></a></p>
<p>The syntax of the AW command varies depending on the task that you want to perform.</p>
<br/>
<a href="#i1016102">AW ALIASLIST</a><br/>
<a href="#i1016126">AW ATTACH</a><br/>
<a href="#i1016130">AW CREATE</a><br/>
<a href="#i1016134">AW DELETE</a><br/>
<a href="#i1016138">AW DETACH</a><br/>
<a href="#CACGFHIJ">AW FREEZE</a><br/>
<a href="#i1016142">AW LIST</a><br/>
<a href="#BGEJHCJJ">AW PURGE CACHE</a><br/>
<a href="#CACGAADD">AW ROLLBACK TO FREEZE</a><br/>
<a href="#i1016146">AW SEGMENTSIZE</a><br/>
<a href="#CACJJCHC">AW THAW</a><br/>
<a href="#CACCAEBE">AW TRUNCATE</a>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3694"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2206"></a>Triggering Program Execution When an AW Statement Executes</p>
<p>When a program named TRIGGER_AW exists in an analytic workspace, the execution of an AW statement for that workspace automatically executes that program. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> and the <a href="dml_program.htm#CEGEHJCD">&#34;TRIGGER_AW&#34;</a> program for more information.</p>
<p>When an AW ATTACH statement executes Oracle OLAP checks for other programs as well. See <a href="dml_program.htm#i1020273">&#34;Startup Programs&#34;</a> for more information.</p>
<p class="subhead2"><a id="OLADM2207"></a>Options Related to the AW Statement</p>
<p><a href="dml_options.htm#CHDHDDDA">&#34;Analytic Workspace Options&#34;</a> lists the options that you might want to reset before you either create or attach an analytic workspace.</p>
<p class="subhead2"><a id="OLADM2208"></a>EXPRESS Workspace</p>
<p>When your database is installed with the OLAP option, the <code dir="ltr">EXPRESS</code> workspace is always attached in read-only mode in your session. It never automatically becomes the current workspace, even when it is the first or only workspace in your workspace list, because it is for internal use by Oracle OLAP. You can make the <code dir="ltr">EXPRESS</code> workspace the current workspace by explicitly attaching it, but this is not recommended. You cannot detach the <code dir="ltr">EXPRESS</code> workspace.</p>
</div>
<!-- class="refsubsect" -->
<div id="OLADM755" class="refsect2"><a id="i1016102"></a>
<h3 class="refsect2">AW ALIASLIST</h3>
<p><a id="sthref3695"></a><a id="sthref3696"></a><a id="sthref3697"></a>The AW ALIASLIST command assigns or deletes one or more workspace alias for the specified attached workspace or, when no workspace is specified, for the current workspace. ALIAS indicates that the alias or aliases should be assigned, and UNALIAS indicates that the alias or aliases should be deleted. All aliases for a given workspace are automatically deleted when you detach an analytic workspace.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3698"></a>Syntax</p>
<p class="synopsis">AW&nbsp;ALIASLIST&nbsp;[<span class="italic">workspace</span>]&nbsp;{ALIAS|UNALIAS} <span class="italic">alias1</span>, <span class="italic">alias2</span>, ...</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3699"></a>Parameters</p>
<dl>
<dt><span class="italic">workspace</span></dt>
<dd>
<p>The name of the analytic workspace. You can specify either an analytic workspace name or an analytic workspace alias, depending on the keywords you are using.</p>
</dd>
<dt>ALIAS</dt>
<dd>
<p>Assigns one or more workspace alias for the specified attached workspace or, when no workspace is specified, for the current workspace. ALIAS indicates that the alias or aliases should be assigned, and UNALIAS indicates that the alias or aliases should be deleted.</p>
<p>All aliases for a given workspace are automatically deleted when you detach an analytic workspace. Therefore, each time you attach an unattached workspace, you must reassign its aliases.</p>
</dd>
<dt>UNALIAS</dt>
<dd>
<p>Deletes one or more workspace alias for the specified attached workspace or, when no workspace is specified, for the current workspace.</p>
</dd>
<dt><span class="italic">alias1</span></dt>
<dt><span class="italic">alias2</span></dt>
<dd>
<p>The alias name for the analytic workspace. Alias names:</p>
<ul>
<li>
<p>Can be from 1 - 26 characters in length. All characters must come from the database character set and must be letters, numerals, or underscores.</p>
</li>
<li>
<p>Cannot begin with a numeral and cannot be reserved words in the DML. (Use RESERVED to identify reserved words.)</p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3700"></a>Examples</p>
<div id="OLADM2209" class="example">
<p class="titleinexample"><a id="sthref3701"></a>Example 9-49 Assigning an Alias</p>
<p>The following statement assigns <code dir="ltr">sdemo</code> as an alias for the <code dir="ltr">demo</code> workspace, which was created by a user named <code dir="ltr">scott</code>. The full name of the workspace is specified because the current user is not <code dir="ltr">scott</code>.</p>
<pre dir="ltr">AW ALIASLIST scott.demo ALIAS sdemo
</pre>
<p>In the following statement, the user named <code dir="ltr">scott</code> assigns <code dir="ltr">mydemo</code> as an alias for the same workspace.</p>
<pre dir="ltr">AW ALIASLIST demo ALIAS mydemo
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM756" class="refsect2"><a id="i1016126"></a>
<h3 class="refsect2">AW ATTACH</h3>
<p><a id="ABC1045264"></a>The AW ATTACH command <a id="sthref3702"></a>attaches an analytic workspace to your session. Oracle OLAP makes the specified workspace the current one. Previously attached workspaces move down in the list of attached workspaces to make room for the new current one at the top of the list. When there is a cached version of the requested analytic workspace then the cached version is moved back to the list of attached workspaces unless, of course, the current version of the analytic workspace is more recent than the cached version.</p>
<p>When you attach multiple workspaces, the code and data in all the attached workspaces are available during your session. The current workspace is first on the workspace list, which Oracle OLAP keeps for your session.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When an AW ATTACH statement executes, it can trigger the execution of several programs. See <a href="dml_program.htm#i1020273">&#34;Startup Programs&#34;</a> for more information.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3703"></a>Syntax</p>
<p class="synopsis">AW&nbsp;ATTACH&nbsp;<span class="italic">workspace&nbsp;</span>&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="underline">ONATTACH</span>&nbsp;[<span class="italic">progname</span>]|NOONATTACH]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[RO [THAW] ] | RW | RWX | MULTI [THAW]] [WAIT | NOWAIT] ]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="underline">AUTOGO</span> [<span class="italic">progname</span>]|NOAUTOGO]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[AFTER<span class="italic">&nbsp;workspace|</span>BEFORE&nbsp;<span class="italic">workspace</span>|LAST|<span class="underline">FIRST</span>]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[PASSWORD&nbsp;<span class="italic">password</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3704"></a>Parameters</p>
<dl>
<dt><span class="italic">workspace</span></dt>
<dd>
<p>The name of the analytic workspace. When you use the ATTACH keyword to attach an analytic workspace that is not already attached, you must specify the workspace name. Again this is because no alias has been assigned using AW ALIAS LIST. However, when you use the ATTACH keyword on an already attached workspace (for example, to change its position in the workspace list), you can assign an alias using AW ALIAS LIST and then use that assigned alias.</p>
</dd>
<dt>ONATTACH [<span class="italic">progname</span>]</dt>
<dd>
<p>(Default) When you do not specify <span class="italic">progname</span>, the ONATTACH clause automatically runs a program named ONATTACH if one exists in the attached workspace. You can get the same results by <span class="italic">not</span> specifying NOONATTACH.</p>
</dd>
<dt>NOONATTACH</dt>
<dd>
<p>Specifying NOONATTACH indicates that when a program named <code dir="ltr">ONATTACH</code> exists in the workspace, Oracle OLAP should not execute that program.</p>
</dd>
<dt>AUTOGO [<span class="italic">progname</span>]</dt>
<dd>
<p>(Default) When you do not specify <span class="italic">progname</span>, the AUTOGO clause automatically runs a program named AUTOGO if one exists in the attached workspace. You can get the same results by <span class="italic">not</span> specifying NOAUTOGO.</p>
<p>When you do specify <span class="italic">progname</span>, the AUTOGO clause automatically runs the specified program in the attached program.</p>
</dd>
<dt>NOAUTOGO</dt>
<dd>
<p>Specifying NOAUTOGO indicates that when a program named <code dir="ltr">AUTOGO</code> exists in the workspace, Oracle OLAP should not execute that program.</p>
</dd>
<dt>RO</dt>
<dd>
<p>(Default) Specifies that the workspace is attached in read-only access mode. Users can make private changes to the data in the workspace to perform what-if analysis but cannot commit any of these changes.</p>
<p>An analytic workspace that is attached read-only can be accessed simultaneously by several sessions. The read-only attach mode is compatible with the read/write and multiwriter access mode. A user can attach an analytic workspace in read-only mode when other users have the workspace attached in either read/write and multiwriter access mode. Likewise, a user cannot attach an analytic workspace in read/write exclusive mode when another user has it attached in read-only mode. When you attach an analytic workspace with read-only access, Oracle OLAP executes a program called <a href="dml_program.htm#i1015611">PERMIT_READ</a>, when it finds one in the workspace.</p>
</dd>
<dt>THAW</dt>
<dd>
<p>Specifies that Oracle OLAP attach the current view of an analytic workspace that was frozen using an <a href="#CACGFHIJ">AW FREEZE</a> command without the NOTHAW keyword.</p>
</dd>
<dt>RW</dt>
<dd>
<p>Specifies that the workspace is attached in read/write access mode. Only one user can have an analytic workspace open in read/write at a time. The user has to commit either all or none of the changes made to the workspace.</p>
<p>An analytic workspace that is attached read/write non-exclusive can be accessed simultaneously by several sessions. The read/write non-exclusive attach mode is only compatible with the read-only access mode. A user can attach an analytic workspace in read/write mode when other users have the workspace attached in read-only mode; however, a user cannot attach an analytic workspace in read/write mode when another user has it attached in any other mode. Likewise, a user cannot attach an analytic workspace in any mode other than read-only when another user has it attached in read/write non-exclusive mode. When you attach an analytic workspace with read/write access, Oracle OLAP executes a program called <a href="dml_program.htm#i1015926">PERMIT_WRITE</a>, when it finds one in the workspace.</p>
</dd>
<dt>RWX</dt>
<dd>
<p>Specifies that the workspace is attached in read/write exclusive access mode. Only one user can have an analytic workspace open in read/write exclusive at a time. The user has to commit either all or none of the changes made to the workspace.</p>
<p>An analytic workspace that is attached read/write exclusive cannot be accessed by any other sessions. &nbsp;The read/write exclusive attach mode is not compatible with any other access modes. A user cannot attach an analytic workspace in read/write exclusive mode when another user has it attached in any mode. Likewise, a user cannot attach an analytic workspace in any other mode when another user has it attached in read/write exclusive mode. When you attach an analytic workspace with read/write access, Oracle OLAP executes a program called <a href="dml_program.htm#i1015926">PERMIT_WRITE</a>, when it finds one in the workspace.</p>
</dd>
<dt>MULTI</dt>
<dd>
<p>Specifies that the workspace is attached in <a id="sthref3705"></a>multiwriter access mode. An analytic workspace that is attached in multiwriter mode can be accessed simultaneously by several sessions. In multiwriter mode, users can simultaneously modify the same analytic workspace in a controlled manner by specifying the attachment mode (read-only or read/write) for individual variables, relations, valuesets, and dimensions.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BGEGDACB">&#34;Managing Analytic Workspaces Attached in Multiwriter Mode&#34;</a>&nbsp;</div>
<p>The multiwriter attach mode is only compatible with read-only and multiwriter modes. A user cannot attach an analytic workspace in multiwriter mode when another user has it attached in read/write or exclusive modes. Likewise, a user cannot attach an analytic workspace in read/write or exclusive mode when another user has it attached in multiwriter mode.</p>
</dd>
<dt>WAIT</dt>
<dt>NOWAIT</dt>
<dd>
<p>Specifies whether Oracle OLAP waits for an analytic workspace to become available for access when you request access to an analytic workspace that is being used with read/write exclusive access or when you request read/write access to an analytic workspace that is being used with read/write non-exclusive access. NOWAIT (the default) causes Oracle OLAP to produce an error message indicating that the workspace is unavailable. When you specify WAIT, Oracle OLAP waits for the workspace to become available for access. The number of seconds that Oracle OLAP waits for access depends on the value of the Oracle OLAP AWWAITTIME option.</p>
</dd>
<dt>FIRST</dt>
<dd>
<p>(Default) Makes the workspace you are attaching the current workspace in the workspace list.</p>
</dd>
<dt>LAST</dt>
<dd>
<p>Puts the workspace after the current workspace in the workspace list and before the <code dir="ltr">EXPRESS</code> workspace. When there are other workspaces attached before the <code dir="ltr">EXPRESS</code> workspace, the specified workspace is attached after them. When there are no workspaces before the <code dir="ltr">EXPRESS</code> workspace, LAST makes the specified workspace the current one. LAST ignores any workspaces after the <code dir="ltr">EXPRESS</code> workspace.</p>
</dd>
<dt>AFTER <span class="italic">workspace</span></dt>
<dt>BEFORE <span class="italic">workspace</span></dt>
<dd>
<p>Let you specify the position in the workspace list of the newly attached workspace relative to an analytic workspace that is attached. Use AFTER, rather than LAST, to attach an analytic workspace after the <code dir="ltr">EXPRESS</code> workspace. When specifying BEFORE puts the workspace first, the workspace becomes the current one.</p>
<p>The order of the workspace list determines the order in which workspaces are searched when Oracle OLAP looks for programs or objects named in programs.</p>
</dd>
<dt>PASSWORD&nbsp;<span class="italic">password</span></dt>
<dd>
<p>Specifies a password to be checked in a startup program to give or deny access to the workspace being attached. See <a href="dml_program.htm#i1020273">&#34;Startup Programs&#34;</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1062806"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2210"></a>Using ATTACH on an Already-Attached Workspace</p>
<p>Reattaching an attached workspace with an AW ATTACH <span class="italic">workspace</span> statement does not cause Oracle OLAP to bring a new copy of the workspace into working memory. Instead, Oracle OLAP takes the following actions:</p>
<ol>
<li>
<p>Makes the workspace the current workspace.</p>
</li>
<li>
<p>Runs an Autogo program, when you specify the AUTOGO keyword</p>
</li>
</ol>
<p>However, when you have made any changes to data during the session, they are <span class="italic">not</span> discarded when you reattach an active workspace. Furthermore, current aliases for the workspace are <span class="italic">not</span> changed.</p>
<p class="subhead2"><a id="BGEGDACB"></a><a id="OLADM2211"></a>Managing Analytic Workspaces Attached in Multiwriter Mode</p>
<p>You use the following commands to manage objects in multiwriter mode:</p>
<ul>
<li>
<p><a href="#i1021649">ACQUIRE</a> -- Acquires and (optionally) resynchronizes the specified objects so that their changes can be updated and committed.</p>
</li>
<li>
<p><a href="dml_commands_2.htm#i1016511">RELEASE</a> -- Changes the access mode of the specified variables, relations, valuesets, or dimensions from read/write (acquired) access to read-only access.</p>
</li>
<li>
<p><a href="dml_commands_2.htm#i1010007">RESYNC</a> -- Drops private changes for the specified read-only objects and retrieves the data from the latest visible generations.</p>
</li>
<li>
<p><a href="dml_commands_2.htm#i1010016">REVERT</a>-- Drops all changes made to the specified objects since they were last updated, resynchronized (using a RESYNC statement), or acquired using ACQUIRE with the RESYNC phrase, or since the analytic workspace was attached.</p>
</li>
</ul>
<p>The following considerations apply:</p>
<ul>
<li>
<p>Only one user can acquire an object in read/write mode at a time. You can first acquire an object in read-only mode, and then, assuming another user has not also acquired it in read-only mode, you can acquire it in read/write mode without releasing it first. However, once another user has acquired an object in read-only mode, you cannot acquire the same object in read/write mode until the other user releases the object. When a specified object has been acquired by another user or when your read-only generation for a specified object is not the latest generation for the object, an acquire fails.</p>
</li>
<li>
<p>You must resynchronize all variables, valuesets, and relations that share a composite dimension at the same time.</p>
</li>
<li>
<p>When resynchronizing objects, keep in mind the logical relationship of different objects to avoid losing the logical consistency of the data by promoting some objects, but not others to a new generation.</p>
</li>
<li>
<p>Objects that share a composite dimension can be resynchronized separately when all such objects that are <span class="italic">not</span> being resynchronized are either unchanged or acquired.</p>
</li>
<li>
<p>You cannot update a variable if any of its dimensions have been acquired and modified.</p>
</li>
<li>
<p>You must acquire a dimension before you maintain it.</p>
</li>
<li>
<p>If you release a dimension, then an automatic revert occurs.</p>
</li>
<li>
<p>Releasing objects that have been updated does not allow others to acquire the object until you commit or roll back the transaction. It may still be useful to release an object that has been updated before a commit when one wants to make further what-if changes and later update all acquired variables</p>
</li>
<li>
<p>Reverting a dimension after adding dimension values is not recommended because it can result in suboptimal space allocation for variables dimensioned by that dimension</p>
</li>
<li>
<p>If an acquired variable is dimension by an acquired dimension that has been maintained then you cannot update that variable until after you update or release the dimension.</p>
</li>
<li>
<p>You cannot delete dimension values.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2212"></a>Attaching a Frozen Analytic Workspace</p>
<p>Once an analytic workspace is frozen, attaching an analytic workspace in RO and MULTI attaches the frozen view of the workspace unless you specify the THAW keyword to request that the current view be attached. (When you attach in RW or RW, you always get the latest generation.)</p>
<p>When you attach the current view, the state of the analytic workspace may not necessarily be consistent if there is a multi-step build with intermediate commits. For example, assume that there is an analytic workspace that has two variables: actual and <code dir="ltr">budget</code>. Assume also that you have populated <code dir="ltr">actual</code> and then issued UPDATE and COMMIT commands. At this point in time, there is data only in actual.</p>
<p>When you are attaching a frozen analytic workspace in read multi mode, you can use the multi-writer commands (<a href="dml_commands_2.htm#i1010007">RESYNC</a> and <a href="#i1021649">ACQUIRE</a>) to retrieve up-to-date versions of the data whether or not you have specified <a href="#CACGFHIJ">AW FREEZE</a> with the NOTHAW keyword.</p>
<p class="subhead2"><a id="OLADM2213"></a>Conflicts between Workspace Names and Aliases</p>
<p>You cannot attach an analytic workspace that is in your schema and whose name is the same as an assigned alias. Similarly, you cannot assign an alias that duplicates the name of an attached workspace that is in your schema. Furthermore, you cannot assign the same alias to two attached workspaces.</p>
<p>In an AW DELETE statement, when you specify an analytic workspace name (for an analytic workspace that is not attached) and the name is the same as an assigned alias, Oracle OLAP interprets the name as an alias and reports an error.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3706"></a>Examples</p>
<div id="OLADM2214" class="example">
<p class="titleinexample"><a id="BABDDFCB"></a>Example 9-50 Startup Programs</p>
<p>Assume that you have created an analytic workspace named <code dir="ltr">awtest</code> that contains five programs named <code dir="ltr">PERMIT_READ,</code> <code dir="ltr">PERMIT_WRITE</code>, <code dir="ltr">ONATTACH</code>, <code dir="ltr">MYATTACH</code>, and <code dir="ltr">AUTOGO</code> that have the following definitions.</p>
<pre dir="ltr">DEFINE PERMIT_READ PROGRAM BOOLEAN
PROGRAM
SHOW &#39;permit_read program executing&#39;
AW LIST
RETURN YES
END
 
DEFINE PERMIT_WRITE PROGRAM BOOLEAN
PROGRAM
SHOW &#39;permit_write program executing&#39;
AW LIST
RETURN YES
END
 
DEFINE ONATTACH PROGRAM BOOLEAN
PROGRAM
SHOW &#39;onattach program executing&#39;
AW LIST
RETURN YES
END
 
DEFINE MYATTACH PROGRAM BOOLEAN
PROGRAM
SHOW &#39;myattach program executing&#39;
AW LIST
RETURN YES
END
 
DEFINE AUTOGO PROGRAM 
PROGRAM
SHOW &#39;autogo program executing&#39;
AW LIST
END
 
</pre>
<p>The programs that execute when you attach <code dir="ltr">awtest</code> vary depending on the attachment mode and keywords in the AW ATTACH statement:</p>
<ul>
<li>
<p>When you attach <code dir="ltr">awtest</code> in read/write mode using the following statements.</p>
<pre dir="ltr">AW DETACH awtest
AW ATTACH awtest RW
</pre>
<p>First the <code dir="ltr">PERMIT_WRITE</code> program executes, and then the <code dir="ltr">ONATTACH</code> program executes.</p>
</li>
<li>
<p>When you attach <code dir="ltr">awtest</code> in read-only mode using the following statements.</p>
<pre dir="ltr">AW DETACH axuserwtest
AW ATTACH awtest NOONATTACH RO
</pre>
<p>Only the <code dir="ltr">PERMIT_READ</code> program executes.</p>
</li>
<li>
<p>When you attach <code dir="ltr">awtest</code> in read-only mode using the following statements.</p>
<pre dir="ltr">AW DETACH awtest
AW ATTACH awtest RO
</pre>
<p>First the <code dir="ltr">PERMIT_READ</code> program executes, and then the <code dir="ltr">ONATTACH</code> program executes.</p>
</li>
<li>
<p>When you attach <code dir="ltr">awtest</code> in read-only mode using the following statements.</p>
<pre dir="ltr">AW DETACH awtest
AW ATTACH awtest ONATTACH myattach RO
</pre>
<p>First the <code dir="ltr">PERMIT_READ</code> program executes, and then the <code dir="ltr">MYATTACH</code> program executes.</p>
</li>
<li>
<p>When you attach <code dir="ltr">awtest</code> in multi mode using the following statements.</p>
<pre dir="ltr">AW DETACH awtest
AW ATTACH awtest MULTI
</pre>
<p>First the <code dir="ltr">PERMIT_WRITE</code> program executes, and then the <code dir="ltr">ONATTACH</code> program executes.</p>
</li>
<li>
<p>When you attach <code dir="ltr">awtest</code> in read-only mode using the following statements.</p>
<pre dir="ltr">AW DETACH awtest
AW ATTACH awtest AUTOGO
</pre>
<p>First the <code dir="ltr">PERMIT_WRITE</code> program executes. Secondly, the <code dir="ltr">ONATTACH</code> program executes. Finally, the <code dir="ltr">AUTOGO</code> program executes.</p>
</li>
</ul>
</div>
<!-- class="example" -->
<div id="OLADM2215" class="example">
<p class="titleinexample"><a id="sthref3707"></a>Example 9-51 Attaching an Analytic Workspace Using an ONATTACH Program</p>
<p>Suppose you have two workspaces of sales data, one for <code dir="ltr">expenses</code> and one for <code dir="ltr">revenue</code>. You have a third workspace called <code dir="ltr">analysis</code> contains programs to analyze the data. Your <code dir="ltr">analysis</code> workspace has the following <code dir="ltr">ONATTACH</code> program to attach the other two.</p>
<pre dir="ltr">DEFINE onattach PROGRAM
PROGRAM
AW ATTACH expenses RW AFTER analysis 
AW ATTACH revenues RW AFTER analysis 
END
</pre>
<p>To run the <code dir="ltr">ONATTACH</code> program, attach the <code dir="ltr">analysis</code> workspace with the following statement.<a id="sthref3708"></a></p>
<pre dir="ltr">AW ATTACH analysis 
</pre>
<p>When you issue an AW LIST statement, you can see from the following output, that all three of your analytic workspaces are attached.</p>
<pre dir="ltr">ANALYSIS  R/W CHANGED   XUSER.ANALYSIS
REVENUE   R/W UNCHANGED XUSER.REVENUES
EXPENSES  R/W UNCHANGED XUSER.EXPENSES
EXPRESS   R/O UNCHANGED SYS.EXPRESS
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM757" class="refsect2"><a id="i1016130"></a>
<h3 class="refsect2">AW CREATE</h3>
<p><a id="ABC1045622"></a>The AW CREATE command<a id="sthref3709"></a> creates a new workspace and make it the current workspace in your session.</p>
<p>Oracle OLAP automatically executes a COMMIT as part of its procedure for creating an analytic workspace. Previously attached workspaces move down in the list of attached workspaces to make room for the new one at the top of the list.</p>
<p>Also, if the current analytic workspace is creating a different analytic workspace and the current workspace contains a program named TRIGGER_AW, then the TRIGGER_AW program executes.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Before you can create an analytic workspace you need the appropriate SQL GRANT privileges as outlined in <a href="dml_basics.htm#BABIGHJI">&#34;Privileges Needed to Create and Delete Analytic Workspaces&#34;</a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3710"></a>Syntax</p>
<p class="synopsis">AW&nbsp;CREATE <span class="italic">workspace</span>&nbsp;[<span class="italic">position</span>]&nbsp;[UNPARTITIONED|<span class="underline">PARTITIONS</span> <span class="italic">n</span>] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[TABLESPACE&nbsp;<span class="italic">tblspname</span> [SEGMENTSIZE&nbsp;<span class="italic">n</span>&nbsp;[K,&nbsp;M,&nbsp;or&nbsp;G]]]</p>
<p>where <span class="syntaxinlineitalic">position</span> specifies the workspace&#39;s position in the workspace list and is one of the following values. (<span class="syntaxinline">FIRST</span> is the default.)</p>
<dl>
<dd><span class="syntaxinline">AFTER</span>&nbsp;<span class="syntaxinlineitalic">workspace</span></dd>
<dd><span class="syntaxinline">BEFORE</span>&nbsp;<span class="syntaxinlineitalic">workspace</span></dd>
<dd><span class="syntaxinline">LAST</span></dd>
<dd><span class="syntaxinline">FIRST</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3711"></a>Parameters</p>
<dl>
<dt><span class="italic">workspace</span></dt>
<dd>
<p>The name of the analytic workspace. Workspace names:</p>
<ul>
<li>
<p>Can be from 1 - 26 characters in length. All characters must come from the database character set and must be letters, numerals, or underscores.</p>
</li>
<li>
<p>Cannot begin with a numeral and cannot be reserved words in the DML. (Use RESERVED to identify reserved words.)</p>
</li>
</ul>
</dd>
<dt>FIRST</dt>
<dd>
<p>(Default) Makes the workspace you are attaching the current workspace.</p>
</dd>
<dt>LAST</dt>
<dd>
<p>Puts the workspace after the current workspace and before the <code dir="ltr">EXPRESS</code> workspace. When there are other workspaces attached before the <code dir="ltr">EXPRESS</code> workspace, the specified workspace is attached after them. When there are no workspaces before the <code dir="ltr">EXPRESS</code> workspace, LAST makes the specified workspace the current one. LAST ignores any workspaces after the <code dir="ltr">EXPRESS</code> workspace.</p>
</dd>
<dt>AFTER</dt>
<dt>BEFORE</dt>
<dd>
<p>Specify the position of the newly attached workspace relative to an analytic workspace that is already attached. Use AFTER, rather than LAST, to attach an analytic workspace after the <code dir="ltr">EXPRESS</code> workspace. When specifying BEFORE puts the workspace first, the workspace becomes the current one.</p>
<p>The order of the workspace list determines the order in which workspaces are searched when Oracle OLAP looks for programs or objects named in programs.</p>
</dd>
<dt>UNPARTITIONED</dt>
<dd>
<p>Specifies that the relational table that is the analytic workspace is not a partitioned table.</p>
</dd>
<dt>PARTITIONS <span class="italic">n</span></dt>
<dd>
<p><a id="sthref3712"></a><a id="sthref3713"></a>Specifies that the relational table that is the analytic workspace is a hash partitioned table with <span class="italic">n</span> partitions. Specifying a value of 0 (zero) for <span class="italic">n</span> is the same as specifying UNPARTITIONED. The default value of <span class="italic">n</span> is 8.</p>
</dd>
<dt>TABLESPACE&nbsp;&nbsp;<span class="italic">tblspname</span></dt>
<dd>
<p>Specifies the name of an Oracle Database tablespace in which the analytic workspace is created.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Oracle suggests that you use the TABLESPACE argument to create your workspace in a tablespace that has been prepared for this purpose. Ask your DBA which tablespace use.</div>
</dd>
<dt>SEGMENTSIZE&nbsp;<span class="italic">n</span>&nbsp;[K,&nbsp;M,&nbsp;or&nbsp;G]</dt>
<dd>
<p>With the CREATE keyword, this argument sets the maximum size of each <a id="sthref3714"></a>segment for the workspace being created. When you do not specify <code dir="ltr">K</code>, <code dir="ltr">M</code>, or <code dir="ltr">G</code>, the value you specify for <span class="italic">n</span> is interpreted as bytes. When you specify <code dir="ltr">K</code>, <code dir="ltr">M</code>, or <code dir="ltr">G</code> after the value <span class="italic">n</span>, the value is interpreted as kilobytes, megabytes, or gigabytes, respectively.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3715"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2216"></a>Analytic Workspace Permissions</p>
<p>You can add security to analytic workspaces at several levels:</p>
<ul>
<li>
<p>At the relational table level using SQL <code dir="ltr">GRANT</code> statements</p>
</li>
<li>
<p>At the analytic workspace level and workspace object level using different attachment modes and startup programs. See the <a href="#i1016126">AW ATTACH</a> command and <a href="dml_program.htm#i1020273">&#34;Startup Programs&#34;</a>.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3716"></a>Examples</p>
<div id="OLADM2217" class="example">
<p class="titleinexample"><a id="sthref3717"></a>Example 9-52 Creating and Starting an analytic workspace</p>
<p>You can use the AW command with the CREATE keyword to create and start a new workspace.<a id="sthref3718"></a></p>
<pre dir="ltr">AW CREATE mywork
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM758" class="refsect2"><a id="i1016134"></a>
<h3 class="refsect2">AW DELETE</h3>
<p><a id="sthref3719"></a>The AW DELETE command <a id="sthref3720"></a>deletes a detached analytic workspace from the database. It is important to note that Oracle OLAP automatically executes a COMMIT as part of its procedure for deleting an analytic workspace. The DELETE keyword executes successfully only when no user has the workspace attached.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the current analytic workspace is deleting a different analytic workspace and the current workspace contains a program named TRIGGER_AW, then the TRIGGER_AW program executes.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i1016138">AW DETACH</a>, <a href="#CACCAEBE">AW TRUNCATE</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3721"></a>Syntax</p>
<p class="synopsis">AW&nbsp;DELETE&nbsp;<span class="italic">workspace</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3722"></a>Parameters</p>
<dl>
<dt><span class="italic">workspace</span></dt>
<dd>
<p>The name of the analytic workspace. You must specify the name; you cannot specify an alias.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3723"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2218"></a>Deleting an Unattached Workspace</p>
<p>When you attempt to delete an unattached workspace and the name is the same as an assigned alias, Oracle OLAP interprets the name as an alias and reports an error.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3724"></a>Examples</p>
<div id="OLADM2219" class="example">
<p class="titleinexample"><a id="sthref3725"></a>Example 9-53 Deleting an analytic workspace</p>
<p>You can use the AW command with the DELETE keyword to delete an analytic workspace.</p>
<pre dir="ltr">AW DELETE mywork
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM759" class="refsect2"><a id="i1016138"></a>
<h3 class="refsect2">AW DETACH</h3>
<p><a id="sthref3726"></a>The AW DETACH command <a id="sthref3727"></a>removes an analytic workspace from the workspace list. When you remove the first workspace, the second workspace becomes the current workspace (unless it is the <code dir="ltr">EXPRESS</code> workspace). When you detach an analytic workspace, changes that were made before an UPDATE was issued remain in the database and become permanent with the next COMMIT. When changes were made after the UPDATE was issued, they are discarded.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When a program named TRIGGER_AW exists in the analytic workspace, the execution of an AW DETACH statement automatically executes that program.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3728"></a>Syntax</p>
<p class="synopsis">AW&nbsp;DETACH [<span class="underline">CACHE</span>|NOCACHE]&nbsp;<span class="italic">workspace</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3729"></a>Parameters</p>
<dl>
<dt>CACHE</dt>
<dd>
<p>Specifies that the analytic workspace is cached if there have been no changes to it since it was attached. (Default)</p>
</dd>
<dt>NOCACHE</dt>
<dd>
<p>Specifies that the analytic workspace is not cached even if there have been no changes to it since it was attached.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must specify NOCACHE when you detach an analytic workspace if you want Oracle OLAP to execute any Permission, OnAttach, or Autogo programs the next time you attach the workspace in the same session.</div>
</dd>
<dt><span class="italic">workspace</span></dt>
<dd>
<p>The name of the analytic workspace. You can specify either an analytic workspace name or an analytic workspace alias, depending on the keywords you are using.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3730"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2220"></a>Determining if an Analytic Workspace Has Changed</p>
<p>The following statements indicate if an analytic workspace has been changed while it was attached:</p>
<ul>
<li>
<p><a href="dml_functions_1.htm#i79097">AW function</a> with the CHANGED keyword</p>
</li>
<li>
<p><a href="#i1016142">AW LIST</a> shows the analytic workspace as unattached.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2221"></a>Cache Size</p>
<p>By default the list of cached analytic workspaces is two. In other words, by default only two analytic workspaces can be on the cached at one time and as new workspaces are added to the cache list, earlier workspaces are removed. For example, assume that you have detached two analytic workspaces in the following order: 1) <code dir="ltr">mywk1</code>, 2) <code dir="ltr">mywk2</code>. Now you issue an AW DETACH CACHE command for <code dir="ltr">mywk3</code>. Oracle OLAP removes <code dir="ltr">mywk1</code> from the cache and the cache list and caches <code dir="ltr">mywk3</code> adding it to the cache list after <code dir="ltr">mywk2</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Under severe memory contention, Oracle OLAP may release memory by emptying the cache.</div>
<p>You can change the size of the cache by using the event number 37372 where <span class="italic">level</span> is the number of analytic workspaces to retain. Specify a <span class="italic">level</span> of 1024 to disable the cache entirely. Not determined for beta: Is this information valid to regular developers?</p>
<p class="subhead2"><a id="OLADM2222"></a>Programs Executed When an Analytic Workspace is Detached</p>
<p>When an analytic workspace is detached, the following programs may execute:</p>
<ul>
<li>
<p>If that analytic workspace being detached contains a program named ONDETACH, the ONDETACH program executes.</p>
</li>
<li>
<p>If the current analytic workspace is detaching a different analytic workspace and the current workspace contains a program named TRIGGER_AW, then the TRIGGER_AW program executes.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3731"></a>Examples</p>
<div id="OLADM2223" class="example">
<p class="titleinexample"><a id="sthref3732"></a>Example 9-54 Detaching an analytic workspace</p>
<p>You can use the AW command with the DETACH keyword to detach an analytic workspace.</p>
<pre dir="ltr">AW DETACH expense 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM760" class="refsect2"><a id="CACGFHIJ"></a>
<h3 class="refsect2">AW FREEZE</h3>
<p><a id="sthref3733"></a>The AW FREEZE command commits the current transaction (if any) and sets a flag that specifies that the analytic workspace is the default attach version of the workspace. Later, when a request is made to attach the workspace in read only or read multi mode, Oracle OLAP attaches this flagged generation of the analytic workspace.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must be attached to the analytic workspace in a write mode to execute this command.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3734"></a>Syntax</p>
<p class="synopsis">AW FREEZE [NOTHAW]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3735"></a>Parameters</p>
<dl>
<dt>NOTHAW</dt>
<dd>
<p>Specifies that you cannot specify the THAW keyword with <a href="#i1016126">AW ATTACH</a> when you attach the workspace at a later time.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Once an analytic workspace is frozen, attaching an analytic workspace in read only or read multi mode attaches the analytic workspace as of the frozen view unless you specify the THAW keyword with the <a href="#i1016126">AW ATTACH</a> command.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3736"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2224"></a>Freezing an Analytic Workspace</p>
<p>Keep the following points in mind when freezing an analytic workspace:</p>
<ul>
<li>
<p>Only one generation of an analytic workspace can be frozen at a time</p>
</li>
<li>
<p>You cannot refreeze a currently frozen analytic workspace without first thawing it using the <a href="#CACJJCHC">AW THAW</a> command.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM761" class="refsect2"><a id="i1016142"></a>
<h3 class="refsect2">AW LIST</h3>
<p><a id="sthref3737"></a>The AW LIST command <a id="sthref3738"></a>sends to the current outfile a list of the active workspaces, along with their update status.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3739"></a>Syntax</p>
<p class="synopsis">AW&nbsp;LIST</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3740"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2225"></a>Output Produced by AW LIST</p>
<p>The first workspace in the list is the current workspace, unless you do not have a current workspace. The meaning of the update status, CHANGED or UNCHANGED, depends on whether the workspace is attached with read/write or read-only access and whether or not the workspace is being shared with other users. The update status displayed by AW LIST is as follows:</p>
<ul>
<li>
<p>An unshared workspace in read/write mode -- The update status is CHANGED when you have made changes since attaching the workspace or since your last update.</p>
</li>
<li>
<p>An unshared workspace in read-only mode -- The status is always UNCHANGED because you cannot update it.</p>
</li>
<li>
<p>A shared or unshared workspace in read/write mode -- The status is CHANGED when you have made changes since attaching the workspace or since your last update.</p>
</li>
<li>
<p>A shared workspace in read-only mode -- The status is CHANGED when another user has updated it since you accessed it. To access the new objects or data, you must detach and reattach the workspace after the other user commits his or her changes. If you keep the workspace attached, then your view of the workspace remains unchanged.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2226"></a>Current Workspace</p>
<p>The name of the current workspace is first on the workspace list and is the name returned by the AW(NAME) function. (See the <a href="dml_functions_1.htm#i79097">AW function</a> for details.) The NAME dimension includes only the objects in the current workspace. Programs such as AWDESCRIBE and LISTBY list only objects in the current workspace. When an analytic workspace is active but not current, you can change and update its data, edit and run its programs, and modify its objects.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3741"></a>Examples</p>
<p>Assume that you have just connected to Oracle OLAP using the OLAP Worksheet. You issue an <code dir="ltr">AW LIST</code> statement that returns a value showing that the only attached analytic workspace is <code dir="ltr">EXPRESS</code>.</p>
<pre dir="ltr">AW LIST
EXPRESS   R/O UNCHANGED SYS.EXPRESS
 
</pre>
<p>Now you create an analytic workspace and issue another <code dir="ltr">AW LIST</code> statement. You can see that both the <code dir="ltr">EXPRESS</code> analytic workspace and the newly created analytic workspace are attached.</p>
<pre dir="ltr">AW CREATE myaw
AW LIST
MYAW      R/W UNCHANGED MYNAME.MYAW
EXPRESS   R/O UNCHANGED SYS.EXPRESS
 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM762" class="refsect2"><a id="BGEJHCJJ"></a>
<h3 class="refsect2">AW PURGE CACHE</h3>
<p><a id="sthref3742"></a>The AW PURGE CACHE <a id="sthref3743"></a><a id="sthref3744"></a>command detaches any analytic workspaces that are currently in the cache.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3745"></a>Syntax</p>
<p class="synopsis">AW PURGE CACHE</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM763" class="refsect2"><a id="CACGAADD"></a>
<h3 class="refsect2">AW ROLLBACK TO FREEZE</h3>
<p><a id="sthref3746"></a>The AW ROLLBACK TO FREEZE makes current the version of the analytic workspace that was created by the last AW FREEZE command.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3747"></a>Syntax</p>
<p class="synopsis">AW ROLLBACK TO FREEZE</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM764" class="refsect2"><a id="i1016146"></a>
<h3 class="refsect2">AW SEGMENTSIZE</h3>
<p><a id="sthref3748"></a>The AW SEGMENTSIZE command <a id="sthref3749"></a>sets up an analytic workspace for multiple segments.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3750"></a>Syntax</p>
<p class="synopsis">AW&nbsp;SEGMENTSIZE&nbsp;<span class="italic">n&nbsp;</span>[K,&nbsp;M,&nbsp;or&nbsp;G]&nbsp;[<span class="italic">workspace</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3751"></a>Parameters</p>
<dl>
<dt><span class="italic">workspace</span></dt>
<dd>
<p>The name of the analytic workspace. You can specify either an analytic workspace name or an analytic workspace alias, depending on the keywords you are using.</p>
</dd>
<dt>SEGMENTSIZE&nbsp;<span class="italic">n&nbsp;</span>[K,&nbsp;M,&nbsp;or&nbsp;G]&nbsp;[<span class="italic">workspace</span>]</dt>
<dd>
<p>Sets the maximum size of each segment for a specified workspace or, when no workspace is specified, for the current workspace.</p>
<p>When the current workspace already has several segments, setting SEGMENTSIZE affects only the most recent one and has no effect on previous ones. Previous segments may have various sizes, determined by the SEGMENTSIZE setting at the time each one was created. When you do not specify <code dir="ltr">K</code>, <code dir="ltr">M</code>, or <code dir="ltr">G</code>, the value you specify for <span class="italic">n</span> is interpreted as bytes. When you specify <code dir="ltr">K</code>, <code dir="ltr">M</code>, or <code dir="ltr">G</code> after the value <span class="italic">n</span>, the value is interpreted as kilobytes, megabytes, or gigabytes, respectively.<a id="sthref3752"></a></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM765" class="refsect2"><a id="CACJJCHC"></a>
<h3 class="refsect2">AW THAW</h3>
<p><a id="sthref3753"></a>The AW THAW command commits the current transaction (if any) and undoes a previous <a href="#CACGFHIJ">AW FREEZE</a> command.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3754"></a>Syntax</p>
<p class="synopsis">AW THAW</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM766" class="refsect2"><a id="CACCAEBE"></a>
<h3 class="refsect2">AW TRUNCATE</h3>
<p>Deletes all of the objects and <a id="sthref3755"></a>data from an existing analytic workspace. Oracle also deallocates all of the table space used by the analytic workspace.Removing data using AW TRUNCATE can be more efficient and less &#34;destructive&#34; than deleting an analytic workspace using AW DELETE. For example, when you remove data using AW TRUNCATE, all of the object privileges that were previously granted remain.</p>
<p>For more information on truncating a table, see <a class="olink SQLRF01707" href="../SQLRF/statements_10007.htm#SQLRF01707">TRUNCATE TABLE</a> in <span class="italic">Oracle Database SQL Language Reference</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Before you can truncate an analytic workspace in a schema that you do not own, you need the appropriate SQL GRANT privilege as outlined in <a href="dml_basics.htm#BABIGHJI">&#34;Privileges Needed to Create and Delete Analytic Workspaces&#34;</a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3756"></a>Syntax</p>
<p class="synopsis">AW&nbsp;TRUNCATE&nbsp;<span class="italic">workspace</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3757"></a>Parameters</p>
<dl>
<dt><span class="italic">workspace</span></dt>
<dd>
<p>The name of the analytic workspace. You must specify the name; you cannot specify an alias.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3758"></a>Examples</p>
<div id="OLADM2227" class="example">
<p class="titleinexample"><a id="sthref3759"></a>Example 9-55 Removing all Data from an analytic workspace</p>
<p>You can use the AW command with the TRUNCATE keyword to delete all of the objects and data in an analytic workspace.</p>
<pre dir="ltr">AW TRUNCATE mywork
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i79102"></a>
<div id="OLADM767" class="refsect1">
<h2 class="refsect1">AWDESCRIBE</h2>
<p><a id="ABC1046342"></a>The AWDESCRIBE program <a id="sthref3760"></a>sends information about the current analytic workspace to the current outfile. After a summary page, it provides a report in two parts:</p>
<ul>
<li>
<p>An alphabetic list of analytic workspace objects showing name, type, and description.</p>
</li>
<li>
<p>A list of object definitions by object type. Each definition includes the information you would see when you used the DESCRIBE statement. It also includes a &#34;Referenced By&#34; list, which indicates any programs or other compilable objects that call or access the object. In addition, compilable objects have a &#34;References To&#34; list, indicating the analytic workspace objects that they call or access.</p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3761"></a>Syntax</p>
<p class="synopsis">AWDESCRIBE</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3762"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2228"></a>Information in Referenced By List</p>
<p>The AWDESCRIBE command does not provide information in the &#34;Referenced By&#34; and &#34;References To&#34; list for implicit references. For example: When a program contains a LIMIT command to limit a dimension by a related dimension, AWDESCRIBE does not list the relation for those dimensions in the &#34;References To&#34; list for that program.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3763"></a>Examples</p>
<div id="OLADM2229" class="example">
<p class="titleinexample"><a id="sthref3764"></a>Example 9-56 Describing an analytic workspace</p>
<p>The following example shows a portion of the output of AWDESCRIBE for an analytic workspace named <code dir="ltr">demo</code>.</p>
<pre dir="ltr">                             DEMO Workspace Listing
                             =====================
 
Last updated:  25Jun96     Time: 09:46:50
Print date:    27Aug96     Time: 10:30:11
DEMO contains:
   11 DIMENSIONS
   19 VARIABLES
    1 PROGRAM
    4 RELATIONS
    2 VALUESETS
 
This report is in two parts: 
    - Object Listing: An alphabetic list of workspace objects,
      beginning on the next page. 
    - Object Descriptions: Detailed descriptions of all workspace
      objects, sorted by object type and alphabetically by name.
 
Object List                                                      Page 2
Workspace: DEMO         Updated: 25Jun96   At: 09:46:50           ACTUAL
 
NAME              TYPE       DESCRIPTION
____              ____       ___________
ACTUAL            VARIABLE   Actual $ Financials
ADVERTISING       VARIABLE   Total Advertising Dollars
BUDGET            VARIABLE   Budgeted $ Financials
CHOICE            DIMENSION  List of choices
CHOICEDESC        VARIABLE   Description line for the choices
DEMOVER           VARIABLE   DEMO Workspace Version
DISTRICT          DIMENSION
DIVISION          DIMENSION  Division
DIVISION.PRODUCT  RELATION   DIVISION for each PRODUCT
EXPENSE           VARIABLE   Total Production &amp; Distribution Cost
FCST              VARIABLE   Forecasted $ Financials
INDUSTRY.SALES    VARIABLE   Total Industry Sales Revenue
LINE              DIMENSION  Lineitem
MARKET            DIMENSION  Geography Dim with Embedded Totals
MARKET.MARKET     RELATION   Self-relation for the Market Dim
MARKETLEVEL       DIMENSION  Geography Level
MLV.MARKET        RELATION
MONTH             DIMENSION
NAME.LINE         VARIABLE   Lineitem Names for Reporting
NAME.PRODUCT      VARIABLE   Product Names for Reporting Purposes
NATIONAL.SALES    VARIABLE   Projected Total U.S. Dollar Sales
NOT.IMPLEMENTED   PROGRAM
PRICE             VARIABLE   Wholesale Unit Selling Price
PRODUCT           DIMENSION  Sporting Goods Products
PRODUCT.MEMO      VARIABLE   Product Analysis Memo
PRODUCTSET        VALUESET   Valueset for Sporting Goods Products
QUARTER           DIMENSION
QUARTERSET        VALUESET
REGION            DIMENSION  Sales Region
REGION.DISTRICT   RELATION   REGION for each DISTRICT
SALES             VARIABLE   Sales Revenue
SALES.FORECAST    VARIABLE   Forecasted Unit Sales
SALES.PLAN        VARIABLE   Budgeted Sales Revenue
SHARE             VARIABLE   Market Share (Based on Dollar Sales)
UNITS             VARIABLE   Actual Unit Shipments
UNITS.M           VARIABLE
YEAR              DIMENSION
 
Description of DIMENSIONS                                        Page 3
Workspace: DEMO         Updated: 25Jun96   At: 09:46:50           CHOICE
 
DEFINE CHOICE DIMENSION TEXT
LD List of choices
     Referenced By:
         NONE
 
DEFINE DISTRICT DIMENSION TEXT
     Referenced By:
         NONE
 
DEFINE DIVISION DIMENSION TEXT
LD Division 
     Referenced By:
         NONE
...<a id="sthref3765"></a>
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1033742"></a>
<div id="OLADM768" class="refsect1">
<h2 class="refsect1">BLANK</h2>
<p><a id="sthref3766"></a><a id="sthref3767"></a>The BLANK command sends one or more blank lines to the current outfile. BLANK is typically used only in OLAP DML programs. For example, in a report program, BLANK is commonly used to insert blank lines that separate headings from data or that separate groups of data from one another.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3768"></a>Syntax</p>
<p class="synopsis">BLANK&nbsp;[<span class="italic">n</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3769"></a>Parameters</p>
<dl>
<dt><span class="italic">n</span></dt>
<dd>
<p>An <code dir="ltr">INTEGER</code> expression with a value of <code dir="ltr">0</code> (zero) or higher, that specifies how many blank lines should be inserted. When you omit <span class="italic">n</span>, Oracle OLAP inserts one blank line. <code dir="ltr">NA</code> produces an error.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3770"></a>Examples</p>
<div id="OLADM2230" class="example">
<p class="titleinexample"><a id="sthref3771"></a>Example 9-57 Inserting Blank Lines</p>
<p>This example inserts two blank lines between the title of a report and the column headings. The following lines are from a report program.</p>
<pre dir="ltr">LSIZE = 50
HEADING WIDTH LSIZE CENTER &#39;Quarterly Sales Report&#39;
BLANK 2
ROW WIDTH 20 &#39;Unit Sales&#39; ACROSS month -
   &#39;Jan96&#39; TO &#39;Mar96&#39;: month
</pre>
<p>The program produces the following output.</p>
<pre dir="ltr">              Quarterly Sales Report
 
Unit Sales           Jan96    Feb96    Mar96
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79160"></a>
<div id="OLADM769" class="refsect1">
<h2 class="refsect1">BREAK</h2>
<p>Within SWITCH command, FOR, or WHILE statements in an OLAP DML program, t<a id="sthref3772"></a><a id="sthref3773"></a><a id="sthref3774"></a><a id="sthref3775"></a><a id="sthref3776"></a><a id="sthref3777"></a><a id="sthref3778"></a><a id="sthref3779"></a>he BREAK command transfers program control from within a SWITCH, FOR, or WHILE statement to the statement immediately following the DOEND associated with SWITCH, FOR, or WHILE.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3780"></a>Syntax</p>
<p class="synopsis">BREAK</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3781"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2231"></a>TEMPSTAT Statement and BREAK Statement</p>
<p>Within a FOR loop of a program, when a DO ... DOEND phrase follows TEMPSTAT, status is restored when the DOEND, BREAK, or GOTO is encountered.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3782"></a>Examples</p>
<div id="OLADM2232" class="example">
<p class="titleinexample"><a id="sthref3783"></a>Example 9-58 Using BREAK with SWITCH</p>
<p>The following lines from a program include a SWITCH command with two case labels. The last statement under each case label is BREAK, which ensures that execution does not continue from one set of case statements to the next. Each BREAK statement transfers control to the statement that follows DOEND.</p>
<pre dir="ltr">SWITCH userchoice
    DESCRIPTION &#39;MARKET REPORT\NFINANCE REPORT\NNO REPORT&#39;)
    DO
         CASE &#39;market&#39;:
            ...            
            BREAK
         CASE &#39;finance&#39;:
            ...  
            BREAK
         DEFAULT:
            ...
            BREAK
    DOEND
cleanup:
      ...
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79175"></a>
<div id="OLADM770" class="refsect1">
<h2 class="refsect1">CALL</h2>
<p><a id="sthref3784"></a><a id="sthref3785"></a><a id="sthref3786"></a><a id="sthref3787"></a><a id="sthref3788"></a>The CALL command invokes a program. When the program has arguments, which are always enclosed in parentheses, it passes these arguments to the called program.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3789"></a>Syntax</p>
<p class="synopsis">CALL&nbsp;<span class="italic">program-name&nbsp;</span>[(<span class="italic">arg</span> ...)]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3790"></a>Parameters</p>
<dl>
<dt><span class="italic">program-name</span></dt>
<dd>
<p>The name of the program to be called.</p>
</dd>
<dt><span class="italic">arg</span></dt>
<dd>
<p>One or more optional arguments expected by the called program. These arguments can be declared in the called program with ARGUMENT, or they can be referenced in the program with ARG. If the program uses the ARGUMENT statement, when you use CALL to invoke the program, specify the arguments so that they match the positions of the arguments declared in the called program.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3791"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2233"></a>Dimension Arguments</p>
<p>When you pass a dimension value or dimension name as an argument, you must enclose the exact text value in single quotes, for example, <code dir="ltr">&#39;Jan96&#39;</code>. When the program arguments are declared with the ARGUMENT statement, you can pass a text expression that evaluates to a text value.</p>
<p class="subhead2"><a id="OLADM2234"></a>Program Return Values</p>
<p>When you use CALL to invoke a program that returns a value, the return value is discarded. A program can use the CALLTYPE function to determine whether it was invoked as a function, as a command, or by using CALL.</p>
<p class="subhead2"><a id="OLADM2235"></a>ARGUMENT Command or ARG Function</p>
<p>The called program can process arguments using either the ARGUMENT statement or the ARG function. In a program that has been invoked with CALL or as a function, the ARGS and ARGFR functions always return <code dir="ltr">NA</code>.</p>
<p>When CALL invokes a program whose arguments are not declared with the ARGUMENT statement, the arguments passed can be referenced with the ARG function. However, the ARG function is a text function and, consequently, interprets all arguments passed as text values. When you want to pass NTEXT arguments, be sure to declare them using ARGUMENT instead of using ARG. With ARG, NTEXT arguments are converted to TEXT, and this can result in data loss when the NTEXT values cannot be represented in the database character set.</p>
<p class="subhead2"><a id="OLADM2236"></a>ARGUMENT Statement Processing</p>
<p>When a program is invoked with CALL or as a function, the following two-step process occurs. When an error occurs in either step, the program is not executed.</p>
<ol>
<li>
<p>The specified data types are established. Argument expressions specified by the calling program are evaluated left to right, and their data types are identified. Any expression representing a dimension value can be a text (<code dir="ltr">TEXT</code> or <code dir="ltr">ID</code>), numeric (<code dir="ltr">INTEGER</code>, <code dir="ltr">DECIMAL</code>, and so on), or RELATION value. An error in one argument expression stops the process.</p>
</li>
<li>
<p>Each specified data type is matched with the declared data type. Argument expressions are matched by position with the declared arguments in the called program. The first argument expression is matched with the first declared argument variable, the second argument expression is matched with the second declared argument variable, and so on. Each expression is converted in turn to the declared data type of the argument variable.</p>
</li>
</ol>
<p>When an argument variable is declared as a dimension value, the matching value passed from the calling program can be <code dir="ltr">TEXT</code> or <code dir="ltr">ID</code> (representing a value of the specified dimension), numeric (representing a logical dimension position), or RELATION (representing a physical dimension position).When the matching value is a non-integer numeric value (for example, <code dir="ltr">DECIMAL</code>), it is rounded to the nearest <code dir="ltr">INTEGER</code> to represent a logical dimension position.</p>
<p>When an argument variable is declared as something other than a dimension value, and the matching value from the calling program is a RELATION value, an error occurs. When you want to pass a RELATION value that is received as a <code dir="ltr">TEXT</code> argument, use the CONVERT function to convert the value in the program&#39;s argument list.</p>
<p class="subhead2"><a id="OLADM2237"></a>ARGUMENT Statement with Extra Arguments</p>
<p>When the calling program specifies more arguments than are declared in the called program, the extra arguments are ignored. When the calling program specifies fewer arguments than are declared in the called program, the extra argument variables are given <code dir="ltr">NA</code> values.</p>
<p class="subhead2"><a id="OLADM2238"></a>ARGUMENT Statement Passing by Value</p>
<p>When arguments are declared with the ARGUMENT statement, they are passed <span class="italic">by value</span> to a program. Consequently, the called program is given only the <span class="italic">value</span> of an argument, without access to any analytic workspace object to which it might be related. However, when the name of an analytic workspace object is specified as an argument enclosed in single quotes, the value of the analytic workspace object is not passed. Instead, the name of the object is passed as a text string. See <a href="#i79993">Example 9-59, &#34;Calling a Program or Function&#34;</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3792"></a>Examples</p>
<div id="OLADM2239" class="example">
<p class="titleinexample"><a id="i79993"></a>Example 9-59 Calling a Program or Function</p>
<p>This example illustrates how two programs, <code dir="ltr">roundup.p</code> and <code dir="ltr">roundup.f</code>, are used in different ways to evaluate data and produce output.</p>
<p>The <code dir="ltr">roundup.p</code> program accepts the name of a decimal variable as a text string and produces a report of that variable&#39;s values rounded to the nearest <code dir="ltr">INTEGER</code>. The <code dir="ltr">roundup.f</code> program also accepts the name of a decimal variable. However, instead of passing the name of the variable as a text string, the variable&#39;s value is passed as an argument. <code dir="ltr">roundup.f</code> does not produce a report. Instead, it returns each of the values of the decimal variable, rounded to the nearest <code dir="ltr">INTEGER</code>.</p>
<p>The <code dir="ltr">roundup.p</code> program is invoked using CALL and includes a REPORT statement. In contrast, <code dir="ltr">roundup.f</code> is invoked as a user-defined function whose return value is then used as an argument to a REPORT statement.</p>
<p>The <code dir="ltr">roundup.p</code> program uses ARGUMENT to declare a text argument. When invoked, <code dir="ltr">roundup.p</code> uses the argument as the name of a decimal variable. The calling program passes the name of the variable to give the called program access to <span class="italic">all</span> the values of the dimensioned variable. When the calling program passed the variable itself, instead of its name, only a <span class="italic">single</span> value would have been accessible to the called program. This program does not return a value; it produces a report.</p>
<pre dir="ltr">DEFINE roundup.p PROGRAM INTEGER
PROGRAM
ARGUMENT varname TEXT
Report Down Line Across Month: Heading &#39;VARNAME&#39; -
   IF INTPART(&amp;varname) EQ &amp;varname -
   THEN &amp;varname ELSE INTPART(&amp;varname) + 1 
END
</pre>
<p>The following statements</p>
<pre dir="ltr">LIMIT division TO 1
LIMIT month TO 1 TO 4
DECIMALS = 0
CALL roundup.p(&#39;actual&#39;)
</pre>
<p>produce the following report.</p>
<pre dir="ltr">DIVISION: CAMPING
               ----------------- Varname------------------
               -------------------MONTH-------------------
LINE             Jan95      Feb95      Mar95      Apr95
-------------- ---------- ---------- ---------- ----------
revenue           533,363    572,797    707,198    968,858
cogs              360,811    400,902    478,982    641,716
gross.margin      172,553    171,895    228,217    327,143
marketing          37,370     38,867     51,224     69,439
selling            89,008     86,458    102,233    139,567
r.d                24,308     23,400     39,943     57,186
opr.income         21,868     23,171     34,819     60,952
taxes              15,971     16,320     23,030     27,584
net.income          5,898      6,851     11,789     33,368
</pre>
<p>Another way to produce the same report is to write a user-defined function that can be used as an argument to the REPORT statement as illustrated in the following program named <code dir="ltr">roundup.f</code>.</p>
<pre dir="ltr">DEFINE roundup.f PROGRAM INTEGER
PROGRAM
ARGUMENT realval DECIMAL
IF realval EQ INTPART(realval)
THEN RETURN INTPART(realval)
ELSE RETURN INTPART(realval) + 1
END
</pre>
<p>The following statements</p>
<pre dir="ltr">LIMIT division TO 1
LIMIT month TO 1 TO 4
DECIMALS = 0
REPORT DOWN line ACROSS month: roundup.f(actual)
</pre>
<p>produce the following report.</p>
<pre dir="ltr">DIVISION: CAMPING
               ------------ ROUNDUP.F(ACTUAL)-------------
               -------------------MONTH-------------------
LINE             Jan95      Feb95      Mar95      Apr95
-------------- ---------- ---------- ---------- ----------
revenue           533,363    572,797    707,198    968,858
cogs              360,811    400,902    478,982    641,716
gross.margin      172,553    171,895    228,217    327,143
marketing          37,370     38,867     51,224     69,439
selling            89,008     86,458    102,233    139,567
r.d                24,308     23,400     39,943     57,186
opr.income         21,868     23,171     34,819     60,952
taxes              15,971     16,320     23,030     27,584
net.income          5,898      6,851     11,789     33,368 
</pre></div>
<!-- class="example" -->
<p>(Compare the <code dir="ltr">roundup.f</code> program with the <code dir="ltr">roundup.p</code> program. <code dir="ltr">roundup.f</code> returns a value; it does not produce a report.)</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACFGEBD"></a>
<div id="OLADM771" class="refsect1">
<h2 class="refsect1">CDA</h2>
<p><a id="sthref3793"></a><a id="sthref3794"></a>With the CDA command, you can identify or change the<a id="sthref3795"></a><a id="sthref3796"></a><a id="sthref3797"></a><a id="sthref3798"></a><a id="sthref3799"></a> current directory object for your session.</p>
<p>With an established current directory object, you can specify a file identifier in a DML file access statement without including the name of the directory object. Some examples of file access statements are FILECOPY, FILEMOVE, FILEDELETE, EXPORT, and IMPORT.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3800"></a>Syntax</p>
<p class="synopsis">CDA&nbsp;[<span class="italic">directory-alias</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3801"></a>Parameters</p>
<dl>
<dt><span class="italic">directory-alias</span></dt>
<dd>
<p>A text expression that specifies the directory object that you want to be the current one for your session.</p>
<p>When you do not specify this argument, CDA sends the name of the current directory object to the current outfile. When there is no current directory object, the statement reports that fact.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3802"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2240"></a>Specifying a File Identifier with an Established Current Directory Object</p>
<p>The following statement moves the file <code dir="ltr">log.txt</code> from your session&#39;s current directory object to file <code dir="ltr">oldlog.txt</code> in a directory object called <code dir="ltr">backup</code>.</p>
<pre dir="ltr">FILECOPY &#39;log.txt&#39; &#39;backup/oldlog.txt&#39;
</pre>
<p class="subhead2"><a id="OLADM2241"></a>Setting Up a Directory Object</p>
<p>A database administrator must set up a directory object and give you access to it.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3803"></a>Examples</p>
<div id="OLADM2242" class="example">
<p class="titleinexample"><a id="sthref3804"></a>Example 9-60 Specifying the Current Directory Object</p>
<p>The following statement identifies <code dir="ltr">mydir</code> as the current directory object.</p>
<pre dir="ltr">CDA &#39;mydir&#39;
</pre></div>
<!-- class="example" -->
<div id="OLADM2243" class="example">
<p class="titleinexample"><a id="sthref3805"></a>Example 9-61 Obtaining the Current Directory Object</p>
<p>The following statement causes the current directory object to be sent to the current outfile.</p>
<pre dir="ltr">CDA
</pre>
<p>This statement produces the following output.</p>
<pre dir="ltr">The current directory is MYDIR.
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="g1044782"></a>
<div id="OLADM772" class="refsect1">
<h2 class="refsect1">CHGDFN</h2>
<p><a id="sthref3806"></a><a id="sthref3807"></a><a id="sthref3808"></a><a id="sthref3809"></a><a id="sthref3810"></a><a id="sthref3811"></a>The CHGDFN command enables you to change certain aspects of the definitions of analytic workspace objects.</p>
<p>Before you can use CHGDFN to change the definition of an object, use CONSIDER to make that object definition the current definition.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use CHGDFN to change definitions of objects that are in an analytic workspace that is attached in multiwriter mode.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3812"></a>Syntax</p>
<p class="synopsis">CHGDFN&nbsp;<span class="italic">desired-change</span></p>
<p>where <span class="syntaxinlineitalic">desired-change</span> is one of the following:</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">varname&nbsp;</span>SEGWIDTH&nbsp;<span class="italic">length dim</span>...</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">partitioned-varname&nbsp;</span>{DROP | ADD } (<span class="italic">partition-instance</span>...)</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">partition-template&nbsp;</span>{DEFINE | DELETE [CLEAR] } (<span class="italic">partition-instance</span>...)</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">partition-template</span> RENAME PARTITION <span class="italic">old-name new-name</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="italic">conjoint</span> | <span class="italic">composite</span>}&nbsp;&nbsp;{HASH | BTREE | NOHASH}&nbsp;&nbsp;</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">concat&nbsp;</span>BASE ADD&nbsp;<span class="italic">dimensionlist</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">conjoint&nbsp;</span>COMPOSITE</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">composite&nbsp;</span>DIMENSION</p>
<p class="synopsis"><span class="italic">dimension</span> NTEXT | TEXT | NUMBER [<span class="italic">p</span>, <span class="italic">s</span>]</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">dwmqy-dimname&nbsp;</span>{ {BEGINNING | ENDING}&nbsp;<span class="italic">phase |</span> {EARLIER | LATER}&nbsp;<span class="italic">n</span>}</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">concat&nbsp;</span>[NOT] UNIQUE</p>
<p class="synopsis"><span class="italic">varname</span> {ADD |DROP} AGGCOUNT</p>
<p class="synopsis"><span class="italic">varname</span> [DROP] NULLTRACKING</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3813"></a>Parameters</p>
<dl>
<dt><span class="italic">varname</span></dt>
<dd>
<p>The name of the variable whose segment size you want to set.</p>
</dd>
<dt>SEGWIDTH</dt>
<dd>
<p>Indicates explicit sizing of a variable&#39;s segments. See <a href="#CACJBDAH">&#34;Understanding Variable Segments&#34;</a> for more information.</p>
</dd>
<dt><span class="italic">partitioned-varname</span></dt>
<dd>
<p>Specifies the name of a partitioned variable whose partitions you want to modify.</p>
</dd>
<dt>DROP <span class="italic">partition-instance</span></dt>
<dt>ADD <span class="italic">partition-instance</span></dt>
<dd>
<p>Removes or adds the specified partitions from the partitioned variable. See the <a href="#i78533">DEFINE VARIABLE</a> command for a complete description of the <span class="syntaxinlineitalic">partition-instance</span> argument.</p>
</dd>
<dt>DEFINE <span class="italic">partition</span></dt>
<dt>DELETE [CLEAR] <span class="italic">partition-instance</span></dt>
<dd>
<p>Removes or adds the specified partitions from the partition template object. See the <a href="#i1007745">DEFINE PARTITION TEMPLATE</a> command for a complete description of the <span class="syntaxinlineitalic">partition-instance</span> argument.</p>
<p>When you include the optional CLEAR keyword, Oracle OLAP also drops any corresponding partitions in the variables that are partitioned using the partition template object. In other words, including CLEAR is the same as issuing an additional CHGDFN statements to DROP the partition from the variables partitioned by it.</p>
</dd>
<dt>RENAME PARTITION <span class="italic">old-name new-name</span></dt>
<dd>
<p>Renames the specified partitions in the partition template object.</p>
</dd>
<dt>BASE ADD <span class="italic">dimensionlist</span></dt>
<dd>
<p>Adds the dimension or dimensions specified by <span class="italic">dimensionlist</span> to the base dimensions of the concat dimension.When you add one or more dimensions as base dimensions of a concat, then Oracle OLAP appends the dimensions to the existing list of base dimensions of the concat. Objects that are dimensioned by the concat, or objects that are dimensioned by a concat that has the altered concat as a base dimension, gain additional <code dir="ltr">NA</code> values. You cannot add as a base dimension a dimension that is already a component of the concat dimension.</p>
</dd>
<dt><span class="italic">length-dim</span>...</dt>
<dd>
<p>Segment width is specified as the maximum number of values in each segment for each dimension or composite in the variable&#39;s dimension list. The first <span class="italic">length-dim</span> is the number of values for the dimension or composite in the first position of the dimension list in the variable&#39;s definition (that is, the fastest-varying dimension or composite), the second <span class="italic">length-dim</span> is the number of values for the dimension or composite in the second position in the dimension list, and so on.</p>
</dd>
<dt><span class="italic">conjoint</span></dt>
<dt><span class="italic">composite</span></dt>
<dd>
<p>For the <span class="italic">index</span> syntax, the name of the conjoint dimension or composite whose index algorithm you want to change. For the <span class="italic">conjoint-to-composite</span> syntax, the name of the conjoint dimension you want to change to a composite. For the <span class="italic">composite-to-dim</span> syntax, the name of the composite you want to change to a conjoint dimension. You cannot change a conjoint dimension to a composite when the conjoint is a dimension of a formula.</p>
</dd>
<dt>BTREE</dt>
<dt>BTREE64</dt>
<dt>HASH</dt>
<dt>NOHASH</dt>
<dd>
<p>Indicates the index algorithm used to load and access values of your conjoint dimension or composite without losing data in objects defined with the conjoint or composite. A composite cannot be changed to NOHASH. A conjoint can be changed to NOHASH only when it was originally defined as HASH. See <a href="#i80679">&#34;Changing the Index Algorithm of a Conjoint from BTREE to NOHASH&#34;</a>.</p>
<p>HASH, NOHASH, and BTREE are different index algorithms used to load and access the values of a conjoint dimension or composite. (BTREE64 can only be used with composites.) HASH is the default for conjoints. The default for composites is determined by the SPARSEINDEX option, which has a default value of BTREE. The index algorithm affects the performance of loading and accessing large conjoints or composites. Performance varies depending on your system configuration, the organization of your data, and the design of your application.</p>
<ul>
<li>
<p><a id="i80714"></a><span class="bold">BTREE</span> is a standard indexing method that is recommended for composites and conjoint dimensions. Use BTREE as the default unless you are an advanced user and have a special need that requires HASH or NOHASH. BTREE tends to group similar values, which results in better locality of access.</p>
</li>
<li>
<p><span class="bold">BTREE 64</span> can only be used with composites. It specifies the creation of a highly-scalable b-tree index to relate composite values to base dimension values. For a variable that is dimensioned by a BTREE64 composite, like a BTREE composite, Oracle OLAP creates array elements (that is, variable cells) only for those dimension values that are stored in the tuples of the composite; it does not create a cell for every value in the base dimensions. However, unlike a BTREE composite, a BTREE64 composite supports b-trees greater than 2 gigabytes</p>
</li>
<li>
<p><span class="bold">HASH</span> is a standard indexing method that can be used for composites or conjoint dimensions that have only 2 or 3 base dimensions. One advantage to using HASH is that it results in a small amount of code. However, HASH is generally not recommended. Using HASH results in a very large index table, which can be too large to fit into memory.</p>
</li>
<li>
<p><span class="bold">NOHASH</span> can only be used with conjoint dimensions. It can be advantageous to use NOHASH when there is little memory available and the conjoint dimension has only 2 or 3 base dimensions.Also, you can use NOHASH when you load a very large initial amount of data. When you use NOHASH, the data is loaded in a way that makes it easy to access that data after it has been loaded. Once the data is loaded, change the definition of the conjoint dimension back to BTREE to ensure good performance. Otherwise, performance is likely to suffer, especially when the conjoint dimension has 4 or more base dimensions. See <a href="#i80679">&#34;Changing the Index Algorithm of a Conjoint from BTREE to NOHASH&#34;</a>.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
You can do performance testing to determine which algorithm provides the best performance for your situation. For example, suppose a data load executes well at first, then slows down drastically. Use CHGDFN to change the index algorithm from BTREE to NOHASH. Try the data load again to determine whether or not using NOHASH improves performance. You can then use CHGDFN to change the index algorithm back to BTREE. Note, however, that changing the index algorithm of a large conjoint dimension or composite from one algorithm type to another may take a considerable amount of time and that the CHGDFN command cannot be interrupted.</div>
</dd>
<dt>COMPOSITE</dt>
<dd>
<p>Indicates changing a conjoint dimension into a named composite. There are some restrictions on changing conjoint dimensions to composites; when a conjoint has the NOHASH index algorithm or when it has permissions, you cannot change it to a composite.</p>
</dd>
<dt>DIMENSION</dt>
<dd>
<p>Indicates changing a named composite into a conjoint dimension.</p>
</dd>
<dt><span class="italic">composite_dimension</span></dt>
<dd>
<p>The name of a composite that has a composite as a base dimension.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In Oracle Database 11<span class="italic">g</span>, you cannot define a nested composite. Consequently, you only use the UNNEST keyword with nested composites that were defined in an earlier release and then imported into Oracle Database 11<span class="italic">g</span>.</div>
</dd>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of a TEXT, NTEXT or NUMBER dimension</p>
</dd>
<dt>NTEXT</dt>
<dd>
<p>Specifies that the statement changes the data type of a TEXT dimension to NTEXT</p>
</dd>
<dt>TEXT</dt>
<dd>
<p>Specifies that the statement changes the data type of a NTEXT dimension to TEXT</p>
</dd>
<dt>NUMBER [<span class="italic">p</span>, <span class="italic">s</span>]</dt>
<dd>
<p>Specifies that the statement changes the data type of a TEXT, NTEXT, or NUMBER dimension to NUMBER with the precision specified by <span class="italic">p</span> and the scale specified by <span class="italic">s</span>.</p>
</dd>
<dt><span class="italic">dwmqy-dimname</span></dt>
<dd>
<p>Specifies or changes the phase of a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR.</p>
</dd>
<dt>BEGINNING <span class="italic">phase</span></dt>
<dt>ENDING <span class="italic">phase</span></dt>
<dd>
<p>Specifies the beginning phase or ending phase of a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR. You must specify the phase as a date, giving the month, day, and year, enclosed in single quotes, using any of the input styles that are valid for variable values with a data type of DATE. When you specify a date with an ambiguous meaning (such as <code dir="ltr">&#39;03 05 97&#39;</code>), the date is interpreted according to the current setting of the DATEORDER option. For more information about specifying dates, see the <a href="dml_options.htm#i79233">DATEORDER</a> option.</p>
</dd>
<dt>EARLIER <span class="italic">n</span></dt>
<dt>LATER <span class="italic">n</span></dt>
<dd>
<p><span class="italic">n</span> is an <code dir="ltr">INTEGER</code> expression that increments or decrements the period on which the DAY, WEEK, MONTH, QUARTER, or YEAR dimension&#39;s phase begins or ends. For example, for a WEEK dimension whose current begin phase is Monday, specify <code dir="ltr">LATER 2</code> to change the phase to Wednesday.</p>
</dd>
<dt>[NOT] UNIQUE</dt>
<dd>
<p>When you include <code dir="ltr">NOT</code>, changes a unique concat dimension to a nonunique concat. When you do not include <code dir="ltr">NOT</code>, changes a nonunique concat dimension to a unique concat dimension. See the <a href="#i1010642">DEFINE DIMENSION CONCAT</a> command for more information on concat dimensions.</p>
</dd>
<dt>ADD AGGOUNT</dt>
<dd>
<p>Adds<a id="sthref3814"></a><a id="sthref3815"></a> an Aggcount variable to the specified variable. See the WITH AGGCOUNT phrase of the <a href="#i78533">DEFINE VARIABLE</a> command for more information about Aggcount variables.</p>
</dd>
<dt>DROP AGGOUNT</dt>
<dd>
<p>Removes an Aggcount variable from the specified variable. See the WITH AGGCOUNT phrase of the <a href="#i78533">DEFINE VARIABLE</a> command for more information about Aggcount variables.</p>
</dd>
<dt>NULLTRACKING</dt>
<dd>
<p>Adds NA2 bits to the specified variable if the variable does not have NA2 bits. For more information on NA2 bits and null tracking, see <a href="#BGECIBHD">&#34;NA2 Bits and Null Tracking&#34;</a> .</p>
</dd>
<dt>DROP NULLTRACKING</dt>
<dd>
<p>Removes NA2 bits to the specified variable if the variable has NA2 bits.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3816"></a>Usage Notes</p>
<p class="subhead2"><a id="CACJBDAH"></a><a id="OLADM2244"></a>Understanding Variable Segments</p>
<p>A segment is contiguous disk space reserved for a portion of the total number of values a variable holds. For example, for a variable dimensioned by <code dir="ltr">month</code> with a SEGWIDTH of <code dir="ltr">150</code> and <code dir="ltr">product</code> with a SEGWIDTH of <code dir="ltr">90,000</code>, each segment holds up to 150 x 90,000 values of the variable. The number of segments in a variable affects the performance of data loading and data accessing.</p>
<p>When you do not specify <code dir="ltr">CHGDFN</code> <code dir="ltr">SEGWIDTH</code>, the default behavior is to assign a segwidth of <code dir="ltr">0</code> (zero) on non-composite dimensions and a large value for composites that are not the slowest-varying in the dimension set. This behavior allows new dimension and composite values to be added in most situations without greatly increasing the number of segments and degrading performance.</p>
<p>When you specify SEGWIDTH, you must specify a number, <code dir="ltr">0</code> (zero), or nonzero, for every dimension and composite of the variable.</p>
<p>When you set the value of SEGWIDTH for a dimension to 0, Oracle OLAP grows segments in that dimension as needed, minimizing the number of segments but not changing any existing segments. You can always specify <code dir="ltr">0</code> (zero for the slowest-varying dimension, because the data for any values that are later added to that dimension is appended to the existing data in the variable&#39;s last segment.</p>
<p>The segment size that you specify is used not only for the variable you designate as <span class="italic">varname,</span> but also for all other variables and relations that are defined with the same combination of dimensions and composites in the same order. The DEFINE command sets the SEGWIDTH at the time it creates a variable or relation. Changing the SEGWIDTH affects any new variable or relation that you subsequently create. The changed SEGWIDTH setting does not apply to previously existing variables or relations.</p>
<p>The time it takes to do data loads on a variable depends on how many pages are brought into memory and then written back out. This number can be affected by how a variable is divided into segments. Too many segments (thousands to millions) can degrade performance. See <a href="#i80660">&#34;Reducing the Number of Segments&#34;</a>.</p>
<p>The number of segments also affects data access. The time it takes to report a variable depends on how many values are brought into memory. You decide how many segments your variable should have based on your data loading and data accessing patterns.</p>
<p>DEFINE provides default segments. In most cases, you can use the default segments so that you do not have to use <code dir="ltr">CHGDFN SEGWIDTH</code> to manually control the size of segments. However, you may be able to improve performance by specifying the segment size instead of using the defaults.When you are not sure what your segment size should be, use the maximum anticipated number of values for each dimension or composite as the length arguments to SEGWIDTH. Then only one segment is created for the variable.</p>
<p class="subhead2"><a id="i80660"></a><a id="OLADM2245"></a>Reducing the Number of Segments</p>
<p>You can use OBJ (NUMSEGS) to find out if you have too many segments for objects that have a particular dimension set. When you find that you do, you can reduce the number of segments by following these steps:</p>
<ol>
<li>
<p>Export the variables and relations that use this dimension set to an EIF file.</p>
</li>
<li>
<p>Execute a MAINTAIN DELETE ALL statement for a dimension in the dimension set.</p>
</li>
<li>
<p>Optimally, execute a CHGDFN statement for a variable or relation with this dimension set, and increase the value of the length arguments to the SEGWIDTH keyword.</p>
</li>
<li>
<p>From the EIF file, import all the values you exported in Step 1.</p>
</li>
</ol>
<p class="subhead2"><a id="i80679"></a><a id="OLADM2246"></a>Changing the Index Algorithm of a Conjoint from BTREE to NOHASH</p>
<p>When you must change a conjoint dimension that was originally defined with the BTREE algorithm to a NOHASH conjoint, you can use the following method:</p>
<ol>
<li>
<p>Export the conjoint dimension and all the objects dimensioned by it to an EIF file.</p>
</li>
<li>
<p>Delete all the objects dimensioned by the conjoint dimension, and then delete the conjoint itself.</p>
</li>
<li>
<p>Redefine the conjoint as a NOHASH conjoint.</p>
</li>
<li>
<p>Import the conjoint dimension and the objects dimensioned by it from the EIF file. The NOHASH attribute on the definition at the time of the import causes the conjoint dimension to be read in as a NOHASH conjoint.</p>
</li>
</ol>
<p class="subhead2"><a id="OLADM2247"></a>Changing an Unnamed Composite to a Named Conjoint Dimension</p>
<p>When you want to change an unnamed composite into a conjoint dimension, you can use a RENAME statement to change the unnamed composite into a named composite, and then use CHGDFN to change the named composite into a conjoint dimension.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3817"></a>Examples</p>
<p>For an example of removing null tracking from a variable, see <a href="#BGEEHAEJ">Example 9-104, &#34;Defining a Variable with Null Tracking&#34;</a>.</p>
<div id="OLADM2248" class="example">
<p class="titleinexample"><a id="sthref3818"></a>Example 9-62 Using CHGDFN SEGWIDTH</p>
<p>Suppose you have a variable called <code dir="ltr">d.sales</code> that is dimensioned by <code dir="ltr">month</code> and by a composite with the base dimensions <code dir="ltr">market</code> and <code dir="ltr">product</code>. The definition of <code dir="ltr">d.sales</code> looks like the following.</p>
<pre dir="ltr">DEFINE d.sales VARIABLE DECIMAL &lt;month SPARSE&lt;market product&gt;&gt;
</pre>
<p>Suppose you want to have only one segment in the <code dir="ltr">d.sales</code> variable. You estimate that the <code dir="ltr">month</code> dimension eventually has 150 values and the composite has 100,000. The following statement creates one segment for the <code dir="ltr">d.sales</code> variable.</p>
<pre dir="ltr">CHGDFN d.sales SEGWIDTH 150 100000
</pre>
<p>However, a better way to specify segment size for <code dir="ltr">d.sales</code> is to specify 0 for the slowest-varying dimension.</p>
<pre dir="ltr">CHGDFN d.sales SEGWIDTH 150 0
</pre>
<p>Suppose you want one segment for a variable defined with a composite and two dimensions. For example, suppose you have a variable called <code dir="ltr">f.costs</code> with the following definition.</p>
<pre dir="ltr">DEFINE f.costs VARIABLE DECIMAL &lt;geog SPARSE&lt;product channel&gt; time&gt;
</pre>
<p>You estimate the <code dir="ltr">geog</code> dimension has 100 values and the composite has 300,000. You do not have to estimate the number of values for the <code dir="ltr">time</code> dimension, because it is the slowest-varying dimension. The following statement creates one segment for the <code dir="ltr">f.costs</code> variable.</p>
<pre dir="ltr">CHGDFN f.costs SEGWIDTH 100 300000 0
</pre></div>
<!-- class="example" -->
<div id="OLADM2249" class="example">
<p class="titleinexample"><a id="sthref3819"></a>Example 9-63 Changing the Phase of a YEAR Dimension</p>
<p>The following statements first create a dimension of type YEAR for a fiscal year, then use CHGDFN to switch to a new time phase for the fiscal year.</p>
<pre dir="ltr">DEFINE fiscal DIMENSION year BEGINNING &#39;06 01 96&#39;
CHGDFN fiscal BEGINNING &#39;01 01 97&#39;
</pre></div>
<!-- class="example" -->
<div id="OLADM2250" class="example">
<p class="titleinexample"><a id="sthref3820"></a>Example 9-64 Adding a Base Dimension to a Concat Dimension</p>
<p>The following statements create a nonunique concat dimension named <code dir="ltr">reg.dist.ccdim</code> that has the <code dir="ltr">region</code> and <code dir="ltr">district</code> dimensions as its base dimensions and report the values of the concat.</p>
<pre dir="ltr">DEFINE reg.dist.ccdim DIMENSION CONCAT(region district)
REPORT W 22 reg.dist.ccdim
</pre>
<p>The preceding statement produces the following output.</p>
<pre dir="ltr">REG.DIST.CCDIM
--------------------
&lt;region: East&gt;
&lt;region: Central&gt;
&lt;region: West&gt;
&lt;district: Boston&gt;
&lt;district: Atlanta&gt;
&lt;district: Chicago&gt;
&lt;district: Dallas&gt;
&lt;district: Denver&gt;
&lt;district: Seattle&gt;
</pre>
<p>The following statements add the <code dir="ltr">store_id</code> dimension as a base to the concat dimension and then report the values of the concat again.</p>
<pre dir="ltr">CHGDFN reg.dist.ccd BASE ADD store_id
REPORT W 22 reg.dist.ccd
</pre>
<p>The preceding statement produces the following output.</p>
<pre dir="ltr">REG.DIST.CCD
----------------------
&lt;region: East&gt;
&lt;region: Central&gt;
&lt;region: West&gt;
&lt;district: Boston&gt;
...
&lt;district: Seattle&gt;
&lt;store_id: 10&gt;
&lt;store_id: 20&gt;
&lt;store_id: 30&gt;
&lt;store_id: 100&gt;
...
&lt;store_id: 500&gt;
&lt;store_id: 510&gt; 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79129"></a>
<div id="OLADM773" class="refsect1">
<h2 class="refsect1">CLEAR</h2>
<p><a id="sthref3821"></a>The CLEAR command deletes the data that you specify for one or more variables.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3822"></a>Syntax</p>
<p class="synopsis">CLEAR&nbsp;[<span class="underline">STATUS</span> | {ALL [CACHE]}]&nbsp;[<span class="underline">VALUES</span> | {<span class="italic">aggdata</span> [USING <span class="italic">aggmapname</span>]}]&nbsp;-</p>
<p class="synopsis">FROM {<span class="italic">varname</span> [ ( PARTITION <span class="italic">partition-name</span> ) ] } [, ... ]</p>
<p>where <span class="syntaxinlineitalic">aggdata</span> is one or more of the following keywords that identifies the type of aggregated data that you want deleted from the variable.</p>
<dl>
<dd><span class="syntaxinline">AGGREGATES</span></dd>
<dd><span class="syntaxinline">LEAVES</span></dd>
<dd><span class="syntaxinline">PRECOMPUTES</span></dd>
<dd><span class="syntaxinline">NONPRECOMPUTES</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3823"></a>Parameters</p>
<dl>
<dt>STATUS</dt>
<dd>
<p>Specifies that only the data that is currently in status is taken into consideration. (Default)</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
When clearing a compressed composite, do not execute a CLEAR when only some values are in status.</div>
</dd>
<dt>ALL</dt>
<dd>
<p>Specifies that the command consider all of a variable&#39;s data regardless of the current status. Required when you specify either the CACHE or AGGREGATES keywords.</p>
</dd>
<dt>CACHE</dt>
<dd>
<p>Empties the session cache. When you specify this keyword, you must also specify the ALL keyword.</p>
</dd>
<dt>VALUES</dt>
<dd>
<p>(Default) Deletes all of a variable&#39;s stored data and replaces each deleted data value with an <code dir="ltr">NA</code> value.</p>
</dd>
<dt>AGGREGATES</dt>
<dd>
<p>Deletes the data in all cells populated by the execution of an AGGREGATE command or an AGGREGATE function. When you specify this keyword, you must also specify the ALL keyword.</p>
</dd>
<dt>PRECOMPUTES</dt>
<dd>
<p>For all variables <span class="italic">except</span> those dimensioned by a compressed composite, deletes any data that was calculated when an AGGREGATE command executed and replaces that data with <code dir="ltr">NA</code> values.</p>
</dd>
<dt>NONPRECOMPUTES</dt>
<dd>
<p>Deletes any data that was calculated on the fly when an AGGREGATE function executed and replaces that data with <code dir="ltr">NA</code> values.</p>
</dd>
<dt>LEAVES</dt>
<dd>
<p>Deletes the detail-level data, meaning, the &#34;leaf&#34; data.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot specify this keyword for a variable dimension by a compressed composite.</div>
</dd>
<dt><span class="italic">varname</span></dt>
<dd>
<p>The name of a variable from which data is deleted.</p>
</dd>
<dt><span class="italic">aggmapname</span></dt>
<dd>
<p>The name of the aggmap that should be used.</p>
<p>You must include this phrase to clear a variable that is not a compressed composite or that does not have an $AGGMAP property. You do not have to specify this phrase to clear:</p>
<ul>
<li>
<p>A variable that is dimensioned by a compressed composite. By default, CLEAR uses the structure of the compressed composite to clear the variable.</p>
</li>
<li>
<p>A variable that has an $AGGMAP property when you want CLEAR to use the aggmap specified by that property. If you do not specify a USING phrase for a variable that has an $AGGMAP property, then CLEAR uses the aggmap specified by that property.</p>
</li>
</ul>
<p>When you include this phrase for a dimensioned aggmap, the dimensionality of every variable included in the CLEAR command must be identical to the dimensionality of the aggmap. In other words, every variable definition must have the same dimensions in the same order as those in the definition of the aggmap.</p>
</dd>
<dt>PARTITION <span class="italic">partition_name</span></dt>
<dd>
<p>For a partitioned variable, specifies the name of a partition from which you want to clear data.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Clearing only a single partition of a compressed composite is resource intensive and time consuming as the variable is decompressed during the process.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3824"></a>Examples</p>
<div id="OLADM2251" class="example">
<p class="titleinexample"><a id="sthref3825"></a>Example 9-65 Clearing a Variable&#39;s Data</p>
<p>The CLEAR command gives you an easy way to delete all of a variable&#39;s stored data. Suppose you have defined a <code dir="ltr">sales</code> variable and loaded data into it. You then find out that much of this data has changed. It is more efficient to clear the <code dir="ltr">sales</code> variable and reload all of the data than it would be to change the existing data. You can do so with the following statement.</p>
<pre dir="ltr">CLEAR ALL FROM sales
</pre>
<p>In this example, the VALUES keyword is assumed by default. Therefore, all of the <code dir="ltr">sales</code> data is deleted and replaced with <code dir="ltr">NA</code> values.</p>
</div>
<!-- class="example" -->
<div id="OLADM2252" class="example">
<p class="titleinexample"><a id="sthref3826"></a>Example 9-66 Clearing Aggregated Data</p>
<p>Suppose you have aggregated data for your <code dir="ltr">sales</code> and <code dir="ltr">units</code> variable, and you have specified that all other data should be calculated on the fly.</p>
<p>The <code dir="ltr">sales</code> and <code dir="ltr">units</code> variables are defined with the same dimensions in the same order: <code dir="ltr">time</code>, <code dir="ltr">product</code>, and <code dir="ltr">geography</code>. Therefore, they have been aggregated with the <code dir="ltr">sales.agg</code> aggmap, which has the following definition.</p>
<pre dir="ltr">DEFINE sales.agg AGGMAP &lt;time, product, geography&gt;
</pre>
<p>The <code dir="ltr">sales.agg</code> aggmap has the following contents.</p>
<pre dir="ltr">RELATION time.r PRECOMPUTES (time ne &#39;YEAR99&#39;)
RELATION product.r PRECOMPUTES (product ne &#39;ALL&#39;)
RELATION geography.r
</pre>
<p>After aggregating both <code dir="ltr">sales</code> and <code dir="ltr">units</code>, you learn that there are certain geographic regions that none of your users access. Because <code dir="ltr">geography</code> is the slowest-varying dimension, you can probably reduce the number of pages needed to store data by deleting data for the geographic regions that no one needs which can reduce the size of your analytic workspace and possibly improve performance.</p>
<ol>
<li>
<p>Set the status for each dimension. The only geographic regions that users need are New England, Europe, and Australasia. The following statements put all time periods and all products for every geographic region in the current status, except for the geographic regions that users need. In other words, the following statements put all of the data that users do not have to access in status.</p>
<pre dir="ltr">LIMIT time TO ALL
LIMIT product TO ALL
LIMIT geography COMPLEMENT &#39;NewEngland&#39; &#39;Europe&#39; &#39;Australasia&#39;
</pre></li>
<li>
<p>Use the following statement to delete the unneeded data.</p>
<pre dir="ltr">CLEAR STATUS PRECOMPUTES FROM sales units USING sales.agg
</pre></li>
</ol>
</div>
<!-- class="example" -->
<div id="OLADM2253" class="example">
<p class="titleinexample"><a id="sthref3827"></a>Example 9-67 Clearing Cached Data</p>
<p>Data is cached when an aggmap specifies calculation on the fly and contains a CACHE SESSION statement.</p>
<p>For example, suppose the <code dir="ltr">sales.agg</code> aggmap has the following contents.</p>
<pre dir="ltr">RELATION time.r PRECOMPUTES (time ne &#39;YEAR99&#39;)
RELATION product.r PRECOMPUTES (product ne &#39;ALL&#39;)
RELATION geography.r
CACHE SESSION
</pre>
<p>Note that the <code dir="ltr">sales.agg</code> contains a CACHE SESSION command. Consequently, Oracle OLAP calculates some data at the time a user requests it, and then stores it in the session cache. To clear this data from the <code dir="ltr">sales</code> variable, use the following statement.</p>
<pre dir="ltr">CLEAR ALL CACHE FROM sales
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79149"></a>
<div id="OLADM774" class="refsect1">
<h2 class="refsect1">COMMIT</h2>
<p><a id="sthref3828"></a>The COMMIT command executes a SQL <code dir="ltr">COMMIT</code> statement. When you want changes that you have made in an analytic workspace to be committed when you execute the COMMIT command, then you must first update the workspace using an UPDATE statement. UPDATE moves changes from a temporary work area to the database table in which the workspace is stored. Changes that have not been moved to the table are not committed. When you do <span class="italic">not</span> use UPDATE and COMMIT statements, changes made to an analytic workspace during your session are discarded when you end your Oracle session.</p>
<p>When you execute a SQL <code dir="ltr">COMMIT</code> statement in your database session, all changes made in your session (including all updated changes in workspaces that you have attached with read/write access) are committed. All committed changes are visible to other users who subsequently attach the workspace. However, another user&#39;s UPDATE and COMMIT statements do not affect your view of an already attached workspace.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Many users execute DML statements using SQL*Plus&reg; or OLAP Worksheet. Both of these tools automatically execute a COMMIT statement when you end your session</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3829"></a>Syntax</p>
<p class="synopsis">COMMIT</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3830"></a>Examples</p>
<div id="OLADM2254" class="example">
<p class="titleinexample"><a id="sthref3831"></a>Example 9-68 Saving All Changes to an Analytic Workspace</p>
<p>The following statements permanently save all analytic workspace changes made so far in your session. The COMMIT command also saves database changes made in your session outside Oracle OLAP.</p>
<pre dir="ltr">UPDATE
COMMIT
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79154"></a>
<div id="OLADM775" class="refsect1">
<h2 class="refsect1">COMPILE</h2>
<p><a id="sthref3832"></a><a id="sthref3833"></a><a id="sthref3834"></a><a id="sthref3835"></a><a id="sthref3836"></a>The COMPILE command generates compiled code for a compilable object, such as a program, formula, model, or aggmap without running it and saves the compiled code in the analytic workspace. During compilation, COMPILE checks for format errors, so you can use COMPILE to help debug your code before running it. COMPILE records the errors in the current outfile.</p>
<p>However, you are not required to use the COMPILE command before running a compilable object. When you do not use COMPILE, Oracle OLAP automatically compiles a compilable object the first time you run it after entering or changing its contents. This automatic compilation is unnoticeable except for a slight delay while it is happening. Use the OBJ function with the ISCOMPILED keyword to obtain information about the compilation status of a compilable object.</p>
<p>Whether you compile an object explicitly with COMPILE or automatically through running it, the code executes faster whenever you subsequently run the object during the same session, because the code is already compiled. When you update and commit your analytic workspace, the compiled code is saved as part of your analytic workspace and can be used in later sessions. The code thus executes faster the first time it is run in each later session.</p>
<p>Using COMPILE to compile code without running a compilable object is especially useful when you are writing code that is part of a read-only analytic workspace (that is, an analytic workspace that people can use but not update).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_program.htm#i1018966">&#34;Compiling Programs&#34;</a>, <a href="dml_objects.htm#BEIJAACH">&#34;Compiling Models&#34;</a>, and <a href="dml_objects.htm#BEHHFHIG">&#34;Compiling Aggregation Specifications&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3837"></a>Syntax</p>
<p class="synopsis">COMPILE&nbsp;<span class="italic">object-name</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3838"></a>Parameters</p>
<dl>
<dt><span class="italic">object-name</span></dt>
<dd>
<p>The name of a compilable object that you want to compile.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1043672"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2255"></a>Compilation Options</p>
<p>Several options effect compilation. These options are listed in <a href="dml_options.htm#CHDBEIDB">&#34;Compilation Options&#34;</a>. By setting one or more of these options you can suppress error messages that appear at compilation time or replace occurrences of <code dir="ltr">THIS_AW</code> with a specified value.</p>
<p class="subhead2"><a id="OLADM2256"></a>Deleted Objects</p>
<p>When you delete or rename an object in your analytic workspace, Oracle OLAP automatically invalidates the compiled code for every statement in a program and every formula and model that depends on that object. When you try to execute code that refers to the deleted or renamed object, Oracle OLAP tries to compile the code again. Unless you have defined a new object with the same name, you receive an error message now.</p>
<p>When you run a program that contains invalidated code, it is compiled and executed one statement at a time. To save compiled code for the entire program, use the COMPILE command to explicitly compile it.</p>
<p class="subhead2"><a id="OLADM2257"></a>Multiple Errors in a Line</p>
<p>When a single statement has multiple errors, COMPILE finds only the first error. However, COMPILE continues checking for format errors in subsequent statements.</p>
<p class="subhead2"><a id="CACBHAFG"></a><a id="OLADM2258"></a>Declarative Errors</p>
<p>COMPILE handles declarative errors differently in programs and models:</p>
<ul>
<li>
<p>When a program has a declarative error (for example, when a VARIABLE or ARG statement follows executable code), COMPILE signals a trappable error</p>
</li>
<li>
<p>When a model has a declarative model (for example, when a model statement has a DIMENSION statement following an assignment statement) COMPILE does not signal a trappable error. Instead, the model is not executable.</p>
</li>
</ul>
<p>See the <a href="dml_commands_2.htm#g1037686">TRAP</a> command for more information on trapping error.s</p>
<p class="subhead2"><a id="OLADM2259"></a>Advantages of Compiling</p>
<p>Explicit compilation using the COMPILE command offers several advantages over automatic compilation:</p>
<ul>
<li>
<p>For any compilable object, COMPILE generates compiled code without executing the code in the object.</p>
</li>
<li>
<p>In a program or model, automatic compilation diagnoses an error only in the first statement that contains an error. It then displays the error message and halts the execution of a program or the analysis of a model. So each time a program or model is automatically compiled, only a single error message is displayed. In contrast, COMPILE checks every statement in a program or model for correct format, and generates multiple error messages, one for each statement that contains an error. (In programs, some types of statements cannot be compiled, so they are exceptions. See <a href="#i80734">&#34;Errors COMPILE Does Not Catch&#34;</a>.) Because COMPILE shows you every statement that contains at least one error, this minimizes the number of times you must edit the code to correct all errors.</p>
</li>
<li>
<p>For a model, you may want to examine the results of the compilation or set options for handling simultaneous equations before you run the model.</p>
</li>
</ul>
<p class="subhead2"><a id="i80734"></a><a id="OLADM2260"></a>Errors COMPILE Does Not Catch</p>
<p>Because the COMPILE command does not actually execute code, it can compile code that, for reasons unrelated to format errors, might not be successfully executed when the object were actually run. In a program, for example, you can compile the following statement, even though &#39;joplin&#39; is not a district.</p>
<pre dir="ltr">LIMIT district TO &#39;joplin&#39;
</pre>
<p>Although the statement compiles successfully, you get an error message at run time.</p>
<p class="subhead2"><a id="OLADM2261"></a>Statements Not Compiled</p>
<p>In programs, certain statements cannot be compiled at all, and are therefore interpreted each time they are executed. These include statements that contain ampersand substitution, statements involving analytic workspace operations, and any statement that calls a program as a command. (Statements that call a program as a function or with the CALL command are compiled.)</p>
<p class="subhead2"><a id="OLADM2262"></a>PRGTRACE Option</p>
<p>You can use the PRGTRACE option to check which statements in a program have been compiled. When you set PRGTRACE to <code dir="ltr">YES</code> and run a program, each statement is recorded in the current outfile before it is executed. A compiled statement is identified with an equal sign.</p>
<pre dir="ltr">(PRG= program-name) statement
</pre>
<p>An uncompiled statement is identified with a colon.</p>
<pre dir="ltr">(PRG: program-name) statement
</pre>
<p class="subhead2"><a id="OLADM2263"></a>Multiple Analytic Workspaces</p>
<p>When you compile a compilable object that uses objects in another analytic workspace, the second analytic workspace must be attached to your current Oracle OLAP session. You can then run the compilable object with that analytic workspace or another analytic workspace with objects of the same name and type attached. Oracle OLAP checks that the objects have the same name, type (variable, dimension, and so on), data type (<code dir="ltr">INTEGER</code>, <code dir="ltr">TEXT</code>, and so on), and dimensions as the objects used to compile the compilable object.</p>
<p>When you have multiple active analytic workspaces, <span class="italic">do not</span> have objects of the same name in both analytic workspaces. For example, when you have an analytic workspace of programs and two analytic workspaces with data about the products Tea and Coffee, both product analytic workspaces can have a MONTH dimension and the programs can refer to MONTH. However, during your session, attach only one product analytic workspace at a time so that there is only one MONTH dimension.</p>
<p class="subhead2"><a id="OLADM2264"></a>Memory Use</p>
<p>In order for code to compile, all variables referenced in a program (except for variables in lines containing ampersand substitution) must be loaded into memory. Consequently, Oracle OLAP reads the definition of every variable you use and stores it in a portion of available memory that is dedicated for storing object definitions. When the compilation tries to bind a large variable, this may use a large amount of memory and create a large <code dir="ltr">EXPTEMP</code> file. When the compilation tries to bind a large number of large variables, it may fail and Oracle OLAP records an error message such as &#39;Insufficient Main Memory&#39;. See the <a href="dml_commands_2.htm#i78842">LOAD</a> command for more information about loading an object&#39;s definition into memory.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1043818"></a>Examples</p>
<div id="OLADM2265" class="example">
<p class="titleinexample"><a id="CHDGDAFC"></a><a id="i1015811"></a>Example 9-69 Compiling a Program</p>
<p><a id="sthref3839"></a>The following is an example of a <code dir="ltr">COMPILE</code> command that compiles the <code dir="ltr">myprog</code> program.</p>
<pre dir="ltr">COMPILE myprog
</pre>
<p>Suppose you misspell the dimension <code dir="ltr">month</code> in a LIMIT command in the <code dir="ltr">myprog</code> program.</p>
<pre dir="ltr">LIMIT motnh TO LAST 6
</pre>
<p>When the <code dir="ltr">COMPILE</code> command encounters this statement, it produces the following message.</p>
<pre dir="ltr">ERROR: (MXMSERR00) Analytic workspace object MOTNH does not exist.
In DEMO!MYPROG PROGRAM:
limit month to last 6
</pre>
<p>You can edit the program to correct the error and then try to compile it again.</p>
</div>
<!-- class="example" -->
<div id="OLADM2266" class="example">
<p class="titleinexample"><a id="sthref3840"></a>Example 9-70 Finding Program Errors</p>
<p>This example shows a program called <code dir="ltr">salesrpt</code> that contains two errors.</p>
<pre dir="ltr">DEFINE salesrpt PROGRAM
PROGRAM
ROW WIDTH 80 CENTER Monthly Report
BLANK 2
ROWW &#39;Total Sales&#39; TOTAL(sales)
END
</pre>
<p>You can compile the program with the following statement.</p>
<pre dir="ltr">COMPILE salesrpt
</pre>
<p>Oracle OLAP identifies both errors and records the following messages.</p>
<pre dir="ltr">ERROR: You provided extra input starting at &#39;REPORT&#39;.
In SALESRPT PROGRAM:
ROW WIDTH 80 CENTER Monthly Report
ERROR: ROWW is not a command.
In SALESRPT PROGRAM:
roww &#39;Total Sales&#39; TOTAL(sales)
</pre>
<p>You can now edit the program to correct these errors, enclosing <code dir="ltr">&#39;Monthly&nbsp;Report</code>&#39; in single quotes and correcting the spelling of <code dir="ltr">ROWW</code>. Then you can compile the program again, and save the compiled code as part of your analytic workspace.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79169"></a>
<div id="OLADM776" class="refsect1">
<h2 class="refsect1">CONSIDER</h2>
<p><a id="sthref3841"></a><a id="sthref3842"></a>The CONSIDER command identifies a definition as the current definition which enables you to add a description, value name format, formula, program, model, permission, or property to the definition with an LD, VNF, EQ, PROGRAM, MODEL, PERMIT, or PROPERTY statement.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3843"></a>Syntax</p>
<p class="synopsis">CONSIDER&nbsp;<span class="italic">name</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3844"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of a definition in the current workspace or in an attached workspace.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3845"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2267"></a>Replacing a Definition Component</p>
<p>When you use an LD, VNF, EQ, PROGRAM, MODEL, or PERMIT statement to add a component to the current definition, any existing value for that component is discarded and replaced by the new value you specify. For the PROPERTY statement, the value is replaced only when you specify a new value for an existing property name. Definitions can have multiple properties.</p>
<p class="subhead2"><a id="OLADM2268"></a>Unsuccessful CONSIDER Statements</p>
<p>When the CONSIDER command you issue is unsuccessful, subsequent LD, VNF, EQ, PROGRAM, MODEL, PERMIT, or PROPERTY statements produce an error.</p>
<p class="subhead2"><a id="OLADM2269"></a>Implicit CONSIDER Statements</p>
<p>The DEFINE, COPYDFN, and RENAME commands automatically issue an implicit CONSIDER command.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3846"></a>Examples</p>
<div id="OLADM2270" class="example">
<p class="titleinexample"><a id="sthref3847"></a>Example 9-71 Adding a Description to an Analytic Workspace Object</p>
<p>This example adds a description (LD) to the definition for <code dir="ltr">district</code>. To add the LD, you must first use CONSIDER to make <code dir="ltr">district</code> the current definition. The statements</p>
<pre dir="ltr">CONSIDER district
LD Sales Districts
DESCRIBE district
</pre>
<p>produce the following definition.</p>
<pre dir="ltr">DEFINE district DIMENSION TEXT
LD Sales Districts
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79174"></a>
<div id="OLADM777" class="refsect1">
<h2 class="refsect1">CONTEXT command</h2>
<p><a id="sthref3848"></a><a id="sthref3849"></a><a id="sthref3850"></a><a id="sthref3851"></a>The CONTEXT command lets you create and use a context during your Oracle OLAP session. A context is a means of preserving object values. After you create a context, you can save the current status of dimensions and the values of options, single-cell variables, valuesets, and single-cell relations in the context. You can then restore some or all of the object values from the context. A context exists only for the duration of an Oracle OLAP session. It is not an analytic workspace object and therefore cannot be saved as part of any analytic workspace. When a context contains saved values for objects in a particular analytic workspace, and you detach that analytic workspace, Oracle OLAP removes those objects from the context. That context retains any saved values for Oracle OLAP options and objects from other analytic workspaces that are still attached.</p>
<p>You can use the CONTEXT function to obtain information about a context.</p>
<p>The CONTEXT command and function provide an alternative to the PUSH and POP statements. With contexts, you can access and update the saved object values, whereas PUSH and POP simply allow you to save and restore values.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3852"></a>Syntax</p>
<p class="synopsis">CONTEXT&nbsp;<span class="italic">context-name</span>&nbsp;[ CREATE | APPLY | DISCARD | {SAVE |DROP|RESTORE} <span class="italic">objects</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3853"></a>Parameters</p>
<dl>
<dt><span class="italic">context-name</span></dt>
<dd>
<p>A text expression that contains the name of the context.</p>
</dd>
<dt>CREATE</dt>
<dd>
<p>Creates a context with the name specified by <span class="italic">context-name,</span> which must be unique.</p>
</dd>
<dt>SAVE</dt>
<dd>
<p>Stores the values of the objects specified in <span class="italic">objects</span> in the context. You may save the values of single-cell variables and relations in a context. You cannot use the CONTEXT command to save the values of dimensioned variables, dimensioned relations, or the NAME dimension. If you try to save values from these objects, Oracle OLAP produces an error message.</p>
</dd>
<dt>APPLY</dt>
<dd>
<p>Sets the appropriate objects to the values of all corresponding objects saved in the context.</p>
</dd>
<dt>DISCARD</dt>
<dd>
<p>Deletes the context.</p>
</dd>
<dt>SAVE</dt>
<dd>
<p>Stores the values of the objects specified in <span class="italic">objects</span> in the context.</p>
</dd>
<dt>DROP</dt>
<dd>
<p>Drops the values of the objects specified in <span class="italic">objects</span> from the context.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you delete an Oracle OLAP object during the session, it is also removed from the context.</div>
</dd>
<dt>RESTORE</dt>
<dd>
<p>Sets whatever objects you specify in <span class="italic">objects</span> to the values of the corresponding objects saved in the context.</p>
</dd>
<dt><span class="italic">objects</span></dt>
<dd>
<p>One or more object names. Each object name must be separated by a space. When you are listing several <span class="italic">name(s)</span> that do not fit on a single line, you may use the continuation character to continue the CONTEXT command on additional lines.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3854"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2271"></a>Naming Convention</p>
<p>A suggested programming practice is to name the context after the analytic workspace with which it is associated.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3855"></a>Examples</p>
<div id="OLADM2272" class="example">
<p class="titleinexample"><a id="CHDHHJAB"></a><a id="i1015702"></a>Example 9-72 Saving Dimension Status</p>
<p>This example shows how you can use the CONTEXT command to save and restore the status of a dimension. The following statements create a context that includes a subset of the values in the <code dir="ltr">product</code> dimension.</p>
<pre dir="ltr">LIMIT product TO &#39;Tents&#39; &#39;Canoes&#39;
CONTEXT &#39;democontext1&#39; CREATE
CONTEXT &#39;democontext1&#39; SAVE product
</pre>
<p>The following statements limit <code dir="ltr">product</code> to all its values and produce a report that lists them all.</p>
<pre dir="ltr">LIMIT product TO ALL
REPORT product
</pre>
<p>This is the report.</p>
<pre dir="ltr">PRODUCT
-----------
Tents
Canoes
Racquets
Sportswear
Footwear
</pre>
<p>The following statements apply the saved context and produce a report that lists only the values included in the context.</p>
<pre dir="ltr">CONTEXT &#39;democontext1&#39; APPLY
REPORT product
</pre>
<p>This is the new report.</p>
<pre dir="ltr">PRODUCT
-----------
Tents
Canoes
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1007920"></a>
<div id="OLADM778" class="refsect1">
<h2 class="refsect1">CONTINUE</h2>
<p><a id="sthref3856"></a><a id="sthref3857"></a><a id="sthref3858"></a><a id="sthref3859"></a><a id="sthref3860"></a>The CONTINUE command transfers program control to the end of a FOR or WHILE loop (just before the DO/DOEND statement), allowing the loop to repeat. You can use CONTINUE only within programs and only with FOR or WHILE.</p>
<p>For more information on controlling program execution, see also <a href="dml_program.htm#CHDJGIII">&#34;Program Flow-of-Control&#34;</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3861"></a>Syntax</p>
<p class="synopsis">CONTINUE</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3862"></a>Examples</p>
<div id="OLADM2273" class="example">
<p class="titleinexample"><a id="sthref3863"></a>Example 9-73 Skipping Over Code in a FOR Loop</p>
<p>In the following lines from a program, an IF statement is used to test whether total sales for a district exceed 5,000,000. When sales are more this amount, the program goes on to produce a report for that district. However, when a district&#39;s sales are less than the amount, the CONTINUE statement is used to transfer control to the end of the FOR loop (just before the DOEND statement). No lines are produced for that district, and the program goes on to test the next district in the status list.</p>
<pre dir="ltr"> ...
FOR district
    DO          
    IF TOTAL(sales, district) LT 5000000
      THEN CONTINUE
     ... &#34;(report statements for districts with total sales above 5,000,000)
    DOEND
 ...
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79194"></a>
<div id="OLADM779" class="refsect1">
<h2 class="refsect1">COPYDFN</h2>
<p><a id="sthref3864"></a><a id="sthref3865"></a><a id="sthref3866"></a><a id="sthref3867"></a><a id="sthref3868"></a><a id="sthref3869"></a>The COPYDFN program defines a new object in the analytical workspace and uses the same definition as a specified object in the current workspace or in an attached workspace.</p>
<p>COPYDFN copies the DEFINE, LD, and PROPERTY lines for any type of object, and it copies the formula (EQ) of a formula object, and the value name format (VNF) of a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR. COPYDFN also copies the text of a program or model. COPYDFN does not copy the PERMIT lines for any object, and it does not copy the compiled code of a formula, program, or model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3870"></a>Syntax</p>
<p class="synopsis">COPYDFN&nbsp;<span class="italic">newobject&nbsp;oldobject</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3871"></a>Parameters</p>
<dl>
<dt><span class="italic">newobject</span></dt>
<dd>
<p>The name of the new object to define.</p>
</dd>
<dt><span class="italic">oldobject</span></dt>
<dd>
<p>The name of the object whose definition you want to copy.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3872"></a>Examples</p>
<div id="OLADM2274" class="example">
<p class="titleinexample"><a id="sthref3873"></a>Example 9-74 Copying Programs</p>
<p>The following statements use COPYDFN to create a program, called <code dir="ltr">newprog</code>, which is a copy of an existing one called <code dir="ltr">oldprog</code>. You could then edit <code dir="ltr">newprog</code> to create a slightly different program. The <code dir="ltr">oldprog</code> program has the following definition.</p>
<pre dir="ltr">DEFINE oldprog PROGRAM
LD Shows total sales for the top five months from high to low
PROGRAM
LIMIT district TO &#39;BOSTON&#39;
LIMIT month TO TOP 5 BASEDON TOTAL(sales, month)
REPORT TOTAL(sales, month)
END
</pre>
<p>The statements</p>
<pre dir="ltr">COPYDFN newprog oldprog
DESCRIBE newprog
</pre>
<p>produce the following definition for <code dir="ltr">newprog</code>.</p>
<pre dir="ltr">DEFINE newprog PROGRAM
LD Shows total sales for the top five months from high to low
PROGRAM
LIMIT district TO &#39;BOSTON&#39;
LIMIT month TO TOP 5 BASEDON TOTAL(sales, month)
REPORT TOTAL(sales, month)
END
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BGEECJFD"></a>
<div id="OLADM2275" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">CREATE_LOGICAL_MODEL</h2>
<p>The CREATE_LOGICAL_MODEL program creates a new model for an OLAP cube dimension, and adds that definition to the Oracle data dictionary. The changes made when this program executes are not transactional; an automatic COMMIT is executed as part of the program.<a id="sthref3874"></a><a id="sthref3875"></a><a id="sthref3876"></a></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3877"></a>Syntax</p>
<p class="synopsis">CALL CREATE_LOGICAL_MODEL ( <span class="italic">logical_dim</span>, <span class="italic">model_name</span>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3878"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because CREATE_LOGICAL_MODEL is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension being modified.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt><span class="italic">model_name</span></dt>
<dd>
<p>A text expression that is the name that the model will have in the Oracle data dictionary.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACIIBBF"></a>
<div id="OLADM780" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">DATE_FORMAT<a id="sthref3879"></a><a id="sthref3880"></a><a id="sthref3881"></a><a id="sthref3882"></a></h2>
<p>The DATE_FORMAT command assigns a format template to the definition of an object that has a <code dir="ltr">DATETIME</code>, <code dir="ltr">TIMESTAMP</code>, <code dir="ltr">TIMESTAMP_TZ</code>, <code dir="ltr">TIMESTAMP_LTZ</code>, <code dir="ltr">DSINTERVAL</code>, or <code dir="ltr">YMINTERVAL</code> data type.</p>
<p>The datetime format template is a template that describes the format of datetime data stored in a character string. The template does not change the internal representation of the value in the database. When you convert a character string into a date, the template determines how Oracle OLAP interprets the string.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can only use this statement with objects that have a datetime data type that corresponds to a SQL datetime data type.You can<span class="italic">not</span> use this statement for time dimensions that have a DATE-only data type that is unique to the OLAP DML.</div>
<p>To assign a datetime format template to a definition, the definition must be the one most recently defined or considered during the current session. When it is not, you must first use a CONSIDER statement to make it the current definition.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3883"></a>Syntax</p>
<p class="synopsis">DATE_FORMAT&nbsp;[<span class="italic">datetime_format_template</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3884"></a>Parameters</p>
<dl>
<dt><span class="italic">datetime_format_template</span></dt>
<dd>
<p>An expression composed of one or more datetime format elements that specifies the format for entering and displaying the values of the current object. See <a href="#BABEFHFG">Table 9-4, &#34;Datetime Format Elements&#34;</a> for the elements that you can specify in the template. Keep the following points in mind when creating a template:</p>
<ul>
<li>
<p>The total length of a datetime format template cannot exceed 22 characters</p>
</li>
<li>
<p>For input format models, format items cannot appear twice, and format items that represent similar information cannot be combined. For example, you cannot use &#39;SYYYY&#39; and &#39;BC&#39; in the same format string.</p>
</li>
<li>
<p>Some datetime format elements cannot be used in the <code dir="ltr">TO_*</code> datetime functions, as noted in <a href="dml_expression.htm#BABFDAEI">Table 2-7, &#34;Datetime Fields and Values&#34;</a>.</p>
</li>
<li>
<p>The following datetime format elements can be used in timestamp and interval format models, but not in the original <code dir="ltr">DATETIME</code> format model: <code dir="ltr">FF</code>, <code dir="ltr">TZD</code>, <code dir="ltr">TZH,</code> <code dir="ltr">TZM</code>, and <code dir="ltr">TZR</code>.</p>
</li>
<li>
<p>Many datetime format elements are blank padded to a specific length.</p>
</li>
</ul>
<p>When <span class="italic">template</span> is omitted, any existing date format template for the current definition is deleted and the default datetime format template is used. <a id="sthref3885"></a><a id="sthref3886"></a>(See <a href="#CACFIJDC">&#34;Default Datetime Format Template&#34;</a>, for a discussion of the default datetime format template.)</p>
<div id="OLADM2276" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref3887"></a><a id="BABEFHFG"></a>Table 9-4 Datetime Format Elements</p>
<table class="cellalignment3615" title="Datetime Format Elements" summary="This table presents each Oracle built-in datatype (middle column), its description (right-hand column), and its code (left-hand column) used internally by Oracle." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t71">Element</th>
<th class="cellalignment3616" id="r1c2-t71">Specify in TO_* datetime functions?</th>
<th class="cellalignment3616" id="r1c3-t71">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t71" headers="r1c1-t71">
<pre dir="ltr">-
/
,
.
;
:
&#34;text&#34;
</pre></td>
<td class="cellalignment3617" headers="r2c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r2c1-t71 r1c3-t71">
<p>Punctuation and quoted text is reproduced in the result.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t71" headers="r1c1-t71">
<pre dir="ltr">AD
A.D.
</pre></td>
<td class="cellalignment3617" headers="r3c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r3c1-t71 r1c3-t71">
<p>AD indicator with or without periods.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t71" headers="r1c1-t71">
<pre dir="ltr">AM
A.M.
</pre></td>
<td class="cellalignment3617" headers="r4c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r4c1-t71 r1c3-t71">
<p>Meridian indicator with or without periods.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t71" headers="r1c1-t71">
<pre dir="ltr">BC
B.C.
</pre></td>
<td class="cellalignment3617" headers="r5c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r5c1-t71 r1c3-t71">
<p>BC indicator with or without periods.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t71" headers="r1c1-t71">
<pre dir="ltr">CC
SCC
</pre></td>
<td class="cellalignment3617" headers="r6c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r6c1-t71 r1c3-t71">
<p>Century.</p>
<ul>
<li>
<p>If the last 2 digits of a 4-digit year are between 01 and 99 (inclusive), then the century is one greater than the first 2 digits of that year.</p>
</li>
<li>
<p>If the last 2 digits of a 4-digit year are 00, then the century is the same as the first 2 digits of that year.</p>
</li>
</ul>
<p>For example, 2002 returns 21; 2000 returns 20.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t71" headers="r1c1-t71">
<pre dir="ltr">D
</pre></td>
<td class="cellalignment3617" headers="r7c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r7c1-t71 r1c3-t71">
<p>Day of week (1-7).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t71" headers="r1c1-t71">
<pre dir="ltr">DAY
</pre></td>
<td class="cellalignment3617" headers="r8c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r8c1-t71 r1c3-t71">
<p>Name of day, padded with blanks to display width of the widest name of day in the date language used for this element.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t71" headers="r1c1-t71">
<pre dir="ltr">DD
</pre></td>
<td class="cellalignment3617" headers="r9c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r9c1-t71 r1c3-t71">
<p>Day of month (1-31).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r10c1-t71" headers="r1c1-t71">
<pre dir="ltr">DDD
</pre></td>
<td class="cellalignment3617" headers="r10c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r10c1-t71 r1c3-t71">
<p>Day of year (1-366).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r11c1-t71" headers="r1c1-t71">
<pre dir="ltr"><a id="sthref3888"></a><a id="sthref3889"></a><a id="sthref3890"></a>DL
</pre></td>
<td class="cellalignment3617" headers="r11c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r11c1-t71 r1c3-t71">
<p>Returns a value in the long date format, which is an extension of the Oracle Database <code dir="ltr">DATETIME</code> format (the current value of the <code dir="ltr">NLS_DATE_FORMAT</code> parameter). Makes the appearance of the date components (day name, month number, and so forth) depend on the <code dir="ltr">NLS_TERRITORY</code> and <code dir="ltr">NLS_LANGUAGE</code> parameters. For example, in the <code dir="ltr">AMERICAN_AMERICA</code> locale, this is equivalent to specifying the format <code dir="ltr">&#39;fmDay,</code> <code dir="ltr">Month</code> <code dir="ltr">dd,</code> <code dir="ltr">yyyy&#39;</code>. In the <code dir="ltr">GERMAN_GERMANY</code> locale, it is equivalent to specifying the format&#39;<code dir="ltr">fmDay, dd.</code> <code dir="ltr">Month yyyy</code>&#39;.</p>
<p><span class="bold">Restriction:</span> You can specify this format only with the <code dir="ltr">TS</code> element, separated by white space.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r12c1-t71" headers="r1c1-t71">
<pre dir="ltr"><a id="sthref3891"></a>DS
</pre></td>
<td class="cellalignment3617" headers="r12c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r12c1-t71 r1c3-t71">
<p>Returns a value in the short date format. Makes the appearance of the date components (day name, month number, and so forth) depend on the <code dir="ltr">NLS_TERRITORY</code> and <code dir="ltr">NLS_LANGUAGE</code> parameters. For example, in the <code dir="ltr">AMERICAN_AMERICA</code> locale, this is equivalent to specifying the format &#39;<code dir="ltr">MM/DD/RRRR</code>&#39;. In the <code dir="ltr">ENGLISH_UNITED_KINGDOM</code> locale, it is equivalent to specifying the format &#39;<code dir="ltr">DD/MM/RRRR</code>&#39;.</p>
<p><span class="bold">Restriction:</span> You can specify this format only with the <code dir="ltr">TS</code> element, separated by white space.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r13c1-t71" headers="r1c1-t71">
<pre dir="ltr">DY
</pre></td>
<td class="cellalignment3617" headers="r13c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r13c1-t71 r1c3-t71">
<p>Abbreviated name of day.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r14c1-t71" headers="r1c1-t71">
<pre dir="ltr">E
</pre></td>
<td class="cellalignment3617" headers="r14c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r14c1-t71 r1c3-t71">
<p>Abbreviated era name (Japanese Imperial, ROC Official, and Thai Buddha calendars).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r15c1-t71" headers="r1c1-t71">
<pre dir="ltr">EE
</pre></td>
<td class="cellalignment3617" headers="r15c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r15c1-t71 r1c3-t71">
<p>Full era name (Japanese Imperial, ROC Official, and Thai Buddha calendars).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r16c1-t71" headers="r1c1-t71">
<pre dir="ltr">FF [1..9]
</pre></td>
<td class="cellalignment3617" headers="r16c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r16c1-t71 r1c3-t71">
<p>Fractional seconds; no radix character is printed (use the <code dir="ltr">X</code> format element to add the radix character). Use the numbers 1 to 9 after <code dir="ltr">FF</code> to specify the number of digits in the fractional second portion of the datetime value returned. If you do not specify a digit, then Oracle Database uses the precision specified for the datetime data type or the data type&#39;s default precision.</p>
<p><span class="bold">Examples:</span> <code dir="ltr">&#39;HH:MI:SS.FF&#39;</code></p>
<p><code dir="ltr">SELECT TO_CHAR(SYSTIMESTAMP, &#39;SS.FF3&#39;) from dual;</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r17c1-t71" headers="r1c1-t71">
<pre dir="ltr">FM
</pre></td>
<td class="cellalignment3617" headers="r17c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r17c1-t71 r1c3-t71">
<p>Returns a value with no leading or trailing blanks.</p>
<p>See Also: <a class="olink SQLRF00216" href="../SQLRF/sql_elements004.htm#SQLRF00216">&#34;Format Model Modifiers&#34;</a> in <span class="italic">Oracle Database SQL Language Reference</span></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r18c1-t71" headers="r1c1-t71">
<pre dir="ltr">FX
</pre></td>
<td class="cellalignment3617" headers="r18c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r18c1-t71 r1c3-t71">
<p>Requires exact matching between the character data and the format model.</p>
<p>See Also: <a class="olink SQLRF00216" href="../SQLRF/sql_elements004.htm#SQLRF00216">&#34;Format Model Modifiers&#34;</a> in <span class="italic">Oracle Database SQL Language Reference</span></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r19c1-t71" headers="r1c1-t71">
<pre dir="ltr">HH
</pre></td>
<td class="cellalignment3617" headers="r19c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r19c1-t71 r1c3-t71">
<p>Hour of day (1-12).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r20c1-t71" headers="r1c1-t71">
<pre dir="ltr">HH12
</pre></td>
<td class="cellalignment3617" headers="r20c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r20c1-t71 r1c3-t71">
<p>Hour of day (1-12).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r21c1-t71" headers="r1c1-t71">
<pre dir="ltr">HH24
</pre></td>
<td class="cellalignment3617" headers="r21c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r21c1-t71 r1c3-t71">
<p>Hour of day (0-23).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r22c1-t71" headers="r1c1-t71">
<pre dir="ltr">IW
</pre></td>
<td class="cellalignment3617" headers="r22c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r22c1-t71 r1c3-t71">
<p>Week of year (1-52 or 1-53) based on the ISO standard.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r23c1-t71" headers="r1c1-t71">
<pre dir="ltr">IYY
IY
I
</pre></td>
<td class="cellalignment3617" headers="r23c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r23c1-t71 r1c3-t71">
<p>Last 3, 2, or 1 digit(s) of ISO year.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r24c1-t71" headers="r1c1-t71">
<pre dir="ltr">IYYY
</pre></td>
<td class="cellalignment3617" headers="r24c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r24c1-t71 r1c3-t71">
<p>4-digit year based on the ISO standard.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r25c1-t71" headers="r1c1-t71">
<pre dir="ltr">J
</pre></td>
<td class="cellalignment3617" headers="r25c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r25c1-t71 r1c3-t71">
<p>Julian day; the number of days since January 1, 4712 BC. Number specified with J must be integers.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r26c1-t71" headers="r1c1-t71">
<pre dir="ltr">MI
</pre></td>
<td class="cellalignment3617" headers="r26c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r26c1-t71 r1c3-t71">
<p>Minute (0-59).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r27c1-t71" headers="r1c1-t71">
<pre dir="ltr">MM
</pre></td>
<td class="cellalignment3617" headers="r27c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r27c1-t71 r1c3-t71">
<p>Month (01-12; January = 01).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r28c1-t71" headers="r1c1-t71">
<pre dir="ltr">MON
</pre></td>
<td class="cellalignment3617" headers="r28c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r28c1-t71 r1c3-t71">
<p>Abbreviated name of month.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r29c1-t71" headers="r1c1-t71">
<pre dir="ltr">MONTH
</pre></td>
<td class="cellalignment3617" headers="r29c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r29c1-t71 r1c3-t71">
<p>Name of month, padded with blanks to display width of the widest name of month in the date language used for this element.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r30c1-t71" headers="r1c1-t71">
<pre dir="ltr">PM
P.M.
</pre></td>
<td class="cellalignment3617" headers="r30c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r30c1-t71 r1c3-t71">
<p>Meridian indicator with or without periods.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r31c1-t71" headers="r1c1-t71">
<pre dir="ltr">Q
</pre></td>
<td class="cellalignment3617" headers="r31c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r31c1-t71 r1c3-t71">
<p>Quarter of year (1, 2, 3, 4; January - March = 1).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r32c1-t71" headers="r1c1-t71">
<pre dir="ltr">RM
</pre></td>
<td class="cellalignment3617" headers="r32c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r32c1-t71 r1c3-t71">
<p>Roman numeral month (I-XII; January = I).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r33c1-t71" headers="r1c1-t71">
<pre dir="ltr">RR
</pre></td>
<td class="cellalignment3617" headers="r33c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r33c1-t71 r1c3-t71">
<p>Lets you store 20th century dates in the 21st century using only two digits.</p>
<p>See Also: <a class="olink SQLRF00215" href="../SQLRF/sql_elements004.htm#SQLRF00215">&#34;The RR Datetime Format Element&#34;</a> in <span class="italic">Oracle Database SQL Language Reference</span></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r34c1-t71" headers="r1c1-t71">
<pre dir="ltr">RRRR
</pre></td>
<td class="cellalignment3617" headers="r34c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r34c1-t71 r1c3-t71">
<p>Round year. Accepts either 4-digit or 2-digit input. If 2-digit, provides the same return as <code dir="ltr">RR</code>. If you do not want this functionality, then enter the 4-digit year.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r35c1-t71" headers="r1c1-t71">
<pre dir="ltr">SS
</pre></td>
<td class="cellalignment3617" headers="r35c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r35c1-t71 r1c3-t71">
<p>Second (0-59).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r36c1-t71" headers="r1c1-t71">
<pre dir="ltr">SSSSS
</pre></td>
<td class="cellalignment3617" headers="r36c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r36c1-t71 r1c3-t71">
<p>Seconds past midnight (0-86399).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r37c1-t71" headers="r1c1-t71">
<pre dir="ltr"><a id="sthref3892"></a>TS
</pre></td>
<td class="cellalignment3617" headers="r37c1-t71 r1c2-t71">
<p><code dir="ltr">Yes</code></p>
</td>
<td class="cellalignment3617" headers="r37c1-t71 r1c3-t71">
<p>Returns a value in the short time format. Makes the appearance of the time components (hour, minutes, and so forth) depend on the <code dir="ltr">NLS_TERRITORY</code> and <code dir="ltr">NLS_LANGUAGE</code> initialization parameters.</p>
<p><span class="bold">Restriction:</span> You can specify this format only with the <code dir="ltr">DL</code> or <code dir="ltr">DS</code> element, separated by white space.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r38c1-t71" headers="r1c1-t71">
<pre dir="ltr">TZD <a id="sthref3893"></a>
</pre></td>
<td class="cellalignment3617" headers="r38c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r38c1-t71 r1c3-t71">
<p>Daylight savings information. The <code dir="ltr">TZD</code> value is an abbreviated time zone string with daylight savings information. It must correspond with the region specified in <code dir="ltr">TZR</code>.</p>
<p><span class="bold">Example:</span> <code dir="ltr">PST</code> (for US/Pacific standard time); <code dir="ltr">PDT</code> (for US/Pacific daylight time).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r39c1-t71" headers="r1c1-t71">
<pre dir="ltr">TZH
</pre></td>
<td class="cellalignment3617" headers="r39c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r39c1-t71 r1c3-t71">
<p>Time zone hour. (See <code dir="ltr">TZM</code> format element.)</p>
<p><span class="bold">Example:</span> <code dir="ltr">&#39;HH:MI:SS.FFTZH:TZM&#39;</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r40c1-t71" headers="r1c1-t71">
<pre dir="ltr">TZM
</pre></td>
<td class="cellalignment3617" headers="r40c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r40c1-t71 r1c3-t71">
<p>Time zone minute. (See <code dir="ltr">TZH</code> format element.)</p>
<p><span class="bold">Example:</span> <code dir="ltr">&#39;HH:MI:SS.FFTZH:TZM&#39;</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r41c1-t71" headers="r1c1-t71">
<pre dir="ltr">TZR
</pre></td>
<td class="cellalignment3617" headers="r41c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r41c1-t71 r1c3-t71">
<p>Time zone region information. The value must be a time zone region supported in the database.</p>
<p><span class="bold">Example:</span> US/Pacific</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r42c1-t71" headers="r1c1-t71">
<pre dir="ltr">WW
</pre></td>
<td class="cellalignment3617" headers="r42c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r42c1-t71 r1c3-t71">
<p>Week of year (1-53) where week 1 starts on the first day of the year and continues to the seventh day of the year.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r43c1-t71" headers="r1c1-t71">
<pre dir="ltr">W
</pre></td>
<td class="cellalignment3617" headers="r43c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r43c1-t71 r1c3-t71">
<p>Week of month (1-5) where week 1 starts on the first day of the month and ends on the seventh.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r44c1-t71" headers="r1c1-t71">
<pre dir="ltr">X
</pre></td>
<td class="cellalignment3617" headers="r44c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r44c1-t71 r1c3-t71">
<p>Local radix character.</p>
<p><span class="bold">Example:</span> <code dir="ltr">&#39;HH:MI:SSXFF&#39;</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r45c1-t71" headers="r1c1-t71">
<pre dir="ltr">Y,YYY
</pre></td>
<td class="cellalignment3617" headers="r45c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r45c1-t71 r1c3-t71">
<p>Year with comma in this position.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r46c1-t71" headers="r1c1-t71">
<pre dir="ltr">YEAR
SYEAR
</pre></td>
<td class="cellalignment3617" headers="r46c1-t71 r1c2-t71">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r46c1-t71 r1c3-t71">
<p>Year, spelled out; <code dir="ltr">S</code> prefixes BC dates with a minus sign (-).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r47c1-t71" headers="r1c1-t71">
<pre dir="ltr">YYYY
SYYYY
</pre></td>
<td class="cellalignment3617" headers="r47c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r47c1-t71 r1c3-t71">
<p>4-digit year; <code dir="ltr">S</code> prefixes BC dates with a minus sign.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r48c1-t71" headers="r1c1-t71">
<pre dir="ltr">YYY
YY
Y
</pre></td>
<td class="cellalignment3617" headers="r48c1-t71 r1c2-t71">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r48c1-t71 r1c3-t71">
<p>Last 3, 2, or 1 digit(s) of year.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformalwide" --></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3894"></a>Usage Notes</p>
<p class="subhead2"><a id="CACFIJDC"></a><a id="OLADM2277"></a>Default Datetime Format Template</p>
<p>The default datetime format template is specified either explicitly with the initialization parameter <code dir="ltr">NLS_DATE_FORMAT</code> or implicitly with the initialization parameter <code dir="ltr">NLS_TERRITORY</code>. You can change the default datetime formats for your session with the <code dir="ltr">ALTER</code> <code dir="ltr">SESSION</code> statement.</p>
<p class="subhead2"><a id="OLADM2278"></a>ISO Standard Date Format Elements <a id="sthref3895"></a></p>
<p>Oracle calculates the values returned by the datetime format elements IYYY, IYY, IY, I, and IW according to the ISO standard.</p>
<p>For information on the differences between these values and those returned by the datetime format elements YYYY, YYY, YY, Y, and WW, see the discussion of globalization support in <a class="olink NLSPG" href="../NLSPG/toc.htm"><span class="italic">Oracle Database Globalization Support Guide</span></a>.</p>
<p class="subhead2"><a id="OLADM2279"></a>The RR Datetime Format Element <a id="sthref3896"></a><a id="sthref3897"></a><a id="sthref3898"></a><a id="sthref3899"></a><a id="sthref3900"></a></p>
<p>The <code dir="ltr">RR</code> datetime format element is similar to the <code dir="ltr">YY</code> datetime format element, but it provides additional flexibility for storing date values in other centuries. The <code dir="ltr">RR</code> datetime format element lets you store 20th century dates in the 21st century by specifying only the last two digits of the year.</p>
<p>If you use the <code dir="ltr">TO_DATE</code> function with the <code dir="ltr">YY</code> datetime format element, then the year returned always has the same first 2 digits as the current year. If you use the <code dir="ltr">RR</code> datetime format element instead, then the century of the return value varies according to the specified two-digit year and the last two digits of the current year.</p>
<p>That is:</p>
<ul>
<li>
<p>If the specified two-digit year is 00 to 49, then</p>
<ul>
<li>
<p>If the last two digits of the current year are 00 to 49, then the returned year has the same first two digits as the current year.</p>
</li>
<li>
<p>If the last two digits of the current year are 50 to 99, then the first 2 digits of the returned year are 1 greater than the first 2 digits of the current year.</p>
</li>
</ul>
</li>
<li>
<p>If the specified two-digit year is 50 to 99, then</p>
<ul>
<li>
<p>If the last two digits of the current year are 00 to 49, then the first 2 digits of the returned year are 1 less than the first 2 digits of the current year.</p>
</li>
<li>
<p>If the last two digits of the current year are 50 to 99, then the returned year has the same first two digits as the current year.</p>
</li>
</ul>
</li>
</ul>
<p class="subhead2"><a id="OLADM2280"></a>Datetime Format Element Suffixes <a id="sthref3901"></a></p>
<p><a href="#BABGDDFB">Table 9-5, &#34;Date Format Element Suffixes&#34;</a> lists suffixes that can be added to datetime format elements:</p>
<div id="OLADM2281" class="tblhruleformal">
<p class="titleintable"><a id="sthref3902"></a><a id="BABGDDFB"></a>Table 9-5 Date Format Element Suffixes<a id="sthref3903"></a><a id="sthref3904"></a><a id="sthref3905"></a><a id="sthref3906"></a><a id="sthref3907"></a><a id="sthref3908"></a><a id="sthref3909"></a><a id="sthref3910"></a></p>
<table class="cellalignment3615" title=" Date Format Element Suffixes" summary="The first column shows literal suffixes that can be added to datetime format elements. The remaining columns describe the suffix and provide examples." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t72">Suffix</th>
<th class="cellalignment3616" id="r1c2-t72">Meaning</th>
<th class="cellalignment3616" id="r1c3-t72">Example Element</th>
<th class="cellalignment3616" id="r1c4-t72">Example Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t72" headers="r1c1-t72">
<p>TH</p>
</td>
<td class="cellalignment3617" headers="r2c1-t72 r1c2-t72">
<p>Ordinal Number</p>
</td>
<td class="cellalignment3617" headers="r2c1-t72 r1c3-t72">
<p><code dir="ltr">DDTH</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t72 r1c4-t72">
<p><code dir="ltr">4TH</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t72" headers="r1c1-t72">
<p>SP</p>
</td>
<td class="cellalignment3617" headers="r3c1-t72 r1c2-t72">
<p>Spelled Number</p>
</td>
<td class="cellalignment3617" headers="r3c1-t72 r1c3-t72">
<p><code dir="ltr">DDSP</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t72 r1c4-t72">
<p><code dir="ltr">FOUR</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t72" headers="r1c1-t72">
<p>SPTH or THSP</p>
</td>
<td class="cellalignment3617" headers="r4c1-t72 r1c2-t72">
<p>Spelled, ordinal number</p>
</td>
<td class="cellalignment3617" headers="r4c1-t72 r1c3-t72">
<p><code dir="ltr">DDSPTH</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t72 r1c4-t72">
<p><code dir="ltr">FOURTH</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" -->
<p>Keep the following in mind when using date format element suffixes:</p>
<ul>
<li>
<p>When you add one of these suffixes to a datetime format element, the return value is always in English.</p>
</li>
<li>
<p>Datetime suffixes are valid only to format output. You cannot use them to insert a date into the database.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2282"></a>Datetime Format Elements and Globalization Support <a id="sthref3911"></a></p>
<p>The functionality of some datetime format elements depends on the country and language in which you are using Oracle Database. For example, these datetime format elements return spelled valu<a id="sthref3912"></a><a id="sthref3913"></a><a id="sthref3914"></a><a id="sthref3915"></a><a id="sthref3916"></a><a id="sthref3917"></a>es: <a id="sthref3918"></a><a id="sthref3919"></a><a id="sthref3920"></a><a id="sthref3921"></a><a id="sthref3922"></a><a id="sthref3923"></a></p>
<ul>
<li>
<p>MONTH</p>
</li>
<li>
<p>MON</p>
</li>
<li>
<p>DAY</p>
</li>
<li>
<p>DY</p>
</li>
<li>
<p>BC or AD or B.C. or A.D.</p>
</li>
<li>
<p>AM or PM or A.M or P.M.</p>
</li>
</ul>
<p><a id="sthref3924"></a><a id="sthref3925"></a><a id="sthref3926"></a>The language in which these values are returned is specified either explicitly with the initialization parameter <code dir="ltr">NLS_DATE_LANGUAGE</code> or implicitly with the initialization parameter <code dir="ltr">NLS_LANGUAGE</code>. The values returned by the <code dir="ltr">YEAR</code> and <code dir="ltr">SYEAR</code> datetime format elements are always in English.</p>
<p>The datetime format element <code dir="ltr">D</code> returns the number of the day of the week (1-7). The day of the week that is numbered 1 is specified implicitly by the initialization parameter <code dir="ltr">NLS_TERRITORY</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> and <a class="olink NLSPG" href="../NLSPG/toc.htm"><span class="italic">Oracle Database Globalization Support Guide</span></a> for information on globalization support initialization parameters</div>
<p class="subhead2"><a id="OLADM2283"></a>Uppercase Letters in Date Format Elements <a id="sthref3927"></a></p>
<p>Capitalization in a spelled-out word, abbreviation, or Roman numeral follows capitalization in the corresponding format element. For example, the datetime format template &#39;DAY&#39; produces capitalized words like &#39;MONDAY&#39;; &#39;Day&#39; produces &#39;Monday&#39;; and &#39;day&#39; produces &#39;monday&#39;.</p>
<p class="subhead2"><a id="OLADM2284"></a>Punctuation and Character Literals in Datetime Format Templates <a id="sthref3928"></a><a id="sthref3929"></a></p>
<p>You can include these characters in a datetime format template:</p>
<ul>
<li>
<p>Punctuation such as hyphens, slashes, commas, periods, and colons</p>
</li>
<li>
<p>Character literals, enclosed in double quotation marks</p>
</li>
</ul>
<p>These characters appear in the return value in the same location as they appear in the format model.</p>
<p>Oracle returns an error if an alphanumeric character is found in the date string where a punctuation character is found in the format string. For example, the following format string returns an error:</p>
<pre dir="ltr">TO_CHAR (TO_DATE(&#39;0297&#39;,&#39;MM/YY&#39;), &#39;MM/YY&#39;)
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3930"></a>Examples</p>
<div id="OLADM2285" class="example">
<p class="titleinexample"><a id="sthref3931"></a>Example 9-75 Changing the Datetime Format Template for an Object</p>
<p>Assume that the default datetime format template is <code dir="ltr">DD_MON_RR</code> as shown in the following statement.</p>
<pre dir="ltr">SHOW NLS_DATE_FORMAT
DD-MON-RR
</pre>
<p>Assume also that you define a variable named <code dir="ltr">mydatetime</code> and assign it the value of CURRENT_TIMESTAMP.</p>
<pre dir="ltr">DEFINE mydatetime VARIABLE DATETIME
mydatetime = CURRENT_TIMESTAMP
 
</pre>
<p>When you report on value of <code dir="ltr">mydatetime</code>, the following value is displayed. This value has the format determined by the setting NLS_DATETIME FORMAT. It shows only day, month, and year values in the order specified by</p>
<pre dir="ltr">REPORT mydatetime

MYDATETIME
-----------
02-FEB-07
 
</pre>
<p>Now you change the date format map for <code dir="ltr">mydatetime</code> by issuing the following statements.</p>
<pre dir="ltr">CONSIDER mydatetime
DATE_FORMAT MON-RRRR-DD-HH24
 
</pre>
<p>A display of the value of <code dir="ltr">mydatetime</code>, now includes hour as a 24-hour value.</p>
<pre dir="ltr">REPORT mydatetime

MYDATETIME
--------------
FEB-2007-02-10 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79253"></a>
<div id="OLADM781" class="refsect1">
<h2 class="refsect1">DBGOUTFILE</h2>
<p><a id="sthref3932"></a>The DBGOUTFILE command (abbreviated DOTF) sends debugging information to a file. When you set PRGTRACE and MODTRACE to <code dir="ltr">YES</code>, the file produced by DBGOUTFILE interweaves each line of your program, model, or infile with its corresponding output. When you set ECHOPROMPT to <code dir="ltr">YES</code>, the debugging file also includes error messages.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3933"></a>Syntax</p>
<p class="synopsis">DBGOUTFILE {EOF | TRACEFILE | [APPEND] <span class="italic">file-name</span> [NOCACHE]}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3934"></a>Parameters</p>
<dl>
<dt>EOF</dt>
<dd>
<p>Closes the current debugging file, and debugging output is no longer sent to a file.</p>
</dd>
<dt>TRACEFILE</dt>
<dd>
<p>Specifies that the debugging output should be directed to the Oracle trace file, which is identified by the TRACEFILEUNIT option.</p>
</dd>
<dt>APPEND</dt>
<dd>
<p>Specifies that the output should be added to the end of an existing file. When you omit this argument and a file exists with the specified name, the new output replaces the current contents of the file.</p>
</dd>
<dt><span class="italic">file-name</span></dt>
<dd>
<p>A text expression that is the name of the file to which debugging output should be written. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use a CDA statement to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
<dt>NOCACHE</dt>
<dd>
<p>Specifies that Oracle OLAP should write to the debugging file each time a line is executed. Without this keyword, Oracle OLAP reduces file I/O activity by saving text and writing it periodically to the file.</p>
<p>The NOCACHE keyword slows performance significantly, but it ensures that the debugging file records every line as soon as it is executed. When you are debugging a program that aborts after a certain line, NOCACHE ensures that you see every line that was executed.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3935"></a>Examples</p>
<div id="OLADM2286" class="example">
<p class="titleinexample"><a id="CHDBDJGH"></a><a id="i1015859"></a>Example 9-76 Debugging with a Debugging File</p>
<p>The following statements create a useful debugging file called <code dir="ltr">debug.txt</code> in the current directory object.</p>
<pre dir="ltr">PRGTRACE = yes
ECHOPROMPT = yes
DBGOUTFILE &#39;debug.txt&#39;
</pre>
<p>After executing these statements, you can run your program as usual. To close the debugging file, execute this statement.</p>
<pre dir="ltr">DBGOUTFILE EOF
</pre>
<p>In the following sample program, the first LIMIT command has a syntax error.</p>
<pre dir="ltr">DEFINE ERROR_TRAP PROGRAM
PROGRAM
TRAP ON traplabel
LIMIT month TO FIRST badarg
LIMIT product TO FIRST 3
LIMIT district TO FIRST 3
REPORT sales
traplabel:
SIGNAL ERRORNAME ERRORTEXT
END
</pre>
<p>With <code dir="ltr">PRGTRACE</code> and <code dir="ltr">ECHOPROMPT</code> both set to <code dir="ltr">YES</code> and with <code dir="ltr">DBGOUTFILE</code> set to send debugging output to a file called <code dir="ltr">debug.txt</code>, the following text is sent to the <code dir="ltr">debug.txt</code> file when you execute the <code dir="ltr">error_trap</code> program.</p>
<pre dir="ltr">(PRG= ERROR_TRAP) 
(PRG= ERROR_TRAP) TRAP ON traplabel
(PRG= ERROR_TRAP) 
(PRG: ERROR_TRAP) LIMIT month TO FIRST badarg
ERROR: BADARG does not exist in any attached database.
(PRG= ERROR_TRAP) traplabel:
(PRG= ERROR_TRAP) SIGNAL ERRORNAME ERRORTEXT
ERROR: BADARG does not exist in any attached database.
</pre></div>
<!-- class="example" -->
<div id="OLADM2287" class="example">
<p class="titleinexample"><a id="CHDIAHIB"></a><a id="i1015860"></a>Example 9-77 Sending Debugging Information to a File</p>
<p>The following is the text of a program whose first LIMIT command has a syntax error.</p>
<pre dir="ltr">DEFINE error_trap PROGRAM
PROGRAM
TRAP ON traplabel
LIMIT month TO FIRST BADARG
LIMIT product TO FIRST 3
LIMIT district TO FIRST 3
REPORT sales
traplabel:
SIGNAL ERRORNAME ERRORTEXT
END
</pre>
<p>The following statement sends debugging information to a file named <code dir="ltr">debug.txt</code>.</p>
<pre dir="ltr">DBGOUTFILE &#39;debug.txt&#39;
</pre>
<p>With PRGTRACE and ECHOPROMPT both set to <code dir="ltr">YES</code>, Oracle OLAP sends the following text to the <code dir="ltr">debug.txt</code> file when you execute the ERROR_TRAP program. The last line in the file is the command to stop recording the debugging information.</p>
<pre dir="ltr">error_trap
(PRG= ERROR_TRAP) 
(PRG= ERROR_TRAP) trap on traplabel
(PRG= ERROR_TRAP) 
(PRG: ERROR_TRAP) limit month to first badarg
ERROR: BADARG does not exist in any attached workspace.
(PRG= ERROR_TRAP) traplabel:
(PRG= ERROR_TRAP) signal errorname errortext
ERROR: BADARG does not exist in any attached workspace.
dbgoutfile eof 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78478"></a>
<div id="OLADM782" class="refsect1">
<h2 class="refsect1">DEFINE</h2>
<p><a id="sthref3936"></a><a id="sthref3937"></a><a id="sthref3938"></a>T<a id="sthref3939"></a><a id="sthref3940"></a>he DEFINE command adds a new object to the analytic workspace. This entry describes the DEFINE command in general. The following entries discuss the use of the DEFINE command for creating specific types of object:</p>
<ul>
<li>
<p><a href="#i78488">DEFINE AGGMAP</a></p>
</li>
<li>
<p><a href="#i78493">DEFINE COMPOSITE</a></p>
</li>
<li>
<p><a href="#i78498">DEFINE DIMENSION</a></p>
<ul>
<li>
<p><a href="#i1010637">DEFINE DIMENSION (simple)</a></p>
</li>
<li>
<p><a href="#i1010931">DEFINE DIMENSION (conjoint)</a></p>
</li>
<li>
<p><a href="#i1010642">DEFINE DIMENSION CONCAT</a></p>
</li>
<li>
<p><a href="#i1010646">DEFINE DIMENSION ALIASOF</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#i1010609">DEFINE FORMULA</a></p>
</li>
<li>
<p><a href="#i78508">DEFINE MODEL</a></p>
</li>
<li>
<p><a href="#i1007745">DEFINE PARTITION TEMPLATE</a></p>
</li>
<li>
<p><a href="#i78513">DEFINE PROGRAM</a></p>
</li>
<li>
<p><a href="#i78518">DEFINE RELATION</a></p>
</li>
<li>
<p><a href="#i78523">DEFINE SURROGATE</a></p>
</li>
<li>
<p><a href="#i78528">DEFINE VALUESET</a></p>
</li>
<li>
<p><a href="#i78533">DEFINE VARIABLE</a></p>
</li>
<li>
<p><a href="#i78538">DEFINE WORKSHEET</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_objects.htm#BABDBIGI">Chapter 3, &#34;Formulas, Models, Aggregations, and Allocations&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3941"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;object-type&nbsp;attributes&nbsp;</span>[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3942"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>A <code dir="ltr">TEXT</code> expression that is the name for the new object. Follow these guidelines when specifying a value for name:</p>
<ul>
<li>
<p>The name must consist of 1 to 64 characters. When you are using a multibyte character set, you can still specify 64 characters even when this requires more than 64 bytes. Each character may be a letter (<code dir="ltr">A</code>-<code dir="ltr">Z</code>), a number (<code dir="ltr">0</code>-<code dir="ltr">9</code>), an underline (<code dir="ltr">_</code>), or a dot (<code dir="ltr">.</code>). However, the following restrictions apply to the use of these characters:</p>
<ul>
<li>
<p>The name cannot consist of a single dot (<code dir="ltr">.</code>) character or a single underscore (<code dir="ltr">_</code>) character.</p>
</li>
<li>
<p>The name cannot duplicate a reserved word. For more information on identifying reserved words, see the <a href="dml_functions_2.htm#g1034721">RESERVED</a> function.</p>
</li>
<li>
<p>The first character in the name cannot be a number.</p>
</li>
<li>
<p>The first character cannot be a dot (<code dir="ltr">.</code>) when the second character is a number.</p>
</li>
</ul>
</li>
<li>
<p>By default Oracle OLAP creates the definition in the current workspace. To create the definition in a different attached workspace, you can specify a qualified object name for <span class="italic">name</span> or you can use the AW argument to specify the workspace. Do not use both.</p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="infobox-note">
<p class="notep1">Caution:</p>
Oracle OLAP does not warn you when you create an object that has the same name as an existing object in another attached workspace.</div>
<dl>
<dt><span class="italic">object-type</span></dt>
<dd>
<p>The type of object being defined. The default is VARIABLE. The object types are discussed in the subsections for the DEFINE command.</p>
</dd>
<dt><span class="italic">attributes</span></dt>
<dd>
<p>Attributes are different for each type of object. The attributes are listed in the entry for each object type.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the object. You can also specify a noncurrent attached workspace using a qualified object name for <span class="italic">name</span>. Do not use this phrase when qualified object name for <span class="italic">name</span>.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. The object is created in the EXPRESS analytic workspace to which you have read-only access. When you close the current session, the object no longer exists.</p>
</dd>
</dl>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3943"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2288"></a>Triggering Program Execution When DEFINE Executes</p>
<p>Using a TRIGGER_DEFINE program, you can make the DEFINE command an event that automatically executes an OLAP DML program. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information.</p>
<p class="subhead2"><a id="OLADM2289"></a>Effect of DEFINE on the Status of the NAME Dimension</p>
<p>When you execute a DEFINE command with the NAME dimension limited to less than all its values, the status of NAME is automatically limited to <code dir="ltr">ALL</code>.</p>
<p class="subhead2"><a id="OLADM2290"></a>Viewing Session Objects</p>
<p>Objects created with the SESSION keyword are stored in the analytic workspace named <code dir="ltr">EXPRESS</code> instead of the current analytic workspace. Therefore, statements that operate against the current analytic workspace (such as LISTNAMES) do not list session objects unless you do one of the following:</p>
<ul>
<li>
<p>Specify the <code dir="ltr">EXPRESS</code> analytic workspace in the statement (such as <code dir="ltr">LISTNAMES AW EXPRESS</code>)</p>
</li>
<li>
<p>Make the <code dir="ltr">EXPRESS</code> analytic workspace the current analytic workspace by issuing an <code dir="ltr">AW ATTACH EXPRESS</code> statement.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div id="OLADM783" class="refsect2"><a id="i78488"></a>
<h3 class="refsect2">DEFINE AGGMAP</h3>
<p><a id="sthref3944"></a><a id="sthref3945"></a>The <a id="ABC1081393"></a><a id="sthref3946"></a><a id="sthref3947"></a><a id="sthref3948"></a>DEFINE command with the AGGMAP keyword adds a new aggmap object to an analytic workspace. An aggmap object is a specification for how Oracle OLAP allocates or aggregates variable data.</p>
<p>Defining an aggmap merely creates an aggmap object in the analytic workspace; it does not define the calculation specification. The aggmap specification can either specify how to aggregate or how to allocate data:</p>
<ul>
<li>
<p>For information on coding an aggregation specification, see the <a href="#i1032719">AGGMAP</a> command.</p>
</li>
<li>
<p>For information on coding an allocation specification, see the <a href="#i78780">ALLOCMAP</a> command.</p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3949"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">aggname&nbsp;</span>AGGMAP&nbsp;[&lt;<span class="italic">dims</span>...&gt;][AW <span class="italic">workspace</span>][SESSION]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3950"></a>Parameters</p>
<dl>
<dt><span class="italic">aggname</span></dt>
<dd>
<p>The name of the object that you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>AGGMAP</dt>
<dd>
<p>The object type when you are defining an aggmap.</p>
</dd>
<dt><span class="italic">dims</span></dt>
<dd>
<p>(Optional; retained for compatibility with earlier software versions.) When defining an aggmap object for aggregation (that is, an AGGMAP-type aggmap), the names of the dimensions. You cannot specify a conjoint dimension as a base dimension in the definition or specification for the aggmap.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the object. For more about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. For more information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3951"></a>Examples</p>
<div id="OLADM2291" class="example">
<p class="titleinexample"><a id="sthref3952"></a>Example 9-78 Creating an Aggmap for Aggregation</p>
<p>Suppose you define a <code dir="ltr">sales</code> variable with the following statement.</p>
<pre dir="ltr">DEFINE sales VARIABLE &lt;time, product, geography&gt;
</pre>
<p>Assume also that you have defined an aggmap named <code dir="ltr">sales.agg</code> with the following definition and specification.</p>
<pre dir="ltr">DEFINE sales.agg AGGMAP &lt;time, product, geography&gt;
AGGMAP
RELATION time.r PRECOMPUTE (time NE &#39;Year99&#39;)
RELATION product.r PRECOMPUTE (product NE &#39;All&#39;)
RELATION geography.r
CACHE STORE
END
</pre>
<p>The <code dir="ltr">sales.agg</code> aggregation specification contains the preceding three RELATION statements and a CACHE statements. In this example, you are specifying that all of the data for the <code dir="ltr">time.r</code> hierarchy of the <code dir="ltr">time</code> dimension should be aggregated, except for any data that has a <code dir="ltr">time</code> dimension value of <code dir="ltr">Year9</code>9. All of the data for the <code dir="ltr">product.r</code> hierarchy of the <code dir="ltr">product</code> dimension should be aggregated, except for any data that has the <code dir="ltr">product</code> dimension value of <code dir="ltr">ALL</code>. (In this example, the <code dir="ltr">product</code> dimension has a dimension value named <code dir="ltr">ALL</code> that represents all products in the hierarchy.) All <code dir="ltr">geography</code> dimension values are aggregated. The CACHE STORE statement specifies that any data that is rolled up on the fly should be calculated just once and stored in the cache for other access requests during t&nbsp;he same session.</p>
<p>Note that users should not have write access to the analytic workspace when CACHE STORE is set, because the data calculated during the session may be saved inadvertently.</p>
<p>In this example, any data value that dimensioned by a <code dir="ltr">Year99</code> <code dir="ltr">time</code> value or an <code dir="ltr">ALL</code> <code dir="ltr">product</code> dimension value is calculated on the fly.</p>
<p>You can now use the <code dir="ltr">sales.agg</code> aggmap with an AGGREGATE command, such as the following.</p>
<pre dir="ltr">AGGREGATE sales USING sales.agg
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" -->
<div id="OLADM2292" class="example">
<p class="titleinexample"><a id="CIHGCFJC"></a>Example 9-79 Creating an Aggmap for Allocation</p>
<p>Suppose you have a <code dir="ltr">sales</code> variable that you defined with the following statement.</p>
<pre dir="ltr">DEFINE sales VARIABLE &lt;time, product, geography&gt;
</pre>
<p>To allocate data from a source to cells in the <code dir="ltr">sales</code> variable that are specified by the <code dir="ltr">time</code> and <code dir="ltr">product</code> dimension hierarchies, you have created an ASCII disk file called <code dir="ltr">salesalloc.txt</code>, which contains the following aggmap definition and specification.</p>
<pre dir="ltr">DEFINE sales.alloc AGGMAP
ALLOCMAP
RELATION time.r OPERATOR EVEN
RELATION product.r operator EVEN NAOPERATOR HEVEN
SOURCEVAL ZERO
CHILDLOCK DETECT
END
</pre>
<p>To include the <code dir="ltr">sales.alloc</code> aggmap in your workspace, execute the following statement.</p>
<pre dir="ltr">INFILE &#39;salesalloc.txt&#39;
</pre>
<p>The <code dir="ltr">sales.alloc</code> aggmap is now defined, and it contains the preceding two RELATION statements, the SOURCEVAL statement and the CHILDLOCK statement. You end the entry of statements into the aggmap with the END statement. In this example, you are specifying that the first allocation of source values occurs down the <code dir="ltr">time</code> dimension hierarchy and that the source value is divided evenly between the target cells at each level of the allocation. The second allocation occurs down the <code dir="ltr">product</code> dimension hierarchy, with the source value again divided evenly between the target cells at each level of the allocation, and when the allocation encounters a deadlock, the source values is divided evenly between the target cells of the hierarchy including cells that have a basis value of <code dir="ltr">NA</code>. With the SOURCEVAL statement you specify that after the allocation, ALLOCATE sets the value of each source cell to zero. With the CHILDLOCK statement you specify that ALLOCATE detects the existence of locks on both a parent and a child element of a dimension hierarchy.</p>
<p>You can now use the <code dir="ltr">sales.alloc</code> aggmap with an ALLOCATE command, such as the following.</p>
<pre dir="ltr">ALLOCATE sales USING sales.alloc
</pre>
<p>The preceding statement does not specify a basis or a target object so ALLOCATE uses the <code dir="ltr">sales</code> variable as the source, the basis, and the target of the allocation.<a id="sthref3953"></a></p>
</div>
<!-- class="example" --></div>
<!-- class="refsect2" -->
<div id="OLADM784" class="refsect2"><a id="i78493"></a>
<h3 class="refsect2">DEFINE COMPOSITE</h3>
<p><a id="sthref3954"></a><a id="sthref3955"></a><a id="sthref3956"></a>The DEFINE command with the COMPOSITE keyword adds a new named composite to an analytic workspace. Conceptually, you can think of a composite consisting of two structures:</p>
<ul>
<li>
<p>The composite object itself. The composite contains the dimension-value combinations (that is, a composite tuples) that Oracle OLAP uses to determine the structure of any variables dimensioned by the composite.</p>
</li>
<li>
<p>An index between the composite values and its base dimension values.</p>
</li>
</ul>
<p>For a variable that is dimensioned by composite, Oracle OLAP creates array elements (that is, variable cells) only for those dimension values that are stored in the tuples of the composite; it does not create a cell for every value in the base dimensions. Data for the variable is stored in order, cell by cell, for each tuple in the composite. From the perspective of data storage, each combination of base dimension values in a composite is treated like the value of a regular dimension. Consequently, when you define a variable with one regular dimension and one composite, the data for the variable is stored as though it was a two-dimensional variable. Using composites to reduce the number of elements created for a variable results in more efficient data storage.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle OLAP also supports the use of unnamed composites as described in <a href="#CIHFIGCA">&#34;Unnamed Composites&#34;</a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3957"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>COMPOSITE&nbsp;&lt;<span class="italic">dims</span>...&gt;&nbsp;[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[<span class="italic">index-algorithm</span>]&nbsp;[SESSION]</p>
<p>where <span class="syntaxinlineitalic">index-algorithm</span> specifies the algorithm that Oracle OLAP uses to create an index that relates the composite values to its base dimension values. When you omit this optional argument, Oracle OLAP uses the value specified by the SPARSEINDEX option. Valid values for <span class="syntaxinlineitalic">index-algorithm</span> are:</p>
<dl>
<dd><span class="syntaxinline">BTREE</span></dd>
<dd><span class="syntaxinline">BTREE64</span></dd>
<dd><span class="syntaxinline">COMPRESSED</span></dd>
<dd><span class="syntaxinline">HASH</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3958"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>COMPOSITE</dt>
<dd>
<p>The object type when you are defining a named composite.</p>
</dd>
<dt><span class="italic">dims</span></dt>
<dd>
<p>The names of two or more dimensions that you want to be the base dimensions of the composite. When you specify COMPRESSED as the value of <span class="italic">index-algorithm</span>, at least one dimension must be a hierarchal dimension.</p>
<p>The order of the dimensions in <span class="italic">dims</span> varies by the value you specify for <span class="italic">index-algorithm</span>:</p>
<ul>
<li>
<p>For b-tree or hash composites, specify the dimensions in fastest to slowest-varying order as discussed in <a href="#CHDIIBHF">&#34;Effect of Dimension Order on Variable Storage and Statement Looping&#34;</a>.</p>
</li>
<li>
<p>For compressed composites, it does not matter in which order you specify the dimensions. Oracle OLAP selects the order in which to store the values unless you override this optimization by specifying FORCEORDER in an AGGREGATE command or AGGREGATE function. To see the optimized order chosen by Oracle OLAP, view the cube operations log.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ARPLS72789" href="../ARPLS/d_cube_log.htm#ARPLS72789"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the cube operations log and the DBMS_CUBE_LOG package</div>
</li>
</ul>
<p>You must define all the dimensions and named composites used in the list before defining the composite. DEFINE automatically creates any unnamed composites in the list for you.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the object. For more information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>BTREE</dt>
<dd>
<p>Specifies the creation of a b-tree index to relate composite values to base dimension values. BTREE is the standard indexing method for composites. For a variable that is dimensioned by a BTREE composite, Oracle OLAP creates array elements (that is, variable cells) only for those dimension values that are stored in the tuples of the composite; it does not create a cell for every value in the base dimensions.</p>
</dd>
<dt>BTREE64</dt>
<dd>
<p>Specifies the creation of a highly-scalable b-tree index to relate composite values to base dimension values. For a variable that is dimensioned by a BTREE64 composite, like a BTREE composite, Oracle OLAP creates array elements (that is, variable cells) only for those dimension values that are stored in the tuples of the composite; it does not create a cell for every value in the base dimensions. However, unlike a BTREE composite, a BTREE64 composite supports b-trees greater than 2 gigabytes.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Typically, you define a BTREE64 composite when you want to use it to dimension a variable which you populate from a relational table that is larger than 2 gigabytes.</div>
</dd>
<dt>COMPRESSED</dt>
<dd>
<p>Specifies the creation of a compressed index to relate composite values to base dimension values. You specify COMPRESSED only when you want to create a composite for a variable that has at least one hierarchical dimension that is specified in <span class="italic">dims</span> and that is aggregated.</p>
<p>A compressed composite contains one composite tuple for each set of base dimension values that identifies non-NA detail data in the variables that use it. Additionally, for variables dimensioned by compressed composite Oracle OLAP reduces redundancy in the variable, composite, and composite index by creating a physical position in the composite <span class="italic">only</span> for those tuples that represent a parent with multiple descendants. Oracle OLAP then creates an index between this composite structure and the base dimensions and uses this composite structure as the dimension of the variable. Because the actual structure of a compressed composite is smaller than that of a b-tree or hash composite, a variable dimensioned by a compressed composite is also smaller than a variable dimensioned by a b-tree or hash composite. Also, because the index for a compressed composite only has nodes for parents with multiple descendants, the index of a compressed composite has fewer levels and is smaller than the index of a b-tree composite. Although performance varies depending on the depth of the hierarchies and the order of the dimensions in the composite, aggregating variables defined with compressed composites is typically much faster than aggregating variables defined with b-tree or hash composites.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle OLAP compresses the data in variables dimensioned by compressed composites using the &#34;intelligence&#34; of the AGGREGATE command or AGGREGATE function. Consequently, there are special considerations that apply when aggregating a variable dimensioned by one or more compressed composites. See <a href="#CHDFGADE">&#34;Aggregating Variables Dimensioned by Compressed Composites&#34;</a> for more information.</div>
</dd>
<dt>HASH</dt>
<dd>
<p>Specifies the creation of a hash index to relate composite values to base dimension values. HASH is rarely used and, then, typically, only when the composite has two or three dimensions. For a variable that is dimensioned by a b-tree or hash composite, Oracle OLAP creates array elements (that is, variable cells) only for those dimension values that are stored in the tuples of the composite; it does not create a cell for every value in the base dimensions.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When you close the current session, the object no longer exists.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3959"></a>Usage Notes</p>
<p class="subhead1"><a id="CIHGDFDB"></a><a id="OLADM2293"></a>Shared Composites</p>
<p>You can use the same b-tree or hash composite to dimension several variables. (Compressed composites cannot be shared in this manner.) The actual sparsity of a variable dimensioned by a b-tree or hash composite varies depending on whether or not the composite is an unshared composite or a shared composite:</p>
<ul>
<li>
<p>An <span class="bold">unshared composite</span> is a composite that is used to dimension only one variable. All types of composites (that is, b-tree, hash, and compressed composites) can be unshared composites. An unshared composite is populated only when the variable that uses it is populated. Consequently, an unshared composite perfectly reflects the sparsity of the variable that it is used to dimension. It only has the dimension value combinations for each non-<code dir="ltr">NA</code> value in that variable.</p>
</li>
<li>
<p>A <span class="bold">shared composite</span> is a composite that is used to dimension multiple variables. A shared composite can be either a b-tree or hash composite; it cannot be a compressed composite. A shared composite is populated when <span class="italic">any</span> of the variables that use it are populated. A shared composite has <span class="italic">all</span> of the dimension value combinations for non-<code dir="ltr">NA</code> values for <span class="italic">all</span> of the variables that it dimensions. A shared composite reflects the sparsity of <span class="italic">all</span> of the variable that it is used to dimension. Typically, therefore, variables dimensioned by shared composites are not perfectly sparse variables.</p>
</li>
</ul>
<p>When the size of variables is important, or when you have variables that are sparse along the same dimensions but with significantly different patterns of sparsity, define different composites for the different variables.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3960"></a>Examples</p>
<p>This section contains a simple example of creating a named b-tree composite. For examples of using composites to dimension variables, see <a href="#CIHDIHJG">Example 9-99, &#34;Defining a Variable Dimensioned by an Uncompressed Composite&#34;</a> and <a href="#CIHCCEJI">Example 9-100, &#34;Defining a Variable Dimensioned by a Compressed Composite&#34;</a>.</p>
<div id="OLADM2294" class="example">
<p class="titleinexample"><a id="sthref3961"></a>Example 9-80 Creating a Named b-Tree Composite</p>
<p>Assume that the value of SPARSEINDEX is <code dir="ltr">BTREE</code>. The following statements define two objects: a named composite that has a b-tree index and base dimensions of <code dir="ltr">market</code> and a variable called <code dir="ltr">expenses</code> that is dimensioned by the <code dir="ltr">month</code> dimension and the <code dir="ltr">market.product</code> composite.</p>
<pre dir="ltr">DEFINE market.product COMPOSITE &lt;market product&gt;
DEFINE expenses DECIMAL &lt;month market.product &lt;market product&gt;&gt; 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM785" class="refsect2"><a id="i78498"></a>
<h3 class="refsect2">DEFINE DIMENSION</h3>
<p><a id="sthref3962"></a><a id="sthref3963"></a><a id="sthref3964"></a><a id="sthref3965"></a>The DEFINE command with the DIMENSION keyword adds a new dimension object to an analytic workspace. A dimension is a list of values that provides an index to the data.</p>
<p>Because the syntax of the DEFINE DIMENSION command is different depending on the type of the dimension that you are defining, four separate entries are provided:</p>
<ul>
<li>
<p><a href="#i1010637">DEFINE DIMENSION (simple)</a> for defining a dimension with unique values of the same data type.</p>
</li>
<li>
<p><a href="#CHDIDHBI">DEFINE DIMENSION (DWMQY)</a> for defining a non-hierarchical dimension whose values represent a time period (day, week, month, quarter, or year).</p>
</li>
<li>
<p><a href="#i1010931">DEFINE DIMENSION (conjoint)</a> for defining a dimension over two or more other base dimensions when the base dimensions do not contain duplicate values or have different data types and when you want to explicitly specify the dimension value combinations.</p>
</li>
<li>
<p><a href="#i1010642">DEFINE DIMENSION CONCAT</a> for defining a dimension over two or more other base dimension when the base dimensions contain duplicate values or different data types or when you want Oracle OLAP to automatically populate the dimension value combinations.</p>
</li>
<li>
<p><a href="#i1010646">DEFINE DIMENSION ALIASOF</a> for defining an alias for a simple dimension.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Defining a dimension in the analytic workspace merely adds the definition of the dimension to the analytic workspace; it does not populate the dimension. To populate dimensions using the OLAP DML, you can issue OLAP DML SQL, FILEREAD, or MAINTAIN statements.</div>
<div id="OLADM786" class="refsect3"><a id="i1010637"></a>
<h4 class="refsect3">DEFINE DIMENSION (simple)</h4>
<p>The DEFINE DIMENSION (simple) command defines a simple dimension. When a variable is dimensioned by regular dimensions, Oracle OLAP creates an array element for each set of its dimension values. The values of a simple dimension must be unique data values with the same data type. A simple dimension can be a flat dimension or a hierarchical dimension that contains values from different levels of a hierarchy.</p>
<div class="infobox-note">
<p class="notep1">Tip:</p>
To create a hierarchical dimension using duplicate values or values of different data types, use a concat dimension as described in <a href="#i1010642">DEFINE DIMENSION CONCAT</a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3966"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>DIMENSION&nbsp;<span class="italic">type&nbsp;</span>[TEMP] [AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
<p>where <span class="syntaxinlineitalic">type</span> is the data type of the dimension. The syntax of <span class="syntaxinlineitalic">type</span> varies depending on the data type:</p>
<dl>
<dd><span class="syntaxinline">TEXT &nbsp;[WIDTH</span>&nbsp;<span class="syntaxinlineitalic">n</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">NTEXT &nbsp;[WIDTH&nbsp;</span><span class="syntaxinlineitalic">n</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">ID</span></dd>
<dd><span class="syntaxinline">INTEGER</span></dd>
<dd><span class="syntaxinline">NUMBER [(</span><span class="syntaxinlineitalic">precision</span> <span class="syntaxinline">,</span> <span class="syntaxinlineitalic">scale</span><span class="syntaxinline">)</span>]</dd>
<dd><span class="syntaxinline">DATETIME</span> <span class="syntaxinline">[(</span> <span class="syntaxinlineitalic">truncation-code</span> <span class="syntaxinline">)]</span></dd>
<dd><code dir="ltr">TIMESTAMP</code> <span class="syntaxinline">[(</span> <span class="syntaxinlineitalic">truncation-code</span> <span class="syntaxinline">)]</span></dd>
<dd><code dir="ltr">TIMESTAMP_TZ</code> <span class="syntaxinline">[(</span> <span class="syntaxinlineitalic">truncation-code</span> <span class="syntaxinline">)]</span></dd>
<dd><code dir="ltr">TIMESTAMP_LTZ</code> <span class="syntaxinline">[(</span> <span class="syntaxinlineitalic">truncation-code</span> <span class="syntaxinline">)]</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3967"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>DIMENSION</dt>
<dd>
<p>The object type when you are defining a dimension.</p>
</dd>
<dt>TEXT</dt>
<dd>
<p>Specifies that the values of the dimension have the TEXT data type which is equivalent to the CHAR and VARCHAR2 data types in Oracle Database. This data type stores up to 4,000 bytes for each line in the database character set.</p>
</dd>
<dt>NTEXT</dt>
<dd>
<p>Specifies that the values of the dimension have the NTEXT data type which is equivalent to the NCHAR and NVARCHAR2 data types in Oracle Database. This data type stores up to 4,000 bytes for each line in UTF-8 character encoding.</p>
</dd>
<dt>ID</dt>
<dd>
<p>Specifies a special text data type that stores up to 8 single-byte characters for each line in the database character set.</p>
</dd>
<dt>WIDTH <span class="italic">n</span></dt>
<dd>
<p>For TEXT or NTEXT dimensions, the width, in bytes, of the storage area of each value of an object. Valid width values are <code dir="ltr">1</code> through <code dir="ltr">4000</code>. Specify a fixed width only when you are certain that the values of a particular dimension are of similar size. When a value exceeds the specified width, it is truncated.</p>
</dd>
<dt>INTEGER</dt>
<dd>
<p>Specifies that the values of the dimension have the <code dir="ltr">INTEGER</code> data type. The data type for a dimension with values that are identified by their numeric position (1, 2, and so on). A data type of <code dir="ltr">INTEGER</code> means that the dimension has no character values. For ease of use, use a text or time period data type, when possible.</p>
</dd>
<dt>NUMBER</dt>
<dd>
<p>Specifies that the values of the dimension have the <code dir="ltr">NUMBER</code> data type. A <code dir="ltr">NUMBER</code> dimension differs from other dimensions in that its values cannot be specified by position, only by value. To specify the values of a <code dir="ltr">NUMBER</code> dimension by position, you can define an <code dir="ltr">INTEGER</code> type dimension surrogate for the <code dir="ltr">NUMBER</code> dimension.</p>
</dd>
<dt><span class="italic">precision</span></dt>
<dd>
<p>The total number of digits a value of type <code dir="ltr">NUMBER</code> can have.</p>
</dd>
<dt><span class="italic">scale</span></dt>
<dd>
<p>The number of digits a value of type <code dir="ltr">NUMBER</code> can have to the right of a decimal point. For example, when you specify a precision of 7 and a scale of 2, then the highest value that the dimension can have is 99999.99. When you specify a precision value, but do not specify a scale value, then the scale is 0.</p>
</dd>
<dt>DATETIME</dt>
<dd>
<p>Specifies that the values of the dimension have the <code dir="ltr">DATETIME</code> data type.</p>
</dd>
<dt>TIMESTAMP</dt>
<dd>
<p>Specifies that the values of the dimension have the <code dir="ltr">TIMESTAMP</code> data type.</p>
</dd>
<dt>TIMESTAMP_TZ</dt>
<dd>
<p>Specifies that the values of the dimension have the <code dir="ltr">TIMESTAMP_TZ</code> data type.</p>
</dd>
<dt>TIMESTAMP_LTZ</dt>
<dd>
<p>Specifies that the values of the dimension have the <code dir="ltr">TIMESTAMP_LTZ</code> data type.</p>
</dd>
<dt><span class="italic">truncation_code</span></dt>
<dd>
<p>A text expression that specifies a format model shown in <a href="dml_functions_2.htm#CJAEFAIA">Table 8-13, &#34;Datetime Format Templates for the ROUND and TRUNC Date Functions&#34;</a>. A format model indicates how the date and time number should be truncated.</p>
</dd>
<dt>TEMP</dt>
<dd>
<p>Indicates that the dimension&#39;s values are only temporary and only for the current session. The dimension has a definition in the current workspace and can contain values during the current session. However, when you update and commit, only the definition of the dimension is saved. When you leave end your session or switch to another workspace, the data values are discarded. Each time you start the workspace, the values of a temporary dimension are <code dir="ltr">NA</code>.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached analytic workspace in which you want to define the dimension. Any objects dimensioned by the dimension must be defined in the same workspace. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When you close the current session, the object no longer exists.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3968"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2295"></a>NA Values in Variables Dimensioned by Simple Dimensions</p>
<p>When a variable is dimensioned by regular dimensions, Oracle OLAP creates an array element for each set of its dimension values. When an array element is empty, then the element is said to contain an <code dir="ltr">NA</code> value. In some cases, this can result in a sparse variable&mdash;that is, a variable in which a relatively high percentage of array elements that are empty. There are two types of sparsity:</p>
<ul>
<li>
<p><span class="bold">Controlled sparsity<a id="sthref3969"></a><a id="sthref3970"></a></span> occurs when a range of one or more dimensions has no data; for example, a new variable dimensioned by <code dir="ltr">month</code> for which you do not have data for past months.</p>
</li>
<li>
<p><span class="bold">Random sparsity</span><a id="sthref3971"></a><a id="sthref3972"></a> occurs when some combinations of dimension values never have any data. For example, a district might only sell certain products and never have data for other products. Other districts might sell some of those products and other ones, too.</p>
</li>
</ul>
<p>When a sequence of array elements contain enough <code dir="ltr">NA</code> values to fill up an analytic workspace page, Oracle OLAP does not actually store any of the <code dir="ltr">NA</code> values and, instead, keeps tracks of the values internally. However, when an analytic workspace page contains both regular values and <code dir="ltr">NA</code> values, then Oracle OLAP stores all of the values. You can reduce the number of array elements with <code dir="ltr">NA</code> values by dimensioning a variable with one or more composites or conjoint dimensions. See the <a href="#i78493">DEFINE COMPOSITE</a> and <a href="#i1010931">DEFINE DIMENSION (conjoint)</a> commands.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3973"></a>Examples</p>
<div id="OLADM2296" class="example">
<p class="titleinexample"><a id="sthref3974"></a>Example 9-81 Defining a Simple Dimension</p>
<p>This example adds the dimension <code dir="ltr">city</code> to an analytic workspace. You can attach a description to the object immediately after defining it. (You can also add the description later when you use CONSIDER and LD statements.) After defining the dimension <code dir="ltr">city</code>, you can give it values with a MAINTAIN statement.</p>
<p>The statements</p>
<pre dir="ltr">DEFINE city DIMENSION ID
LD List of cities
MAINTAIN city ADD &#39;Boston&#39; &#39;Chicago&#39; &#39;Dallas&#39; &#39;Seattle&#39;
DESCRIBE city
</pre>
<p>produce the following definition.</p>
<pre dir="ltr">DEFINE city DIMENSION ID
LD List of cities
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" -->
<div id="OLADM787" class="refsect3"><a id="CHDIDHBI"></a>
<h4 class="refsect3">DEFINE DIMENSION (DWMQY)</h4>
<p>The DEFINE DIMENSION (DWMQY) command defines a DWMQY dimension (that is a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR) whose values represent time periods. After defining a DWMQY dimension, you can use a <a href="dml_commands_2.htm#i79244">VNF</a> statement to add a value name format to the dimension&#39;s definition. The VNF command controls the format for entering dimension values and the format for showing them in output.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
When you want to aggregate over time do not define the time dimension as a DWMQY dimension because you cannot aggregate over dimensions of this type. Instead, define the time dimension as a hierarchical dimension of type <code dir="ltr">TEXT</code> or <code dir="ltr">NTEXT</code>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3975"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>DIMENSION&nbsp;<span class="italic">dwmqy&nbsp;</span>[TEMP] [AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
<p>where <span class="syntaxinlineitalic">dwmqy</span> is the time period of the dimension. The valid types for <span class="italic">dwmqy</span> are DAY, WEEK, MONTH, QUARTER, and YEAR. Each type indicates the span of the time period represented by the individual dimension values of the dimension. The syntax of <span class="syntaxinlineitalic">dwmqy</span> varies depending on the type:</p>
<dl>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">&nbsp;DAY</span>&nbsp;</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">&nbsp;[</span><span class="syntaxinlineitalic">multiple</span><span class="syntaxinline">]&nbsp;WEEK [BEGINNING phase</span> <span class="syntaxinline">] [ ENDING phase</span> <span class="syntaxinline">]</span>&nbsp;</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">&nbsp;[</span><span class="syntaxinlineitalic">multiple</span><span class="syntaxinline">]&nbsp;MONTH [BEGINNING phase</span> <span class="syntaxinline">] [ ENDING phase</span> <span class="syntaxinline">]</span>&nbsp;</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">&nbsp;QUARTER [BEGINNING phase</span> <span class="syntaxinline">] [ ENDING phase</span> <span class="syntaxinline">]</span>&nbsp;</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp; <span class="syntaxinline">YEAR [BEGINNING phase</span> <span class="syntaxinline">] [ ENDING phase</span> <span class="syntaxinline">]</span>&nbsp;</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3976"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>DIMENSION</dt>
<dd>
<p>The object type when you are defining a dimension.</p>
</dd>
<dt><span class="italic">multiple</span></dt>
<dd>
<p>For the WEEK and MONTH types, specifies time periods that span a multiple number of weeks or months. With the WEEK keyword, <span class="italic">multiple</span> can be an <code dir="ltr">INTEGER</code> from 2 to 52. With the MONTH keyword, <span class="italic">multiple</span> can be 2, 3, 4, or 6.</p>
</dd>
<dt>BEGINNING <span class="italic">phase</span></dt>
<dt>ENDING <span class="italic">phase</span></dt>
<dd>
<p>Specifies the beginning or ending phase of a WEEK, MONTH, QUARTER, or YEAR dimension:</p>
<ul>
<li>
<p>For single weeks, <span class="italic">phase</span> can be a day of the week (corresponding to a name in the DAYNAMES option) or a date.</p>
</li>
<li>
<p>For multiple weeks, <span class="italic">phase</span> must be a date.</p>
</li>
<li>
<p>For months, quarters, or years, <span class="italic">phase</span> must be a month, expressed as a month name (corresponding to a name in the MONTHNAMES option) or as a date.</p>
</li>
</ul>
<p>When you specify <span class="italic">phase</span> as a date, you give the month, day, and year, enclosed in single quotes, using any of the input styles that are valid for variable values with a data type of DATE. When you specify a date with an ambiguous meaning (such as <code dir="ltr">&#39;03&nbsp;05&nbsp;97&#39;</code>), the date is interpreted according to the current setting of the DATEORDER option.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you define a multiple-period dimension of type WEEK but you do not specify a BEGINNING or an ENDING argument, DEFINE automatically supplies a phase that begins with the date <code dir="ltr">&#39;31DEC1899&#39;</code>.</div>
</dd>
<dt>TEMP</dt>
<dd>
<p>Indicates that the dimension&#39;s values are only temporary and only for the current session. The dimension has a definition in the current workspace and can contain values during the current session. However, when you update and commit, only the definition of the dimension is saved. When you leave end your session or switch to another workspace, the data values are discarded. Each time you start the workspace, the values of a temporary dimension are <code dir="ltr">NA</code>.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached analytic workspace in which you want to define the dimension. Any objects dimensioned by the dimension must be defined in the same workspace. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When you close the current session, the object no longer exists.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3977"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2297"></a>Implicit Relations Between DWMQY Dimensions</p>
<p>When you define two or more dimensions of type DAY, WEEK, MONTH, QUARTER, or YEAR, Oracle OLAP automatically defines implicit relations between the values of the dimensions. For example, when you define a dimension of type MONTH and a dimension of type YEAR, Oracle OLAP automatically defines a relation that associates all the MONTH values that fall within a particular year with the corresponding value of the YEAR dimension.</p>
<p class="subhead2"><a id="OLADM2298"></a>Using BEGINNING or ENDING Phase to Organize Data by Fiscal Calendar</p>
<p>For dimensions of type MONTH, QUARTER, and YEAR, the BEGINNING <span class="italic">phase</span> or ENDING <span class="italic">phase</span> argument is especially useful for data organized on a fiscal-year calendar.</p>
<p>By specifying a phase for a dimension of type MONTH or QUARTER, you identify the time period that is the first or last period within a year. For example, when you define a dimension of type MONTH with an ending phase of June, then June is identified as the twelfth month of the year. When a dimension of type QUARTER has an ending phase of June, the quarter ending in June is identified as the fourth quarter of the year. When you give a dimension a VNF that includes a period code, you can enter or report dimension values according to their period within the year.</p>
<p>By default, the single or multiple weeks in a dimension of type WEEK end on Saturday. The BEGINNING <span class="italic">phase</span> or ENDING <span class="italic">phase</span> argument lets you specify the day of the week on which each period begins or ends. For multiple-week periods, the phase argument also controls the starting or ending date for grouping the weeks into periods. By default, the starting point for grouping multiple weeks is December 31, 1899 (a Sunday).</p>
<p>However, the phase argument does not determine the period that is counted as the first period within a year. For dimensions of type WEEK, Period 1 in a given calendar year is always the first period that ends in that year. For example, suppose you specify a dimension of type WEEK with a four-week period ending on June&nbsp;7,&nbsp;1997. DEFINE works backward and forward from this date, forming weeks into four-week periods. For 1997, Period 1 is the period beginning on December&nbsp;22,&nbsp;1996 and ending on January&nbsp;18,&nbsp;1997.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3978"></a>Examples</p>
<div id="OLADM2299" class="example">
<p class="titleinexample"><a id="sthref3979"></a>Example 9-82 Defining a YEAR Dimension</p>
<p>The following statement defines a dimension of type YEAR that holds values for fiscal years that end on June 30.</p>
<pre dir="ltr">DEFINE fyear DIMENSION YEAR ENDING june
</pre>
<p>After defining the dimension, you can give it a description and a VNF (value name format). You can use a MAINTAIN statement to give values to the dimension.</p>
<pre dir="ltr">LD Fiscal years ending June 30
VNF &#39;FY&lt;ff&gt;&#39;
MAINTAIN fyear ADD &#39;FY97&#39; &#39;FY00&#39; 
</pre></div>
<!-- class="example" -->
<div id="OLADM2300" class="example">
<p class="titleinexample"><a id="sthref3980"></a>Example 9-83 Using the Default Phrase for Date in an ENDING Phrase</p>
<p>This example illustrates how DEFINE automatically supplies a phase that begins with the date <code dir="ltr">&#39;31DEC1899&#39;</code> when you define a multiple-period dimension of type WEEK but you do not specify a BEGINNING <span class="italic">phase</span> or an ENDING <span class="italic">phase</span> argument. Assume that you issue the following statements</p>
<pre dir="ltr">DEFINE twoweek DIMENSION 2 WEEK
DESCRIBE TWOWEEK
</pre>
<p>When you issue a DESCRIBE statement for <code dir="ltr">twoweek</code>, the following output is produced.</p>
<pre dir="ltr">DEFINE twoweek DIMENSION 2 WEEK ENDING &#39;13Jan1900&#39;
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" -->
<div id="OLADM788" class="refsect3"><a id="i1010931"></a>
<h4 class="refsect3">DEFINE DIMENSION (conjoint)</h4>
<p><a id="sthref3981"></a>The DEFINE DIMENSION (conjoint) command defines a conjoint dimension.</p>
<p>Conceptually, you can think of a conjoint dimension consisting of two structures:</p>
<ul>
<li>
<p>The dimension object itself. The values of the dimension are combinations of values of two or more other dimensions (that is, a conjoint tuples) that Oracle OLAP uses to determine the structure of any variables dimensioned by the conjoint dimension.</p>
</li>
<li>
<p>An index between the conjoint dimension values and its base dimension values.</p>
</li>
</ul>
<p>Composites are another object that you can use to dimension a variable using a list of dimension value combinations. See <a href="#CHDGECEA">&#34;Differences Between Conjoint Dimensions and Composites&#34;</a> for a discussion of the major differences between composites and conjoint dimensions.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3982"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>DIMENSION&nbsp;&lt;<span class="italic">dims</span>.&nbsp;.&nbsp;.&gt;&nbsp;<span class="italic">index-algorithm</span> &nbsp;[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
<p>where <span class="syntaxinlineitalic">index-algorithm</span> specifies the algorithm that Oracle OLAP uses to create the index into the conjoint dimension. Valid values for <span class="syntaxinlineitalic">index-algorithm</span> are:</p>
<dl>
<dd><span class="syntaxinline">BTREE</span></dd>
<dd><span class="syntaxinline">NOHASH</span></dd>
<dd><span class="syntaxinline">HASH</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3983"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the conjoint dimension you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>DIMENSION</dt>
<dd>
<p>The object type when you are defining a conjoint dimension.</p>
</dd>
<dt><span class="italic">dims</span></dt>
<dd>
<p>One or more previously defined dimensions that are the base dimensions of the conjoint dimension. Specify the dimensions in fastest to slowest-varying order as discussed in <a href="#CHDIIBHF">&#34;Effect of Dimension Order on Variable Storage and Statement Looping&#34;</a>. You must enclose the dimension list in angle brackets.</p>
<p>Typically, a base dimension of a conjoint dimension is a simple dimension, but it can also be another conjoint dimension. However, when you do have a simple dimension for one value of <span class="italic">dims</span>, you cannot also specify for <span class="italic">dims</span> a conjoint or concat dimension that has same simple dimension as one of its bases.</p>
</dd>
<dt>BTREE</dt>
<dd>
<p>Specifies the creation of a b-tree index to relate conjoint values to base dimension values. Typically, you specify BTREE as the index algorithm for a conjoint dimension.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
When you are unsure whether to specify BTREE or NOHASH, use NOHASH, because you can always use a CHGDFN statement to change a NOHASH conjoint into a BTREE conjoint, while you can use a CHGDFN statement to change a BTREE conjoint into a NOHASH conjoint only when the conjoint was originally defined as a NOHASH conjoint</div>
</dd>
<dt>NOHASH</dt>
<dd>
<p>Specifies that Oracle OLAP does <span class="italic">not</span> create an index for the conjoint dimension, but instead uses internal structures to relate conjoint values to base dimension values. Because no index is created for NOHASH, NOHASH decreases the number of structures associated with the conjoint dimension; and, in many cases, decreases the time it takes to load and access conjoint dimension values. However, NOHASH is used infrequently, as it is a complicated algorithm that, on occasion, can result in unpredictable performance.</p>
</dd>
<dt>HASH</dt>
<dd>
<p>(Default, but not recommended.) Specifies the creation of a has index to relate conjoint values to base dimension values.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Even though HASH is the default, typically, you specify BTREE as the index algorithm for a conjoint dimension. When your conjoint dimension has more than 3 base dimensions, for best performance, use BTREE instead of HASH.</div>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached analytic workspace in which you want to define the dimension. Any objects dimensioned by the dimension must be defined in the same workspace. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When you close the current session, the object no longer exists.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3984"></a>Usage Notes</p>
<p class="subhead2"><a id="CHDGECEA"></a><a id="OLADM2301"></a>Differences Between Conjoint Dimensions and Composites</p>
<p>You can use either a composite or a conjoint dimension to dimension a variable with a list of dimension value combinations. Keep the following points in mind when deciding on which type of object to use:</p>
<ul>
<li>
<p>Object population maintenance&mdash;Conjoint dimensions offer the most control, while composites provide the greatest ease of use:</p>
<ul>
<li>
<p>Oracle OLAP determines the dimension value combinations stored in a composite. Oracle OLAP populates a composite automatically when a variable dimensioned by composite is populated.</p>
</li>
<li>
<p>You determine the dimension value combinations that are stored in a composite. You must explicitly populate and maintain a conjoint dimension using MAINTAIN statements the same way you populate and maintain other dimensions.</p>
</li>
</ul>
</li>
<li>
<p>Dimension operations &mdash;You can perform dimension operations on conjoint dimensions, but not composites; however, you can only perform dimension operations on the base dimensions of composites. For example, you can LIMIT conjoint dimensions, but you must limit the base dimensions of a composite to limit your view to a subset of composite values; and you can define relations using conjoint dimensions, but not composites.</p>
</li>
</ul>
<p>For more information on composites, see the <a href="#i78493">DEFINE COMPOSITE</a> command.</p>
<p class="subhead2"><a id="OLADM2302"></a>Relationship of Conjoint Dimensions to Base Dimensions</p>
<p>The values of the conjoint dimension are related to the base dimensions. You can specify data in a variable dimensioned by the conjoint dimension using the conjoint value combinations, the individual values of the base dimensions, or other dimensions related to either of the base dimensions of the conjoint dimension.</p>
<p class="subhead2"><a id="OLADM2303"></a>Defining a Subset of a Dimension&#39;s Values</p>
<p>You can have a conjoint dimension with only one base dimension, which enables you to create a subset of that dimension&#39;s values. You must still enclose that one base dimension within angle brackets.</p>
<p class="subhead2"><a id="i1016589"></a><a id="OLADM2304"></a>Using Conjoint Dimension Values in Expressions</p>
<p>To refer to the value of a conjoint dimension in an expression, specify the value following these guidelines:</p>
<ul>
<li>
<p>Enclose the entire dimension value specification in angle brackets and then enclose this entire specification in single quotes; do not enclose the individual values in single quotes.</p>
</li>
<li>
<p>Use the exact upper- and lowercase spellings for the base dimension values.</p>
</li>
<li>
<p>When the specification includes a text value with an embedded blank, you must separate the dimension values with commas.</p>
</li>
</ul>
<p>For example, when <code dir="ltr">item.org</code> is a conjoint dimension with base dimensions <code dir="ltr">item</code> and <code dir="ltr">org</code>, use the following format to refer to values of <code dir="ltr">item.org</code>.</p>
<pre dir="ltr">&#39;&lt;Expenses, Direct Sales&gt;&#39;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3985"></a>Examples</p>
<div id="OLADM2305" class="example">
<p class="titleinexample"><a id="sthref3986"></a>Example 9-84 Defining a Conjoint Dimension</p>
<p>Assume that you have defined and populated the simple dimensions <code dir="ltr">city</code>, <code dir="ltr">state</code>, and <code dir="ltr">region</code> and that they have the following values.</p>
<pre dir="ltr">CITY             STATE           REGION
---------       ----------       ------
Princeton       New Jersey       East
Newark          New Jersey       Central
Patterson       New York
New York        Illinois
Chicago         Indiana
</pre>
<p>To define a conjoint dimension named <code dir="ltr">cityandstate</code> and add values to it use the following OLAP DML statements.</p>
<pre dir="ltr">DEFINE cityandstate DIMENSION &lt;city state&gt;
MAINTAIN cityandstate add &lt;&#39;Princeton&#39; &#39;New Jersey&#39;&gt;
MAINTAIN cityandstate add &lt;&#39;Newark&#39; &#39;New Jersey&#39;&gt;
MAINTAIN cityandstate add &lt;&#39;Patterson&#39; &#39;New Jersey&#39;&gt;
MAINTAIN cityandstate add &lt;&#39;New York&#39; &#39;New York&#39;&gt;
MAINTAIN cityandstate add &lt;&#39;Chicago&#39; &#39;Illinois&#39;&gt;
MAINTAIN cityandstate add &lt;&#39;Princeton&#39; &#39;Indiana&#39;&gt;
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" -->
<div id="OLADM789" class="refsect3"><a id="i1010642"></a>
<h4 class="refsect3">DEFINE DIMENSION CONCAT</h4>
<p><a id="sthref3987"></a>The DEFINE DIMENSION CONCAT commands defines a concat dimension. A concat dimension is a dimension that groups a set of base dimensions with duplicate values or different data types into one dimension.</p>
<p>When there are duplicate data values, you create a non-unique concat dimensions. For example, you would create a nonunique dimension for a geography hierarchy when &#34;New York&#34; is both the value at the city level and at the state level. When all of the data values in all of the base dimensions are unique, you can create a unique concat dimension.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
The way that you specify the values of concat dimension varies depending on whether the concat dimension is a unique or nonunique concat dimension. See <a href="dml_expression.htm#BABIAGDD">&#34;Specifying a Value of a CONCAT Dimension&#34;</a> for more information.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3988"></a>Syntax</p>
<p class="synopsis">DEFINE <span class="italic">name</span> DIMENSION CONCAT(<span class="italic">basedimlist</span>.&nbsp;.&nbsp;.)[UNIQUE] [TEMP] [AW <span class="italic">workspace</span>]&nbsp;[SESSION]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3989"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>DIMENSION CONCAT</dt>
<dd>
<p>The object type when you are defining a concat dimension.</p>
</dd>
<dt><span class="italic">basedimlist</span></dt>
<dd>
<p>One or more previously-defined dimensions that are the base dimensions of the concat dimension. Specify the dimensions in fastest to slowest-varying order as discussed in <a href="#CHDIIBHF">&#34;Effect of Dimension Order on Variable Storage and Statement Looping&#34;</a>. You must enclose the dimension list in parenthesis.</p>
<p>The types of dimensions that can be base dimensions varies depending on whether you are defining a unique or nonunique concat dimension:</p>
<ul>
<li>
<p>When defining a non-unique concat dimension, a base dimension can be a simple dimension of any data type, a conjoint dimension, or another concat dimension.</p>
</li>
<li>
<p>When defining a unique concat dimension, a base dimension can be a simple dimension of type TEXT or ID, or another unique concat dimension if the data values of all of the base dimensions are unique and not duplicated in any of the base dimensions.</p>
</li>
</ul>
<p>A composite cannot be the base dimension of a concat dimension.</p>
<p>Simple dimensions and conjoint dimensions are the bottom-level components of a concat dimension. When you specify a concat dimension as a base dimension when defining a concat, then the base dimensions of that inner concat are <span class="italic">component</span> dimensions of the outer concat.</p>
<p>The same dimension cannot appear more than once in the component dimensions of a concat dimension. However, in a concat, a conjoint dimension is an indivisible unit and Oracle OLAP does not consider the base dimensions of a conjoint in the definition of the concat. Therefore, a simple dimension can be a base dimension of a conjoint and that conjoint and the same simple dimension can be base dimensions (or components) of a concat dimension.</p>
<p>For example, the following definitions are permissible.</p>
<pre dir="ltr">DEFINE conjointdim.a DIMENSION &lt;simpledim.b, simpledim.c&gt;
DEFINE conjointdim.b DIMENSION &lt;simpledim.a, simpledim.b&gt;
DEFINE conjointdim.c DIMENSION &lt;simpledim.a, conjointdim.a&gt;
DEFINE concatdim.a DIMENSION CONCAT (simpledim.a, conjointdim.a)
DEFINE concatdim.b DIMENSION CONCAT (simpledim.a, conjointdim.b)
DEFINE concatdim.c DIMENSION CONCAT (simpledim.b, conjointdim.b)
DEFINE concatdim.d DIMENSION CONCAT (simpledim.a, concatdim.c)
</pre>
<pre dir="ltr"></pre>
<p>In the definition of <code dir="ltr">concatdim.a</code>, the base dimensions are <code dir="ltr">simpledim.a</code> and <code dir="ltr">conjointdim.a</code>. In the definition of <code dir="ltr">concatdim.d</code>, the base dimensions are <code dir="ltr">simpledim.a</code> and <code dir="ltr">concatdim.c</code>. The component dimensions of <code dir="ltr">concatdim.d</code> are <code dir="ltr">simpledim.a</code>, <code dir="ltr">simpledim.b</code>, and <code dir="ltr">conjointdim.b</code>. <code dir="ltr">simpledim.a</code> and <code dir="ltr">simpledim.b</code> appear only once as component dimensions even though they are the base dimensions of <code dir="ltr">conjointdim.b</code> because the base dimensions of a conjoint are not component dimensions of a concat.</p>
<p>However, the following definition is <span class="italic">not</span> permitted because the same simple dimension is a base dimension of <code dir="ltr">concatdim.e</code> and a component of <code dir="ltr">concatdim.e</code> because it is a base dimension of <code dir="ltr">concatdim.b</code>.</p>
<pre dir="ltr">DEFINE concatdim.e DIMENSION CONCAT (simpledim.a, concatdim.b)
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The simple dimensions in the <span class="italic">basedimlist</span> argument, and the simple dimensions that are base dimensions of any conjoint dimensions or concat dimensions in <span class="italic">basedimlist</span>, can<span class="italic">not</span> have an INTEGER data type.</div>
</dd>
<dt>UNIQUE</dt>
<dd>
<p>Specifies that the text values of the base dimensions are unique. When you specify this keyword, the dimensions listed in <span class="italic">basedimlist</span> must be either simple text or ID dimensions or unique concat dimensions.</p>
</dd>
<dt>TEMP</dt>
<dd>
<p>Indicates that the dimension&#39;s values are only temporary and only for the current session. The dimension has a definition in the current workspace and can contain values during the current session. However, when you update and commit, only the definition of the dimension is saved. When you leave end your session or switch to another workspace, the data values are discarded. Each time you start the workspace, the values of a temporary dimension are <code dir="ltr">NA</code>.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached analytic workspace in which you want to define the dimension. Any objects dimensioned by the dimension must be defined in the same workspace. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When you close the current session, the object no longer exists.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3990"></a>Examples</p>
<div id="OLADM2306" class="example">
<p class="titleinexample"><a id="sthref3991"></a>Example 9-85 Defining a CONCAT Dimension</p>
<p>Assume that you have defined and populated the simple dimensions <code dir="ltr">city</code>, <code dir="ltr">state</code>, and <code dir="ltr">region</code> and that they have the following values.</p>
<pre dir="ltr">CITY             STATE           REGION
---------       ----------       ------
Princeton       New Jersey       East
Newark          New Jersey       Central
Patterson       New York
New York        Illinois
Chicago         Indiana
</pre>
<p>You define a concat dimension based on these dimensions using the following OLAP DML statement.</p>
<pre dir="ltr">DEFINE geog DIMENSION CONCAT(region cityandstate)
</pre>
<p>The values of <code dir="ltr">geog</code> are the following.</p>
<pre dir="ltr">&lt;REGION: East&gt;
&lt;REGION: Central&gt;
&lt;CITYANDSTATE: &lt;Princeton New Jersey&gt;&gt;
&lt;CITYANDSTATE: &lt;Newark New Jersey&gt;&gt;
&lt;CITYANDSTATE: &lt;Patterson New Jersey&gt;&gt;
&lt;CITYANDSTATE: &lt;New York New York&gt;&gt;
&lt;CITYANDSTATE: &lt;Chicago Illinois&gt;&gt;
&lt;CITYANDSTATE: &lt;Princeton Indiana&gt;&gt;
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" -->
<div id="OLADM790" class="refsect3"><a id="i1010646"></a>
<h4 class="refsect3">DEFINE DIMENSION ALIASOF</h4>
<p><a id="sthref3992"></a><a id="ABC1485326"></a>The DEFINE DIMENSION ALIASOF command <a id="sthref3993"></a><a id="sthref3994"></a>defines a dimension alias for a simple dimension. An alias dimension has the same type and values as its base dimension. Typically, you define an alias dimension when you want to dimension a variable by the same dimension twice.</p>
<p>Additionally, You can use a LIMIT statement to limit alias dimensions and define variables and relations using an alias dimension. However, you cannot maintain an alias dimension directly; instead you maintain its base dimension using MAINTAIN.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3995"></a>Syntax</p>
<p class="synopsis">DEFINE <span class="italic">name</span> DIMENSION ALIASOF <span class="italic">dimension</span> [TEMP] [AW <span class="italic">workspace</span>]&nbsp;[SESSION]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3996"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>DIMENSION ALIASOF</dt>
<dd>
<p>The object type when you are defining a dimension. Indicates that the dimension being defined is an alias for another dimension.</p>
</dd>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of a simple dimension for which you want to define an alias. This dimension cannot be a concat or conjoint dimension, composite, or surrogate.</p>
</dd>
<dt>TEMP</dt>
<dd>
<p>Indicates that the dimension&#39;s values are only temporary and only for the current session. The dimension has a definition in the current workspace and can contain values during the current session. However, when you update and commit, only the definition of the dimension is saved. When you leave end your session or switch to another workspace, the data values are discarded. Each time you start the workspace, the values of a temporary dimension are <code dir="ltr">NA</code>.</p>
</dd>
<dt>AW workspace</dt>
<dd>
<p>The name of an attached analytic workspace in which you want to define the dimension. Any objects dimensioned by the dimension must be defined in the same workspace. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When you close the current session, the object no longer exists.<a id="sthref3997"></a></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3998"></a>Examples</p>
<div id="OLADM2307" class="example">
<p class="titleinexample"><a id="sthref3999"></a>Example 9-86 Defining an Alias Dimension</p>
<p>Assume that your department has multiple projects that employees participate in and that an employee may be a leader of one project and a participant in another. Assume also that you want to track the hours that each employee participates in a project as either a leader or a participant. To keep track of this information, you can design a variable that is dimensioned by the time you want to track by (in this example, <code dir="ltr">year</code>), <code dir="ltr">project</code>, and two dimensions for employee&mdash;one dimension named <code dir="ltr">employee</code> for employee as participant and another dimension named <code dir="ltr">leader</code> for employee as leader. The following definitions support this structure.</p>
<pre dir="ltr">DEFINE year DIMENSION TEXT
DEFINE project DIMENSION TEXT
DEFINE employee DIMENSION TEXT
DEFINE leader DIMENSION ALIASOF employee
DEFINE hours VARIABLE INTEGER &lt;year project employee leader&gt;
</pre>
<p><a id="sthref4000"></a><a id="sthref4001"></a><a id="sthref4002"></a><a id="sthref4003"></a>The following statements populate all of the dimensions.</p>
<pre dir="ltr">MAINTAIN year ADD &#39;2001&#39; &#39;2002&#39; &#39;2003&#39;
MAINTAIN project ADD &#39;projA&#39; &#39;projB&#39;
MAINTAIN employee add &#39;Adams&#39; &#39;Baker&#39; &#39;Charles&#39;
</pre>
<p>Note that you do not have to explicitly populate the alias dimension (that is, <code dir="ltr">leader</code>). When you populate the <code dir="ltr">employee</code> dimension, Oracle OLAP also populates its alias dimension <code dir="ltr">leader</code>.</p>
<pre dir="ltr">EMPLOYEE
--------------
Adams
Baker
Charles
 
LEADER
--------------
Adams
Baker
Charles
</pre>
<p><a id="sthref4004"></a><a id="sthref4005"></a><a id="sthref4006"></a>You can limit a dimension without limiting its alias; or limit an alias without limiting the dimension for which it is an alias. For example, when you issue the following statements to limit <code dir="ltr">employee</code> to Adams for <code dir="ltr">project</code> ProjA in <code dir="ltr">year</code> 2001, a report displays all of the leaders of the projects that Adams participates in.</p>
<pre dir="ltr">LIMIT year TO &#39;2001&#39;
LIMIT employee TO &#39;Adams&#39;
LIMIT project TO &#39;projA&#39;
REPORT DOWN leader ACROSS employee: hours
 
PROJECT: projA
YEAR: 2001
               --HOURS---
               -EMPLOYEE-
LEADER           Adams
-------------- ----------
Adams                   1
Baker                   2
Charles                 1
</pre>
<p>On the other hand, when you limit <code dir="ltr">leader</code> to Adams for <code dir="ltr">project</code> ProjA in <code dir="ltr">year</code> 2001, a report displays all of the employees of the projects that Adams leads.</p>
<pre dir="ltr">LIMIT employee TO ALL
LIMIT leader TO &#39;Adams&#39;
LIMIT project TO &#39;projA&#39;
REPORT DOWN leader ACROSS employee: hours
 
PROJECT: projA
YEAR: 2001
               -------------HOURS--------------
               ------------EMPLOYEE------------
LEADER           Adams      Baker     Charles
-------------- ---------- ---------- ----------
Adams                   1          3          3
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" -->
<div id="OLADM791" class="refsect2"><a id="i1010609"></a>
<h3 class="refsect2">DEFINE FORMULA</h3>
<p><a id="sthref4007"></a><a id="sthref4008"></a><a id="sthref4009"></a><a id="sthref4010"></a><a id="sthref4011"></a>The DEFINE command with the FORMULA keyword adds a new formula object to an analytic workspace. You define a formula to save an expression. A formula can take the place of an expression you use repeatedly. The name of the formula takes the place of the text of the expression. Oracle OLAP does not store the data for a formula in a variable; instead it is calculated at run time each time it is requested.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_objects.htm#i1019576">&#34;OLAP DML Formulas&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4012"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>FORMULA&nbsp;{<span class="italic">expression</span> | [ <span class="italic">datatype</span>&nbsp;][&lt;<span class="italic">dimensions...</span>&gt;]}&nbsp;[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4013"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>FORMULA</dt>
<dd>
<p>The object type when you are defining a formula.</p>
</dd>
<dt><span class="italic">expression</span></dt>
<dd>
<p>The calculation to be performed to produce values when you use the formula. It can be any valid expression, including a constant or the name of a variable as described in <a href="dml_expression.htm#g1031411">Chapter 2, &#34;OLAP DML Expressions&#34;</a>.</p>
<p>You can specify an expression for a formula when you define it or after you define using an EQ statement. When you define a formula without specify an expression, a formula returns <code dir="ltr">NA</code> with the specified data type.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle OLAP does not automatically convert text in a formula to uppercase.</div>
</dd>
<dt><span class="italic">datatype</span></dt>
<dd>
<p>The intended data type for the formula when you do not specify a value for <span class="italic">expression</span>. You can use any of the data types that apply to variables. If you do not specify a value, the data type is determined at run time.</p>
<p>When you include an <span class="italic">expression</span> in the formula definition, DEFINE automatically determines the data type for a formula defined using <span class="italic">expression</span>. Later, when you add the expression using an EQ statement, its data type should match the type you specify now. When it does not, DEFINE converts the output to the specified type.</p>
</dd>
<dt><span class="italic">dimensions</span></dt>
<dd>
<p>The dimensions of the formula. Enclose the list in angle brackets. The <span class="syntaxinlineitalic">dimensions</span> argument is optional. When the formula is a single-cell value, you do not specify any dimensions. Also, when you include an expression in the definition, you do not specify a value. DEFINE automatically determines the dimensions.</p>
<p>However, when you do <span class="italic">not</span> include an expression in the definition, you must specify the dimensions. When you add the expression later using an EQ statement, the expression must have the same dimensions as the formula definition. When it does not, DEFINE forces the output to have the specified dimensions.</p>
<div class="infobox-note">
<p class="notep1">Restriction:</p>
You cannot define a formula that is dimensioned by a composite.</div>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the formula. When the formula is dimensioned, it must be defined in the same workspace as its dimensions. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When you close the current session, the object no longer exists.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4014"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2308"></a>Effect of Changing the Characteristics of Objects Used by a Formula</p>
<p>When you change the name, data type, or dimensions of any of the objects used by a formula, the formula is <span class="italic">not</span> automatically updated. The formula causes an error when objects it refers to have been deleted or are now the wrong data type.</p>
<p class="subhead2"><a id="OLADM2309"></a>Storing Complex Expressions and Calculations</p>
<p>To define a very complex calculation, you can define a program that uses a RETURN statement to return a value. You can then use the program as a function wherever you would use an expression or formula.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4015"></a>Examples</p>
<div id="OLADM2310" class="example">
<p class="titleinexample"><a id="sthref4016"></a>Example 9-87 Defining a Formula</p>
<p>This example adds a formula named <code dir="ltr">sales.diff</code> to an analytic workspace. This formula calculates the percent difference between total sales for the current year and last year.</p>
<p>The statements</p>
<pre dir="ltr">DEFINE sales.diff FORMULA LAGPCT(TOTAL(actual year) 1 year)
DESCRIBE sales.diff
</pre>
<p>produce the following definition.</p>
<pre dir="ltr">DEFINE sales.diff FORMULA DECIMAL &lt;year&gt;
EQ lagpct(TOTAL(actual year) 1 year) 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM792" class="refsect2"><a id="i78508"></a>
<h3 class="refsect2">DEFINE MODEL</h3>
<p><a id="sthref4017"></a><a id="sthref4018"></a><a id="sthref4019"></a>The DEFINE command with the MODEL keyword adds a new model object to an analytic workspace. A model is a set of interrelated equations. The calculations in an equation can be based either on variables or on dimension values. You can assign the results of the calculations directly to a variable or you can specify a dimension value for which data is being calculated. For example, in a financial application, all the equations might be based on the values of a line item dimension, and data would be calculated for line items such as total expenses and net income.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Defining a model merely creates a model object in the analytic workspace. You must also code a specification for the model, as described in MODEL.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4020"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>MODEL&nbsp;[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4021"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>MODEL</dt>
<dd>
<p>The object type when you are defining a model.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the object. For more information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When you close the current session, the object no longer exists.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4022"></a>Examples</p>
<div id="OLADM2311" class="example">
<p class="titleinexample"><a id="sthref4023"></a>Example 9-88 Defining a Simple Model</p>
<p>This example shows a simple model named <code dir="ltr">income.calc</code> that calculates the line items in an income statement. The model equations are based on the <code dir="ltr">line</code> dimension in the <code dir="ltr">demo</code> workspace. First, define the model and give it an LD.</p>
<pre dir="ltr">DEFINE income.calc MODEL
LD Model for calculating Income Statement items
</pre>
<p>Then use a MODEL statement to enter the specification for the model. For this example, you can enter model lines such as the ones in the following model description.</p>
<pre dir="ltr">DEFINE income.calc MODEL
LD Model for calculating Income Statement items
MODEL
dimension line
net.income = opr.income - taxes
opr.income = gross.margin - (marketing+selling+r.d)
gross.margin = revenue - cogs
END
</pre>
<p>To solve the model for the <code dir="ltr">actual</code> variable, enter data in <code dir="ltr">actual</code> for the input line items (<code dir="ltr">Revenue</code>, <code dir="ltr">Cogs</code>, <code dir="ltr">Marketing</code>, <code dir="ltr">Selling</code>, <code dir="ltr">R.D</code>, and <code dir="ltr">Taxes</code>). Then execute the following statement.</p>
<pre dir="ltr">income.calc actual 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM793" class="refsect2"><a id="i1007745"></a>
<h3 class="refsect2">DEFINE PARTITION TEMPLATE</h3>
<p><a id="sthref4024"></a><a id="sthref4025"></a><a id="sthref4026"></a><a id="sthref4027"></a><a id="sthref4028"></a><a id="sthref4029"></a><a id="sthref4030"></a><a id="sthref4031"></a><a id="sthref4032"></a>The DEFINE command with the <a id="sthref4033"></a><a id="sthref4034"></a><a id="sthref4035"></a><a id="sthref4036"></a><a id="sthref4037"></a><a id="sthref4038"></a>PARTITION TEMPLATE keywords adds a new partition template object to an analytic workspace. A partition template is a specification for the partitions of a partitioned variable. A partitioned variable is stored as multiple rows in the relational table of LOBs that is the analytic workspace&mdash;each partition is a row in the table. You define both partitioned and unpartitioned variables using DEFINE VARIABLE statements. Before you can define a partitioned variable you must first define a partition template object.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4039"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>PARTITION TEMPLATE &lt;<span class="italic">dimlist</span>&gt; &nbsp;PARTITION BY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{RANGE|LIST} (<span class="italic">dims_partitioned_by</span>) &nbsp;([<span class="italic">partition_definition_statement...</span>]) [AW <span class="italic">workspace</span>]</p>
<p>where <span class="syntaxinlineitalic">partition_definition_statement</span> defines a partition. The syntax varies depending on whether you specify <span class="syntaxinline">RANGE</span> or <span class="syntaxinline">LIST</span>:</p>
<ul>
<li>
<p>For <span class="syntaxinline">RANGE</span>:</p>
<p class="synopsis">PARTITION <span class="italic">partition-name</span> VALUES LESS THAN <span class="italic">const-exp</span> &lt;<span class="italic">partition-dimlist</span>&gt;</p>
</li>
<li>
<p>For <span class="syntaxinline">LIST</span>:</p>
<p class="synopsis">PARTITION <span class="italic">partition-name</span> VALUES ([<span class="italic">valuelist</span>)] &lt;<span class="italic">partition-dimlist</span>&gt;</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4040"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt><span class="italic">dimlist</span></dt>
<dd>
<p>A list of all of the logical dimensions for the variable that you are partitioning. You must enclose the names of the dimensions in a single set of angle brackets (<code dir="ltr">&lt;</code> <code dir="ltr">&gt;</code>). You must define a dimension before you can include it in the definition of a partition template.</p>
</dd>
<dt><span class="italic">dims_partitioned_by</span></dt>
<dd>
<p>The subset of dimensions specified by <span class="italic">dimlist</span> that actually specify the partitions of the variable. For range and list partitioning (that is, when you specify either the RANGE or LIST keywords), you can specify only one dimension for <span class="italic">dims_partitioned_by</span>. You cannot partition a variable along an <code dir="ltr">INTEGER</code> dimension.</p>
</dd>
<dt>PARTITION <span class="italic">partition-name</span></dt>
<dd>
<p>The name of the partition.</p>
</dd>
<dt>VALUES LESS THAN</dt>
<dd>
<p>Indicates that you are specifying a RANGE partition by comparing values.</p>
</dd>
<dt><span class="italic">constant-exp</span></dt>
<dd>
<p>A constant expression that has the same data type as the data type of the dimension specified for <span class="italic">dims_partitioned_by</span>.</p>
</dd>
<dt><span class="italic">partition-dimlist</span></dt>
<dd>
<p>A list of all of the dimensions of the partition template object (although the dimensions may be members of a composite). You must enclose the names of the dimensions in a single set of angle brackets (<code dir="ltr">&lt;</code> <code dir="ltr">&gt;</code>). Use this argument to specify the composite (if any) used to dimension the partitions that correspond to <span class="italic">partition-name</span>. When you do not specify a value then the partition is dimensioned densely by all of the dimensions of the partition template object.</p>
</dd>
<dt>VALUES</dt>
<dd>
<p>Indicates that you are specify a LIST partition by specifying values.</p>
</dd>
<dt><span class="italic">valuelist</span></dt>
<dd>
<p>A list of dimension values, separated by commas. You must surround text values with single quotes (for example, <code dir="ltr">&#39;mytext&#39;</code>). Specify values of conjoints by specify the values of the base dimensions, separated by a comma, in a single set of angle brackets (for example, <code dir="ltr">&lt;&#39;Value1&#39;, &#39;Value2&#39;&gt;</code>). Specify values of nonunique concat dimensions by specify the values of the base dimensions, separated by a colon, in a single set of angle brackets (for example, <code dir="ltr">&lt;&#39;Value1&#39;: &#39;Value2&#39;&gt;</code>).</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
I f you want to use a valueset object to specify values, do not specify values for <span class="italic">valuelist</span>. Instead, omit <span class="italic">valuelist</span> from the partition template definition and use a <a href="dml_commands_2.htm#CIHCFGGE">MAINTAIN ADD TO PARTITION</a> statement to specify values for the partition.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4041"></a>Examples</p>
<p>See <a href="#CHDIBFDG">Example 9-101, &#34;Defining a Variable with Partitions&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM794" class="refsect2"><a id="i78513"></a>
<h3 class="refsect2">DEFINE PROGRAM</h3>
<p><a id="sthref4042"></a><a id="sthref4043"></a><a id="sthref4044"></a>The DEFINE command with the PROGRAM keyword adds a new OLAP DML program object to an analytic workspace. An OLAP DML program is a collection of OLAP DML statements that helps you accomplish some workspace management or analysis task. Defining a program merely creates a program object in the analytic workspace. You must also code the actual lines of the program.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_program.htm#CFHFJIHH">&#34;Creating OLAP DML Programs&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4045"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>PROGRAM&nbsp;[<span class="italic">datatype</span>|<span class="italic">dimension</span>]&nbsp;[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4046"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>PROGRAM</dt>
<dd>
<p>The object type when you are defining a program.</p>
</dd>
<dt><span class="italic">datatype</span></dt>
<dd>
<p>The data type of the value to be returned by the program when it is called as a function. You can use any of the data types that apply to variables.</p>
</dd>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of a dimension, whose value the program returns when it is called as a function. The return value is a single value of the dimension, not a position (<code dir="ltr">INTEGER</code>). The dimension must be defined in the same workspace as the program.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the program. When the program returns a dimension, the program must be defined in the same workspace as the dimension. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When you close the current session, the object no longer exists.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4047"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2312"></a>Returning Values</p>
<p>Use a RETURN statement in a program when you want it to return a value. The argument to the RETURN statement is an expression that specifies the value to return. When the expression does not match the declared data type or dimension, the value is converted (if possible) to the declared data type or dimension value.</p>
<p>When you do not specify a data type or dimension in the definition of a program, its return value is treated as worksheet data and Oracle OLAP converts any return value to the data type required by the calling context which may lead to unexpected results.</p>
<p>For a program to return a value, you must call the program as a function. That is, you must use it as an expression in a statement. In the following example, the program <code dir="ltr">isrecent</code> is being treated as a function. It is an argument to the REPORT command.</p>
<pre dir="ltr">REPORT isrecent(actual)
</pre>
<p>When the program returns values of a dimension, the program is in the output of the LISTBY function, and OBJ(ISBY) is <code dir="ltr">TRUE</code> for the dimension.</p>
<p>See the entries for the <a href="#i79082">ARGUMENT</a>, <a href="#i79175">CALL</a>, and <a href="dml_commands_2.htm#i79191">RETURN</a> commands for more information about programs as user-defined functions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4048"></a>Examples</p>
<div id="OLADM2313" class="example">
<p class="titleinexample"><a id="sthref4049"></a>Example 9-89 Basing Program Flow on Test Results</p>
<p>The <code dir="ltr">saleseval</code> program tests whether total sales for a month exceeds total planned sales for the month. The program executes different statements based on the results of the test.</p>
<pre dir="ltr">DEFINE SALESEVAL PROGRAM
PROGRAM
ARGUMENT onemonth MONTH
VARIABLE excess DECIMAL
ALLSTAT
LIMIT month TO onemonth
IF TOTAL(sales, month) GT TOTAL(sales.plan, month)
   THEN DO
     excess = (TOTAL(sales, month) - 
       - TOTAL(sales.plan, month)) -
       / TOTAL(sales.plan, month) * 100
     SHOW JOINCHARS(&#39;Sales exceeded plan by &#39; excess &#39;%.&#39;) 
     DOEND
ELSE SHOW JOINCHARS(&#39;We\&#39;re not meeting plan. &#39; -
   &#39;Let\&#39;s get working!&#39;)
REPORT DOWN product W 10 ACROSS district: sales - sales.plan
END
</pre>
<p>When total sales for the month exceeds total planned sales for the month, the THEN statement lines are executed. The program calculates the percentage by which actual sales exceeds planned sales and places the result in a numeric variable called <code dir="ltr">excess</code>. The program then sends the results to the current outfile. The JOINCHARS function is used to combine the calculated expression <code dir="ltr">excess</code> with the text expression &#34;Sales exceeded plan by&#34; in the output.</p>
<p>When total sales does not exceed planned sales, the ELSE statement line is executed and a different message is produced.</p>
<p>After the THEN or ELSE statement lines are executed, control flows to the next line in the program, and a report of sales in excess of plan is produced.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM795" class="refsect2"><a id="i78518"></a>
<h3 class="refsect2">DEFINE RELATION</h3>
<p><a id="sthref4050"></a><a id="sthref4051"></a><a id="sthref4052"></a><a id="sthref4053"></a><a id="sthref4054"></a>The DEFINE command with the RELATION keyword adds a new relation object to an analytic workspace. A relation describes a correspondence between the values of two or more dimensions. It can have dimensions, just like a variable, but the values of the relation must be values from the related dimension.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Defining a relation merely adds the definition of the relation to the analytic workspace; it does not populate the relation. To populate relations using the OLAP DML, you can issue OLAP DML SQL, FILEREAD, SET, or SET1 statements.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4055"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>RELATION&nbsp;<span class="italic">related-dim&nbsp;</span>[&lt;<span class="italic">dimensions</span>...&gt;]&nbsp;[TEMP]&nbsp;[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4056"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>RELATION</dt>
<dd>
<p>The object type when you are defining a relation.</p>
</dd>
<dt><span class="italic">related-dim</span></dt>
<dd>
<p>Specifies the dimension to which one or more <span class="italic">dimensions</span> are related. A relation is normally used to store information about the relationship between two dimensions; for example, the cities that belong in each region.</p>
<p>In the definition, the dimension having fewer values is normally specified as the related dimension (for example, regions). The dimension having more values is normally specified as a dimension of the relation (for example, cities).</p>
</dd>
<dt>&lt;<span class="italic">dimensions</span>...&gt;</dt>
<dd>
<p>The names of the dimensions of the relation. You must enclose the names of the dimensions in a single set of angle brackets (<code dir="ltr">&lt; &gt;</code>). You must define a dimension before including it in the definition of a relation. Do not include composites in the dimension list.</p>
<div class="infobox-note">
<p class="notep1">Restriction:</p>
Oracle OLAP does not support the use of composites as dimensions for relations. Do not attempt to define them.</div>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
When defining two relations between the same dimensions, use the RELATION command to identify which relation is the default relation.</div>
</dd>
<dt>TEMP</dt>
<dd>
<p>Indicates that the values of the relation are only temporary. The relation is defined in the current workspace and can contain values during the current session. However, when you update and commit the workspace, only the definition of the relation is saved. When you end the session or switch to another workspace, the data values are discarded. Each time you start the workspace, the values of a temporary relation are <code dir="ltr">NA</code>.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the relation. The relation must be defined in the same workspace as its dimensions. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When the session ends, the object no longer exists. The behavior specified by the SESSION keyword differs from the behavior specified by the TEMP keyword which is that the values are temporary, but the object definition remains in the workspace in which you create it.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4057"></a>Examples</p>
<div id="OLADM2314" class="example">
<p class="titleinexample"><a id="sthref4058"></a>Example 9-90 Creating, Populating, and Totaling by a Relation</p>
<p>The following example defines a relation between <code dir="ltr">division</code> and <code dir="ltr">product</code>, stores the values of the relation, and then totals <code dir="ltr">units</code> by <code dir="ltr">division</code>, even though <code dir="ltr">units</code> is dimensioned by <code dir="ltr">product</code>. The following statement defines the <code dir="ltr">div.prod</code> relation.</p>
<pre dir="ltr">DEFINE div.prod RELATION division &lt;product&gt;
</pre>
<p>The following statements store values of <code dir="ltr">division</code> in <code dir="ltr">div.prod</code>.</p>
<pre dir="ltr">LIMIT product TO &#39;Tents&#39; &#39;Canoes&#39;
div.prod = &#39;Camping&#39;
LIMIT product TO &#39;Racquets&#39;
div.prod = &#39;Sporting&#39;
LIMIT product TO &#39;Sportswear&#39; &#39;Footwear&#39;
div.prod = &#39;Clothing&#39;
</pre>
<p>You can use a REPORT statement to see the values stored in <code dir="ltr">div.prod</code>.</p>
<pre dir="ltr">report div.prod
</pre>
<p>This statement produces the following output.</p>
<pre dir="ltr">PRODUCT        DIV.PROD
------------- ----------
Tents         Camping
Canoes        Camping
Racquets      Sporting
Sportswear    Clothing
Footwear      Clothing
</pre>
<p>The <code dir="ltr">div.prod</code> relation lets you look at division totals in a report, even though the data is dimensioned by <code dir="ltr">product</code>.</p>
<pre dir="ltr">REPORT TOTAL(units division) 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM796" class="refsect2"><a id="i78523"></a>
<h3 class="refsect2">DEFINE SURROGATE</h3>
<p><a id="sthref4059"></a><a id="sthref4060"></a><a id="sthref4061"></a><a id="sthref4062"></a><a id="sthref4063"></a><a id="sthref4064"></a><a id="sthref4065"></a><a id="sthref4066"></a>The DEFINE command with the SURROGATE keyword adds a new dimension surrogate object to an analytic workspace. A surrogate provides an alternative set of values for a dimension. You can use a surrogate rather than a dimension in a model, in a LIMIT command, in a qualified data reference, or in data loading with statements such as FILEREAD, FILEVIEW, SQL FETCH, and SQL IMPORT.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Defining a surrogate merely adds the definition of the dimension surrogate to the analytic workspace; it does not populate the surrogate. To populate surrogates using the OLAP DML, you can issue OLAP DML SQL, FILEREAD, SET, or SET1 statements.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4067"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>SURROGATE&nbsp;<span class="italic">targetname&nbsp;type&nbsp;</span>[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
<p>where <span class="syntaxinlineitalic">type</span> has the following syntax:</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[TEXT|NTEXT] [WIDTH <span class="italic">n</span>]|ID|INTEGER|NUMBER (<span class="italic">precision</span>[, <span class="italic">scale</span>] | <span class="syntaxinlineitalic">datatime-datatype</span>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4068"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SURROGATE</dt>
<dd>
<p>The object type when you are defining a dimension surrogate.</p>
</dd>
<dt><span class="italic">targetname</span></dt>
<dd>
<p>The name of the dimension for which you are creating a surrogate. See <a href="#CIHGFFCJ">&#34;Restrictions on the Use of Surrogates&#34;</a> for points to keep in mind when determining the target.</p>
</dd>
<dt>TEXT</dt>
<dt>NTEXT</dt>
<dt>ID</dt>
<dd>
<p>The data type for a dimension surrogate with text values. When all the values of a dimension surrogate are eight single-byte characters or less, give it a data type of ID. When one or more dimension values has more than eight single-byte characters, you must give it a data type of TEXT or NTEXT. For greater efficiency and ease of use, give dimensions a data type of ID whenever possible.</p>
</dd>
<dt>WIDTH <span class="italic">n</span></dt>
<dd>
<p>For TEXT or NTEXT dimension surrogate, the width, in bytes, of the storage area of each value of an object. Valid width values are 1 through 4000. Specify a fixed width only when you are certain that the values of a particular dimension surrogate are of similar size. When a value exceeds the specified width, Oracle OLAP truncates it.</p>
</dd>
<dt>INTEGER</dt>
<dd>
<p>The data type for a dimension surrogate with values that are the ordinal positions (1, 2, and so on) of the values in its dimension. You might create an INTEGER type dimension surrogate for a <code dir="ltr">NUMBER</code> type dimension so that you can specify dimension values by position instead of by the value of the dimension. When you define an INTEGER type dimension surrogate, Oracle OLAP automatically assigns an <code dir="ltr">INTEGER</code> value to the surrogate for each of the positions in the dimension.</p>
</dd>
<dt>NUMBER</dt>
<dd>
<p>Specifies that the dimension surrogate has a data type of <code dir="ltr">NUMBER</code>. See <a href="dml_expression.htm#CJACDECG">&#34;Numeric Data Types&#34;</a> for more information.</p>
</dd>
<dt><span class="italic">precision</span></dt>
<dd>
<p>Specifies the total number of characters in the value of a dimension surrogate of type <code dir="ltr">NUMBER</code>.</p>
</dd>
<dt><span class="italic">scale</span></dt>
<dd>
<p>Specifies the number of characters that can be to the right of a decimal point of a dimension surrogate of type <code dir="ltr">NUMBER</code>.</p>
</dd>
<dt><span class="italic">datetime_datatype</span></dt>
<dd>
<p>Specifies a datetime data type (that is, <code dir="ltr">DATETIME</code> , <code dir="ltr">TIMESTAMP</code>, <code dir="ltr">TIMESTAMP_TZ</code>, or <code dir="ltr">TIMESTAMP-LTZ</code>). See <a href="dml_expression.htm#BABJGJIH">&#34;Datetime and Interval Data Types&#34;</a> for more information.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the dimension surrogate. The dimension for which you define the surrogate must be defined in the same workspace. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When you close the current session, the object no longer exists.&nbsp;Use this keyword when the definition of the <span class="italic">targetname</span> dimension includes SESSION.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4069"></a>Usage Notes</p>
<p class="subhead2"><a id="CIHGFFCJ"></a><a id="OLADM2315"></a>Restrictions on the Use of Surrogates</p>
<p>Keep the following restrictions in mind when determining a target for your surrogate:</p>
<ul>
<li>
<p>You cannot create a surrogate for a dimension that has a type of DAY, WEEK, MONTH, QUARTER, or YEAR or for a composite.</p>
</li>
<li>
<p>When you create a surrogate for a conjoint, you cannot convert the conjoint to a composite.</p>
</li>
</ul>
<p>You cannot specify a dimension surrogate as the dimension or related dimension argument when you define a concat dimension, a formula, a program, a relation, a valueset, or a variable. Additionally, in data loading you cannot create new dimension values using a dimension surrogate</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4070"></a>Examples</p>
<div id="OLADM2316" class="example">
<p class="titleinexample"><a id="sthref4071"></a>Example 9-91 Creating an INTEGER Dimension Surrogate</p>
<p>The following statement creates an INTEGER type dimension surrogate for the <code dir="ltr">store_id</code> dimension.</p>
<pre dir="ltr">DEFINE storepos SURROGATE store_id INTEGER
</pre></div>
<!-- class="example" -->
<div id="OLADM2317" class="example">
<p class="titleinexample"><a id="sthref4072"></a>Example 9-92 Creating a NUMBER Dimension Surrogate</p>
<p>The following statement creates an <code dir="ltr">NUMBER</code> type dimension surrogate for the <code dir="ltr">product</code> dimension, which is a TEXT dimension that has product names as values. The <span class="italic">precision</span> argument to the NUMBER keyword specifies that a value in <code dir="ltr">prodnum</code> can have no more than seven characters and the scale argument specifies that no more than three characters can be to the right of the decimal point.</p>
<pre dir="ltr">DEFINE prodnum SURROGATE product NUMBER(7, 3)
</pre>
<p>The following statement sets the first value of <code dir="ltr">prodnum</code> to <code dir="ltr">1083.375</code>.</p>
<pre dir="ltr">prodnum(product 1) = 1083.375
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM797" class="refsect2"><a id="i78528"></a>
<h3 class="refsect2">DEFINE VALUESET</h3>
<p><a id="sthref4073"></a><a id="sthref4074"></a><a id="sthref4075"></a>The DEFINE command with the VALUESET keyword <a id="sthref4076"></a><a id="sthref4077"></a>adds a new valueset object to an analytic workspace. A valueset is a list of dimension values for one or more dimensions. You use a valueset to save dimension status lists across sessions.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Defining a valueset adds the definition of the valueset to the analytic workspace and sets all of its values to null (<code dir="ltr">NA</code>). To assign values to a valueset use the LIMIT command. You can also use a STATUS statement and the STATFIRST, INSTAT, and VALUES functions to work with a valueset.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4078"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>VALUESET&nbsp;<span class="italic">dimension&nbsp;</span>[&lt;<span class="italic">dims</span>...&gt;]&nbsp;[NOORDER] [TEMP]&nbsp;[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4079"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>VALUESET</dt>
<dd>
<p>The object type when you are defining a valueset.</p>
</dd>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of the previously-defined dimension whose values you want to store in the valueset.</p>
</dd>
<dt><span class="italic">dims</span></dt>
<dd>
<p>When defining a multi-dimensional valueset, the names of the previously-defined dimensions by which you want the valueset dimensioned.</p>
</dd>
<dt>NOORDER</dt>
<dd>
<p>For a dimensioned valueset (that is, a valueset for which you specify one or more value for <span class="italic">dims</span>), specifies that Oracle OLAP stores the valueset as a compressed bitmap. When you specify this keyword the order of the original status is lost.</p>
</dd>
<dt>TEMP</dt>
<dd>
<p>Indicates that the values of the valueset are only temporary. The valueset has a definition in the current workspace and can contain values during the current session. However, when you update and commit, only the definition of the valueset is saved. When you end the session or switch to another workspace, the values are discarded. Each time you start the workspace, the value of a temporary valueset is null.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the valueset. The valueset must be defined in the same workspace as its dimensions. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When the session ends, the object no longer exists. The behavior specified by SESSION is different from the behavior specified by the TEMP keyword which is that the values are temporary but the object definition remains in the workspace in which you create it.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4080"></a>Examples</p>
<div id="OLADM2318" class="example">
<p class="titleinexample"><a id="CIHCDBHJ"></a>Example 9-93 Creating and Assigning Values to a Valueset</p>
<p>This example adds the valueset named <code dir="ltr">lineset</code> to the demonstration workspace. The <code dir="ltr">lineset</code> valueset is dimensioned by <code dir="ltr">line</code>, and therefore it can be limited by the current values of the <code dir="ltr">line</code> dimension. The LD statement attaches a description to the object.</p>
<p>The following statements 1) limit the <code dir="ltr">line</code> dimension and display the values in status, 2) create a valueset named <code dir="ltr">lineset</code> by defining valueset and limiting the valueset to those values currently in status for the line dimension, and 3) display the values of the lineset.</p>
<pre dir="ltr">LIMIT line TO FIRST 2
STATUS line
</pre>
<pre dir="ltr">The current status of LINE is:
REVENUE, COGS

&#34; Define the valueset and specify a long description for it
</pre>
<pre dir="ltr">DEFINE lineset VALUESET line
LD Valueset for LINE dimension values
&#34; Assign the values that are currently in status for line 
&#34; as the values of valueset
LIMIT lineset TO line
UPDATE

SHOW lineset
</pre>
<pre dir="ltr">Revenue
Cogs 
</pre></div>
<!-- class="example" -->
<div id="OLADM2319" class="example">
<p class="titleinexample"><a id="CIHFIGIB"></a>Example 9-94 Creating and Assigning Values to a Multidimensional Valueset</p>
<p><a id="sthref4081"></a><a id="sthref4082"></a><a id="sthref4083"></a><a id="sthref4084"></a><a id="sthref4085"></a>Assume that your analytic workspace has the variables and dimensions with the following definitions.</p>
<pre dir="ltr">DEFINE geography DIMENSION TEXT
DEFINE product DIMENSION TEXT
DEFINE sales VARIABLE DECIMAL &lt;geography product&gt;
DEFINE salestax VARIABLE DECIMAL &lt;geography&gt;
</pre>
<p>Assume also that the analytic workspace contains the following dimensions whose values are the names of variables and dimensions within the workspace.</p>
<pre dir="ltr">DEFINE all_variables DIMENSION TEXT
MAINTAIN all_variables ADD &#39;sales&#39; &#39;salestax&#39;
DEFINE all_dims DIMENSION TEXTMAINTAIN all_dims ADD &#39;geography&#39; &#39;product&#39;
</pre>
<p>The following statements create and populate a valueset for the values of <code dir="ltr">all_variables</code> and <code dir="ltr">all_dims</code>, and then report the values of that valueset.</p>
<pre dir="ltr">DEFINE variables_dims VALUESET all_dims &lt;all_variables&gt;
&#34; Assign all values of all_dims and all_variables to the valueset 
LIMIT variables_dims TO ALL
REPORT variables_dims
 
ALL_VARIABLES        VARIABLES_DIMS
---------------- ------------------------------
sales            geography
                 product
salestax         geography
                 product
 
</pre>
<p>To create a multidimensional valueset that has the correct dimensions related to the variables that use them, you issue the following statement that uses a QDR to limit the <code dir="ltr">all_dims</code> values for the <code dir="ltr">salestax</code> value of <code dir="ltr">all_variables</code>.</p>
<pre dir="ltr">LIMIT variables_dims(all_variables  &#39;salestax&#39;) TO &#39;geography&#39;
REPORT variables_dims

ALL_VARIABLES        VARIABLES_DIMS
---------------- ------------------------------
sales            geography
                 product
salestax         geography
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM798" class="refsect2"><a id="i78533"></a>
<h3 class="refsect2">DEFINE VARIABLE</h3>
<p><a id="sthref4086"></a><a id="sthref4087"></a><a id="sthref4088"></a><a id="sthref4089"></a><a id="sthref4090"></a><a id="sthref4091"></a><a id="sthref4092"></a><a id="sthref4093"></a><a id="sthref4094"></a>The DEFINE command with the VARIABLE keyword adds a new variable object to an analytic workspace. <a id="sthref4095"></a><a id="sthref4096"></a><a id="sthref4097"></a>Variables store one type of data, which can be numeric, text, Boolean, or dates. Beside the data type of a variable, the definition that you create for a variable also determines the following characteristics of the variable:</p>
<ul>
<li>
<p>The number of elements that are actually created in the array that is the variable.</p>
</li>
<li>
<p>The logical order of the variable&#39;s elements.</p>
</li>
<li>
<p>Whether the variable&#39;s data is stored permanently or is only available for the session.</p>
</li>
<li>
<p>The number of LOBs that Oracle OLAP creates for the variable&#39;s data.</p>
</li>
</ul>
<p>You can also define local program variables using a <a href="dml_commands_2.htm#i79234">VARIABLE</a> command. These variables exist only when the program is running.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Defining a variable merely adds the definition of the variable to the analytic workspace; it does not populate the variable. To populate variables using the OLAP DML, you can issue OLAP DML SQL, FILEREAD, SET, or SET1 statements.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4098"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>[<span class="underline">VARIABLE</span>]&nbsp;<span class="italic">datatype&nbsp;</span>[&lt;<span class="italic">dims</span>...&gt;] [WITH NULLTRACKING] [WITH AGGCOUNT] -</p>
<p class="synopsis">[<span class="underline">PERMANENT</span> | TEMP ] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ RANSPACE64] [(<span class="italic">partition-instance...</span>)]&nbsp;[WIDTH&nbsp;<span class="italic">n</span>]&nbsp;[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
<p>where:</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">dims</span> are the dimensions of the variable separated by commas. For a dimension of a variable you can specify a dimension object, a partition template object, a named uncompressed composite, a compressed composite, or an unnamed uncompressed composite using one of the following:</p>
<dl>
<dd><span class="syntaxinlineitalic">dimension_name</span></dd>
<dd><span class="syntaxinlineitalic">partition_template_name</span> <span class="syntaxinline">&lt;</span><span class="syntaxinlineitalic">dims</span><span class="syntaxinline">&gt;</span></dd>
<dd><span class="syntaxinlineitalic">uncompressed_composite_name</span> <span class="syntaxinline">&lt;[</span><span class="syntaxinlineitalic">basedims</span><span class="syntaxinline">...]&gt;</span></dd>
<dd><span class="syntaxinlineitalic">compressed_composite_name</span> <span class="syntaxinline">&lt;[</span><span class="syntaxinlineitalic">basedims</span><span class="syntaxinline">...]&gt;</span></dd>
<dd><span class="syntaxinline">SPARSE &lt;</span><span class="syntaxinlineitalic">basedims</span><span class="syntaxinline">...&gt;</span></dd>
</dl>
<div class="infobox-note">
<p class="notep1">Note:</p>
The order in which you list the <span class="italic">dims</span> of a variable is the default order of the dimensions and behavior of a variety of statements (such as REPORT and UNRAVEL) and affects how the data for the variable is stored (as discussed in <a href="#CHDIIBHF">&#34;Effect of Dimension Order on Variable Storage and Statement Looping&#34;</a>. Also, when you define multiple objects with the same dimensions, most operations work much more efficiently when you list the dimensions in the same order in each definition.</div>
</li>
<li>
<p><span class="syntaxinlineitalic">partition-instance</span> are the partitions of the variable separated by commas. Use the following syntax to specify a partition.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PARTITION <span class="italic">partition-name</span> INTERNAL [TEMP | PERMANENT]</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4099"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the variable you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>VARIABLE</dt>
<dd>
<p>The object type when you are defining a variable. You do not have to include the word VARIABLE, because it is the default.</p>
</dd>
<dt><span class="italic">datatype</span></dt>
<dd>
<p>The data type of the data to be stored in the variable. The data types, their abbreviations, and the range of acceptable values are shown in <a href="dml_expression.htm#CJADHGII">Table 2-1, &#34;<span class="bolditalic">Summary of OLAP DML Data Types</span>&#34;</a>.</p>
</dd>
<dt><span class="italic">dimension_name</span></dt>
<dd>
<p>The name of a simple, concat, conjoint, or alias dimension that you have previously defined using a DEFINE DIMENSION statement. In this case, you specify the name of the dimension.</p>
</dd>
<dt>RANSPACE64</dt>
<dd>
<p>When defining a <code dir="ltr">TEXT</code>, <code dir="ltr">NTEXT</code>, or <code dir="ltr">RAW</code> variable, specify this keyword to increase the maximum number of characters for the values of the variable from nearly <code dir="ltr">2**32</code> to nearly <code dir="ltr">2**64</code>.</p>
</dd>
<dt>&nbsp;<span class="italic">partition-template-name</span>&lt;<span class="italic">dims</span>&gt;</dt>
<dd>
<p>The name of a partition template object that you have previously defined using a DEFINE PARTITION TEMPLATE statement. For <span class="italic">dims</span>, specify the names of the dimensions of the partition template object. These dimensions must be the same dimensions as those used to define the partition template object.</p>
</dd>
<dt><span class="italic">uncompressed_composite_name</span> &lt;[<span class="italic">basedims</span>...]&gt;</dt>
<dd>
<p>The name of an uncompressed composite previously defined using a DEFINE COMPOSITE statement. For the optional <span class="italic">basedims</span> argument, specify the names, separated by commas, of the dimensions used to define the composite.</p>
</dd>
<dt><span class="italic">compressed_composite_name</span> &lt;<span class="italic">basedims</span>...&gt;</dt>
<dd>
<p>The name of a compressed composite previously defined using a DEFINE COMPOSITE statement. For the optional <span class="italic">basedims</span> argument, specify the names, separated by commas, of the dimensions used to define the composite.</p>
<p>When defining a variable that is dimensioned by a compressed composite, keep the following points in mind:</p>
<ul>
<li>
<p>A compressed composite can dimension only one variable or one partition of a variable. A compressed composite cannot be a shared composite.</p>
</li>
<li>
<p>The compressed composite must be the last dimension in the variable&#39;s dimension list of the DEFINE VARIABLE statement that defines the variable.</p>
</li>
</ul>
</dd>
<dt>SPARSE &lt;<span class="italic">basedims</span>...&gt;</dt>
<dd>
<p>Indicates that you want Oracle OLAP to create an unnamed composite and use it when dimensioning the variable. For the <span class="italic">basedims</span> argument, specify the names of the dimensions, separated by commas, for which the unnamed composite is created.</p>
</dd>
<dt>WITH NULLTRACKING</dt>
<dd>
<p>When the variable is dimensioned by a composite, specifies <a id="sthref4100"></a><a id="sthref4101"></a>that Oracle OLAP create NA2 bits for the cells of the variable.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BGECIBHD">&#34;NA2 Bits and Null Tracking&#34;</a></div>
</dd>
<dt>WITH AGGCOUNT</dt>
<dd>
<p>Specifies <a id="sthref4102"></a><a id="sthref4103"></a>that Oracle OLAP automatically creates an <code dir="ltr">INTEGER</code> variable in which it stores the non-<code dir="ltr">NA</code> counts of the number of leaf nodes that contributed to aggregate values calculated for RELATION statements that have an AVERAGE, HWAVERAGE, or WAVERAGE operator. You <span class="italic">must</span> include this phrase to calculate average aggregations for a variable dimensioned by a compressed composite. For more information on Aggcount variables, see <a href="#CIHFEAGE">&#34;Aggcount Variables&#34;</a>.</p>
</dd>
<dt>PERMANENT</dt>
<dt>TEMP</dt>
<dd>
<p>Specifies that a variable or a partition of a variable is either permanent or temporary. After you update and commit, the definition of both permanent and temporary variables and partitions is always saved between sessions. Specifying permanent or temporary determines whether, after you update and commit, the values of a variable or a partition of a variable are saved or discarded when you end your session or switch to another workspace:</p>
<ul>
<li>
<p>Permanent variables and partitions&shy;&mdash;Oracle OLAP saves the data values or a permanent variable or permanent partitions. When you start the workspace, the data values or a permanent variable or permanent partitions are the same as they were at the last commit.</p>
</li>
<li>
<p>Temporary variables and partitions&shy;&mdash;Oracle OLAP discards the data values of a temporary variable or temporary partition. Each time you start the workspace, the values of a temporary variable or temporary partition are <code dir="ltr">NA</code>.</p>
</li>
</ul>
<p>Keep the following points in mind when specifying the PERMANENT and TEMP keywords:</p>
<ul>
<li>
<p>By default, a variable is permanent.</p>
</li>
<li>
<p>Temporary variables can be dimensioned by partition template objects or by temporary dimensions.</p>
</li>
<li>
<p>By default, a top-level partition of a variable has the same permanence as the variable that contains it. Specifically, a partition of a temporary variable is a temporary partition unless you use the PERMANENT keyword to make it a permanent partition, and a partition of a permanent variable is a permanent partition unless you use the TEMPORARY keyword to make it a temporary partition. To indicate different behavior, use either the PERMANENT or TEMP keyword.</p>
</li>
<li>
<p>By default, a subpartition has the same permanence as its parent partition. To indicate different behavior, use either the PERMANENT or TEMP keyword.</p>
</li>
</ul>
</dd>
<dt>WIDTH <span class="italic">n</span></dt>
<dd>
<p>(You can abbreviate WIDTH as W.) The width, in bytes, of the storage area for each value of a variable. When you are using a multibyte character set, be sure to specify the number of bytes, not characters.</p>
<p>You specify fixed widths to create faster and more compact data storage formats. You can specify fixed widths for dimensioned TEXT, NTEXT, and INTEGER variables only, as described in the following list:</p>
<ul>
<li>
<p>For dimensioned TEXT and NTEXT variables, you can specify a width from 1 byte through 4,000 bytes. Specify a fixed width for such variables only when you are certain that the values of a particular variable are of similar size. You cannot assign a width to a scalar variable.</p>
</li>
<li>
<p>For dimensioned INTEGER variables, you can specify a width of 1 byte only. Define a fixed width INTEGER variable only when you are certain that all the values for that variable are between -128 and 127.</p>
</li>
</ul>
<p>The default widths for variables are: 2 bytes for SHORTINTEGER, 4 bytes for DATE, INTEGER, and SHORTDECIMAL, and 8 bytes for DECIMAL and ID. TEXT and NTEXT variables that do not have fixed widths are stored on two sets of pages. The first set contains 4-byte cells, each of which points to the actual text value that is stored in the other set of pages. The default width of 4 bytes for TEXT and NTEXT variables is for these 4-byte cells.</p>
</dd>
<dt>PARTITION <span class="italic">partition-name</span> INTERNAL</dt>
<dd>
<p>Specifies a partition of the variable where <span class="italic">partition-name</span> is the name of the partition.</p>
<p>When defining the partitions of a variable dimensioned by a compressed composite, keep the following points in mind:</p>
<ul>
<li>
<p>A compressed composite can dimension only one partition.</p>
</li>
<li>
<p>The partitions of a variable dimensioned by a compressed composite must respect the parent-child relationships of the hierarchical dimensions. When an AGGREGATE command executes, data cannot be aggregated across partitions. To verify if a variable is partitioned correctly, use the <a href="dml_functions_2.htm#BAJFFIHC">PARTITIONCHECK</a> function.</p>
</li>
</ul>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the variable. When the variable is dimensioned, it must be defined in the same workspace as its dimensions. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When the session ends, the object no longer exists. The behavior specified by SESSION is different than the behavior specified by the TEMP keyword which is that the values are temporary but the object definition remains in the workspace in which you create it.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4104"></a>Usage Notes</p>
<p class="subhead2"><a id="CIHFEAGE"></a><a id="OLADM2320"></a>Aggcount Variables</p>
<p>When <a id="sthref4105"></a><a id="sthref4106"></a>you include the WITH AGGCOUNT phrase in a DEFINE VARIABLE statement, Oracle OLAP automatically creates the variable specified in the DEFINE statement and a secondary variable (often called the Aggcount variable). The Aggcount variable is an <code dir="ltr">INTEGER</code> variable that Oracle OLAP uses when performing average aggregations for the defined variable. When resolving RELATION statements that have an AVERAGE, HAVERAGE, WAVERAGE, or HWAVERAGE operator and that do not have a COUNT NO phrase, Oracle OLAP stores the non-<code dir="ltr">NA</code> counts of the number of leaf nodes that contribute to the average aggregate values in the Aggcount variable.</p>
<p>Most statements that maintain a variable also automatically maintain an associated Aggcount variable. For example, an EXPORT statement exports both a variable and its associated Aggcount variable, and a CLEAR statement clears both the variable and the related portions of the associated Aggcount variable. Additionally, some OLAP DML statements are specific to the use of Aggcount objects. <a href="#CIHGHEFI">Table 9-6, &#34;OLAP DML Statements for Aggcount Variables&#34;</a> lists these statements.</p>
<div id="OLADM2321" class="tblformal">
<p class="titleintable"><a id="sthref4107"></a><a id="CIHGHEFI"></a>Table 9-6 OLAP DML Statements for Aggcount Variables</p>
<table class="cellalignment3618" title="OLAP DML Statements for Aggcount Variables" summary="This table lists the OLAP DML statements that apply to Aggcount variables." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t103">Statement</th>
<th class="cellalignment3616" id="r1c2-t103">Keywords</th>
<th class="cellalignment3616" id="r1c3-t103">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t103" headers="r1c1-t103">
<p><a href="#i78533">DEFINE VARIABLE</a></p>
</td>
<td class="cellalignment3617" headers="r2c1-t103 r1c2-t103">
<p>WITH AGGCOUNT</p>
</td>
<td class="cellalignment3617" headers="r2c1-t103 r1c3-t103">
<p>Defines a variable and an associated Aggcount variable.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t103" headers="r1c1-t103">
<p><a href="dml_functions_1.htm#BCFGCEGE">AGGCOUNT</a></p>
</td>
<td class="cellalignment3617" headers="r3c1-t103 r1c2-t103">&nbsp;</td>
<td class="cellalignment3617" headers="r3c1-t103 r1c3-t103">
<p>Retrieves the values of the Aggcount variable associated with the specified variable.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t103" headers="r1c1-t103">
<p><a href="#g1044782">CHGDFN</a></p>
</td>
<td class="cellalignment3617" headers="r4c1-t103 r1c2-t103">
<p>ADD|DROP AGGCOUNT</p>
</td>
<td class="cellalignment3617" headers="r4c1-t103 r1c3-t103">
<p>Adds or drops an Aggcount variable for the specified variable.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t103" headers="r1c1-t103">
<p><a href="dml_functions_2.htm#g1054016">OBJ</a></p>
</td>
<td class="cellalignment3617" headers="r5c1-t103 r1c2-t103">
<p>HASAGGCOUNT</p>
</td>
<td class="cellalignment3617" headers="r5c1-t103 r1c3-t103">
<p>Returns a <code dir="ltr">BOOLEAN</code> value that indicates whether or not a specified variable has an Aggcount variable associated with it.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="BGECIBHD"></a><a id="OLADM2322"></a>NA2 Bits and Null Tracking</p>
<p>Relational fact tables sometimes have null facts (that is, facts that have a null value). Typically, when Oracle OLAP creates a variable dimensioned by a composite, it does not create a composite tuple for an NA (or null) value. Given this typical behavior, OLAP DML variables would not correspond to their base relational fact table because the variables would eliminate the null facts.</p>
<p>To support OLAP DML composite-dimensioned variables that correspond to relational fact tables with null facts, Oracle OLAP has a special NA bit called an <a id="sthref4108"></a><a id="sthref4109"></a>NA2 bit. These NA2 bits tracks whether or not each cell of the variable has null value because the underlying relational table has a null fact. When the corresponding fact table has a null fact, you want Oracle OLAP to intentionally include an NA value in the composite tuples for the variable and NA2 bits are used by Oracle OLAP to do just that. NA2 bits are used by Oracle OLAP when it populates variables using the <a href="dml_commands_2.htm#i78693">SQL IMPORT</a> command, the <a href="#i78745">AGGREGATE command</a>, and variables that were created as materialized views. They are also used by Oracle OLAP when it populates a relational table using the OLAP_TABLE SQL function. Additionally, Oracle OLAP recognizes NA2 values when evaluating expressions using arithmetic and Boolean operators.</p>
<p>The OLAP DML provides the following statements for working with variables that have NA2 bits:</p>
<ul>
<li>
<p>To create a variable with NA2 bits, use the DEFINE VARIABLE statement with the NULLTRACKING phrase.</p>
</li>
<li>
<p>To add NA2 bits to a variable that does not have NA2 bits, use the <a href="#g1044782">CHGDFN</a> statement with the NULLTRACKING phrase.</p>
</li>
<li>
<p>To remove NA2 bits from a variable that has NA2 bits, use the CHGDFN statement with the DROP NULLTRACKING phrase.</p>
</li>
<li>
<p>For testing and debugging purposes, use the <a href="dml_functions_2.htm#CHDBDHEC">NA2</a> function to set one or more of the NA2 bit of a variable to TRUE. Use the <a href="dml_functions_2.htm#CHDCHAEF">NAFLAG</a> function to identify if one or more values of a variable are NA values and, if so, if the NA value is just the typical NA values that OLAP should ignore or both the typical NA value and also an NA2 value.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OLAUG" href="../OLAUG/toc.htm"><span class="italic">Oracle OLAP User&#39;s Guide</span></a> for more information on creating materialized views using Oracle OLAP</div>
</li>
</ul>
<p class="subhead2"><a id="OLADM2323"></a>Defining Very Large Variables</p>
<p>Theoretically, a variable can contain up to <code dir="ltr">2**63</code> cells and a TEXT or NTEXT variable can contain up to 2 billion bytes. However, the page size determines if a variable can be stored entirely on a page or how many variables can be stored on a page. To calculate the maximum number of values for a variable of a given width that fit on one page, use the VALSPERPAGE program.</p>
<p class="subhead1"><a id="CHDIIBHF"></a><a id="OLADM2324"></a>Effect of Dimension Order on Variable Storage and Statement Looping</p>
<p><a id="sthref4110"></a><a id="sthref4111"></a><a id="sthref4112"></a><a id="sthref4113"></a><a id="sthref4114"></a>The order in which you list the dimensions of a variable definition determines the order in which the elements of the variable are stored and, consequently, how the data is accessed. The first dimension in the variable definition is the <span class="bold">fastest-varying dimension</span>, and the last dimension is the <span class="bold">slowest-varying dimension</span>.</p>
<p>For example, assume your analytic workspace has an <code dir="ltr">opcosts</code> variable that contains the operating costs, by month, of each city in which you have offices. In the following definition for the <code dir="ltr">opcosts</code> variable, <code dir="ltr">month</code> is the fastest-varying dimension and <code dir="ltr">city</code> is the slowest-varying dimension.</p>
<pre dir="ltr">DEFINE opcosts VARIABLE DECIMAL &lt;month city&gt;
</pre>
<pre dir="ltr"></pre>
<p>The data for a multidimensional variable is stored as a linear stream of values, in which the values of the fastest-varying dimension are clustered. For example, for the <code dir="ltr">opcosts</code> variable, the values for Boston for all the months are stored in a sequence, and then it stores the values for Chicago for all the months in a sequence, and so on.</p>
<p>When you define variables and other dimensioned objects, and when you write programs that loop over multidimensional expressions in nested loops, always try to maximize performance by matching the fastest-varying dimension with the inner loop.</p>
<p class="subhead1"><a id="CIHFIGCA"></a><a id="OLADM2325"></a>Unnamed Composites</p>
<p>Oracle OLAP automatically defines an unnamed composite when a DEFINE VARIABLE statement with a <span class="syntaxinline">SPARSE &lt;</span><span class="syntaxinlineitalic">dimlist</span><span class="syntaxinline">&gt;</span> phrase executes. An unnamed composite can have either a b-tree or hash index. The type of index is determined by the value of the SPARSEINDEX option when Oracle OLAP defines an unnamed composite.</p>
<p>Once Oracle OLAP has created a definition for an unnamed composite for a certain dimension list, it uses that composite any time you define a variable with the same <span class="syntaxinline">SPARSE &lt;</span><span class="syntaxinlineitalic">dimlist</span><span class="syntaxinline">&gt;</span> phrase. Thus all variables that are defined with the same <span class="syntaxinline">SPARSE &lt;</span><span class="syntaxinlineitalic">dimlist</span><span class="syntaxinline">&gt;</span> phrase share the same unnamed composite. For more information on sharing composites, see <a href="#CIHGDFDB">&#34;Shared Composites&#34;</a>.</p>
<p class="subhead2"><a id="CIHFJHCI"></a><a id="OLADM2326"></a>Variable Segments</p>
<p>Within a partition, variable data is stored in analytic workspace segments. An analytic workspace segment is a group of logically contiguous analytic workspace pages. By default, the segment sizes of a variable are automatically determined by Oracle OLAP. Each segment is the exactly the number of analytic workspace pages needed to store the values assigned by the one OLAP DML statement. You can explicitly specify a segment size for a variable using the SEGWIDTH keyword of the CHGDFN command. In this case, when you assign values to a variable, Oracle OLAP stores the data assigned by multiple OLAP DML statements into a segment until the segment is full.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4115"></a>Examples</p>
<div id="OLADM2327" class="example">
<p class="titleinexample"><a id="sthref4116"></a>Example 9-95 Defining an INTEGER Variable with One Regular Dimension</p>
<p>This example adds the variable <code dir="ltr">population</code> to an analytic workspace. It is dimensioned by <code dir="ltr">city</code>, which has already been defined in the workspace. The LD Statement attaches a description to the object. The statements</p>
<pre dir="ltr">DEFINE population INTEGER &lt;city&gt;
LD Population in each city
DESCRIBE population
</pre>
<p>produce the following description.</p>
<pre dir="ltr">DEFINE POPULATION VARIABLE INTEGER &lt;CITY&gt;
LD Population in each city
</pre></div>
<!-- class="example" -->
<div id="OLADM2328" class="example">
<p class="titleinexample"><a id="sthref4117"></a>Example 9-96 Defining a Single-Cell Variable</p>
<p>The following is a definition for a variable named <code dir="ltr">newdata</code> which is a single Boolean value. It has no dimensions. An application might set it to <code dir="ltr">YES</code> when new data is added to the workspace and to <code dir="ltr">NO</code> after a user views the data.</p>
<pre dir="ltr">DEFINE newdata BOOLEAN
newdata = YES
</pre></div>
<!-- class="example" -->
<div id="OLADM2329" class="example">
<p class="titleinexample"><a id="i79083"></a>Example 9-97 Defining NUMBER Variables</p>
<p>The following statement defines a <code dir="ltr">NUMBER</code> variable named <code dir="ltr">sales</code> that is dimensioned by <code dir="ltr">product</code> and <code dir="ltr">geography</code> with a precision of 16 digits and a scale of 4 digits.</p>
<pre dir="ltr">DEFINE sales VARIABLE NUMBER (16,4) &lt;product, geography&gt;
</pre>
<p>The following statements define a <code dir="ltr">NUMBER</code> variable named <code dir="ltr">numvar</code> with 5 significant digits and 2 decimal places. The number 1234567 is out of its range.</p>
<pre dir="ltr">DEFINE numvar VARIABLE NUMBER (5, 2)
numvar = 1234567
SHOW numvar
NA
</pre>
<p>A negative scale defines a <code dir="ltr">NUMBER</code> variable named <code dir="ltr">numnegvar</code> with 5 significant digits and 2 rounded digits to the left of the decimal point. The number 1,234,567 is rounded up.</p>
<pre dir="ltr">DEFINE numnegvar VARIABLE NUMBER (5, -2)
numnegvar = 1234567
SHOW numnegvar
1,234,600.00
</pre></div>
<!-- class="example" -->
<div id="OLADM2330" class="example">
<p class="titleinexample"><a id="CIHFFJBF"></a>Example 9-98 Defining a Variable Dimensioned by Two Regular Dimensions</p>
<p>Assume that you have an analytic workspace that contains the following definitions for dimensions, relations, and aggmaps.</p>
<pre dir="ltr">DEFINE GEOG_CITY DIMENSION TEXT
DEFINE GEOG_STATE DIMENSION TEXT
DEFINE GEOG_AREA DIMENSION TEXT
DEFINE GEOG_CONT DIMENSION TEXT
DEFINE GEOG DIMENSION CONCAT (GEOG_CITY GEOG_STATE GEOG_AREA GEOG_CONT)
DEFINE PROD_UPC DIMENSION TEXT
DEFINE PROD_FAMILY DIMENSION TEXT
DEFINE PROD_DIV DIMENSION TEXT
DEFINE PROD_TOP DIMENSION TEXT
DEFINE PROD DIMENSION CONCAT (PROD_UPC PROD_FAMILY PROD_DIV PROD_TOP)
DEFINE GEOGLEVEL DIMENSION TEXT
DEFINE PRODLEVEL DIMENSION TEXT
DEFINE GEOG.PARENT RELATION GEOG &lt;GEOG&gt;
DEFINE PROD.PARENT RELATION PROD &lt;PROD&gt;
DEFINE GEOG.LEVELREL RELATION GEOGLEVEL &lt;GEOG&gt;
DEFINE PROD.LEVELREL RELATION PRODLEVEL &lt;PROD&gt;
DEFINE GEOG.FAMILYREL RELATION GEOG &lt;GEOG GEOGLEVEL&gt;
DEFINE PROD.FAMILYREL RELATION PROD &lt;PROD PRODLEVEL&gt;
DEFINE SALES_DIMS_REG VARIABLE NUMBER (12,0) &lt;PROD GEOG&gt;
DEFINE SALES_AGGMAP AGGMAP
AGGMAP
  RELATION geog.parent
  RELATION prod.parent
END
</pre>
<p>The two parent relations (<code dir="ltr">prod.parent</code> and <code dir="ltr">geog.parent</code>) have the following values.</p>
<pre dir="ltr">PROD                             PROD.PARENT
------------------------- -------------------------
&lt;PROD_UPC: ColorTV&gt;       &lt;PROD_FAMILY: TV&gt;
&lt;PROD_UPC: BWTV&gt;          &lt;PROD_FAMILY: TV&gt;
&lt;PROD_UPC: StndVCR&gt;       &lt;PROD_FAMILY: VCR&gt;
&lt;PROD_UPC: StrVCR&gt;        &lt;PROD_FAMILY: VCR&gt;
&lt;PROD_FAMILY: VCR&gt;        &lt;PROD_DIV: VideoDiv&gt;
&lt;PROD_FAMILY: TV&gt;         &lt;PROD_DIV: VideoDiv&gt;
&lt;PROD_DIV: VideoDiv&gt;      &lt;PROD_TOP: Total Prod&gt;
&lt;PROD_TOP: Total Prod&gt;    NA
GEOG                             GEOG.PARENT
------------------------- -------------------------
&lt;GEOG_CITY: Canberra&gt;     &lt;GEOG_STATE: ACT&gt;
&lt;GEOG_CITY: Sydney&gt;       &lt;GEOG_STATE: NSW&gt;
&lt;GEOG_CITY: Darwin&gt;       &lt;GEOG_STATE: NT&gt;
&lt;GEOG_CITY: Brisbane&gt;     &lt;GEOG_STATE: QLD&gt;
&lt;GEOG_CITY: Adelaide&gt;     &lt;GEOG_STATE: SA&gt;
&lt;GEOG_CITY: Hobart&gt;       &lt;GEOG_STATE: TAS&gt;
&lt;GEOG_CITY: Melbourne&gt;    &lt;GEOG_STATE: VIC&gt;
&lt;GEOG_CITY: Perth&gt;        &lt;GEOG_STATE: WA&gt;
&lt;GEOG_STATE: ACT&gt;         &lt;GEOG_AREA: Aust Terr&gt;
&lt;GEOG_STATE: NSW&gt;         &lt;GEOG_AREA: Aust State&gt;
&lt;GEOG_STATE: NT&gt;          &lt;GEOG_AREA: Aust Terr&gt;
&lt;GEOG_STATE: QLD&gt;         &lt;GEOG_AREA: Aust State&gt;
&lt;GEOG_STATE: SA&gt;          &lt;GEOG_AREA: Aust State&gt;
&lt;GEOG_STATE: TAS&gt;         &lt;GEOG_AREA: Aust State&gt;
&lt;GEOG_STATE: VIC&gt;         &lt;GEOG_AREA: Aust State&gt;
&lt;GEOG_STATE: WA&gt;          &lt;GEOG_AREA: Aust State&gt;
&lt;GEOG_AREA: Aust State&gt;   &lt;GEOG_CONT: Australia&gt;
&lt;GEOG_AREA: Aust Terr&gt;    &lt;GEOG_CONT: Australia&gt;
&lt;GEOG_CONT: Australia&gt;    NA
</pre>
<p>Assume that you aggregate <code dir="ltr">sales_dims_reg</code> using <code dir="ltr">sales_aggmap</code>. Now assume that you issue the following REPORT statement for a report of the <code dir="ltr">sales_dims_reg</code> variable.</p>
<pre dir="ltr">REPORT sales_dims_reg-&gt;REPORT sales_dims_reg
 
</pre>
<p>As you can see from the output of the REPORT statement, the <code dir="ltr">sales_dims_reg</code> variable is a sparsely populated variable with 152 cells, many of which contain <code dir="ltr">NA</code> values.</p>
<pre dir="ltr">                          ----------------------------SALES_DIMS_REG-----------------------------
                          ---------------------------------PROD----------------------------------
                                                                                &lt;PROD_DI
                          &lt;PROD_UP          &lt;PROD_UP &lt;PROD_UP &lt;PROD_FA &lt;PROD_FA    V:    &lt;PROD_TO
                             C:    &lt;PROD_UP    C:       C:     MILY:    MILY:   VideoDiv P: Total
GEOG                      ColorTV&gt; C: BWTV&gt; StndVCR&gt; StrVCR&gt;    VCR&gt;     TV&gt;       &gt;      Prod&gt;
------------------------- -------- -------- -------- -------- -------- -------- -------- --------
&lt;GEOG_CITY: Canberra&gt;     11,592.0       NA 38,356.0 3,444.00 41,800.0 11,592.0 53,392.0 53,392.0
&lt;GEOG_CITY: Sydney&gt;             NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_CITY: Darwin&gt;       24,868.0       NA 22,104.0 32,667.0 54,771.0 24,868.0 79,639.0 79,639.0
&lt;GEOG_CITY: Brisbane&gt;     49,556.0       NA 48,239.0 24,285.0 72,524.0 49,556.0  122,080  122,080
&lt;GEOG_CITY: Adelaide&gt;           NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_CITY: Hobart&gt;       17,223.0       NA 18,872.0 48,780.0 67,652.0 17,223.0 84,875.0 84,875.0
&lt;GEOG_CITY: Melbourne&gt;          NA 22,000.0       NA       NA       NA 22,000.0 22,000.0 22,000.0
&lt;GEOG_CITY: Perth&gt;              NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_STATE: ACT&gt;         11,592.0       NA 38,356.0 3,444.00 41,800.0 11,592.0 53,392.0 53,392.0
&lt;GEOG_STATE: NSW&gt;               NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_STATE: NT&gt;          24,868.0       NA 22,104.0 32,667.0 54,771.0 24,868.0 79,639.0 79,639.0
&lt;GEOG_STATE: QLD&gt;         49,556.0       NA 48,239.0 24,285.0 72,524.0 49,556.0  122,080  122,080
&lt;GEOG_STATE: SA&gt;                NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_STATE: TAS&gt;         17,223.0       NA 18,872.0 48,780.0 67,652.0 17,223.0 84,875.0 84,875.0
&lt;GEOG_STATE: VIC&gt;               NA 22,000.0       NA       NA       NA 22,000.0 22,000.0 22,000.0
&lt;GEOG_STATE: WA&gt;                NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_AREA: Aust State&gt;   66,779.0 22,000.0 67,111.0 73,065.0  140,176 88,779.0  228,955  228,955
&lt;GEOG_AREA: Aust Terr&gt;    36,460.0       NA 60,460.0 36,111.0 96,571.0 36,460.0  133,031  133,031
&lt;GEOG_CONT: Australia&gt;     103,239 22,000.0  127,571  109,176  236,747  125,239  361,986  361,986
</pre>
<p>Because the <code dir="ltr">sales_dims_reg</code> variable is dimensioned by two regular dimensions (rather than by composites or concat dimensions), the values of all of its cells (even those with an <code dir="ltr">NA</code> value) are stored in variable. You can confirm the number of physical values stored in the workspace by issuing the following statement.</p>
<pre dir="ltr">SHOW OBJ(NUMVALS &#39;sales_dims_reg&#39;)
152.00
</pre>
<p>The result of the statement is that the value <code dir="ltr">152.00</code> displays which indicates that every value in the 152 cells of the <code dir="ltr">sales_dims_reg</code> variable (even the <code dir="ltr">NA</code> values) are stored as part of the variable.</p>
</div>
<!-- class="example" -->
<div id="OLADM2331" class="example">
<p class="titleinexample"><a id="CIHDIHJG"></a>Example 9-99 Defining a Variable Dimensioned by an Uncompressed Composite</p>
<p>Assume that you have created an analytic workspace with the same dimensions, relations, and aggmap as those in <a href="#CIHFFJBF">Example 9-98, &#34;Defining a Variable Dimensioned by Two Regular Dimensions&#34;</a>. Now assume that you define a composite and a variable dimensioned by that composite by issuing the following statements.</p>
<pre dir="ltr">DEFINE COMP_PROD_GEOG COMPOSITE &lt;PROD GEOG&gt;
DEFINE SALES_DIMS_COMPOSITE VARIABLE NUMBER (12,2) &lt;COMP_PROD_GEOG &lt;PROD GEOG&gt;&gt;
</pre>
<p>Assume that you populate <code dir="ltr">sales_dims_composite</code> with the same base values as you did <code dir="ltr">sales_dims_reg</code> in <a href="#CIHFFJBF">Example 9-98, &#34;Defining a Variable Dimensioned by Two Regular Dimensions&#34;</a>, and that you aggregate <code dir="ltr">sales_dims_composite</code> using the same aggmap (that is, <code dir="ltr">sales_aggmap</code>) and issue the following. REPORT statement for the <code dir="ltr">sales_dims_composite</code> variable.</p>
<pre dir="ltr">REPORT sales_dims_composite
 
</pre>
<p>A report for the <code dir="ltr">sales_dims_composite</code> variable displays the same 152 cells as the report for the <code dir="ltr">sales_dims_reg</code> variable.</p>
<pre dir="ltr">                         -------------------------SALES_DIMS_COMPOSITE--------------------------
                          ---------------------------------PROD----------------------------------
                                                                                &lt;PROD_DI
                          &lt;PROD_UP          &lt;PROD_UP &lt;PROD_UP &lt;PROD_FA &lt;PROD_FA    V:    &lt;PROD_TO
                             C:    &lt;PROD_UP    C:       C:     MILY:    MILY:   VideoDiv P: Total
GEOG                      ColorTV&gt; C: BWTV&gt; StndVCR&gt; StrVCR&gt;    VCR&gt;     TV&gt;       &gt;      Prod&gt;
------------------------- -------- -------- -------- -------- -------- -------- -------- --------
&lt;GEOG_CITY: Canberra&gt;     11,592.0       NA 38,356.0 3,444.00 41,800.0 11,592.0 53,392.0 53,392.0
&lt;GEOG_CITY: Sydney&gt;             NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_CITY: Darwin&gt;       24,868.0       NA 22,104.0 32,667.0 54,771.0 24,868.0 79,639.0 79,639.0
&lt;GEOG_CITY: Brisbane&gt;     49,556.0       NA 48,239.0 24,285.0 72,524.0 49,556.0  122,080  122,080
&lt;GEOG_CITY: Adelaide&gt;           NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_CITY: Hobart&gt;       17,223.0       NA 18,872.0 48,780.0 67,652.0 17,223.0 84,875.0 84,875.0
&lt;GEOG_CITY: Melbourne&gt;          NA 22,000.0       NA       NA       NA 22,000.0 22,000.0 22,000.0
&lt;GEOG_CITY: Perth&gt;              NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_STATE: ACT&gt;         11,592.0       NA 38,356.0 3,444.00 41,800.0 11,592.0 53,392.0 53,392.0
&lt;GEOG_STATE: NSW&gt;               NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_STATE: NT&gt;          24,868.0       NA 22,104.0 32,667.0 54,771.0 24,868.0 79,639.0 79,639.0
&lt;GEOG_STATE: QLD&gt;         49,556.0       NA 48,239.0 24,285.0 72,524.0 49,556.0  122,080  122,080
&lt;GEOG_STATE: SA&gt;                NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_STATE: TAS&gt;         17,223.0       NA 18,872.0 48,780.0 67,652.0 17,223.0 84,875.0 84,875.0
&lt;GEOG_STATE: VIC&gt;               NA 22,000.0       NA       NA       NA 22,000.0 22,000.0 22,000.0
&lt;GEOG_STATE: WA&gt;                NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_AREA: Aust State&gt;   66,779.0 22,000.0 67,111.0 73,065.0  140,176 88,779.0  228,955  228,955
&lt;GEOG_AREA: Aust Terr&gt;    36,460.0       NA 60,460.0 36,111.0 96,571.0 36,460.0  133,031  133,031
&lt;GEOG_CONT: Australia&gt;     103,239 22,000.0  127,571  109,176  236,747  125,239  361,986  361,986
</pre>
<p>However, because the <code dir="ltr">sales_dims_comp</code> variable is dimensioned by a composite, the 65 cells that display as <code dir="ltr">NA</code> values are not stored in the variable. You can confirm the number of physical values that are stored in the workspace by issuing the following statement that calls the OBJ function with the NUMVALS keyword on <code dir="ltr">sales_dims_composite</code>.</p>
<pre dir="ltr">SHOW OBJ(NUMVALS &#39;sales_dims_composite&#39;)
87.00
</pre>
<p>The result of the statement is that the value <code dir="ltr">87.00</code> displays which indicates that only the 87 non-<code dir="ltr">NA</code> values are stored as part of the <code dir="ltr">sales_dims_composite</code> variable.</p>
</div>
<!-- class="example" -->
<div id="OLADM2332" class="example">
<p class="titleinexample"><a id="CIHCCEJI"></a>Example 9-100 Defining a Variable Dimensioned by a Compressed Composite</p>
<p>Assume that you have created an analytic workspace with the same dimensions, relations, and aggmap as those in <a href="#CIHFFJBF">Example 9-98, &#34;Defining a Variable Dimensioned by Two Regular Dimensions&#34;</a>. Now assume that you define a composite and a variable dimensioned by that composite by issuing the following statements.</p>
<pre dir="ltr">DEFINE CC_COMP_PROD_GEOG COMPOSITE &lt;PROD GEOG&gt; COMPRESSED
DEFINE SALES_DIMS_COMP_COMPOSITE VARIABLE NUMBER (12,0) &lt;CC_COMP_PROD_GEOG &lt;PROD GEOG&gt;&gt;
</pre>
<p>Assume that you populate <code dir="ltr">sales_dims_composite</code> with the same base values as you did <code dir="ltr">sales_dims_reg</code> in <a href="#CIHFFJBF">Example 9-98, &#34;Defining a Variable Dimensioned by Two Regular Dimensions&#34;</a>, and that you aggregate <code dir="ltr">sales_dims_comp_composite</code> using the same aggmap (that is, <code dir="ltr">sales_aggmap</code>). Now you issue the following statement.</p>
<pre dir="ltr">REPORT sales_dims_comp_composite
 
</pre>
<p>A report for the <code dir="ltr">sales_dims_comp_comp_composite</code> variable displays the same 152 cells as the report for the <code dir="ltr">sales_dims_reg</code> variable.</p>
<pre dir="ltr">                          -----------------------SALES_DIMS_COMP_COMPOSITE-----------------------
                          ---------------------------------PROD----------------------------------
                                                                                &lt;PROD_DI
                          &lt;PROD_UP          &lt;PROD_UP &lt;PROD_UP &lt;PROD_FA &lt;PROD_FA    V:    &lt;PROD_TO
                             C:    &lt;PROD_UP    C:       C:     MILY:    MILY:   VideoDiv P: Total
GEOG                      ColorTV&gt; C: BWTV&gt; StndVCR&gt; StrVCR&gt;    VCR&gt;     TV&gt;       &gt;      Prod&gt;
------------------------- -------- -------- -------- -------- -------- -------- -------- --------
&lt;GEOG_CITY: Canberra&gt;     11,592.0       NA 38,356.0 3,444.00 41,800.0 11,592.0 53,392.0 53,392.0
&lt;GEOG_CITY: Sydney&gt;             NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_CITY: Darwin&gt;       24,868.0       NA 22,104.0 32,667.0 54,771.0 24,868.0 79,639.0 79,639.0
&lt;GEOG_CITY: Brisbane&gt;     49,556.0       NA 48,239.0 24,285.0 72,524.0 49,556.0  122,080  122,080
&lt;GEOG_CITY: Adelaide&gt;           NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_CITY: Hobart&gt;       17,223.0       NA 18,872.0 48,780.0 67,652.0 17,223.0 84,875.0 84,875.0
&lt;GEOG_CITY: Melbourne&gt;          NA 22,000.0       NA       NA       NA 22,000.0 22,000.0 22,000.0
&lt;GEOG_CITY: Perth&gt;              NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_STATE: ACT&gt;         11,592.0       NA 38,356.0 3,444.00 41,800.0 11,592.0 53,392.0 53,392.0
&lt;GEOG_STATE: NSW&gt;               NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_STATE: NT&gt;          24,868.0       NA 22,104.0 32,667.0 54,771.0 24,868.0 79,639.0 79,639.0
&lt;GEOG_STATE: QLD&gt;         49,556.0       NA 48,239.0 24,285.0 72,524.0 49,556.0  122,080  122,080
&lt;GEOG_STATE: SA&gt;                NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_STATE: TAS&gt;         17,223.0       NA 18,872.0 48,780.0 67,652.0 17,223.0 84,875.0 84,875.0
&lt;GEOG_STATE: VIC&gt;               NA 22,000.0       NA       NA       NA 22,000.0 22,000.0 22,000.0
&lt;GEOG_STATE: WA&gt;                NA       NA       NA       NA       NA       NA       NA       NA
&lt;GEOG_AREA: Aust State&gt;   66,779.0 22,000.0 67,111.0 73,065.0  140,176 88,779.0  228,955  228,955
&lt;GEOG_AREA: Aust Terr&gt;    36,460.0       NA 60,460.0 36,111.0 96,571.0 36,460.0  133,031  133,031
&lt;GEOG_CONT: Australia&gt;     103,239 22,000.0  127,571  109,176  236,747  125,239  361,986  361,986
</pre>
<p>However, because the <code dir="ltr">sales_dims_comp_comp</code> variable is dimensioned by a compressed composite not all of values in all of the cells are stored in the variable. The 65 cells that display as <code dir="ltr">NA</code> values are not stored in variable, Also, the values that are &#34;passed up&#34; the hierarchy are stored only once &mdash; at the lowest level of the hierarchy.</p>
<p>You can confirm the number of physical values stored in the workspace by issuing the following statement that calls the OBJ function with the NUMVALS keyword on <code dir="ltr">sales_dims_comp_composite</code>.</p>
<pre dir="ltr">SHOW OBJ(NUMVALS &#39;sales_dims_comp_composite&#39;)
38.00
</pre>
<p>The result of the statement is that the value <code dir="ltr">38.00</code> displays which indicates that only 38 values are stored as part of the <code dir="ltr">sales_dims_comp_composite</code> variable. These values are shown in the following table.</p>
<div class="inftblinformalwidemax">
<table class="cellalignment3615" title="Values actually stored as part of the sales_dims_comp_composite variable" summary="This table contains only those values of the sales_dims_comp_composite variable that are stored in the variable&rsquo;s cells." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t105">GEOG</th>
<th class="cellalignment3616" id="r1c2-t105">PROD_UPC:ColorTV</th>
<th class="cellalignment3616" id="r1c3-t105">PROD_UPC:BWTV</th>
<th class="cellalignment3616" id="r1c4-t105">PROD_UPC:StandVCR</th>
<th class="cellalignment3616" id="r1c5-t105">PROD_UPC:StrVCR</th>
<th class="cellalignment3616" id="r1c6-t105">PROD_FAMILY: VCR</th>
<th class="cellalignment3616" id="r1c7-t105">PROD_FAMILY: TV</th>
<th class="cellalignment3616" id="r1c8-t105">PROD_DIV: VideoDiv</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t105" headers="r1c1-t105">GEOG_CITY: Canberra</td>
<td class="cellalignment3617" headers="r2c1-t105 r1c2-t105">11,592.0</td>
<td class="cellalignment3617" headers="r2c1-t105 r1c3-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r2c1-t105 r1c4-t105">38,356.0</td>
<td class="cellalignment3617" headers="r2c1-t105 r1c5-t105">3,444.00</td>
<td class="cellalignment3617" headers="r2c1-t105 r1c6-t105">41,800.0</td>
<td class="cellalignment3617" headers="r2c1-t105 r1c7-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r2c1-t105 r1c8-t105">53,392.0</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t105" headers="r1c1-t105">GEOG_CITY: Darwin</td>
<td class="cellalignment3617" headers="r3c1-t105 r1c2-t105">24,868.0</td>
<td class="cellalignment3617" headers="r3c1-t105 r1c3-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r3c1-t105 r1c4-t105">22,104.0</td>
<td class="cellalignment3617" headers="r3c1-t105 r1c5-t105">32,667.0</td>
<td class="cellalignment3617" headers="r3c1-t105 r1c6-t105">54,771.0</td>
<td class="cellalignment3617" headers="r3c1-t105 r1c7-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r3c1-t105 r1c8-t105">79,639.0</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t105" headers="r1c1-t105">GEOG_CITY: Brisbane</td>
<td class="cellalignment3617" headers="r4c1-t105 r1c2-t105">49,556.0</td>
<td class="cellalignment3617" headers="r4c1-t105 r1c3-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r4c1-t105 r1c4-t105">48,239.0</td>
<td class="cellalignment3617" headers="r4c1-t105 r1c5-t105">24,285.0</td>
<td class="cellalignment3617" headers="r4c1-t105 r1c6-t105">72,524.0</td>
<td class="cellalignment3617" headers="r4c1-t105 r1c7-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r4c1-t105 r1c8-t105">122,080</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t105" headers="r1c1-t105">GEOG_CITY: Hobart</td>
<td class="cellalignment3617" headers="r5c1-t105 r1c2-t105">17,223.0</td>
<td class="cellalignment3617" headers="r5c1-t105 r1c3-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r5c1-t105 r1c4-t105">18,872.0</td>
<td class="cellalignment3617" headers="r5c1-t105 r1c5-t105">48,780.0</td>
<td class="cellalignment3617" headers="r5c1-t105 r1c6-t105">67,652.0</td>
<td class="cellalignment3617" headers="r5c1-t105 r1c7-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r5c1-t105 r1c8-t105">84,875.0</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t105" headers="r1c1-t105">GEOG_CITY: Melbourne</td>
<td class="cellalignment3617" headers="r6c1-t105 r1c2-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r6c1-t105 r1c3-t105">22,000.0</td>
<td class="cellalignment3617" headers="r6c1-t105 r1c4-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r6c1-t105 r1c5-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r6c1-t105 r1c6-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r6c1-t105 r1c7-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r6c1-t105 r1c8-t105">&nbsp;</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t105" headers="r1c1-t105">GEOG_AREA: Aust State</td>
<td class="cellalignment3617" headers="r7c1-t105 r1c2-t105">66,779.0</td>
<td class="cellalignment3617" headers="r7c1-t105 r1c3-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r7c1-t105 r1c4-t105">67,111.0</td>
<td class="cellalignment3617" headers="r7c1-t105 r1c5-t105">73,065.0</td>
<td class="cellalignment3617" headers="r7c1-t105 r1c6-t105">140,176</td>
<td class="cellalignment3617" headers="r7c1-t105 r1c7-t105">88,779.0</td>
<td class="cellalignment3617" headers="r7c1-t105 r1c8-t105">228,955</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t105" headers="r1c1-t105">GEOG_AREA: Aust Terr</td>
<td class="cellalignment3617" headers="r8c1-t105 r1c2-t105">36,460.0</td>
<td class="cellalignment3617" headers="r8c1-t105 r1c3-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r8c1-t105 r1c4-t105">60,460.0</td>
<td class="cellalignment3617" headers="r8c1-t105 r1c5-t105">36,111.0</td>
<td class="cellalignment3617" headers="r8c1-t105 r1c6-t105">96,571.0</td>
<td class="cellalignment3617" headers="r8c1-t105 r1c7-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r8c1-t105 r1c8-t105">133,031</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t105" headers="r1c1-t105">GEOG_Cont: Australia</td>
<td class="cellalignment3617" headers="r9c1-t105 r1c2-t105">103,239</td>
<td class="cellalignment3617" headers="r9c1-t105 r1c3-t105">&nbsp;</td>
<td class="cellalignment3617" headers="r9c1-t105 r1c4-t105">127,57</td>
<td class="cellalignment3617" headers="r9c1-t105 r1c5-t105">109,176</td>
<td class="cellalignment3617" headers="r9c1-t105 r1c6-t105">236,747</td>
<td class="cellalignment3617" headers="r9c1-t105 r1c7-t105">125,239</td>
<td class="cellalignment3617" headers="r9c1-t105 r1c8-t105">361,986</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformalwidemax" --></div>
<!-- class="example" -->
<div id="OLADM2333" class="example">
<p class="titleinexample"><a id="CHDIBFDG"></a>Example 9-101 Defining a Variable with Partitions</p>
<p>Assume that you want to define a <code dir="ltr">sales</code> variable that is dimensioned by product and time and that is partitioned so that each year&#39;s data is in a separate partition.</p>
<p>Assume that the analytic workspace contains a <code dir="ltr">products</code> dimension, a <code dir="ltr">time</code> dimension that is a simple hierarchical dimension with three levels of data (day, month, and year), and a <code dir="ltr">time_parentrel</code> relation that represents the child-parent relationships between the values of time.</p>
<pre dir="ltr">DEFINE TIME DIMENSION TEXT
DEFINE PRODUCT DIMENSION TEXT
DEFINE TIME_PARENTREL RELATION TIME &lt;TIME&gt;
</pre>
<p>For simplicity&#39;s sake, in this example the <code dir="ltr">time</code> and <code dir="ltr">product</code> dimensions are only partially populated and have only the following values.</p>
<pre dir="ltr">TIME
--------------
2003
2002
Dec2003
Jan2003
Dec2002
Jan2002
31Dec2003
01Dec2003
31Jan2003
01Jan2003
31Dec2002
01Dec2002
31Jan2002
01Jan2002

PRODUCT
-------
00001
00002
</pre>
<p>To create the partitioned variable, take the following steps:</p>
<ol>
<li>
<p>Define a partition template that defines one partition for each year&#39;s data.</p>
<pre dir="ltr">DEFINE partition_sales_by_year PARTITION TEMPLATE &lt;time product&gt; -
PARTITION BY LIST (time)(-
PARTITION time_2003 VALUES (&#39;2003&#39;, &#39;Dec2003&#39;, &#39;Jan2003&#39;, &#39;31Dec2003&#39;, &#39;01Dec2003&#39;, &#39;31Jan2003&#39;, &#39;01Jan2003&#39;) &lt;time product&gt;-
PARTITION time_2002 VALUES (&#39;2002&#39;, &#39;Dec2002&#39;, &#39;Jan2002&#39;, &#39;31Dec2002&#39;, &#39;01Dec2002&#39;, &#39;31Jan2002&#39;, &#39;01Jan2002&#39;) &lt;time product&gt;)
</pre>
<p>(note that for simplicity&#39;s sake, only some of each year&#39;s dimension values are specified for each partition in this example. Typically, when you want to specify a large number of values for a partition, you do not do so within the DEFINE PARTITION STATEMENT statement. Instead, you define the partition without specifying any values, and then later specify the values using <a href="dml_commands_2.htm#CIHCFGGE">MAINTAIN ADD TO PARTITION</a> or <a href="dml_commands_2.htm#CIHBDFHF">MAINTAIN MOVE TO PARTITION</a> statements as illustrated in <a href="dml_commands_2.htm#CCDDADAJ">Example 10-53, &#34;Specifying the Values of a Partition Using Valuesets&#34;</a>.)</p>
</li>
<li>
<p>Define a partitioned <code dir="ltr">sales</code> variable with the partitions defined by the partition template named <code dir="ltr">partition_sales_by_year</code>.</p>
<pre dir="ltr">DEFINE sales DECIMAL &lt;partition_sales_by_year&lt;time product&gt;&gt;
</pre></li>
<li>
<p>After you populate sales with day values, you can issue the following REPORT statement to see which <code dir="ltr">sales</code> values are in which partition.</p>
<pre dir="ltr">REPORT DOWN PARTITION(partition_sales_by_year) time product sales
 
PARTITION(PARTITION_SALES_BY_YEAR)     TIME     PRODUCT     SALES
----------------------------------- ---------- ---------- ----------
TIME_2003                           2003       00001              NA
TIME_2003                           Dec2003    00001              NA
TIME_2003                           Jan2003    00001              NA
TIME_2003                           31Dec2003  00001           14.78
TIME_2003                           01Dec2003  00001           15.52
TIME_2003                           31Jan2003  00001           13.61
TIME_2003                           01Jan2003  00001           10.39
TIME_2003                           2003       00002              NA
TIME_2003                           Dec2003    00002              NA
TIME_2003                           Jan2003    00002              NA
TIME_2003                           31Dec2003  00002           16.05
TIME_2003                           01Dec2003  00002           12.27
TIME_2003                           31Jan2003  00002           10.83
TIME_2003                           01Jan2003  00002           11.07
TIME_2002                           2002       00001              NA
TIME_2002                           Dec2002    00001              NA
TIME_2002                           Jan2002    00001              NA
TIME_2002                           31Dec2002  00001           18.80
TIME_2002                           01Dec2002  00001           13.64
TIME_2002                           31Jan2002  00001           12.41
TIME_2002                           01Jan2002  00001           16.97
TIME_2002                           2002       00002              NA
TIME_2002                           Dec2002    00002              NA
TIME_2002                           Jan2002    00002              NA
TIME_2002                           31Dec2002  00002           17.47
TIME_2002                           01Dec2002  00002           16.58
TIME_2002                           31Jan2002  00002           18.94
TIME_2002                           01Jan2002  00002           18.36
</pre></li>
</ol>
</div>
<!-- class="example" -->
<div id="OLADM2334" class="example">
<p class="titleinexample"><a id="sthref4118"></a>Example 9-102 Defining a Fixed-Width TEXT Variable</p>
<p>The following statement defines a TEXT variable named <code dir="ltr">lastname</code> dimensioned by <code dir="ltr">employee</code>. Values in <code dir="ltr">lastname</code> are limited to 20 characters, so that longer values are truncated.</p>
<pre dir="ltr">DEFINE lastname TEXT &lt;employee&gt; WIDTH 20 
</pre></div>
<!-- class="example" -->
<div id="OLADM2335" class="example">
<p class="titleinexample"><a id="CHDHBDIF"></a><a id="i1015369"></a>Example 9-103 Defining a Variable That Uses a Named B-Tree Composite</p>
<p>Assume that you have the following dimensions in your analytic workspace.</p>
<pre dir="ltr">DEFINE month DIMENSION TEXT
DEFINE product DIMENSION TEXT
DEFINE region DIMENSION TEXT
</pre>
<p><a id="sthref4119"></a><a id="sthref4120"></a><a id="sthref4121"></a><a id="sthref4122"></a><a id="sthref4123"></a><a id="sthref4124"></a>When your company does promotional marketing for certain products in some but not all regions, then your variable data is sparse along the <code dir="ltr">product</code> and <code dir="ltr">region</code> dimensions. Therefore, suppose you define a composite named <code dir="ltr">proddist</code>, whose base dimensions are <code dir="ltr">product</code> and <code dir="ltr">region</code>. There are dimension-value combinations in the composite only for those values that have data. For example, when you run a promotion for tents but not skis, then the composite includes the tents and region combinations, but not the skis and region combinations.</p>
<p>The following statement creates a b-tree composite named <code dir="ltr">proddist</code> whose base dimensions are <code dir="ltr">product</code> and <code dir="ltr">district</code>, and a variable called <code dir="ltr">promo</code> that is dimensioned by <code dir="ltr">month</code> and <code dir="ltr">proddist</code>.</p>
<pre dir="ltr">DEFINE proddist COMPOSITE &lt;product region&gt;
DEFINE promo VARIABLE INTEGER &lt;month proddist &lt;product district&gt;&gt;
</pre>
<p>For simplicity&#39;s sake assume that you have only stored the following dimension data in your analytic workspace.</p>
<pre dir="ltr">PRODUCT
--------------
Tents
Skis
 
REGION
--------------
Northeast
Southwest
 
MONTH
--------------
Jan2003
Feb2003
Mar2003
Apr2003
May2003
Jun2003
Jul2003
Aug2003
Sep2003
Oct2003
Nov2003
Dec2003
</pre>
<p>You decide to run a promotional sales for skis in the Northeast region in the month of September, 2003 at a cost of $5,000. Once you populate <code dir="ltr">promo</code> with this, <code dir="ltr">promo</code> contains only 12 cells&mdash;each cell is dimensioned by a value of <code dir="ltr">month</code> and the composite tuple value of <code dir="ltr">&lt;&#39;Skis&#39; &#39;Northeast&#39;&gt;</code> for <code dir="ltr">proddist</code>. The cell for September 2003 contains the value $5,000, and all of the other cells contain <code dir="ltr">NA</code>. No other NA values are stored in promo; no cells are created for any other values of <code dir="ltr">product</code> or <code dir="ltr">region</code>.</p>
</div>
<!-- class="example" -->
<div id="OLADM2336" class="example">
<p class="titleinexample"><a id="BGEEHAEJ"></a>Example 9-104 Defining a Variable with Null Tracking</p>
<p>Assume that you have the following objects defined in your analytic workspace.</p>
<pre dir="ltr">DEFINE GEOG DIMENSION TEXT
LD A dimension with a simple hierarchy for geography

DEFINE geog_levellist DIMENSION TEXT
LD List of Levels in in the hierarchy of the geog dimension

DEFINE GEOG_PARENTREL RELATION GEOG &lt;GEOG&gt;
LD Self-relation for geog showing parents of each value in the hierarchy

DEFINE GEOG_LEVELREL RELATION GEOG_LEVELLIST &lt;GEOG&gt;
LD Level of each dimension member for geog

DEFINE product DIMENSION TEXT
LD A nonhierarchical dimension

DEFINE time DIMENSION TEXT
LD A hierarchical text dimension for time

DEFINE time_levellist DIMENSION TEXT
LD List of Levels in hierarchy of the time dimension

DEFINE time_parentrel RELATION time &lt;time&gt;
LD A self-relation for time show parents of each value in the hierarchy

DEFINE TIME_LEVELREL RELATION TIME_LEVELLIST &lt;TIME&gt;
LD Level of each dimension member for time

DEFINE prod_geog COMPOSITE &lt;product geog&gt; COMPRESSED
</pre>
<p>Now assume that you define a <code dir="ltr">sales</code> variable that you want to have dimensioned by <code dir="ltr">time</code> and the <code dir="ltr">prod_geog</code> composite. You want this variable to have null tracking because you eventually populate it using SQL IMPORT and you know that some facts in the fact table have null values. To do this you issue the following statement that includes the WITH NULLTRACKING phrase.</p>
<pre dir="ltr">DEFINE sales VARIABLE DECIMAL &lt;time prod_geog&lt;product geog&gt;&gt; WITH NULLTRACKING
</pre>
<p>For testing purposes, you populate the variable using the RANDOM function. After you populate the variable in this way, you issue a report on it that shows the NA values in the variable.</p>
<pre dir="ltr">REPORT DOWN time ACROSS geog: sales
 
PRODUCT: TVs
               -----------------------SALES-----------------------
               -----------------------GEOG------------------------
TIME              Boston    Springfield    Hartford    All Places
-------------- ------------ ------------ ------------ ------------
2007                     NA           NA           NA           NA
2008                     NA           NA           NA           NA
All years                NA           NA           NA           NA
Jan07                    NA           NA           NA           NA
Feb07                    NA           NA           NA           NA
Mar07                    NA           NA           NA           NA
Apr07                    NA           NA           NA           NA
May07                    NA           NA           NA           NA
Jun07                    NA           NA           NA           NA
Jul07                    NA           NA           NA           NA
Aug07                    NA           NA           NA           NA
Sep07                    NA           NA           NA           NA
Oct07                    NA           NA           NA           NA
Nov07                    NA           NA           NA           NA
Dec07                    NA           NA           NA           NA
Jan08                    NA           NA           NA           NA
Feb08                    NA           NA           NA           NA
Mar08                    NA           NA           NA           NA
Apr08                    NA           NA           NA           NA
May08                    NA           NA           NA           NA
Jun08                    NA           NA           NA           NA
Jul08                    NA           NA           NA           NA
Aug08                    NA           NA           NA           NA
Sep08                    NA           NA           NA           NA
Oct08                    NA           NA           NA           NA
Nov08                    NA           NA           NA           NA
Dec08                    NA           NA           NA           NA
 
PRODUCT: Radios
               -----------------------SALES-----------------------
               -----------------------GEOG------------------------
TIME              Boston    Springfield    Hartford    All Places
-------------- ------------ ------------ ------------ ------------
2007                     NA           NA           NA           NA
2008                     NA           NA           NA           NA
All years                NA           NA           NA           NA
Jan07                 24.59        23.70        33.12        28.65
Feb07                 22.78        21.42        26.28        37.06
Mar07                 25.74        32.08        22.75        24.62
Apr07                 22.23        23.21        20.79        28.68
May07                 20.51        29.71        30.35        33.05
Jun07                 34.43        35.96        33.85        39.34
Jul07                 24.86        38.02        36.78        31.22
Aug07                 39.05        21.08        35.80        33.81
Sep07                 34.38        21.69        25.04        33.40
Oct07                 33.82        39.27        20.28        24.39
Nov07                 25.48        23.03        32.45        39.94
Dec07                 25.14        30.66        33.75        23.37
Jan08                    NA           NA           NA           NA
Feb08                    NA           NA           NA           NA
Mar08                    NA           NA           NA           NA
Apr08                    NA           NA           NA           NA
May08                    NA           NA           NA           NA
Jun08                    NA           NA           NA           NA
Jul08                    NA           NA           NA           NA
Aug08                    NA           NA           NA           NA
Sep08                    NA           NA           NA           NA
Oct08                    NA           NA           NA           NA
Nov08                    NA           NA           NA           NA
Dec08                    NA           NA           NA           NA
</pre>
<p>For testing purposes, you also generate a report using the NAFLAG function to retrieve the type of NAs that are in the variable. As the following report shows, because it was populated using RANDOM, all of the NAs are the typical NA values; they are not NA2 values.</p>
<pre dir="ltr">REPORT DOWN time ACROSS geog: NAFLAG(sales)
 
PRODUCT: TVs
               -------------------NAFLAG(SALES)-------------------
               -----------------------GEOG------------------------
TIME              Boston    Springfield    Hartford    All Places
-------------- ------------ ------------ ------------ ------------
2007                      1            1            1            1
2008                      1            1            1            1
All years                 1            1            1            1
Jan07                     1            1            1            1
Feb07                     1            1            1            1
Mar07                     1            1            1            1
Apr07                     1            1            1            1
May07                     1            1            1            1
Jun07                     1            1            1            1
Jul07                     1            1            1            1
Aug07                     1            1            1            1
Sep07                     1            1            1            1
Oct07                     1            1            1            1
Nov07                     1            1            1            1
Dec07                     1            1            1            1
Jan08                     1            1            1            1
Feb08                     1            1            1            1
Mar08                     1            1            1            1
Apr08                     1            1            1            1
May08                     1            1            1            1
Jun08                     1            1            1            1
Jul08                     1            1            1            1
Aug08                     1            1            1            1
Sep08                     1            1            1            1
Oct08                     1            1            1            1
Nov08                     1            1            1            1
Dec08                     1            1            1            1
 
PRODUCT: Radios
               -------------------NAFLAG(SALES)-------------------
               -----------------------GEOG------------------------
TIME              Boston    Springfield    Hartford    All Places
-------------- ------------ ------------ ------------ ------------
2007                      1            1            1            1
2008                      1            1            1            1
All years                 1            1            1            1
Jan07                     0            0            0            0
Feb07                     0            0            0            0
Mar07                     0            0            0            0
Apr07                     0            0            0            0
May07                     0            0            0            0
Jun07                     0            0            0            0
Jul07                     0            0            0            0
Aug07                     0            0            0            0
Sep07                     0            0            0            0
Oct07                     0            0            0            0
Nov07                     0            0            0            0
Dec07                     0            0            0            0
Jan08                     1            1            1            1
Feb08                     1            1            1            1
Mar08                     1            1            1            1
Apr08                     1            1            1            1
May08                     1            1            1            1
Jun08                     1            1            1            1
Jul08                     1            1            1            1
Aug08                     1            1            1            1
Sep08                     1            1            1            1
Oct08                     1            1            1            1
Nov08                     1            1            1            1
Dec08                     1            1            1            1
</pre>
<p>Again, for testing purposes, you use the NA function to set an NA2 bit on the variable cells dimensioned by the months of 2008. The following code shows the result of issuing a SHOW of the NA2 function and using that function to set the NA2 bit on the cells dimensioned by the months in 2008.</p>
<pre dir="ltr">SHOW NA2
NA

LIMIT time TO &#39;Jan08&#39; &#39;Feb08&#39; &#39;Mar08&#39; &#39;Apr08&#39; &#39;May08&#39; &#39;Jun08&#39; &#39;Jul08&#39; &#39;Aug08&#39; &#39;Sep08&#39; &#39;Oct08&#39; &#39;Nov08&#39; &#39;Dec08&#39;
saleswithnull= NA2
 
</pre>
<p>For brevity&#39;s sake assume that your test now issues the following three LIMIT statements and then reports on the sales variable and the NAFLAG function against the sales variable. As the NAFLAG report illustrate, the value <code dir="ltr">Jan08</code> which is a month to which an NA2 value was assigned returns the value of <code dir="ltr">2</code> for NAFLAG, while the NAFLAG report still returns the value of <code dir="ltr">1</code> for the year <code dir="ltr">2008</code>.</p>
<pre dir="ltr">LIMIT product to &#39;Radios&#39;
LIMIT time TO &#39;Jan08&#39; &#39;2008&#39;
LIMIT geog TO &#39;Boston&#39; &#39;All Places&#39;

REPORT DOWN time ACROSS geog: sales
 
PRODUCT: Radios
               ----------SALES----------
               ----------GEOG-----------
TIME              Boston     All Places
-------------- ------------ ------------
Jan08                    NA           NA
2008                     NA           NA

REPORT DOWN time ACROSS geog: NAFLAG(sales)
 
</pre>
<pre dir="ltr">PRODUCT: Radios
               ------NAFLAG(SALES)------
               ----------GEOG-----------
TIME              Boston     All Places
-------------- ------------ ------------
Jan08                     2            2
2008                      1            1
</pre>
<p>Now assume that you issue the following code to remove the NA2 bits from the sales variable.</p>
<pre dir="ltr">CHGDFN sales DROP NULLTRACKING
</pre>
<p>A DESCRIBE of the sales variable shows that it no longer has the WITH NULLTRACKING phrase in its definition while a report of the results of NAFLAG show that the NA values are now just the typical NA values without an NA2 bit.</p>
<pre dir="ltr">DESCRIBE sales
 
DEFINE SALES VARIABLE DECIMAL &lt;TIME PROD_GEOG &lt;PRODUCT GEOG&gt;&gt;

REPORT DOWN time ACROSS geog: sales
 
PRODUCT: Radios
               ----------SALES----------
               ----------GEOG-----------
TIME              Boston     All Places
-------------- ------------ ------------
Jan08                    NA           NA
2008                     NA           NA

&#34;Report on the type of NA values in the sales variable
REPORT DOWN time ACROSS geog: NAFLAG(sales)
 
PRODUCT: Radios
               ------NAFLAG(SALES)------
               ----------GEOG-----------
TIME              Boston     All Places
-------------- ------------ ------------
Jan08                     1            1
2008                      1            1
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM799" class="refsect2"><a id="i78538"></a>
<h3 class="refsect2">DEFINE WORKSHEET</h3>
<p><a id="sthref4125"></a><a id="sthref4126"></a><a id="sthref4127"></a><a id="sthref4128"></a><a id="sthref4129"></a>The DEFINE command with the WORKSHEET keyword adds a new worksheet <a id="sthref4130"></a>object to an analytic workspace. A worksheet, like a spreadsheet, is a two-dimensional object that is dimensioned by a worksheet row and a worksheet column. It can temporarily store data that you want to transfer between spreadsheet packages and workspace dimensions and variables.</p>
<p>When you first define a worksheet, it does not contain any values. You can populate a worksheet with values from an existing spreadsheet by using an <a href="dml_commands_2.htm#i78926">IMPORT (spreadsheet)</a> statement or add or delete values from worksheet row and a worksheet column dimensions with a MAINTAIN statement.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4131"></a>Syntax</p>
<p class="synopsis">DEFINE&nbsp;<span class="italic">name&nbsp;</span>WORKSHEET&nbsp;[&lt;<span class="italic">column-dim&nbsp;row-dim</span>&gt;]&nbsp;[TEMP]&nbsp;[AW&nbsp;<span class="italic">workspace</span>]&nbsp;[SESSION]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4132"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of the object you are defining. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>WORKSHEET</dt>
<dd>
<p>The object type when you are defining a worksheet.</p>
</dd>
<dt>&lt;<span class="italic">column-dim row-dim</span>&gt;</dt>
<dd>
<p>The names of the dimensions of the worksheet. When you supply this argument, you must give the names of two <code dir="ltr">INTEGER</code> dimensions for <span class="italic">column-dim</span> and <span class="italic">row-dim.</span> When you omit this argument, the worksheet is dimensioned automatically by <code dir="ltr">WKSCOL</code> and <code dir="ltr">WKSROW</code>. See <a href="#i1014088">&#34;Worksheet Dimensions&#34;</a> for more information.</p>
</dd>
<dt>TEMP</dt>
<dd>
<p>Indicates that the worksheet is only temporary. The worksheet is defined in the specified workspace and can contain values during the current session. However, when you update and commit, only the definition of the worksheet is saved. When you end your session or switch to another workspace, the data values are discarded.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to define the worksheet. The worksheet must be defined in the same workspace as its dimensions. For general information about this argument, see the main entry for the <a href="#i78478">DEFINE</a> command.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that the object exists only in the current session. When the session ends, the object no longer exists. The behavior specified by SESSION is different than the behavior specified by the TEMP keyword which is that the values are temporary but the object definition remains in the workspace in which you create it.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1053553"></a>Usage Notes</p>
<p class="subhead2"><a id="i1014088"></a><a id="OLADM2337"></a>Worksheet Dimensions</p>
<p><a id="sthref4133"></a><a id="sthref4134"></a>A worksheet must always be dimensioned by two dimensions that represent a worksheet row and a worksheet column. The worksheet row and worksheet column dimensions can either be automatically created by Oracle OLAP or explicitly created by you:</p>
<ul>
<li>
<p>If you have not created worksheet row and worksheet column dimensions and specified their names in the <span class="italic">column-dim</span> and <span class="italic">row-dim</span> arguments of DEFINE WORKSHEET, then Oracle OLAP automatically creates the following dimensions:</p>
<ul>
<li>
<p>For the worksheet row, an INTEGER dimension named <code dir="ltr">WKSROW</code> with values from 1 to 63.</p>
</li>
<li>
<p>For the worksheet column, an INTEGER dimension named <code dir="ltr">WKSROW</code> with values from 1 to 63.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
When <code dir="ltr">WKSCOL</code> and <code dir="ltr">WKSROW</code> already exist in any attached workspace, Oracle OLAP cannot create them in the current worksheet. In this case, the DEFINE WORKSHEET command fails to create a worksheet with these default dimensions. (Note, also, that <code dir="ltr">WKSCOL</code> and <code dir="ltr">WKSROW</code> do not appear in a worksheet description generated using DESCRIBE.)</div>
</li>
<li>
<p>You create worksheet row and a worksheet column dimensions the same way you create any other simple dimension by issuing the following statements:</p>
<ol>
<li>
<p>Create two simple INTEGER dimensions using a <a href="#i1010637">DEFINE DIMENSION (simple)</a> statement. One dimension is for row numbers and the other is for column numbers.</p>
</li>
<li>
<p>Using MAINTAIN statements, populate one dimension with integers that represent row numbers and populate the other with integers that represent column numbers.</p>
</li>
</ol>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4135"></a>Examples</p>
<div id="OLADM2338" class="example">
<p class="titleinexample"><a id="sthref4136"></a>Example 9-105 Defining a Worksheet</p>
<p>These statements define a temporary worksheet named <code dir="ltr">travelexp</code>, which is dimensioned by <code dir="ltr">columns</code> and <code dir="ltr">rows</code>.</p>
<pre dir="ltr">DEFINE itemsheet WORKSHEET
DEFINE columns INT DIMENSION
MAINTAIN columns ADD 5
DEFINE rows INT DIMENSION
MAINTAIN rows ADD 10
DEFINE travelexp WORKSHEET &lt;columns rows&gt; TEMPORARY
</pre></div>
<!-- class="example" -->
<div id="OLADM2339" class="example">
<p class="titleinexample"><a id="sthref4137"></a>Example 9-106 Importing Spreadsheet Data</p>
<p>You can import data from a spreadsheet to a worksheet. When all the cells contain the same type of data, you can use UNRAVEL to transfer the data to a variable with one statement. You can also limit the worksheet dimensions to a smaller group of cells and use UNRAVEL to transfer each group to a separate variable. To transfer imported data from a worksheet named <code dir="ltr">itemsheet</code> to a variable named <code dir="ltr">items</code>, you might use the following statements.</p>
<pre dir="ltr">DEFINE itemsheet WORKSHEET
IMPORT itemsheet FROM dif FILE &#39;file name&#39;
LIMIT WKSCOL TO FIRST 3
LIMIT WKSROW TO FIRST 10
items = UNRAVEL(itemsheet) 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="g1057637"></a>
<div id="OLADM800" class="refsect1">
<h2 class="refsect1">DELETE</h2>
<p><a id="sthref4138"></a><a id="sthref4139"></a><a id="sthref4140"></a><a id="sthref4141"></a><a id="sthref4142"></a><a id="sthref4143"></a><a id="sthref4144"></a><a id="sthref4145"></a><a id="sthref4146"></a><a id="sthref4147"></a><a id="sthref4148"></a><a id="sthref4149"></a><a id="sthref4150"></a><a id="sthref4151"></a>The DELETE<a id="sthref4152"></a><a id="sthref4153"></a> command <a id="sthref4154"></a><a id="sthref4155"></a><a id="sthref4156"></a><a id="sthref4157"></a>deletes <a id="sthref4158"></a><a id="sthref4159"></a><a id="sthref4160"></a><a id="sthref4161"></a>one <a id="sthref4162"></a><a id="sthref4163"></a>or <a id="sthref4164"></a><a id="sthref4165"></a><a id="sthref4166"></a><a id="sthref4167"></a>more <a id="sthref4168"></a>objects<a id="sthref4169"></a><a id="sthref4170"></a><a id="sthref4171"></a><a id="sthref4172"></a> from <a id="sthref4173"></a><a id="sthref4174"></a><a id="sthref4175"></a><a id="sthref4176"></a><a id="sthref4177"></a><a id="sthref4178"></a>an analytic workspace. The deletion becomes permanent when you execute UPDATE and COMMIT statements.</p>
<p>Before you delete an object, you must first delete all of its associated objects. For example, before you can delete a dimension, you must first delete any variables dimensioned by it. Also, you cannot delete an object when a PERMIT statement denies you the right to change its permission.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
When you see an error message when you try to delete an object, then the name of that object might be a reserved word. (Use RESERVED to identify reserved words.) When this is the case, use a RENAME statement to give the object a new name, and then delete it.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4179"></a>Syntax</p>
<p class="synopsis">DELETE&nbsp;<span class="italic">name</span>...&nbsp;[AW&nbsp;<span class="italic">workspace</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4180"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span>...</dt>
<dd>
<p>The names of one or more objects, separated by spaces or commas. DELETE removes the definitions of these objects from the appropriate workspace.</p>
<p>You can specify a qualified object name or use the AW argument to indicate the attached workspace in which each object can be found. Do not use both qualified object names and the AW argument in the same DELETE command.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle OLAP does <span class="italic">not</span> warn you when you delete an object that has the same name as an existing object in another attached workspace. Also, when the NAME dimension is limited to less than all its values, DELETE automatically sets the status of NAME to ALL</div>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to delete all the specified objects. When you do not use a qualified object name or the AW argument to specify an analytic workspace, objects are deleted in the current workspace.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4181"></a>Examples</p>
<div id="OLADM2340" class="example">
<p class="titleinexample"><a id="sthref4182"></a>Example 9-107 Deleting a Dimension</p>
<p>Suppose you have a dimension named <code dir="ltr">city</code> and a variable named <code dir="ltr">population</code> that you want to delete. The variable <code dir="ltr">population</code> is the only object that is dimensioned by or makes use of <code dir="ltr">city</code>, so you can delete them both in a single DELETE command when you place the variable before the dimension.</p>
<pre dir="ltr">DELETE population city
</pre>
<p>Placing <code dir="ltr">city</code> before <code dir="ltr">population</code> in the preceding statement would produce an error.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i80436"></a>
<div id="OLADM801" class="refsect1">
<h2 class="refsect1">DESCRIBE</h2>
<p><a id="sthref4183"></a><a id="sthref4184"></a><a id="sthref4185"></a>The DESCRIBE command produces a report that shows the definition of one or more workspace objects. An object definition that you see in the output from a DESCRIBE command might include a description (LD), a value name format (VNF) for a time dimension, an expression associated with a FORMULA, permission specified a PERMIT statements, or the contents of a calculation specification (for example, the contents of a program). You can use DESCRIBE to show the definition of an object even when you do not have permission to access the object or to change its permission. Some parts of some object definitions are not reported on as described in <a href="#BCJDAAHG">&#34;What&#39;s Not in the Report Output by DESCRIBE&#34;</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4186"></a>Syntax</p>
<p class="synopsis">DESCRIBE&nbsp;[<span class="italic">names</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4187"></a>Parameters</p>
<dl>
<dt><span class="italic">names</span></dt>
<dd>
<p>The names of one or more workspace objects, separated by spaces or commas. When you omit this argument, DESCRIBE shows the definition of all objects in the current status of the NAME dimension. Consequently, when you omit this argument you can use a LIMIT command in combination with DESCRIBE to report the definitions of a particular group of objects in your workspace, as illustrated in <a href="#i81051">Example 9-109, &#34;Describing All Relations&#34;</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4188"></a>Usage Notes</p>
<p class="subhead2"><a id="BCJDAAHG"></a><a id="OLADM2341"></a>What&#39;s Not in the Report Output by DESCRIBE</p>
<p>Some parts of the object definitions do not appear in the output of DESCRIBE:</p>
<ul>
<li>
<p>When a PERMIT statement denies you the right to change the permission of an object, DESCRIBE does not include the permission associated with the definition of the object.</p>
</li>
<li>
<p>For a worksheet definition, the DESCRIBE report does not include the default dimensions, <code dir="ltr">WKSCOL</code> and <code dir="ltr">WKSROW</code>. However, it does include user-defined dimensions when they have been used to define a worksheet. See <a href="#i81062">Example 9-110, &#34;Describing a Worksheet&#34;</a>.</p>
</li>
<li>
<p>Properties and triggers associated with objects are not displayed. To see the properties and triggers associated with an object, you must use the <a href="#i79541">FULLDSC</a> program.</p>
</li>
<li>
<p>When you define a composite or conjoint has the default index type, that information is not displayed.</p>
</li>
<li>
<p>Dimensioned BOOLEAN variables that are in older 1 or 2 byte formats are listed as WIDTH 1 and WIDTH 2. The width of BOOLEAN variables created in single-bit format is not listed.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2342"></a>Creating Objects with DESCRIBE Output</p>
<p>You can use the output from the DESCRIBE command to create objects in other workspaces, because each line of the output is a valid statement. For example, you can execute an OUTFILE statement to send subsequent output to a file, and then execute a DESCRIBE command. You can then access another workspace and use an INFILE statement to read the DESCRIBE output. The same object is created in that workspace.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1031896"></a>Examples</p>
<div id="OLADM2343" class="example">
<p class="titleinexample"><a id="sthref4189"></a>Example 9-108 Describing Variables</p>
<p>This example produces a report of the definitions of the two variables, <code dir="ltr">sales</code> and <code dir="ltr">price</code>. The statement</p>
<pre dir="ltr">DESCRIBE sales price
</pre>
<p>produces the following output.</p>
<pre dir="ltr">DEFINE SALES VARIABLE DECIMAL &lt;MONTH PRODUCT DISTRICT&gt;
LD Sales Revenue
DEFINE PRICE VARIABLE DECIMAL &lt;MONTH PRODUCT&gt;
LD Wholesale Unit Selling Price
</pre></div>
<!-- class="example" -->
<div id="OLADM2344" class="example">
<p class="titleinexample"><a id="i81051"></a>Example 9-109 Describing All Relations</p>
<p>Suppose you want to look at the definitions of all the relations in your workspace. First limit the NAME dimension, using the OBJ function. After limiting NAME, use DESCRIBE with no arguments to produce a report of the definitions. The following statements produce a description of the relations in the analytic workspace.</p>
<pre dir="ltr">LIMIT NAME TO OBJ(TYPE) EQ &#39;RELATION&#39;
DESCRIBE
</pre>
<pre dir="ltr">DEFINE REGION.DISTRICT RELATION REGION &lt;DISTRICT&gt;
LD REGION for each DISTRICT 
DEFINE DIVISION.PRODUCT RELATION DIVISION &lt;PRODUCT&gt;
LD DIVISION for each PRODUCT 
DEFINE MLV.MARKET RELATION MARKETLEVEL &lt;MARKET&gt;
DEFINE MARKET.MARKET RELATION MARKET &lt;MARKET&gt; 
LD Self-relation for the Market Dimension
</pre>
<p>Because the values returned by OBJ(TYPE) are always in uppercase, you have to use &#39;RELATION&#39; rather than &#39;relation&#39; in your LIMIT command to obtain a match.</p>
</div>
<!-- class="example" -->
<div id="OLADM2345" class="example">
<p class="titleinexample"><a id="i81062"></a>Example 9-110 Describing a Worksheet</p>
<p>The dimensions of a worksheet appear in the description only when they are user-defined dimensions. The default dimensions <code dir="ltr">WKSCOL</code> and <code dir="ltr">WKSROW</code> are not included in the description. The statements</p>
<pre dir="ltr">DEFINE work1 WORKSHEET
DEFINE columns DIMENSION INTEGER
DEFINE rows DIMENSION INTEGER
DEFINE work2 WORKSHEET &lt;columns rows&gt;
DESCRIBE work1 work2
</pre>
<p>produce the following output.</p>
<pre dir="ltr">DEFINE WORK1 WORKSHEET
DEFINE WORK2 WORKSHEET &lt;COLUMNS ROWS&gt; 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i80451"></a>
<div id="OLADM802" class="refsect1">
<h2 class="refsect1">DO ... DOEND</h2>
<p>Within an OLAP DML program, t<a id="sthref4190"></a><a id="sthref4191"></a><a id="sthref4192"></a><a id="sthref4193"></a><a id="sthref4194"></a><a id="sthref4195"></a>he DO and DOEND commands bracket a group of one or more statements in a program. DO and DOEND are normally used to bracket one of the following:</p>
<ul>
<li>
<p>A group of statements that are to be executed under a condition specified by an IF command</p>
</li>
<li>
<p>A group of statements in a repeating loop introduced by FOR or WHILE</p>
</li>
<li>
<p>The CASE labels for a SWITCH command.</p>
</li>
</ul>
<p>You can put one DO statement inside another to nest groups of statements. You can nest as many groups as you want, if each DO statement has a corresponding DOEND to indicate the end of its statement group.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4196"></a>Syntax</p>
<p class="synopsis">DO</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement1</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statementN</span></p>
<p class="synopsis">DOEND</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4197"></a>Parameters</p>
<dl>
<dt><span class="italic">statement</span></dt>
<dd>
<p>One or more OLAP DML statements, user-defined programs, or both.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4198"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2346"></a>TEMPSTAT Statement and DOEND Statement</p>
<p>Within a FOR loop of a program, when a DO/DOEND phrase follows TEMPSTAT, status is restored when the DOEND, BREAK, or GOTO is encountered.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4199"></a>Examples</p>
<div id="OLADM2347" class="example">
<p class="titleinexample"><a id="sthref4200"></a>Example 9-111 DO and DOEND with the FOR Statement</p>
<p>Suppose you want to use the ROW command to produce a report that shows the unit sales of tents for each of 2 months. Use DO ... DOEND to bracket the ROW and BLANK statements you want to execute repeatedly for each value of the <code dir="ltr">month</code> dimension. You might write the following program.</p>
<pre dir="ltr">LIMIT month TO &#39;Jan96&#39; to &#39;Feb96&#39;
ROW district
ROW UNDER &#39;-&#39; VALONLY name.product
FOR month
    DO
      ROW INDENT 5 month WIDTH 6 UNITS
      BLANK
    DOEND
</pre>
<p>The program produces the following output.</p>
<pre dir="ltr">BOSTON
3-Person Tents
--------------
     Jan96              307
     Feb96              209
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i80466"></a>
<div id="OLADM803" class="refsect1">
<h2 class="refsect1">EDIT</h2>
<p><a id="sthref4201"></a>The EDIT command displays an OLAP Worksheet Edit window. The command is available only when you are using OLAP Worksheet to access Oracle OLAP.</p>
<p>For information about using an OLAP Worksheet Edit window, see the OLAP Worksheet Help.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4202"></a>Syntax</p>
<p class="synopsis">EDIT {<span class="underline">PROGRAM</span>|MODEL|AGGMAP|FORMULA} <span class="italic">object-name</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4203"></a>Parameters</p>
<dl>
<dt>PROGRAM</dt>
<dt>MODEL</dt>
<dt>AGGMAP</dt>
<dt>FORMULA</dt>
<dd>
<p>Indicates whether the object to be edited is a program, a model, an aggmap, or a formula.</p>
</dd>
<dt><span class="italic">object-name</span></dt>
<dd>
<p>A text expression that specifies the name of an existing program, model, aggmap, or formula. Before editing one of these objects, use a DEFINE statement to create it in an analytic workspace.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4204"></a>Usage Notes</p>
<p class="subhead2"><a id="BCJBHAFB"></a><a id="OLADM2348"></a>Editing a Newly Defined Aggmap to Code an Allocation Specification</p>
<p>When an aggmap is first defined it does not have any contents and its type is <code dir="ltr">NA</code>. When you use the EDIT command for an aggmap whose type has not yet been specified, OLAP Worksheet automatically makes the aggmap an aggregation specification by inserting an AGGMAP statement into the contents of the aggmap.</p>
<p>Consequently, when you plan to use an aggmap as an allocation specification, use the following statements to identify it as an allocation specification before the first time you open an OLAP Worksheet Edit window for it.</p>
<pre dir="ltr">     CONSIDER <span class="italic">aggmap-name</span>
     ALLOCMAP &#39;END&#39;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4205"></a>Examples</p>
<div id="OLADM2349" class="example">
<p class="titleinexample"><a id="sthref4206"></a>Example 9-112 Editing a Program</p>
<p>The following statement, executed in the OLAP Worksheet, places the <code dir="ltr">myprog</code> program in an OLAP Worksheet EDIT window.</p>
<pre dir="ltr">EDIT myprog
</pre></div>
<!-- class="example" -->
<div id="OLADM2350" class="example">
<p class="titleinexample"><a id="sthref4207"></a>Example 9-113 Editing a Model</p>
<p>The following statement, executed in the OLAP Worksheet, places a model called <code dir="ltr">myModel</code> in an OLAP Worksheet Edit window.</p>
<pre dir="ltr">EDIT MODEL myModel
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i80525"></a>
<div id="OLADM804" class="refsect1">
<h2 class="refsect1">EQ</h2>
<p>The EQ command s<a id="sthref4208"></a><a id="sthref4209"></a>pecifies a new expression for an already defined formula. To use EQ to assign an expression to a formula definition, the definition must be the one most recently defined or considered during the current session. When it is not, you must first use a CONSIDER command to make it the current definition.</p>
<p>An alternative to the EQ command is the EDIT FORMULA command, which is available only in OLAP Worksheet. The EDIT FORMULA command opens an Edit window in which you can add, delete, or change the expression to be calculated for a formula.</p>
<p>Be sure to distinguish between the EQ command described here and the EQ operator used to compare values of the same type.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4210"></a>Syntax</p>
<p class="synopsis">EQ&nbsp;[<span class="italic">expression</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4211"></a>Parameters</p>
<dl>
<dt><span class="italic">expression</span></dt>
<dd>
<p>The calculation that is performed to produce values when you use the formula. When you do not specify an expression, the EQ command sets the expression to <code dir="ltr">NA</code>. The formula text is not converted to uppercase.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4212"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2351"></a>Data Type and Dimensions</p>
<p>Typically, the data type and dimensions of the new expression match the specified data type and dimensions in the definition of the formula. When they do not, the resulting values are converted to the formula&#39;s data type and the results are forced into the formula&#39;s dimensionality. The DESCRIBE command shows the formula&#39;s data type and dimensions. You can find out the data type and dimensions of the new expression by parsing it. See <a href="#i81110">Example 9-115, &#34;Using PARSE with EQ&#34;</a>.</p>
<p>You cannot use the EQ command to change the data type or dimensions of a formula. To make changes in these, you must delete the formula and redefine it.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4213"></a>Examples</p>
<div id="OLADM2352" class="example">
<p class="titleinexample"><a id="sthref4214"></a>Example 9-114 Adding an EQ</p>
<p>This example specifies a new expression for the <code dir="ltr">f1</code> formula with the following definition.</p>
<pre dir="ltr">DEFINE f1 FORMULA INTEGER &lt;month line division&gt;
EQ actual * 2
</pre>
<p>The statements</p>
<pre dir="ltr">CONSIDER f1
EQ actual * 3
DESCRIBE f1
</pre>
<p>produce the following definition of the formula with a new EQ.</p>
<pre dir="ltr">DEFINE F1 FORMULA INTEGER &lt;MONTH LINE DIVISION&gt;
EQ actual * 3
</pre></div>
<!-- class="example" -->
<div id="OLADM2353" class="example">
<p class="titleinexample"><a id="i81110"></a>Example 9-115 Using PARSE with EQ</p>
<p>The following example supposes that your workspace already has a formula named <code dir="ltr">line.totals</code>. The PARSE and SHOW INFO statements check the dimensionality and data type of an expression. The CONSIDER and EQ statements assign the expression to the <code dir="ltr">line.totals</code> formula. The <code dir="ltr">line.totals</code> formulas has the following definition.</p>
<pre dir="ltr">DEFINE line.totals FORMULA DECIMAL &lt;year line&gt;
</pre>
<p>The statements</p>
<pre dir="ltr">PARSE &#39;total(actual line year)&#39;
SHOW INFO(PARSE DIMENSION)
</pre>
<p>produce the following output.</p>
<pre dir="ltr">YEAR
LINE
</pre>
<p>The statement</p>
<pre dir="ltr">SHOW INFO(PARSE DATA)
</pre>
<p>produces the following output.</p>
<pre dir="ltr">DECIMAL
</pre>
<p>The output from INFO(PARSE) shows that the expression has the same dimensionality and data type as the <code dir="ltr">line.totals</code> formula. The statements</p>
<pre dir="ltr">CONSIDER line.totals
EQ TOTAL(actual line year)
DESCRIBE line.totals
</pre>
<p>show the definition of <code dir="ltr">line.totals</code> with its new EQ.</p>
<pre dir="ltr">DEFINE LINE.TOTALS FORMULA DECIMAL &lt;YEAR LINE&gt;
EQ total(actual line year) 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="g1024108"></a>
<div id="OLADM805" class="refsect1">
<h2 class="refsect1">EXPORT</h2>
<p><a id="sthref4215"></a><a id="sthref4216"></a><a id="sthref4217"></a><a id="sthref4218"></a>The EXPORT command copies workspace objects from your analytic workspace to an external file. You can use EXPORT to copy both data and object definitions from your workspace to an EIF file, or you can use it to copy an OLAP DML worksheet object to a spreadsheet file.</p>
<p>Because the syntax of the EXPORT command is different depending on whether it is being used to produce an EIF file or a spreadsheet file, two separate entries are provided:</p>
<ul>
<li>
<p><a href="#i78783">EXPORT (EIF)</a>)</p>
</li>
<li>
<p><a href="#i78788">EXPORT (spreadsheet)</a></p>
</li>
</ul>
<div id="OLADM806" class="refsect2"><a id="i78783"></a>
<h3 class="refsect2">EXPORT (EIF)</h3>
<p><a id="sthref4219"></a><a id="sthref4220"></a><a id="sthref4221"></a>The EXPORT (to EIF) command copies data and definitions from your Oracle OLAP analytic workspace to an EIF file. EXPORT also copies all dimensions of the exported data, even when you do not specify them in the command. The status of the data&#39;s dimensions in Oracle OLAP determines which values are exported.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
There are several options that determine how EIF files are imported and exported. These options are listed in <a href="dml_options.htm#CHDHFHDE">&#34;EIF Options&#34;</a>.</div>
<p>EXPORT (to EIF) is commonly used with <a href="dml_commands_2.htm#i78916">IMPORT (EIF)</a> to copy one Oracle OLAP workspace to another. You export objects from the source workspace to an EIF file and then import the objects from the EIF file into the target workspace. The source and target workspaces can reside on the same platform or on different platforms.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4222"></a>Syntax</p>
<p class="synopsis">EXPORT&nbsp;<span class="italic">export_item&nbsp;</span>TO&nbsp;EIF&nbsp;FILE&nbsp;<span class="italic">file-name&nbsp;</span>[LIST]&nbsp;[NOPROP]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[NOREWRITE|REWRITE]&nbsp;[FILESIZE&nbsp;<span class="italic">n&nbsp;</span>[K,&nbsp;M,&nbsp;or&nbsp;G]]&nbsp;-&nbsp;</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[NOTEMPDATA]&nbsp;[NLS_CHARSET&nbsp;<span class="italic">charset-exp</span>]&nbsp;[<span class="underline">AGGREGATE</span> | NOAGGR] -</p>
<p class="synopsis">[<span class="underline">API</span> | NOAPI]</p>
<p>where <span class="syntaxinlineitalic">export_item</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALL</span></dd>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntaxinlineitalic">name&nbsp;</span><span class="syntaxinline">[AS&nbsp;</span><span class="syntaxinlineitalic">newname</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntaxinlineitalic">exp&nbsp;</span><span class="syntaxinline">[SCATTER&nbsp;AS&nbsp;</span><span class="syntaxinlineitalic">scattername&nbsp;</span><span class="syntaxinline">[TYPE&nbsp;</span><span class="syntaxinlineitalic">scattertype</span><span class="syntaxinline">] [EXCLUDING&nbsp;(</span><span class="syntaxinlineitalic">concatbasedim&nbsp;</span><span class="syntaxinline">.&nbsp;.&nbsp;.)]</span></dd>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntaxinlineitalic">exp&nbsp;</span><span class="syntaxinline">AS&nbsp;</span><span class="syntaxinlineitalic">name</span> <span class="syntaxinline">[EXCLUDING&nbsp;(</span><span class="syntaxinlineitalic">concatbasedim&nbsp;</span><span class="syntaxinline">.&nbsp;.&nbsp;.)]</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4223"></a>Parameters</p>
<dl>
<dt>ALL</dt>
<dd>
<p>Specifies that Oracle OLAP exports all the objects currently in the status of NAME (and, therefore, not necessarily all objects in the workspace).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you want to export cube metadata (that is, when the default API keyword is in effect), you must export all of the objects in the workspace (that is, you <span class="italic">must</span> specify the ALL keyword for <span class="italic">export_item</span>). You cannot export cube metadata when you export only some workspace objects.</div>
</dd>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of an analytic workspace object or option to be exported. You can list multiple names for export.</p>
</dd>
<dt>AS <span class="italic">newname</span></dt>
<dd>
<p>Specifies a new name for the analytic workspace object or option. When you specify an expression, or a local variable, or a local valueset, then you must use AS <span class="italic">name</span> to provide a name for the object that <a href="dml_commands_2.htm#i78916">IMPORT (EIF)</a> uses to receive the data</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
You cannot rename dimensions.</div>
</dd>
<dt><span class="italic">exp</span></dt>
<dd>
<p>An expression to be computed and exported. You can list multiple names for export.</p>
</dd>
<dt>SCATTER&nbsp;AS&nbsp;<span class="italic">scattername</span>&nbsp;[TYPE&nbsp;<span class="italic">scattertype</span>]</dt>
<dd>
<p>When you want to export a large multidimensional object that may require multiple passes to write into memory, then you can use SCATTER AS <span class="italic">scattername</span> to improve file I/O performance. You must first define one or two new single-dimension text variables (<span class="italic">scattername</span> and <span class="italic">scattertype</span>) and assign text values and their corresponding data types to <span class="italic">scattername.</span> When you use SCATTER AS <span class="italic">scattername</span>, this tells Oracle OLAP to export the multidimensional expression as separate variables in the <span class="italic">slices</span> you have specified in <span class="italic">scattername.</span> When each of the slice variables is to have the same data type, you can simply make <span class="italic">exp</span> have that data type, in which case you do not have to use TYPE <span class="italic">scattertype</span>.</p>
</dd>
<dt>EXCLUDING (<span class="italic">concatbasedim</span> &nbsp;.&nbsp;.&nbsp;.)</dt>
<dd>
<p>The EXCLUDING phrase applies only to a concat dimension that you specify with the <span class="italic">name</span> argument. The value you specify for <span class="italic">concatbasedim</span>, specifies the base dimensions of the concat that Oracle OLAP does not export.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>Specifies that Oracle OLAP exports all the objects currently in the status of NAME (and, therefore, not necessarily all objects in the workspace).</p>
</dd>
<dt>TO EIF FILE</dt>
<dd>
<p>Indicates that you want to create an EIF file.</p>
</dd>
<dt><span class="italic">file-name</span></dt>
<dd>
<p>A text expression that is the name of the file to which output should be written. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use the CDA command to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
<dt>LIST</dt>
<dd>
<p>Sends to the current outfile the definition of each object as it begins to export it. For dimensions, EXPORT indicates the number of values being exported, and for composites, it lists the number of dimension value combinations. EXPORT also produces a message that shows the total number of bytes read every two minutes and after the export procedure.</p>
</dd>
<dt>NOPROP</dt>
<dd>
<p>Prevents any properties that you have assigned to each object using a PROPERTY from being written to the EIF file.</p>
</dd>
<dt>NOREWRITE</dt>
<dt>REWRITE</dt>
<dd>
<p>Specifies whether EXPORT overwrites the target file when it already exists. NOREWRITE (the default) leaves an existing target file intact and sends an error message to the current outfile. REWRITE causes EXPORT to replace the existing file with the new EIF file.</p>
</dd>
<dt>FILESIZE <span class="italic">n</span> [K|M|G]</dt>
<dd>
<p>Sets the maximum size of each component file (main file and extension files) for EIF files. When a file&#39;s size grows beyond the value of FILESIZE or the current disk or location becomes full, Oracle OLAP creates an EIF extension file. See<a href="#i79900">&#34;EIF Extension Files&#34;</a>.</p>
<p>FILESIZE affects component files created after it is set. Previous component files may have various sizes, determined by the FILESIZE setting at the time each one was created or by the size it reached when its disk was full.</p>
<p>When you do not specify <code dir="ltr">K</code>, <code dir="ltr">M</code>, or <code dir="ltr">G</code>, the value you specify for <span class="italic">n</span> is interpreted as bytes. When you specify <code dir="ltr">K</code>, <code dir="ltr">M</code>, or <code dir="ltr">G</code> after the value <span class="italic">n</span>, the value is interpreted as kilobytes, megabytes, or gigabytes, respectively.</p>
<p>You can set FILESIZE to any value between 81,920 bytes (80K) and 2,147,479,552 bytes (2G).</p>
</dd>
<dt>NOTEMPDATA</dt>
<dd>
<p>Prevents data in TEMP variables from being written to the EIF file.</p>
</dd>
<dt>NLS_CHARSET <span class="italic">charset-exp</span></dt>
<dd>
<p>Specifies the character set that Oracle OLAP uses when exporting text data to the file specified by <span class="italic">file-name</span> which allows Oracle OLAP to convert the data accurately into that character set. This argument must be the last one specified. When this argument is omitted, then Oracle OLAP exports the data in the database character set, which is recorded in the NLS_LANG option.</p>
</dd>
<dt>AGGREGATE</dt>
<dd>
<p>Export aggregated data. (Default behavior.)</p>
</dd>
<dt>NOAGGR</dt>
<dd>
<p>Do not export aggregated data.</p>
</dd>
<dt>API</dt>
<dd>
<p>(Default) Export any <a id="sthref4224"></a><a id="sthref4225"></a>cube metadata defined for the specified items.</p>
</dd>
<dt>NOAPI</dt>
<dd>
<p>Do not export any cube metadata defined for the specified items.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4226"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2354"></a>Exporting and Importing Between Different Platforms</p>
<p>When you transfer an EIF file between computers, use a binary transfer to overcome file-format incompatibilities between platforms. The EIF file must have been created with the EIFVERSION set to a version that is less than or equal to the version number of the target workspace. See the <a href="dml_options.htm#i80501">EIFVERSION</a> option for information about verifying the target version number.</p>
<p class="subhead2"><a id="OLADM2355"></a>Exporting Relations</p>
<p>When you export a relation, EXPORT exports the definition and the values in status for the related dimension and the dimensions of the relation.</p>
<p class="subhead2"><a id="OLADM2356"></a>Exporting Conjoint Dimensions</p>
<p>When you export a conjoint dimension, ensure that the status of the base dimensions and the status of the conjoint dimension match. Because there is an implicit relation between conjoint and base dimensions, Oracle OLAP exports the base dimensions with the conjoint dimension, but it cannot export all the conjoint dimension values in the current status when the related base values are not also in status.</p>
<p class="subhead2"><a id="OLADM2357"></a>Exporting Dimension Surrogates</p>
<p>When you export a dimension surrogate, Oracle OLAP also exports the dimension of the surrogate. For more information, see <a href="dml_commands_2.htm#BABCJCHI">&#34;Importing and Exporting Dimension Surrogates&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2358"></a>Reducing Workspace Size</p>
<p>When you have added and then deleted many objects or dimension values, you might want to use EXPORT (from EIF) with the <a href="dml_commands_2.htm#i78916">IMPORT (EIF)</a> command to remove extra space from your analytic workspace. You can make your workspace smaller, perhaps substantially so. To do this, use the EXPORT command with the ALL keyword to put all the data in an EIF file, create another workspace with a different name, and then import the EIF file into the new workspace. You can then delete the old workspace and refer to the new one with the same workspace alias that you used for the original one.</p>
<p class="subhead2"><a id="OLADM2359"></a>Preserving the Type of a Conjoint Dimension</p>
<p>When you export a HASH, BTREE, or NOHASH conjoint dimension to an EIF file, the conjoint type is exported along with its definition in the EIF file. When you then import the conjoint dimension into an analytic workspace, Oracle OLAP preserves the conjoint type when you import into a new dimension or a dimension already using that conjoint type. When you import the dimension into an existing dimension that does not use the same conjoint type, Oracle OLAP does not preserve the original conjoint type that was saved in the EIF file.</p>
<p class="subhead2"><a id="i79874"></a><a id="OLADM2360"></a>Exporting Unnamed Composites</p>
<p>When you export or import an object with an unnamed composite in its definition, the composite is automatically exported or imported with the object. You cannot import or export an unnamed composite independently.</p>
<p class="subhead2"><a id="i79900"></a><a id="OLADM2361"></a>EIF Extension Files</p>
<p>EIF extension file names have the structure <span class="italic">filename</span>.e<span class="italic">nnn</span>, where <span class="italic">nnn</span> is a three-digit number beginning with 001. For example, assume you have an EIF file named <code dir="ltr">export.eif</code>, the extension files are named <code dir="ltr">export.e001</code>, <code dir="ltr">export.e002</code>, and so on. You can set the extension to three characters by using the EIFSHORTNAMES option. Extension files are created in the same directory object as the original EIF file, unless you specify a different one with the EIFEXTENSIONPATH option.</p>
<p class="subhead2"><a id="OLADM2362"></a>Saving SEGWIDTH Setting Information</p>
<p>When you use the SEGWIDTH keyword of the CHGDFN command to specify the length of variable segments, segment information cannot be exported and imported automatically. You can save your SEGWIDTH settings by exporting the entire workspace, creating a new workspace, importing only the workspace objects into the new workspace, specifying segmentation, and then importing the variable data into the new workspace.</p>
<p class="subhead2"><a id="OLADM2363"></a>Exporting Objects with the Same Name From Two Different Workspaces</p>
<p>When you want to export two objects that have the same name from two different workspaces, you must rename one of them in the EIF file by exporting it with the AS keyword. Objects in an EIF file cannot have duplicate names.</p>
<p class="subhead2"><a id="OLADM2364"></a>Exporting a PERMIT_READ or PERMIT_WRITE Program</p>
<p>The contents of a <a href="dml_program.htm#i1015611">PERMIT_READ</a> or a <a href="dml_program.htm#i1015926">PERMIT_WRITE</a> program is emptied when exported. To successfully copy the contents of these programs to and from analytic workspaces, rename them before using EXPORT (to EIF); and then, after using IMPORT (from EIF) to copy them into an analytic workspace, name them back to PERMIT_READ or PERMIT_WRITE.</p>
<p class="subhead2"><a id="OLADM2365"></a>Exporting TEXT and NTEXT Values</p>
<p>You can export and import TEXT and NTEXT values. Both data types can be exported to a single EIF file.</p>
<ul>
<li>
<p>Exported TEXT values are stored in the EIF file using the character set specified for the file in the EXPORT command.</p>
</li>
<li>
<p>Exported NTEXT values are stored in the EIF file as NTEXT (UTF8 Unicode).</p>
</li>
<li>
<p>NTEXT values imported into TEXT objects are converted into the database character set which can result in data loss when the NTEXT values cannot be represented in the database character set.</p>
</li>
<li>
<p>TEXT values imported into NTEXT objects are converted into the NTEXT (UTF8 Unicode) character set.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4227"></a>Examples</p>
<div id="OLADM2366" class="example">
<p class="titleinexample"><a id="sthref4228"></a>Example 9-116 Exporting Variables</p>
<p>Suppose you want to export the values in status and the dimensions of two variables called <code dir="ltr">actual</code> and <code dir="ltr">budget</code> from your current Oracle OLAP workspace to a disk file called <code dir="ltr">finance.eif</code> in your current directory object. Use the following statement.</p>
<pre dir="ltr">EXPORT actual budget TO EIF FILE &#39;finance.eif&#39;
</pre></div>
<!-- class="example" -->
<div id="OLADM2367" class="example">
<p class="titleinexample"><a id="sthref4229"></a>Example 9-117 Exporting a Large Object</p>
<p>Suppose you want to export a large, multidimensional object that is likely to require multiple passes to write into memory. To improve file I/O performance, you can create a single-dimension variable to tell Oracle OLAP how to slice the multidimensional variable into smaller pieces. Suppose, also, that the large object is the <code dir="ltr">sales</code> variable, which is dimensioned by <code dir="ltr">month</code>, <code dir="ltr">product</code>, and <code dir="ltr">district</code>. To specify how <code dir="ltr">sales</code> should be sliced, create a single-dimension variable, as shown in the following statement.</p>
<pre dir="ltr">DEFINE salescatter VARIABLE TEXT &lt;district&gt;
</pre>
<p>Because <code dir="ltr">salescatter</code> is dimensioned by <code dir="ltr">district</code>, this tells Oracle OLAP to divide <code dir="ltr">sales</code> into <code dir="ltr">district</code> slices. Because <code dir="ltr">district</code> has six values, <code dir="ltr">sales</code> is divided into six slices. Each slice must be named. To do so, assign values to each <code dir="ltr">district</code> in <code dir="ltr">salescatter</code>. You can then assign the appropriate data type to each slice, for example, by using a QDR (qualified data reference), when desired.</p>
<p>To export SALES, execute the following statement.</p>
<pre dir="ltr">EXPORT sales SCATTER AS salescatter TYPE TYPEVAR TO EIF FILE &#39;slice.eif&#39;
</pre>
<p>To import the variables, specify which of the named slices you want, as in the following statement.</p>
<pre dir="ltr">IMPORT dist1 dist2 dist3 dist4 dist5 dist6 FROM EIF FILE &#39;slice.eif&#39;
</pre>
<p>Alternatively, you can import all of the variables.</p>
<pre dir="ltr">IMPORT ALL FROM EIF FILE &#39;slice.eif&#39; 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM807" class="refsect2"><a id="i78788"></a>
<h3 class="refsect2">EXPORT (spreadsheet)</h3>
<p><a id="sthref4230"></a><a id="sthref4231"></a>The EXPORT (to spreadsheet) command copies an Oracle OLAP worksheet object that you have created to a spreadsheet file and automatically translate it into the appropriate format. An analytic worksheet&#39;s dimensions form the columns and rows of the spreadsheet file. The current status of these dimensions determines which part of a worksheet is exported.</p>
<p>You can also export an analytic worksheet to an EIF file as described in <a href="#i78783">EXPORT (EIF)</a>. EXPORT (to spreadsheet) is commonly used to copy part of your Oracle OLAP workspace into a file that can be read by other software, such as Lotus&nbsp;1-2-3, or Symphony.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4232"></a>Syntax</p>
<p class="synopsis">EXPORT&nbsp;<span class="italic">worksheetname&nbsp;</span>TO&nbsp;{WKS|WK1|WRK|WR1|DIF}&nbsp;FILE&nbsp;<span class="italic">file-name&nbsp;</span>-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[STATRANK]&nbsp;[<span class="underline">NOREWRITE</span>|REWRITE]&nbsp;[NLS_CHARSET&nbsp;<span class="italic">charset-exp</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4233"></a>Parameters</p>
<dl>
<dt><span class="italic">worksheetname</span></dt>
<dd>
<p>An Oracle OLAP worksheet object that you have created. In any one EXPORT (to spreadsheet) command, you can export only one <span class="italic">worksheetname</span> to one spreadsheet file.</p>
</dd>
<dt>WKS</dt>
<dd>
<p>Indicates that you want to export an Oracle OLAP worksheet to a 1-2-3 file, version 1.</p>
</dd>
<dt>WK1</dt>
<dd>
<p>Indicates that you want to export an Oracle OLAP worksheet to a 1-2-3 file, version 2.</p>
</dd>
<dt>WRK</dt>
<dd>
<p>Indicates that you want to export an Oracle OLAP worksheet to a Symphony file, version 1.0.</p>
</dd>
<dt>WR1</dt>
<dd>
<p>Indicates that you want to export an Oracle OLAP worksheet to a Symphony file, version 1.1.</p>
</dd>
<dt>DIF</dt>
<dd>
<p>Indicates that you want to export an Oracle OLAP worksheet to a data interchange format file.</p>
</dd>
<dt>FILE <span class="italic">file-name</span></dt>
<dd>
<p>FILE specifies the file that you are creating. For <span class="italic">file-name</span>, specify a text expression that is the name of the file. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use the CDA command to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
<dt>STATRANK</dt>
<dd>
<p>Specifies that the row and column numbers exported with worksheet data should be the current status rankings of the <code dir="ltr">WKSROW</code> and <code dir="ltr">WKSCOL</code> dimensions.</p>
</dd>
<dt>NOREWRITE</dt>
<dd>
<p>(Default) Specifies that Oracle OLAP does not overwrite the target file when it already exists, but instead displays an error.</p>
</dd>
<dt>REWRITE</dt>
<dd>
<p>Specifies that Oracle OLAP overwrites the target file when it already exists.</p>
</dd>
<dt>NLS_CHARSET <span class="italic">charset-exp</span></dt>
<dd>
<p>Specifies the character set that Oracle OLAP uses when exporting text data to the worksheet file specified by <span class="italic">file-name</span> which allows Oracle OLAP to convert the data accurately into that character set.</p>
<p>For information about the character sets that you can specify, see <a class="olink NLSPG" href="../NLSPG/toc.htm"><span class="italic">Oracle Database Globalization Support Guide</span></a>.</p>
<p>This argument must be the last one specified. When this argument is omitted, then Oracle OLAP exports the data in the database character set, which is recorded in the NLS_LANG option.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4234"></a>Examples</p>
<div id="OLADM2368" class="example">
<p class="titleinexample"><a id="sthref4235"></a>Example 9-118 Limiting Before Exporting</p>
<p>This example exports part of a pricing worksheet by limiting its dimensions, <code dir="ltr">WKSCO</code>L and <code dir="ltr">WKSROW</code>, before the EXPORT command.</p>
<pre dir="ltr">LIMIT WKSCOL TO 2 TO 4
LIMIT WKSROW TO 3 TO 4
EXPORT pricing TO WRK FILE &#39;price1.wrk&#39; 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i78818"></a>
<div id="OLADM808" class="refsect1">
<h2 class="refsect1">FCCLOSE</h2>
<p><a id="sthref4236"></a><a id="sthref4237"></a><a id="sthref4238"></a>The FCCLOSE command closes a forecasting context. When Oracle OLAP closes a forecasting context, only data in the variables specified in the FCEXEC command remain available to applications. Oracle OLAP purges all other data, including temporary pages, associated with the forecast.</p>
<p>You must use the FCCLOSE command in combination with other OLAP DML statements as outlined in <a href="dml_program.htm#i1017424">&#34;Forecasting Programs&#34;</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4239"></a>Syntax</p>
<p class="synopsis">FCCLOSE&nbsp;<span class="italic">handle-expression</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4240"></a>Parameters</p>
<dl>
<dt><span class="italic">handle-expression</span></dt>
<dd>
<p>An <code dir="ltr">INTEGER</code> expression that is the handle to forecast context previously opened using the FCOPEN function.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4241"></a>Examples</p>
<p>For an example of a forecasting program, see <a href="#CIHFBEEF">Example 9-119, &#34;A Forecasting Program&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1002088"></a>
<div id="OLADM809" class="refsect1">
<h2 class="refsect1">FCEXEC</h2>
<p><a id="sthref4242"></a><a id="sthref4243"></a>The FCEXEC command executes a forecast based on the parameters options specified by the FCSET command for the forecast. The FCEXEC command implicitly loops over all the dimensions of the expression other than the time dimension.</p>
<p>You must use the FCEXEC command in combination with other OLAP DML statements as outlined in <a href="dml_program.htm#i1017424">&#34;Forecasting Programs&#34;</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4244"></a>Syntax</p>
<p class="synopsis">FCEXEC&nbsp;<span class="italic">handle-expression&nbsp;</span>[<span class="italic">choice</span>]&nbsp;<span class="italic">time-series-expression</span></p>
<p>where <span class="syntaxinlineitalic">choice</span> is one or more of the following:</p>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">TIME</span> <span class="syntaxinlineitalic">time-dimension</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">TRADINGDAYS</span> <span class="syntaxinlineitalic">expression</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">INTO</span> <span class="syntaxinlineitalic">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">SEASONAL</span> <span class="syntaxinlineitalic">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">SMSEASONAL</span> <span class="syntaxinlineitalic">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">&nbsp;BACKCAST</span></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4245"></a>Parameters</p>
<dl>
<dt><span class="italic">handle-expression</span></dt>
<dd>
<p>An <code dir="ltr">INTEGER</code> expression that specifies the handle to a forecasting context previously opened using the FCOPEN function.</p>
</dd>
<dt>TIME <span class="italic">time-dimension</span></dt>
<dd>
<p>The name of the time dimension. You do not have to specify this parameter when one dimension of the <span class="italic">time-series-expression</span> is of type DAY, WEEK, MONTH, QUARTER, or YEAR.</p>
</dd>
<dt>TRADINGDAYS <span class="italic">expression</span></dt>
<dd>
<p>An <code dir="ltr">INTEGER</code> expression that specifies the number of business days in the unit of time of the time data type (that is, DAY, WEEK, MONTH, or YEAR) of the time-series-expression. By default the value is the total number of days in the unit of time.</p>
</dd>
<dt>INTO <span class="italic">name</span></dt>
<dd>
<p>The name of the Oracle OLAP variable in which the forecasting engine stores the forecast data. This variable must be dimensioned by the time dimension and any other dimensions of the <span class="italic">time-series-expression</span> that have multiple values in status. (This variable can have additional dimensions. However, in this case, when Oracle OLAP executes the forecast, it limits each of these additional dimensions to the first value in the dimension&#39;s status list.).</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
When you do not specify INTO and the <span class="italic">time-series-expression</span> names an Oracle OLAP variable, the forecasting engine populates the input variable with the output data of the forecast, thus overwriting the original data.</div>
</dd>
<dt>SEASONAL <span class="italic">name</span></dt>
<dd>
<p>The name of the variable that the forecasting engine populates with the data that represents seasonal factors.The forecasting engine produces only one cycle of factors and stores these values into this variable beginning with the first time period in status. This variable must be dimensioned by the time dimension and any other dimensions of the <span class="italic">time-series-expression</span> that have multiple values in status. (This variable can have additional dimensions. However, in this case, when the forecasting engine executes the forecast, Oracle OLAP limits each of these additional dimensions to the first value in the dimension&#39;s status list.)</p>
</dd>
<dt>SMSEASONAL <span class="italic">name</span></dt>
<dd>
<p>The name of the variable that the forecasting engine populates with the data that represents smoothed seasonal factors. The forecasting engine produces only one cycle of factors and stores these values into this variable beginning with the first time period in status; all other values are set to <code dir="ltr">NA</code>. This variable must be dimensioned by the time dimension and any other dimensions of the <span class="italic">time-series-expression</span> that have multiple values in status. (This variable can have additional dimensions. However, in this case, when the forecasting engine executes the forecast, Oracle OLAP limits each of these additional dimensions to the first value in the dimension&#39;s status list.)</p>
</dd>
<dt>BACKCAST</dt>
<dd>
<p>The BACKCAST keyword specifies that the forecasting engine returns fitted historical data. Typically this data is available only for a subset of the historical periods (sometimes called the &#34;fit window&#34;). The forecasting engine sets the value of the data that corresponds to the historical time periods that are outside of the fit window to <code dir="ltr">NA</code>.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
When you specify a value for BACKCAST and do not specify a value for INTO variable, the forecasting engine populates the source variable with the backcasted data, thus overwriting the original data.</div>
</dd>
<dt><span class="italic">time-series-expression</span></dt>
<dd>
<p>An expression that specifies the data from which FCEXEC calculates values. The <span class="italic">time-series-expression</span> must be a numeric expression that is dimensioned by <span class="italic">time-dimension</span>. The <span class="italic">time-series-expression</span> may also be dimensioned by other dimensions. In this case, FCEXEC implicitly loops over all the dimensions of the expression other than the time dimension. The maximum status length of the <span class="italic">time-series-expression</span> is 5000.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4246"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2369"></a>Forecasting a Single Value</p>
<p>The FCEXEC command implicitly loops over all the dimensions of the time-series expression other than the time dimension. When you want to forecast only one value of a multidimensional time-series expression, then you must limit the status of all non-time dimensions to a single value before you execute the FCEXEC command.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4247"></a>Examples</p>
<div id="OLADM2370" class="example">
<p class="titleinexample"><a id="CIHFBEEF"></a>Example 9-119 A Forecasting Program</p>
<p>Suppose you define a program named <code dir="ltr">autofcst</code> to perform a forecast from the data that is in an input variable named <code dir="ltr">fcin1</code>. The <code dir="ltr">fcin1</code> variable is dimensioned by a time dimension named <code dir="ltr">timedim</code>. Assume that you have defined a program named <code dir="ltr">autofcst</code> with the following definition and specification.</p>
<pre dir="ltr">DEFINE autofcst PROGRAM
PROGRAM
&#34; Using the Automatic forecasting method 
&#34; Suppose you want to create a forecast from the data in 
&#34; an input variable named fcin1 that is dimensionsed by 
&#34; a time dimension named timedim. 
&#34;
&#34; Open a forecasting context
hndl = FCOPEN(&#39;MyForecast&#39;)
&#34; Initialize the target variables
fcout1 = NA
fcseas1 = NA
fcsmseas1 = NA
&#34; Specify that the forecast be of the AUTOMATIC type
fcset hndl method &#39;automatic&#39;
&#34; Execute the forecast
FCEXEC hndl time timedim INTO fcout1 -
      seasonal fcseas1 smseasonal fcsmseas1 backcast fcin1
&#34; Create a report showing the input and output of the forecast
REPORT DOWN timedim fcin1 fcout1 fcseas1 fcsmseas1
&#34; Run a program named queryall to retrieve the characteristics 
&#34; of the forecasting trials 
QUERYALL
&#34; Close the forecasting context
FCCLOSE hndl
END
</pre>
<p>The <code dir="ltr">autofcst</code> program opens a forecasting context, sets the option of the forecast to AUTOMATIC, reports on the forecasted data, and queries and reports the characteristics of the various trials that Oracle OLAP performed to determine the method to use, and closes the forecasting context.</p>
<p>The <code dir="ltr">autofcst</code> program contains the following report command that displays a report of the input to and the output from the forecast.</p>
<pre dir="ltr">REPORT DOWN timedim fcin1 fcout1 fcseas1 fcsmseas1
</pre>
<p>The sample report created by this statement follows.</p>
<pre dir="ltr">TIMEDIM          FCIN1      FCOUT1    FCSEAS1   FCSMSEAS1
-------------- ---------- ---------- ---------- ----------
Jan97                  NA         NA 1.06725482 1.02926773
Feb97                  NA         NA .978607917 .945762221
Mar97                  NA         NA 1.12699278 .860505188
Apr97                  NA         NA .576219022 .905284834
May97                  NA         NA .920601317 .907019312
Jun97                  NA         NA 0.91118344  1.0580697
Jul97                  NA         NA 1.07886483 1.05597234
Aug97                  NA         NA 1.08101034   1.054612
Sep97                  NA         NA 1.08077427 1.05361672
Oct97               2,914         NA 1.08351799 1.05380407
Nov97               2,500         NA 1.01126778 1.04504316
Dec97               2,504         NA 1.08370549 1.03104272
Jan98               3,333         NA         NA         NA
Feb98               2,512         NA         NA         NA
Mar98               2,888         NA         NA         NA
...                 ...           ...        ...        ...
Jan01                  NA 3,371.7631         NA         NA
Feb01                  NA 2,736.4811         NA         NA
Mar01                  NA 3,408.3656         NA         NA
Apr01                  NA 714.277175         NA         NA
May01                  NA 2,502.9315         NA         NA
Jun01                  NA 3,195.3626         NA         NA
Jul01                  NA 3,911.6058         NA         NA
Aug01                  NA  4,000.651         NA         NA
Sep01                  NA 4,220.2658         NA         NA
Oct01                  NA 3,416.0208         NA         NA
Nov01                  NA 2,827.3943         NA         NA
Dec01                  NA 2,990.8629         NA         NA
</pre>
<p>The <code dir="ltr">queryall</code> program and a sample report created from its output is shown in <a href="dml_functions_1.htm#CJAIDECC">Example 7-87, &#34;Querying a Forecast&#34;</a>.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHIDJIF"></a>
<div id="OLADM810" class="refsect1">
<h2 class="refsect1">FCSET</h2>
<p><a id="sthref4248"></a>The FCSET command specifies the characteristics that you want the Geneva Forecasting engine to use when executing a forecasting context created using a FCOPEN statement.</p>
<p>You must use a FCSET statement in combination with other OLAP DML statements as outlined in <a href="dml_program.htm#i1017424">&#34;Forecasting Programs&#34;</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4249"></a>Syntax</p>
<p class="synopsis">FCSET&nbsp;<span class="italic">handle-expression</span> <span class="italic">forecast-characteristic</span></p>
<p>where <span class="syntaxinlineitalic">forecast-characteristic</span> has the following syntax:</p>
<dl>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ALLOCLAST {YES|<span class="underline">NO</span>}]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ALPHA&nbsp;{MAX|MIN|STEP}&nbsp;<span class="italic">decimal</span>]...</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[APPROACH&nbsp;{<span class="underline">&#39;APPAUTO</span>&#39;|&#39;APPMANUAL&#39;]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[BETA&nbsp;{MAX|MIN|STEP}&nbsp;<span class="italic">decimal</span>]...</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[COMPSMOOTH {YES|<span class="underline">NO</span>}]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[CYCDECAY&nbsp;{MAX|MIN}&nbsp;<span class="italic">decimal</span>]...</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[GAMMA&nbsp;{MAX|MIN|STEP}&nbsp;<span class="italic">decimal</span>]...</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[HISTPERIODS&nbsp;<span class="italic">integer</span>]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[MAXFACTOR&nbsp;<span class="italic">decimal</span>]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[METHOD &#39;<span class="italic">method</span>&#39;]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp; [MINFCFACTOR&nbsp;<span class="italic">decimal</span>]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[MPTDECAY&nbsp;{MAX|MIN}&nbsp;<span class="italic">decimal</span>]...</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[NTRIALS&nbsp;<span class="italic">integer</span>]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[PERIODICITY&nbsp;<span class="italic">cycle-spec</span>]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[RATIO&nbsp;<span class="italic">decimal</span>]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[SMOOTHING&nbsp;{YES|<span class="underline">NO</span>}]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[TRANSFORM&nbsp;{<span class="underline">&#39;TRNOSEA&#39;</span>|&#39;TRSEA&#39;|&#39;TRMPT&#39;}]</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[TRENDHOLD&nbsp;{MAX|MIN|STEP}&nbsp;<span class="italic">decimal</span>]...</dd>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[WINDOWLEN&nbsp;<span class="italic">integer</span>]</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4250"></a>Parameters</p>
<dl>
<dt><span class="italic">handle-expression</span></dt>
<dd>
<p>An <code dir="ltr">INTEGER</code> expression that is the handle to forecast context that you want to query and that was previously opened using the FCOPEN function.</p>
</dd>
<dt>ALLOCLAST {<span class="underline">NO</span>|YES}</dt>
<dd>
<p>Indicates whether the forecast engine reduces the risk of over-adjustment by allocating or forecasting the last cycle.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">NO</span> specifies that the forecast engine forecasts the last cycle. (Default)</p>
</li>
<li>
<p><span class="syntaxinlinebold">YES</span> specifies that the forecast engine forecasts only the average value for one period of the cycle. That average value is then multiplied by factors to give the remaining points in that period. For example, when the last cycle has 24-hour periods, only an average hourly value is forecast, which is then multiplied by 24 hourly factors to give the value for each hour.</p>
</li>
</ul>
</dd>
<dt>ALPHA {MAX|MIN|STEP} <span class="italic">decimal</span></dt>
<dd>
<p>For the single exponential smoothing, double exponential smoothing, and Holt-Winters forecasting methods, specifies the value for Alpha which is the baseline parameter that is used for those methods.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">ALPHA MAX</span> <span class="syntaxinlineboldital">decimal</span>, specifies the maximum value of Alpha. For <span class="italic">decimal</span>, you can specify any decimal value from 0.0 through 1.0. The default value of <span class="italic">decimal</span> is 0.3.</p>
</li>
<li>
<p><span class="syntaxinlinebold">ALPHA MIN</span> <span class="syntaxinlineboldital">decimal</span> specifies the minimum value of Alpha. For <span class="italic">decimal</span>, you can specify any decimal value from 0.0 through 1.0. The default value of <span class="italic">decimal</span> is 0.1.</p>
</li>
<li>
<p><span class="syntaxinlinebold">ALPHA STEP</span> <span class="syntaxinlineboldital">decimal</span> specifies the value of the interval that the forecasting engine uses when it determines the value of Alpha. For <span class="italic">decimal</span>, you can specify any decimal value from 0.05 through 0.2 if the value evenly divides the difference between the values of ALPHA MAX and ALPHA MIN. The default value of <span class="italic">decimal</span> is 0.1.</p>
</li>
</ul>
</dd>
<dt>APPROACH {&#39;APPAUTO&#39;|&#39;APPMANUAL&#39;}</dt>
<dd>
<p>Specifies the approach that the forecasting engine takes when it executes the forecast.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">&#39;APPAUTO&#39;</span> is the default approach which invokes the Geneva forecasting expert system which tests all of possible forecasting methods and options for these methods and chooses and uses the method that best fits the data. When you specify this value, the expert system ignores any value that you specify for the METHOD keyword.</p>
<p>Once the method is chosen, the expert system chooses alpha, beta, gamma, trend hold, cyclical decay and MPT transformation settings from the maximum and minimum settings you code. To set these values for the APPAUTO approach, you specify the same value for both minimum and maximum. For example, to specify a value of <code dir="ltr">.2</code> for alpha, set ALPHA MIN to <code dir="ltr">.2</code> and ALPHA MAX to <code dir="ltr">.2</code>. The expert system uses any other global parameters that you have set. (Default)</p>
</li>
<li>
<p><span class="syntaxinlinebold">&#39;APPMANUAL&#39;</span> indicates that the Geneva Forecasting engine uses the method and options you specify in this FCSET statement when executing the forecast.</p>
</li>
</ul>
</dd>
<dt>BETA {MAX|MIN|STEP} <span class="italic">decimal</span></dt>
<dd>
<p>For the double exponential smoothing and Holt-Winters forecasting methods, specifies the value of Beta. Beta is the trend parameter that controls the estimate of the trend.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">BETA MAX</span> <span class="syntaxinlineboldital">decimal</span> specifies the maximum value of Beta. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.0</code> through <code dir="ltr">1.0</code>. The default value is <code dir="ltr">0.3</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">BETA MIN</span> <span class="syntaxinlineboldital">decimal</span> specifies the minimum value of Beta. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.0</code> through <code dir="ltr">1.0</code>. The default value is <code dir="ltr">0.1</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">BETA STEP</span> <span class="syntaxinlineboldital">decimal</span> specifies the value of the interval that the forecasting engine uses when it determines the value of Beta. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.05</code> through <code dir="ltr">0.2</code> if the value evenly divides the difference between the values of BETA MAX and BETA MIN. The default value of decimal is <code dir="ltr">0.1</code>.</p>
</li>
</ul>
</dd>
<dt>COMPSMOOTH {YES|<span class="underline">NO</span>}</dt>
<dd>
<p>Indicates whether optimization should be done on the median smoothed data series.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">NO</span> specifies that the methods are done using the original historical time series data. (Default)</p>
</li>
<li>
<p><span class="syntaxinlinebold">YES</span> specifies that optimization is done on the median smoothed data series, which results in more smoothed or &#34;baseline&#34; forecasts.</p>
</li>
</ul>
</dd>
<dt>CYCDECAY {MAX|MIN} <span class="italic">decimal</span></dt>
<dd>
<p>For linear and nonlinear regression methods, specifies the value of the cyclical decay. Cyclical decay pertains to how seriously the forecasting engine considers deviations from baseline activity when it performs linear and nonlinear regressions.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">CYCDECAY</span> <span class="syntaxinlinebold">MAX</span> <span class="syntaxinlineboldital">decimal</span>, specifies the maximum value of the cyclical decay parameter. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.2</code> through <code dir="ltr">1.0</code> when the difference between the values of CYCDECAY MIN and CYCDECAY MAX is evenly divided by <code dir="ltr">0.4</code>. The default value of <span class="italic">decimal</span> is <code dir="ltr">1.0</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">CYCDECAY</span> <span class="syntaxinlinebold">MIN</span> <span class="syntaxinlineboldital">decimal</span>, specifies the minimum value of the cyclical decay parameter. For <span class="italic">decimal</span>, you can specify any decimal value from 0.2 through 1.0 when the difference between the values of CYCDECAY MIN and CYCDECAY MAX is evenly divided by 0.4. The default value of <span class="italic">decimal</span> is 0.2.</p>
</li>
</ul>
</dd>
<dt>GAMMA {MAX|MIN|STEP} <span class="italic">decimal</span></dt>
<dd>
<p>For the Holt-Winters forecasting method, specifies the value of Gamma which is the seasonal parameter used by that method.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">GAMMA MAX</span> <span class="syntaxinlineboldital">decimal</span> specifies the maximum value of Gamma. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.0</code> through <code dir="ltr">1.0</code>. The default value of <span class="italic">decimal</span> is <code dir="ltr">0.3</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">GAMMA MIN</span> <span class="syntaxinlineboldital">decimal</span> specifies the minimum value of Gamma. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.0</code> through <code dir="ltr">1.0</code>. The default value of <span class="italic">decimal</span> is <code dir="ltr">0.1</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">GAMMA STEP</span> <span class="syntaxinlineboldital">decimal</span> specifies the value of the interval that the forecasting engine uses when it determines the value of Gamma. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.05</code> through <code dir="ltr">0.2</code> when the value evenly divides the difference between the values of GAMMA MAX and GAMMA MIN. The default value of <span class="italic">decimal</span> is <code dir="ltr">0.1</code>.</p>
</li>
</ul>
</dd>
<dt>HISTPERIODS <span class="italic">integer</span></dt>
<dd>
<p>The number of historical periods. For <code dir="ltr"><span class="codeinlineitalic">integer</span></code>, you can specify any <code dir="ltr">INTEGER</code> value from <code dir="ltr">1</code> through <code dir="ltr">50000</code>, which is the maximum number of time dimension values that can be present in the <span class="italic">time-series</span> expression specified in the FCEXEC command. (Note that the number of forecast periods is derived by subtracting the value of HISTPERIODS from the STATLEN of the dimension of the <span class="italic">time-series</span> expression.)</p>
</dd>
<dt>MAXFCFACTOR <span class="italic">decimal</span></dt>
<dd>
<p>Specifies the upper bound on the forecast data. The number you specify for <span class="italic">decimal</span> indicates a multiple of the largest value in the historical series. For example, when you specify <code dir="ltr">10.0</code>, the upper bound is 10 times the largest value in the historical series. The default value is <code dir="ltr">100.0</code>.</p>
</dd>
<dt>METHOD &#39;<span class="italic">method</span>&#39;&#39;</dt>
<dd>
<p>Specifies the forecasting method that you want the forecasting engine to use. Values that you specify for method are ignored unless the value of <code dir="ltr">APPROACH</code> is set to <code dir="ltr">&#39;APPMANUAL&#39;</code>.</p>
<p>You can specify one of the following keywords for <span class="italic">method</span>:</p>
<ul>
<li>
<p><span class="syntaxinlinebold">AUTOMATIC</span> specifies that the forecasting engine determines and uses the method that is the best fit for the data. (Default)</p>
</li>
<li>
<p><span class="syntaxinlinebold">LINREG</span> specifies the linear regression method in which a linear relationship <code dir="ltr">(y=a*x+b)</code> is fitted to the data.</p>
</li>
<li>
<p><span class="syntaxinlinebold">NLREG1</span> specifies a nonlinear regression method in which a linear relationship <code dir="ltr">(y&#39;=a*x&#39;+b)</code> is fitted to a transformation of the original data; in this case, <code dir="ltr">x&#39;=log(x) and y&#39;=log(y)</code> which results in the development of a polynomial model between <code dir="ltr">x</code> and <code dir="ltr">y(y=c*x^a)</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">NLREG2</span> specifies a nonlinear regression method in which a linear relationship <code dir="ltr">(y&#39;=a*x&#39;+b)</code> is fitted to a transformation of the original data; in this case, <code dir="ltr">x&#39;=x and y&#39;=ln(y)</code> which results in the development of an exponential model between x and <code dir="ltr">y(y=c*e^ax)</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">NLREG3</span> specifies a nonlinear regression method in which a linear relationship <code dir="ltr">(y&#39;=a*x&#39;+b)</code> is fitted to a transformation of the original data; in this case, <code dir="ltr">x&#39;=log(x)</code> and <code dir="ltr">y&#39;=y</code> which results in the development of a logarithmic model between x and <code dir="ltr">y(y=a*log(x)+b)</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">NLREG4</span> specifies a nonlinear regression method in which a linear relationship <code dir="ltr">(y&#39;=a*x&#39;+b)</code> is fitted to a transformation of the original data; in this case, <code dir="ltr">x&#39;=1/x and y&#39;=1/y</code> which results in the development of an asymptotic curve <code dir="ltr">(y=x/(a+bx))</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">NLREG5</span> specifies a nonlinear regression method in which a linear relationship <code dir="ltr">(y&#39;=a&#39;*x+b)</code> is fitted to a transformation of the original data; in this case, <code dir="ltr">x&#39;=x and y&#39;=ln(y/(K-y))</code> which results in the development of an exponential asymptotic curve <code dir="ltr">(y=cKe^ax/(1+ce^ax))</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">SESMOOTH</span> specifies the single exponential smoothing method in which the current estimate is taken as a geometrically weighted average of past values, and all future values are given this same value. This method is intended for short term forecasts of non-seasonal data.</p>
</li>
<li>
<p><span class="syntaxinlinebold">DESMOOTH</span> specifies the double exponential smoothing method in which the current estimate is taken as a geometrically weighted average of past values, and this is added to a trend term calculated by the same method. Single exponential smoothing is therefore applied to both the series and the trend term.</p>
</li>
<li>
<p><span class="syntaxinlinebold">CROSTON</span> specifies the Croston&#39;s Intermittent Demand method. The Croston&#39;s Intermittent Demand method is a forecasting method which is a variant of exponential smoothing that can be used for intermittent data (that is data where more than half of the observations are zero). This method first estimates the interval between positive demands, and then estimates the magnitude of the demand when positive.</p>
</li>
<li>
<p><span class="syntaxinlinebold">HOLT/WINTERS</span> specifies the Holt-Winters method that is used on seasonal data, in which double exponential smoothing methods with trend damping are combined with multiplicative seasonal factors, which are estimated using single exponential smoothing.</p>
</li>
</ul>
</dd>
<dt>MINFCFACTOR <span class="italic">decimal</span></dt>
<dd>
<p>Specifies the lower bound on the forecast data. The number you specify indicates a multiple of the smallest value in the historical series. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.0</code> through <code dir="ltr">1.0</code>. For example, when you specify <code dir="ltr">0.5</code> the lower bound is half the smallest value in the historical series. The default value of <span class="italic">decimal</span> is <code dir="ltr">0.0</code>.</p>
</dd>
<dt>MPTDECAY {MAX|MIN} <span class="italic">decimal</span></dt>
<dd>
<p>Specifies the value of the parameter that the forecasting engine uses when it adjusts the decay of estimates of base values that it uses when it unravels the predictions on a moving periodic total (MPT) series.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">MPTDECAY MAX</span> <span class="syntaxinlineboldital">decimal</span> specifies the maximum value of the parameter that the forecasting engine uses when it adjusts the decay of estimates of base values that it uses when it unravels the predictions on a moving periodic total (MPT) series. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.2</code> through <code dir="ltr">1.0</code> when the difference between the values of MPTDECAY MIN and MPTDECAY MAX is evenly divided by <code dir="ltr">0.4</code>. The default value of <span class="italic">decimal</span> is <code dir="ltr">1.0</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">MPTDECAY MIN</span> <span class="syntaxinlineboldital">decimal</span> specifies the minimum value of the parameter that the forecasting engine uses when it adjusts the decay of estimates of base values that it uses when it unravels the predictions on a moving periodic total (MPT) series. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.2</code> through <code dir="ltr">1.0</code> when the difference between the values of MPTDECAY MIN and MPTDECAY MAX is evenly divided by <code dir="ltr">0.4</code>. The default value of <span class="italic">decimal</span> is <code dir="ltr">0.2</code>.</p>
</li>
</ul>
</dd>
<dt>NTRIALS <span class="italic">integer</span></dt>
<dd>
<p>Specifies the number of trials that the forecasting engine runs to determine the forecast. For <span class="italic">integer</span>, you can specify any <code dir="ltr">INTEGER</code> value from <code dir="ltr">1</code> through <code dir="ltr">3</code>. The default value of <span class="italic">decimal</span> is <code dir="ltr">3</code>.</p>
</dd>
<dt>PERIODICITY <span class="italic">cycle-spec</span></dt>
<dd>
<p>Specifies either the number of periods for a single cycle or the number of periods in each of a set of nested cycles.</p>
<p>You do not have to specify this parameter when you are using a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR. In this case, the forecasting engine derives the periodicity from the number of time dimension periods that constitute a year (for example, there are 52 WEEK periods in a year).</p>
<p>When you are not using a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR, the default value for <span class="italic">cycle-spec</span> is <code dir="ltr">1</code>, which specifies that the data is not grouped at all (that is, each period is logically independent).</p>
<p>Cycles are groupings of time periods that repeat through the time span of the data. For example, daily periods can be grouped into a weekly cycle and weekly periods can be grouped into a yearly cycle. In this case, the cycles are said to be nested, with the yearly cycle more aggregate than the weekly cycle, and the weekly cycle more detailed than the yearly cycle. By specifying cycles at a more detailed level, you allow OLAP to conduct a finer-grained search for factors that affect the data.</p>
<ul>
<li>
<p>To specify a single cycle, set <span class="italic">cycle-spec</span> to an <code dir="ltr">INTEGER</code> from <code dir="ltr">1</code> through <code dir="ltr">25000</code>. The <code dir="ltr">INTEGER</code> indicates the number of periods into which the cycle should be divided. For example, the <code dir="ltr">INTEGER 12</code> specifies that the cycle should be divided into 12 periods.</p>
</li>
<li>
<p>To specify a series of nested cycles, set <span class="italic">cycle-spec</span> to a series of up to six <code dir="ltr">INTEGER</code> values enclosed in parentheses and separated by commas. Each value in the series is the number of periods in a nested cycle. The cycles are ordered from most aggregate to least aggregate. For example, when <span class="italic">cycle-spec</span> is <code dir="ltr">(52,7)</code>, this indicates two cycles in which the most aggregate cycle is divided into 52 periods and each of those periods is divided into seven periods. In this example, the year is divided into 52 weeks, and each of those weeks is divided into seven days.</p>
</li>
</ul>
</dd>
<dt>RATIO <span class="italic">decimal</span></dt>
<dd>
<p>Specifies the ratio of the size of the window that the forecasting engine uses for smoothing and the total number of historical periods. The forecasting engine uses this value to determine the number of backcast periods. You can specify any decimal value from <code dir="ltr">1/26</code> through <code dir="ltr">1/2</code>. The default value of <span class="italic">decimal</span> is <code dir="ltr">1/3</code>.</p>
</dd>
<dt>SMOOTHING {YES|<span class="underline">NO</span>}</dt>
<dd>
<p>Indicates whether the forecasting engine should smooth the data for the forecast. The default value is <code dir="ltr">NO</code>. Specify <code dir="ltr">YES</code> when you want the forecasting engine to smooth the data.</p>
</dd>
<dt>TRANSFORM {&#39;TRNOSEA&#39;|&#39;TRSEA&#39;|&#39;TRMPT&#39;}</dt>
<dd>
<p>The data filter that the forecasting engine uses when executing the forecast.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">&#39;TRNOSEA&#39;</span> indicates that the forecasting engine does not seasonally adjust the data. (Default)</p>
</li>
<li>
<p><span class="syntaxinlinebold">&#39;TRSEA&#39;</span> indicates that the forecasting engine transforms using a filter that seasonally adjusts the data.</p>
</li>
<li>
<p><span class="syntaxinline">&#39;</span><span class="syntaxinlinebold">TRMPT&#39;</span> indicates that the forecasting engine transforms using a moving periodic total (MPT) filter.</p>
</li>
</ul>
</dd>
<dt>TRENDHOLD {MAX|MIN|STEP} <span class="italic">decimal</span></dt>
<dd>
<p>For the double exponential smoothing and Holt-Winters forecasting methods, specifies the value of the trend hold parameter that indicates trend reliability for those methods.</p>
<ul>
<li>
<p><span class="syntaxinlinebold">TRENDHOLD MAX</span> <span class="syntaxinlineboldital">decimal</span> specifies the maximum value of the trend hold parameter. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.0</code> through <code dir="ltr">1.0</code>. The default value of <span class="italic">decimal</span> is <code dir="ltr">0.8</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">TRENDHOLD MIN</span> <span class="syntaxinlineboldital">decimal</span> specifies the minimum value of the trend hold parameter. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.0</code> through <code dir="ltr">1. 0</code>. The default value of <span class="italic">decimal</span> is <code dir="ltr">0.4</code>.</p>
</li>
<li>
<p><span class="syntaxinlinebold">TRENDHOLD STEP</span> <span class="syntaxinlineboldital">decimal</span> specifies the value of the interval that the forecasting engine uses when it determines the value of the trend hold parameter. For <span class="italic">decimal</span>, you can specify any decimal value from <code dir="ltr">0.1</code> through <code dir="ltr">0.2</code>. The value of <span class="italic">decimal</span> must evenly divide the difference between the values of TRENDHOLD MAX and TRENDHOLD MIN. The default value of <span class="italic">decimal</span> is <code dir="ltr">0.2</code>.</p>
</li>
</ul>
</dd>
<dt>WINDOWLEN <span class="italic">integer</span></dt>
<dd>
<p>Specifies the number of points that the forecasting engine uses when it determines median values when it performs median smoothing. Median smoothing eliminates extreme variations in the data by replacing each data point in a series by the median value of itself and its neighbors. For integer, you can specify any <code dir="ltr">INTEGER</code> value from <code dir="ltr">1</code> through <code dir="ltr">13</code>. The default value of integer is <code dir="ltr">3</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4251"></a>Examples</p>
<p>For an example of a forecasting program, see <a href="#CIHFBEEF">Example 9-119, &#34;A Forecasting Program&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="g1037946"></a>
<div id="OLADM811" class="refsect1">
<h2 class="refsect1">FETCH</h2>
<p>The FETCH command specifies how analytic workspace data is retrieved for use in the relational table created by the <code dir="ltr">OLAP_TABLE</code> function which you use to access analytic workspace data using SQL.</p>
<p>You can only use the FETCH command in the <span class="syntaxinlineitalic">OLAP_command</span> parameter of the <code dir="ltr">OLAP_TABLE</code> function; you cannot use it in any other context.</p>
<p>Within the <code dir="ltr">OLAP_TABLE</code> function, the FETCH keyword specifies explicitly how analytic workspace data is mapped to a table object. The FETCH keyword is provided for Express applications that are migrating to Oracle Database.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Use the FETCH keyword in OLAP_TABLE only when you are upgrading an Express application that used the FETCH command for SNAPI. When you are upgrading an Express application, note that the syntax is the same here as in Express 6.3. You can use the same FETCH commands that you used previously.</div>
<p>When using FETCH as an argument in <code dir="ltr">OLAP_TABLE</code>, you must enter the entire statement on one line, without line breaks or continuation marks of any type.</p>
<p>To fetch or import data from an relational table into analytic workspace objects using SQL commands embedded in the OLAP DML, use the OLAP DML SQL command.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more information on the <code dir="ltr">OLAP_TABLE</code> function, see <a href="dml_app_sqlfunc.htm#CIHBDHCE">Appendix A, &#34;OLAP_TABLE SQL Functions&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4252"></a>Syntax</p>
<p class="synopsis">FETCH <span class="italic">expression</span>... [TAG <span class="italic">tag-exp</span>] [LABELED] [<span class="syntaxinlineitalic">data-order</span>]</p>
<p>where <span class="syntaxinlineitalic">data-order</span> is one of the following:</p>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;USING &lt;<span class="italic">order-dim</span>...&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ACROSS <span class="italic">across-dim</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DOWN <span class="italic">down-dim</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ACROSS <span class="italic">across-dim</span>... DOWN <span class="italic">down-dim</span>...</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4253"></a>Parameters</p>
<dl>
<dt><span class="italic">expression</span>...</dt>
<dd>
<p>One expression for each target column, in the same order they appear in the row definition. Separate expressions with spaces or commas.</p>
</dd>
<dt>TAG <span class="italic">tag-exp</span></dt>
<dd>
<p>This keyword is ignored; it is retained in the syntax only for backward compatibility.</p>
</dd>
<dt>LABELED</dt>
<dd>
<p>This keyword is ignored; it is retained in the syntax only for backward compatibility. All fetches are labeled.</p>
</dd>
<dt>USING &lt;<span class="italic">order-dim</span>...&gt;</dt>
<dd>
<p>Orders the data block according to the dimension list specified in &lt;<span class="italic">order-dim</span>...&gt;. Specify dimensions or composites or a combination of the two within angle brackets. Dimensions are ordered from fastest to slowest varying, with the first dimension being the fastest varying. When you specify a USING clause, then you cannot specify ACROSS or DOWN.</p>
</dd>
<dt>ACROSS <span class="italic">across-dim</span>...</dt>
<dd>
<p>Orders the data block in columns and rows and specifies the column dimensions. For <span class="italic">across-dim</span>, specify a list of one or more dimensions, composites, the NONE keyword, or a combination of these. When you specify two or more ACROSS dimensions, then they vary from slowest to fastest, with the first dimension being the slowest.</p>
<p>When you specify ACROSS but not DOWN, then all unspecified dimensions default to DOWN dimensions, which vary from fastest to slowest in the order that the dimensions appear in the object definitions. However, adding the NONE keyword to the ACROSS dimension list fetches only the first value in status for the unspecified DOWN dimensions.</p>
<p>When you specify an ACROSS clause, then you cannot specify a USING clause.</p>
</dd>
<dt>DOWN <span class="italic">down-dim</span>...</dt>
<dd>
<p>Orders the data block in columns and rows and specifies the row dimensions. For <span class="italic">down-dim</span>, specify a list of one or more dimensions, composites, the <code dir="ltr">NONE</code> keyword, or a combination of these. When you specify two or more <code dir="ltr">DOWN</code> dimensions, then they vary from slowest to fastest, with the first dimension being the slowest.</p>
<p>When you specify DOWN but not ACROSS, then all unspecified dimensions default to ACROSS dimensions, which vary from fastest to slowest in the order that the dimensions appear in the object definitions. However, adding the NONE keyword to the DOWN dimension list fetches only the first value in status for the unspecified ACROSS dimensions.</p>
<p>When you specify a DOWN clause, you cannot specify a USING clause.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4254"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2371"></a>Default Data Order</p>
<p>When you do not specify a USING or DOWN/ACROSS clause, the dimensions of the data vary from fastest to slowest in the order they are listed in the workspace object definitions.</p>
<p class="subhead2"><a id="OLADM2372"></a>Using Expressions with Different Dimensionality</p>
<p>When you specify multiple expressions with different dimensionality in one FETCH command, the ordering of the dimensions from fastest to slowest varying is not predictable.</p>
<p class="subhead2"><a id="OLADM2373"></a>Maximum Size of Data Block</p>
<p>You can use MAXFETCH to set an upper limit on the size of a data block generated by FETCH.</p>
<p class="subhead2"><a id="OLADM2374"></a>Variables Defined with Composites</p>
<p>For variables defined with composites, you can specify the composites instead of the base dimensions in the ACROSS, DOWN, and USING clauses of FETCH which minimizes the number of NA fields in the resulting data block. When a variable has been defined with a named composite, you can specify the name of the composite after the USING, DOWN or ACROSS keyword. You specify unnamed composites with the syntax used to define them. For example, a variable d.sales with the following definition</p>
<pre dir="ltr">DEFINE d.sales VARIABLE DECIMAL &lt;month SPARSE&lt;product district&gt;&gt;
</pre>
<p>could be fetched with the expression <code dir="ltr">SPARSE&lt;product district&gt;</code> immediately following a USING, DOWN, or ACROSS keyword.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4255"></a>Examples</p>
<p>For an example of using FETCH in <code dir="ltr">OLAP_TABLE</code>, see <a href="dml_app_sqlfunc.htm#CIAEAGIH">Example A-9, &#34;Script Using FETCH with OLAP_TABLE&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78848"></a>
<div id="OLADM812" class="refsect1">
<h2 class="refsect1">FILECLOSE</h2>
<p><a id="sthref4256"></a><a id="sthref4257"></a><a id="sthref4258"></a><a id="sthref4259"></a>The FILECLOSE command closes an open file. When the file has not been opened, an error occurs.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4260"></a>Syntax</p>
<p class="synopsis">FILECLOSE&nbsp;<span class="italic">fileunit</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4261"></a>Parameters</p>
<dl>
<dt><span class="italic">fileunit</span></dt>
<dd>
<p>An I<code dir="ltr">NTEGER</code> fileunit number assigned to an open file by a previous call to the FILEOPEN function or by an OUTFILE command.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4262"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2375"></a>LOG Command</p>
<p>You must use the LOG command with the EOF keyword, rather than FILECLOSE, to close a file that was opened with the LOG command.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4263"></a>Examples</p>
<div id="OLADM2376" class="example">
<p class="titleinexample"><a id="sthref4264"></a>Example 9-120 Program That Opens and Closes a File</p>
<p>Suppose you have a program called READFILE that takes a file name as its first argument. The following lines from the program open the file and then close it.</p>
<pre dir="ltr">fil.unit = FILEOPEN(arg(1), read)
   ... (Commands to read and process data)
FILECLOSE fil.unit
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78853"></a>
<div id="OLADM813" class="refsect1">
<h2 class="refsect1">FILECOPY</h2>
<p><a id="sthref4265"></a>The FILECOPY command copies the contents of one file (the source file) to another file (the target file). When the target file already exists, the file is overwritten with the copy.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4266"></a>Syntax</p>
<p class="synopsis">FILECOPY&nbsp;<span class="italic">source-file-name&nbsp;target-file-name</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4267"></a>Parameters</p>
<dl>
<dt><span class="italic">source-file-name</span></dt>
<dd>
<p>A text expression specifying the name of the file you want to copy from. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use the CDA command to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
<dt><span class="italic">target-file-name</span></dt>
<dd>
<p>A text expression specifying the name of the file you want to copy to. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4268"></a>Examples</p>
<div id="OLADM2377" class="example">
<p class="titleinexample"><a id="sthref4269"></a>Example 9-121 Copying a File</p>
<p>The following statement copies the file <code dir="ltr">log.txt</code> from your session&#39;s current directory object to file <code dir="ltr">oldlog.txt</code> in the same directory.</p>
<pre dir="ltr">FILECOPY &#39;log.txt&#39; &#39;oldlog.txt&#39;
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78858"></a>
<div id="OLADM814" class="refsect1">
<h2 class="refsect1">FILEDELETE</h2>
<p><a id="sthref4270"></a>The FILEDELETE command deletes a file from the operating system disk space.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4271"></a>Syntax</p>
<p class="synopsis">FILEDELETE&nbsp;<span class="italic">file-name</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4272"></a>Parameters</p>
<dl>
<dt><span class="italic">file-name</span></dt>
<dd>
<p>A text expression specifying the name of the file you want to delete. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use the CDA command to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4273"></a>Examples</p>
<div id="OLADM2378" class="example">
<p class="titleinexample"><a id="sthref4274"></a>Example 9-122 Specifying the File Using a Variable</p>
<p>The following statement deletes the file whose name is stored in a text variable called <code dir="ltr">filevar</code>.</p>
<pre dir="ltr">FILEDELETE filevar
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHGEJFI"></a>
<div id="OLADM815" class="refsect1">
<h2 class="refsect1">FILEMOVE</h2>
<p><a id="sthref4275"></a>The FILEMOVE command changes the name or location of a file that you specify. The new file name may be the same or different from the original name.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4276"></a>Syntax</p>
<p class="synopsis">FILEMOVE&nbsp;<span class="italic">old-file-name&nbsp;new-file-name</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4277"></a>Parameters</p>
<dl>
<dt><span class="italic">old-file-name</span></dt>
<dd>
<p>A text expression specifying the name of the file you want to move or rename. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use the CDA command to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
<dt><span class="italic">new-file-name</span></dt>
<dd>
<p>A text expression specifying the new name or location for the file. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4278"></a>Examples</p>
<p class="subhead2"><a id="OLADM2379"></a>Moving a File</p>
<p>The following statement moves the file <code dir="ltr">log.txt</code> from your session&#39;s current directory object to file <code dir="ltr">oldlog.txt</code> in a directory object called <code dir="ltr">backup</code>.</p>
<pre dir="ltr">FILECOPY &#39;log.txt&#39; &#39;backup/oldlog.txt&#39; 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79466"></a>
<div id="OLADM816" class="refsect1">
<h2 class="refsect1">FILEPAGE</h2>
<p><a id="sthref4279"></a><a id="sthref4280"></a><a id="sthref4281"></a>The FILEPAGE command forces a page break in your output when PAGING is on. FILEPAGE can send the page break conditionally, depending on how many lines are left on the current page</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4282"></a>Syntax</p>
<p class="synopsis">FILEPAGE&nbsp;<span class="italic">fileunit&nbsp;</span>[<span class="italic">n</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4283"></a>Parameters</p>
<dl>
<dt><span class="italic">fileunit</span></dt>
<dd>
<p>A fileunit number assigned to a file that is opened in WRITE or APPEND mode by a previous call to the FILEOPEN function or by the OUTFILE command.</p>
</dd>
<dt><span class="italic">n</span></dt>
<dd>
<p>A positive <code dir="ltr">INTEGER</code> expression that indicates a page break should occur when there are fewer than <span class="italic">n</span> lines left on the page. When the number of lines left equals or exceeds <span class="italic">n,</span> or <span class="italic">n</span> equals zero, no page break occurs. When <span class="italic">n</span> is greater than PAGESIZE, a page break occurs when LINENUM is not zero. When <span class="italic">n</span> is negative or omitted, a page break always occurs.</p>
<p>Oracle OLAP calculates the number of available lines left on the page using the values of the options that specify the page size, the current line number, and the bottom margin. The number, which is stored in LINELEFT, is calculated according to the following formula.</p>
<p class="synopsis">LINESLEFT&nbsp;=&nbsp;PAGESIZE&nbsp;-&nbsp;LINENUM&nbsp;-&nbsp;BMARGIN&nbsp;</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4284"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2380"></a>Using PAGE Instead of FILEPAGE</p>
<p>The PAGE command has the same effect as specifying the FILEPAGE command for the fileunit number OUTFILEUNIT, which is the number of the current outfile destination. The following two statements are equivalent.</p>
<pre dir="ltr">FILEPAGE OUTFILEUNIT
PAGE
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4285"></a>Examples</p>
<div id="OLADM2381" class="example">
<p class="titleinexample"><a id="sthref4286"></a>Example 9-123 Using the FILEPAGE Command</p>
<p>In the following program fragment, you might send a FILEPAGE statement when you know the next group of products does not fit on the page. The program takes as arguments the name of the output file, and three <code dir="ltr">month</code> dimension values.</p>
<pre dir="ltr">fil.unit = FILEOPEN(ARG(1) WRITE)
LIMIT month TO &amp;ARG(2) &amp;ARG(3) &amp;ARG(4)
COMMAS = NO
DECIMALS = 0
FOR district
  DO
    FILEPAGE fil.unit STATLEN(product)
    FOR product
    DO
      FIL.TEXT = product
      FOR month
        JOINCHARS(fil.text  &#39; &#39; CONVERT(sales TEXT))
      FILEPUT fil.unit fil.text
    DOEND
    FILEPUT fil.unit &#39;&#39;
  DOEND
FILECLOSE fil.unit
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79471"></a>
<div id="OLADM817" class="refsect1">
<h2 class="refsect1">FILEPUT</h2>
<p><a id="sthref4287"></a><a id="sthref4288"></a><a id="sthref4289"></a>The FILEPUT command writes data that is specified in a text expression to a file that is opened in WRITE or APPEND mode.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4290"></a>Syntax</p>
<p class="synopsis">FILEPUT&nbsp;<span class="italic">fileunit&nbsp;</span>{<span class="italic">text-exp</span>|FROM&nbsp;<span class="italic">infileunit</span>}&nbsp;[<span class="underline">EOL</span>|NOEOL]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4291"></a>Parameters</p>
<dl>
<dt><span class="italic">fileunit</span></dt>
<dd>
<p>A fileunit number assigned to a file that is opened for writing (WRITE or APPEND mode) by a previous call to the FILEOPEN function or by the OUTFILE command.</p>
</dd>
<dt><span class="italic">text-exp</span></dt>
<dd>
<p>A text expression that contains data for output.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you specify NTEXT data to be written to a file, FILEPUT translates the text to the character set of the file. When that character set cannot represent all of the NTEXT characters, then data is lost.</div>
</dd>
<dt>FROM <span class="italic">infileunit</span></dt>
<dd>
<p>Transfers a record read from <span class="italic">infileunit</span> by the FILENEXT function directly to the file specified by <span class="italic">fileunit.</span> When you specify this clause, you can write selected records to an output file while continuing to process data with the FILEVIEW command.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you use the keyword phrase FROM <span class="italic">infileunit,</span> you cannot mix binary and non-binary files. When either file was opened with the BINARY keyword, the other must be binary too.</div>
</dd>
<dt>EOL</dt>
<dd>
<p>(Default) Specifies that a newline character is appended to the output string and written to the file.</p>
</dd>
<dt>NOEOL</dt>
<dd>
<p>Specifies that no newline character is added to the text written to the file.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4292"></a>Examples</p>
<div id="OLADM2382" class="example">
<p class="titleinexample"><a id="sthref4293"></a>Example 9-124 Writing Data to a File Using FILEPUT</p>
<p>Following is an example of a program that writes a file of sales data for three months. The name of the file is the first argument. The following program excerpt opens the file, writes the lines of data to the file, then closes it. This program takes four arguments on the statement line after the program name: the file name of the input data and three month names.</p>
<pre dir="ltr">DEFINE salesdata PROGRAM
LD Write Sales Data To File. Args: File Name, 3 Month Names
PROGRAM
VARIABLE fil.unit INTEGER
VARIABLE fil.text TEXT
fil.unit = FILEOPEN(ARG(1) WRITE)
LIMIT month TO &amp;ARG(2) &amp;ARG(3) &amp;ARG(4)
LIMIT product TO ALL
LIMIT district TO ALL
COMMAS = NO
DECIMALS = 0
FOR district
  DO
    FOR product
    DO
      fil.text = product
      FOR month
        fil.text = JOINCHARS(fil.text  &#39; &#39; -
          CONVERT(sales TEXT))
      FILEPUT fil.unit fil.text
    DOEND
    FILEPUT fil.unit &#39;&#39;
  DOEND
 
FILECLOSE fil.unit
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2383" class="example">
<p class="titleinexample"><a id="sthref4294"></a>Example 9-125 Preprocessing Data</p>
<p>The following example uses a data file with the 1996 sales figures for the products sold in each district. Only the records that begin with &#34;A&#34; are important right now, but you want to save the rest of the records in a separate file for later processing. The following program excerpt uses FILENEXT to retrieve each record and FILEVIEW to find out what kind of record it is. A second FILEVIEW statement processes the record when it is type &#34;A.&#34; When not, a FILEPUT statement writes it to the output file.</p>
<pre dir="ltr">DEFINE rectype VARIABLE ID
LD One Letter Code Identifying The Record Type
VARIABLE in.unit INTEGER
VARIABLE out.unit INTEGER
. . .
in.unit = FILEOPEN( GET(TEXT PROMPT &#39;Input Filename: &#39;) READ)
out.unit = FILEOPEN( GET(TEXT PROMPT &#39;Output Filename: &#39;) -
   WRITE)
 
WHILE FILENEXT(in.unit)
   DO
     FILEVIEW in.unit WIDTH 1 rectype
     IF rectype EQ &#39;A&#39;
       THEN FILEVIEW COLUMN 2 WIDTH 8 district SPACE 2 -
         WIDTH 8 product ACROSS month year Yr96: saleS
       ELSE FILEPUT out.unit FROM in.unit
  DOEND
FILECLOSE in.unit
FILECLOSE out.unit
. . .
END 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79481"></a>
<div id="OLADM818" class="refsect1">
<h2 class="refsect1">FILEREAD</h2>
<p><a id="sthref4295"></a><a id="sthref4296"></a><a id="sthref4297"></a><a id="sthref4298"></a><a id="sthref4299"></a><a id="sthref4300"></a>The FILEREAD command reads records from an input file and processes data according to action statements that you specify. FILEREAD handles binary data, packed decimal data, and text. It can handle decimal data written in E-notation (such as <code dir="ltr">.1E+9</code>) or M-notation (such as <code dir="ltr">10M</code>). It can convert the data to any appropriate data type before storing it in an Oracle OLAP variable, dimension, composite, or relation.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4301"></a>Syntax</p>
<p class="synopsis">FILEREAD&nbsp;<span class="italic">fileunit&nbsp;</span>[STOPAFTER&nbsp;<span class="italic">n</span>]&nbsp;[<span class="italic">file-format</span>]&nbsp;{[<span class="italic">attribute...</span>]&nbsp;<span class="italic">action-statement1</span>}</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="italic">attribute...</span>]&nbsp;<span class="italic">action-statementN</span>...]</p>
<p>where:</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">file-format</span> specifies the format of the records in the input file. Use one of the following:</p>
<dl>
<dd><span class="syntaxinline">RULED</span></dd>
<dd><span class="syntaxinline">CSV&nbsp;[DELIMITER</span><span class="syntaxinlineitalic">&nbsp;dchar</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">STRUCTURED&nbsp;[TEXTSTART&nbsp;</span><span class="syntaxinlineitalic">schar</span><span class="syntaxinline">]&nbsp;[TEXTEND</span> <span class="syntaxinlineitalic">echar</span><span class="syntaxinline">] [DELIMITER</span> <span class="syntaxinlineitalic">dchar</span><span class="syntaxinline">]&nbsp;</span></dd>
</dl>
</li>
<li>
<p><span class="syntaxinlineitalic">attribute</span> provide information that is used by action statements.</p>
<dl>
<dd>{COLUMN|COL}&nbsp;<span class="italic">n</span></dd>
<dd>{SPACE|SP}&nbsp;<span class="italic">n</span></dd>
<dd>{FIELD|FLD}&nbsp;<span class="italic">n</span></dd>
<dd>{WIDTH|W}&nbsp;<span class="italic">n</span></dd>
<dd><span class="italic">data-type</span></dd>
<dd><span class="italic">dimension-value-handling</span></dd>
<dd>BINARY | PACKED | <span class="underline">SYMBOLIC</span></dd>
<dd><span class="underline">TRANSLATE</span> | NOTRANSLATE</dd>
<dd>SCALE&nbsp;<span class="italic">n</span></dd>
<dd>ZPUNCH | ZPUNCHL</dd>
<dd>LSET&nbsp;&#39;<span class="italic">text</span>&#39;</dd>
<dd>RSET&nbsp;&#39;<span class="italic">text</span>&#39;</dd>
<dd><span class="italic">stripping</span></dd>
<dd>NAVALUE&nbsp;<span class="italic">val</span></dd>
<dd>NASPELL&nbsp;&#39;<span class="italic">text</span>&#39;</dd>
<dd>ZSPELL&nbsp;&#39;<span class="italic">text</span>&#39;</dd>
<dd>YESSPELL&nbsp;&#39;<span class="italic">text</span>&#39;</dd>
<dd>NOSPELL&nbsp;&#39;<span class="italic">text</span>&#39;</dd>
<dd>ZEROFILL</dd>
</dl>
<p>For information on the placement of attributes in action statements, see <a href="#i81345">&#34;Placement of Field Attributes in FILEREAD&#34;</a>.</p>
</li>
<li>
<p><span class="syntaxinlineitalic">action-statements</span> perform processing, such as assignment statements and IF statements. An <span class="italic">action-statement</span> can be one of the following:</p>
<dl>
<dd><span class="syntaxinlineitalic">assignment-statement</span></dd>
<dd>IF-<span class="syntaxinlineitalic">statement</span></dd>
<dd>&nbsp;<span class="syntaxinlineitalic">SELECT-statement</span></dd>
<dd>ACROSS-<span class="syntaxinlineitalic">statement</span><span class="syntaxinline">:</span> <span class="syntaxinlineitalic">action-statement</span></dd>
<dd><span class="syntaxinline">&lt;</span><span class="syntaxinlineitalic">action-statement-group</span><span class="syntaxinline">&gt;</span></dd>
</dl>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4302"></a>Parameters</p>
<dl>
<dt><span class="italic">fileunit</span></dt>
<dd>
<p>A fileunit number assigned to a file that is opened for reading (READ mode) by a previous call to the FILEOPEN function.</p>
</dd>
<dt>STOPAFTER <span class="italic">n</span></dt>
<dd>
<p>The number of records to read from the input file. When STOPAFTER is left out, or specified with a negative number or an <code dir="ltr">NA</code>, FILEREAD processes the whole file. See <a href="#i81332">&#34;STOPAFTER Keyword&#34;</a>.</p>
</dd>
<dt>RULED</dt>
<dd>
<p>Specifies that the record is organized in fixed-width columns, that is, character-by-character or byte-by-byte. All lines must have the same format. RULED is the default file format. Use the COLUMN, SPACE, and WIDTH attributes to specify the location of the data in the records.</p>
</dd>
<dt>CSV [DELIMITER <span class="italic">dchar</span>]</dt>
<dd>
<p>CSV specifies that the data is in CSV (comma-delimited values) format. You must use the FIELD and SPACE attributes to specify the location of the data in the record.</p>
<p><span class="italic">dchar</span> is a text expression that specifies a single character that you want Oracle OLAP to interpret as the general field delimiter in a structured file. Oracle OLAP uses the general field delimiter to identify both numeric and text fields. The default character is a comma (<code dir="ltr">,</code>).</p>
<p>CSV files are a common output format that is generated by spreadsheet programs. Each line of characters in a source file is treated as a single record. Each field in the record is separated by a comma by default. You can use the DELIMITER keyword to specify some other character as field delimiter.</p>
<p>When a group of characters in the input record is enclosed by double quotation marks, all of the following rules apply:</p>
<ul>
<li>
<p>When the group includes the delimiter character, it is treated as a literal instead of as a delimiter.</p>
</li>
<li>
<p>When a double quotation mark (<code dir="ltr">&#34;</code>) is included in the group of characters, then it must be followed by another double quotation mark.</p>
</li>
<li>
<p>When a linefeed character (<code dir="ltr">\n</code>) is included in the group of characters, then it is ignored.</p>
</li>
<li>
<p>Any spaces or tabs that occur before or after the double quotation marks that enclose the group of characters is ignored.</p>
</li>
</ul>
</dd>
<dt>STRUCTURED</dt>
<dd>
<p>Specifies that the record is in &#34;structured prn&#34; format. You must use the FIELD and SPACE attributes to specify the location of the data in the record.</p>
<p>Structured files are a common output format for PC software. They are text files in which the fields are composed of groups of characters. A group of characters is defined by two conditions: text enclosed in double quotes<span class="italic">,</span> or a sequence of numbers that is uninterrupted except by a decimal point<span class="italic">.</span> Consequently, an unquoted sequence of numbers containing a decimal point is stored as a single value; however, an unquoted sequence of numbers containing commas or other delimiters to mark off thousands is split into several values rather than stored as a single value. Any unquoted, non-numeric characters are ignored, except a minus sign that immediately precedes a number is considered to be part of the number. A space cannot separate the minus sign from the number.</p>
<p>When your file format does not conform to the pattern described here, you can use the TEXTSTART, TEXTEND, and DELIMITER keywords that let you customize the delimiters FILEREAD uses to identify the start and end of each field.</p>
</dd>
<dt>TEXTSTART <span class="italic">schar</span></dt>
<dd>
<p>Specifies a single character that you want Oracle OLAP to interpret as the start of a text field in a structured file. <span class="italic">schar</span> is the value of the character. The default character is a double quote (<code dir="ltr">&#34;</code>).</p>
</dd>
<dt>TEXTEND <span class="italic">echar</span></dt>
<dd>
<p>Specifies a single character that you want Oracle OLAP to interpret as the end of a text field in a structured file. <span class="italic">echarr</span> is the value of the character. The default character is a double quote (<code dir="ltr">&#34;</code>).</p>
</dd>
<dt>DELIMITER <span class="italic">dchar</span></dt>
<dd>
<p>Specifies a single character that you want Oracle OLAP to interpret as the general field delimiter in a structured file. Oracle OLAP uses the general field delimiter to identify both numeric and text fields. <span class="italic">dchar</span> is the value of the character. The default character is a comma (<code dir="ltr">,</code>).</p>
</dd>
<dt>{COLUMN|COL} <span class="italic">n</span></dt>
<dd>
<p>The column in which the field starts in the input record. By default, field 1 begins in column 1 and subsequent fields begin in the column following the previous field. The current field&#39;s default column is the sum of the previous field&#39;s first column plus its width plus any spaces specified for the current field.</p>
<div id="OLADM2384" class="tblformalwidemax">
<p class="titleintable"><a id="sthref4303"></a><a id="sthref4304"></a>Table 9-7 File Attributes</p>
<table class="cellalignment3615" title="File Attributes" summary="This table provides the syntax and description of attributes of files." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t123">Syntax</th>
<th class="cellalignment3616" id="r1c2-t123">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t123" headers="r1c1-t123">
<p>{COLUMN|COL} <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r2c1-t123 r1c2-t123">
<p>The column in which the field starts in the input record. By default, field 1 begins in column 1 and subsequent fields begin in the column following the previous field. The current field&#39;s default column is the sum of the previous field&#39;s first column plus its width plus any spaces specified for the current field.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t123" headers="r1c1-t123">
<p>{SPACE|SP} <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r3c1-t123 r1c2-t123">
<p>The number of spaces between a field and the preceding field. In a structured PRN file, the number of fields between the preceding and current field. The default is <code dir="ltr">0</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t123" headers="r1c1-t123">
<p>{FIELD|FLD} <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r4c1-t123 r1c2-t123">
<p>In a structured PRN file only, the field from which to extract the data.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t123" headers="r1c1-t123">
<p>{WIDTH|W} <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r5c1-t123 r1c2-t123">
<p>For unstructured records, the number of columns the field occupies in the input record. When there is no default, WIDTH must be included for ruled records or FILEREAD generates an error. The default is derived from the data type according to the following list:</p>
<ul>
<li>
<p>BINARY input format with <code dir="ltr">INTEGER</code>, <code dir="ltr">SHORTINTEGER</code>, or <code dir="ltr">SHORTDECIMAL</code> target data type has a default of 4 columns.</p>
</li>
<li>
<p>BINARY input format with <code dir="ltr">DECIMAL</code> or <code dir="ltr">NUMBER</code> target data type has a default of 8 columns.</p>
</li>
<li>
<p>BINARY input format with <code dir="ltr">BOOLEAN</code> target data type has a default of 2 columns.</p>
</li>
<li>
<p>PACKED input format with any type of target data type has no default.</p>
</li>
<li>
<p>SYMBOLIC input format with <code dir="ltr">ID</code> target data type has a default of 8 columns.</p>
</li>
<li>
<p>SYMBOLIC input format with a target data type that is not <code dir="ltr">ID</code> has no default.</p>
</li>
</ul>
<p>The maximum width is 4,000 characters for text input.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t123" headers="r1c1-t123">
<p><span class="italic">data-type</span></p>
</td>
<td class="cellalignment3617" headers="r6c1-t123 r1c2-t123">
<p>One of the following keywords: INTEGER, SHORTINTEGER, DECIMAL, SHORTDECIMAL, NUMBER, TEXT, ID, DATE, VNF, RAW DATE, BOOLEAN.</p>
<ul>
<li>
<p>For text data, the data type to which the input is converted before it is stored in your analytic workspace.</p>
</li>
<li>
<p>For binary data, the data type of the data in the input record.</p>
</li>
<li>
<p>Except for dimensions of type DAY, WEEK, MONTH, QUARTER, and YEAR, the default is the data type of the target object.</p>
</li>
<li>
<p>For dimensions of type DAY, WEEK, MONTH, QUARTER, and YEAR, the default is VNF.</p>
</li>
<li>
<p>For DATE variables and dimensions of type DAY, WEEK, MONTH, QUARTER, and YEAR, RAW DATE indicates the input values are positive <code dir="ltr">INTEGER</code> values that represent the number of days since December&nbsp;31, 1899, or negative <code dir="ltr">INTEGER</code> values that represent the number of days before December 31, 1899.</p>
</li>
</ul>
<p>See <a href="#i81376">&#34;Specifying a Target Object that has NTEXT Values&#34;</a>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t123" headers="r1c1-t123">
<p><span class="italic">dimension-value-handling</span></p>
</td>
<td class="cellalignment3617" headers="r7c1-t123 r1c2-t123">
<p>When the target object is a dimension or dimension surrogate, one of the following keyword clauses that specifies whether or not to add new values to the target object:</p>
<ul>
<li>
<p>MATCH</p>
<p>Do not add new values to the dimension or dimension surrogate. Instead, when the target object is a dimension and then values in the input field must match current dimension values. For each record processed, the dimension is temporarily limited to the value in the record. When the value does not exist, FILEREAD generates an error. This attribute also applies when the target object is a dimension surrogate.</p>
</li>
<li>
<p>APPEND [<span class="underline">LAST</span> |FIRST | BEFORE&nbsp;<span class="italic">pos</span> | AFTER&nbsp;<span class="italic">pos</span>]</p>
<p>Add new values to the dimension by appending the values. The field contains new dimension values and may contain existing values as well. New values are added to the dimension list and the status is limited to the current value. The status is set to ALL after FILEREAD finishes. For time dimensions, Oracle OLAP automatically fills in any &#34;missing&#34; periods between the existing ones and the new ones. When the target object is a non-time dimension, you can specify how Oracle OLAP appends the value using one of the following keywords: <span class="underline">LAST</span> which adds the value to the end of the dimension list; FIRST which adds the value to the beginning of the list; BEFORE <span class="italic">pos</span> which adds the value before the specified value or <code dir="ltr">INTEGER</code> position; and AFTER <span class="italic">pos</span> which adds the value after the specified value or <code dir="ltr">INTEGER</code> position.</p>
</li>
<li>
<p>ASSIGN</p>
<p>Add new values to the dimension surrogate by assigning the values. This attribute applies only to a dimension surrogate. It assigns the new value to the surrogate.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t123" headers="r1c1-t123">
<p><span class="italic">input-field-format</span></p>
</td>
<td class="cellalignment3617" headers="r8c1-t123 r1c2-t123">
<p>One of the following keywords that specifies the format of the input field:</p>
<ul>
<li>
<p>SYMBOLIC which specifies that the format of the input field is ASCII or EBCDIC text.</p>
</li>
<li>
<p>BINARY which specifies that the format of the input field is binary.</p>
</li>
<li>
<p>PACKED which specifies that the format of the input field is packed decimal.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t123" headers="r1c1-t123">
<p>TRANSLATE|NOTRANSLATE</p>
</td>
<td class="cellalignment3617" headers="r9c1-t123 r1c2-t123">
<p>Whether or not Oracle OLAP translates the data from the format of the original operating system, as identified by a FILESET ORIGIN statement. Specify TRANSLATE when you want Oracle OLAP to translate the data; or specify NOTRANSLATE when you do not want Oracle OLAP to translate the data.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r10c1-t123" headers="r1c1-t123">
<p>SCALE <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r10c1-t123 r1c2-t123">
<p>The number of digits to the right of the assumed decimal or binary point. The default is 0. When the input data is text, a decimal point in the input overrides the number specified by SCALE.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r11c1-t123" headers="r1c1-t123">
<p>ZPUNCH|ZPUNCHL</p>
</td>
<td class="cellalignment3617" headers="r11c1-t123 r1c2-t123">
<p>Provides information about how the input zone is overpunched. Specify ZPUNCH when the input is zone overpunched. Specify ZPUNCHL when the input is zone overpunched on the left.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r12c1-t123" headers="r1c1-t123">
<p>LSET &#39;<span class="italic">text</span>&#39;</p>
</td>
<td class="cellalignment3617" headers="r12c1-t123 r1c2-t123">
<p>For text input and TEXT or ID target objects, adds text to the left of the value before storing. When <span class="italic">text</span> is a multiline value, only the first line is used.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r13c1-t123" headers="r1c1-t123">
<p>RSET &#39;<span class="italic">text</span>&#39;</p>
</td>
<td class="cellalignment3617" headers="r13c1-t123 r1c2-t123">
<p>For text input and TEXT or ID target objects, adds text to the right of the value before storing. When <span class="italic">text</span> is a multiline value, only the first line is used.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r14c1-t123" headers="r1c1-t123">
<p><span class="italic">stripping</span></p>
</td>
<td class="cellalignment3617" headers="r14c1-t123 r1c2-t123">
<p>For text input, one of the following keywords that indicates if spaces or nulls are stripped from input value before storing in the target object:</p>
<ul>
<li>
<p><span class="syntaxinlinebold">NOSTRIP</span></p>
<p>No spaces or nulls are stripped from the input.</p>
</li>
<li>
<p><span class="syntaxinlinebold">STRIP</span></p>
<p>Spaces and nulls are stripped from both left and right of the input.</p>
</li>
<li>
<p><span class="syntaxinlinebold">LSTRIP</span></p>
<p>Spaces and nulls are stripped from the left of the input.</p>
</li>
<li>
<p><span class="syntaxinlinebold">RSTRIP</span></p>
<p>Spaces and nulls are stripped from the right of the input.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r15c1-t123" headers="r1c1-t123">&nbsp;</td>
<td class="cellalignment3617" headers="r15c1-t123 r1c2-t123">&nbsp;</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwidemax" --></dd>
<dt>NAVALUE <span class="italic">val</span></dt>
<dd>
<p>For binary or packed input, specifies that when the input is the specified numeric value, <code dir="ltr">NA</code> is assigned to the target object.</p>
</dd>
<dt>NASPELL &#39;<span class="italic">text</span>&#39;</dt>
<dd>
<p>For text input, specifies that Oracle OLAP stores text as NA. When the input is the specified text, NA is assigned to the target object. Text can be a multiline string listing several possible NA values. In addition to the values specified for text, when the input is NA, then NA is assigned to the target object.</p>
</dd>
<dt>ZSPELL &#39;<span class="italic">text</span>&#39;</dt>
<dd>
<p>For textual numeric input, specifies that Oracle OLAP stores text as 0. When the input is the specified text, zero is assigned to the target object. Text can be a multiline string that lists several possible zero values. In addition to the values specified for text, when the input is <code dir="ltr">0</code>, then <code dir="ltr">0</code> is assigned to the target object.</p>
</dd>
<dt>YESSPELL &#39;<span class="italic">text</span>&#39;</dt>
<dd>
<p>For text input that is BOOLEAN, specifies that Oracle OLAP stores text as YES. When the input is text then YES is assigned to the target object. Text can be a multiline string that lists several possible YES values. In addition to the values specified in <span class="italic">text,</span> when the input is <code dir="ltr">YES</code>, ON, or TRUE, <code dir="ltr">YES</code> is assigned to the target object.</p>
</dd>
<dt>NOSPELL &#39;<span class="italic">text</span>&#39;</dt>
<dd>
<p>For text input that is BOOLEAN, specifies that Oracle OLAP stores text as NO. When the input is text then NO is assigned to the target object. Text can be a multiline string that lists several possible NO values. In addition to the values specified in &#39;text,&#39; when the input is NO, OFF, or FALSE, NO is assigned to the target object.</p>
</dd>
<dt>ZEROFILL</dt>
<dd>
<p>For text numeric input, specifies that Oracle OLAP fills any spaces in the resulting text with zeros. Any spaces in the input are replaced with zeros. The default is no filling with zeros.</p>
</dd>
<dt><span class="italic">action-statement</span></dt>
<dd>
<p>You may specify one or more action statements to be performed each time a record is retrieved from the input file. Typically, you use action statements to set dimension status and assign data retrieved from the input record to a target object in Oracle OLAP. However, you may specify action statements that do not reference the data in the input record. For example, one of your action statements might be an assignment statement that simply increments a counter. Alternatively, an action statement might use the input data in some kind of processing, but not actually assign it to a target object in Oracle OLAP.</p>
<p>In your list of action statements, <span class="italic">be sure to process dimensions before variables</span>. FILEREAD processes each action statement from left to right for each input record. When an action statement performs dimension processing, the resulting status remains in effect for subsequent action statements. When you do not first specify action statements that limit a variable&#39;s dimensions, FILEREAD uses the first value in status to target a cell in the variable. Unless you specify an ACROSS phrase, FILEREAD assigns a single value from a field in an input record to a single cell in an Oracle OLAP variable. By default, FILEREAD does <span class="italic">not</span> loop over a variable&#39;s dimensions when assigning data to the variable. See <a href="#i81388">&#34;Field Order&#34;</a>.</p>
<p>Use the VALUE keyword in FILEREAD action statements to represent the value in a particular field of the input record. VALUE represents this data, formatted according to the FILEREAD attributes you have specified. When the field in the record is blank, FILEREAD considers its value to be <code dir="ltr">NA</code>. By default, the data type of VALUE is the data type of the target object. However, you can specify a different data type with an attribute keyword.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you have already specified action statements for use with FILEREAD, you can reuse the code with SQL FETCH and SQL IMPORT by simply adjusting the assignment statements and eliminating the VALUE keyword (if necessary). Most of the FILEREAD attributes (except for the attributes that control dimension processing) are not meaningful for SQL loading and are ignored when executing within SQL FETCH and SQL IMPORT.</div>
</dd>
<dt><span class="italic">assignment-statement</span></dt>
<dd>
<p>An assignment statement lets you assign a value to an Oracle OLAP object. An assignment statement has the following form.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">object</span> [= <span class="italic">expression</span>]</p>
<p><span class="syntaxinlineitalic">object</span> is the target where the data is assigned and stored. The <span class="italic">object</span> can be an Oracle OLAP variable, dimension, dimension surrogate, composite, or relation.</p>
<p><span class="syntaxinlineitalic">expression</span> is the source of the data value to be assigned to the target.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
In a SQL FETCH or a SQL IMPORT assignment statement, the <span class="italic">expression</span> component is <span class="italic">not</span> optional. However, a FILEREAD assignment statement may consist only of an object name. In this case, the input data is assigned directly to <span class="italic">object</span>. An <span class="italic">expression</span> in a FILEREAD assignment statement may include the VALUE keyword.</div>
</dd>
<dt>IF<span class="italic">-statement</span></dt>
<dd>
<p>An IF statement lets you perform some action depending on whether a Boolean expression is <code dir="ltr">TRUE</code> or <code dir="ltr">FALSE</code>. An IF statement has the following form.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF <span class="italic">bool-exp</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;THEN <span class="italic">action</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ELSE <span class="italic">action</span>]</p>
<p>IF evaluates the Boolean expression. When it is TRUE, the THEN <span class="italic">action</span> occurs. When it is FALSE, the ELSE <span class="italic">action</span> (if specified) occurs. When the Boolean expression is <code dir="ltr">NA</code>, no <span class="italic">action</span> occurs.</p>
<p>An <span class="italic">action</span> can be one of the following:</p>
<ul>
<li>
<p>NULL (no action occurs)</p>
</li>
<li>
<p>An assignment statement</p>
</li>
<li>
<p>A SELECT statement</p>
</li>
<li>
<p>An IF statement</p>
</li>
<li>
<p>A DO &hellip; DOEND statement containing <span class="italic">action-statements</span></p>
</li>
</ul>
<p>A FILEREAD IF statement may contain invocations of the VALUE keyword. You can use a FILEREAD IF statement to process varying record types (such as records with different structures or different target objects) with one FILEREAD statement.</p>
<p>In FILEREAD, the VALUE keyword can be used more than once to represent different values from the same record. For each instance, specify the column from which to read each value.</p>
</dd>
<dt>SELECT <span class="italic">statement</span></dt>
<dd>
<p>A SELECT statement lets you perform some action based on the value of an expression. A SELECT statement has the following form.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT <span class="italic">select-expression</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[WHEN <span class="italic">expression1 action</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[WHEN <span class="italic">expression2 action</span> . . .]</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ELSE <span class="italic">action</span>]</p>
<p>SELECT evaluates the SELECT expression and then sequentially compares the result with the WHEN expressions. When the first match is found, the associated <span class="italic">action</span> occurs. When no match is found, the ELSE <span class="italic">action</span> (if specified) occurs.</p>
<p>An <span class="italic">action</span> for a SELECT statement is the same as an <span class="italic">action</span> for an IF statement.</p>
<p>A FILEREAD SELECT statement may contain invocations of the VALUE keyword. You can use a FILEREAD SELECT statement to process varying record types (such as records with different structures or different target objects) with one FILEREAD statement.</p>
</dd>
<dt>ACROSS-statement: <span class="italic">action-statement</span></dt>
<dd>
<p>An ACROSS statement causes the following action statement to execute once for every value in status of the ACROSS dimension. When you want the looping to apply to multiple action statements, enclose the action statements in angle brackets.</p>
<p>An ACROSS statement has the following syntax.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ACROSS <span class="italic">dimension</span> [<span class="italic">limit-clause</span>]:</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">action-statement</span></p>
<p>The syntax of <span class="italic">limit-clause</span> is the same syntax as any of the <span class="italic">limit-clause</span> arguments in the various forms of the LIMIT command (that is, the syntax of the LIMIT command after the <span class="italic">limit-type</span> argument such as &#34;TO&#34;). For the syntax of these arguments, see <a href="dml_commands_2.htm#i1019733">LIMIT (using values) command</a>, <a href="dml_commands_2.htm#i1019738">LIMIT using LEVELREL command</a>, <a href="dml_commands_2.htm#i1019742">LIMIT (using parent relation)</a>, <a href="dml_commands_2.htm#i1019747">LIMIT (using related dimension) command</a>, <a href="dml_commands_2.htm#i1019753">LIMIT NOCONVERT command</a>, and <a href="dml_commands_2.htm#i1019757">LIMIT command (using POSLIST)</a>.</p>
<p>The following example limits <code dir="ltr">month</code> to the last six values, no matter what the current status of <code dir="ltr">month</code> is.</p>
<pre dir="ltr">ACROSS month last 6: units
</pre>
<p>In a FILEREAD ACROSS statement, you can specify attributes to indicate the position in the record where Oracle OLAP begins reading the fields specified by the ACROSS phrase. To specify the position, use the attributes FIELD, SPACE, and COLUMN. A position attribute is optional when the series of fields specified in the ACROSS phrase begins in the next field for structured records, or the next byte for ruled records.</p>
</dd>
<dt>&lt;<span class="italic">action-statement-group</span>&gt;</dt>
<dd>
<p>You can group several action statements by enclosing them in angle brackets. An <span class="italic">action-statement-group</span> has the following form.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span class="italic">action-statement1</span> -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="italic">action-statement2</span> . . .]&gt;</p>
<p>A typical use for action statement groups is after an ACROSS statement. With the angle bracket syntax, you can cause multiple action statements to execute for every value in status of the ACROSS dimension.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4305"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2385"></a>Reading One Record at a Time</p>
<p>As an alternative to FILEREAD, you can use the FILENEXT function to read one record at a time with one or more FILEVIEW statements to process the fields in the record.</p>
<p class="subhead2"><a id="i81388"></a><a id="OLADM2386"></a>Field Order</p>
<p>When an input record contains both dimension values and variable data, the dimension values must be the first fields that are read in the record, and the variable data values must be read after those dimension values. To do this, you can either order the fields in the input record itself or you can use FILEREAD attributes to specify the field positions explicitly. (See the description for the <span class="italic">attribute</span> argument.)</p>
<p>To organize the input records so that you do not have to use position attributes with FILEREAD, put all of the dimension values in the first fields of the record and put the variable data values in the last fields of the record. For example, suppose that you have data for two variables (<code dir="ltr">units</code> and <code dir="ltr">sales</code>) that share the same dimensions in the same order (<code dir="ltr">time</code>, <code dir="ltr">product</code>, and <code dir="ltr">geography</code>). In this case, the first three fields in the input record should contain dimension values, while the fourth and fifth fields should contain variable data, such as in the following sample input record.</p>
<pre dir="ltr">Sep99    Snowshoes    Boston    35    5565.95
</pre>
<p class="subhead2"><a id="i81332"></a><a id="OLADM2387"></a>STOPAFTER Keyword</p>
<p>By default, FILEREAD automatically reads all the records in a file in sequential order. When you want to process only the first part of a file, use the STOPAFTER keyword. FILEREAD processes the number of records you specify, then stops. You can then close the file.</p>
<p>When you want to skip the first part of the file and process the remaining records, you can use the STOPAFTER keyword and omit the field descriptions. FILEREAD reads the number of records you specify without processing the data. Then you issue a second FILEREAD statement with field descriptions for processing the input. The following program lines illustrate this method.</p>
<pre dir="ltr">LIMIT district TO &#39;Boston&#39;
unit = FILEOPEN(&#39;bostdata&#39; READ)
FILEREAD unit STOPAFTER 25
FILEREAD unit WIDTH 8 product SPACE 2 ACROSS month 13 TO 24:-
   WIDTH 4 PACKED sales
</pre>
<p class="subhead2"><a id="OLADM2388"></a>Dimension Maintenance</p>
<p>When the target object of a field description is a dimension, you can specify whether or not to use the data in the file to add values to the dimension. The dimension attributes are MATCH and APPEND. When you are adding values to a dimension with APPEND, you can specify a dimension position attribute (<code dir="ltr">LAST</code>, <code dir="ltr">FIRST</code>, <code dir="ltr">BEFORE</code> <code dir="ltr"><span class="codeinlineitalic">pos</span></code>, <code dir="ltr">AFTER</code> <code dir="ltr"><span class="codeinlineitalic">pos</span></code>) immediately after APPEND.</p>
<p>In an assignment statement of the form <code dir="ltr">object=expression</code>, dimension attributes cannot appear on the right side of the equal sign, but must be specified before the target object. The only exception is when dimensions as target objects also appear on the right side, such as when you are maintaining a conjoint dimension. See <a href="#i81413">Example 9-130, &#34;Maintaining Conjoint Dimensions with File Data&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2389"></a>Dimension Position Numbers</p>
<p>When your input data consists of dimension position numbers, rather than dimension values, specify the conversion type as INTEGER in the field description, even though the dimension has a type of TEXT, ID, DAY, WEEK, MONTH, QUARTER, or YEAR.</p>
<pre dir="ltr">FILEREAD unit COLUMN 1 WIDTH 8 INTEGER month
</pre>
<p>When the input contains position numbers, you cannot use the APPEND keyword to add new values to a dimension of type TEXT, ID, DAY, WEEK, MONTH, QUARTER, or YEAR, because the new position numbers have no associated value to be added.</p>
<p class="subhead2"><a id="OLADM2390"></a>Conjoint Dimension Maintenance</p>
<p>When a conjoint dimension is the target object, you can read its values using one of two methods:</p>
<ul>
<li>
<p><span class="bold">Method One</span>&mdash;When the input contains values or position numbers of the base dimensions, you must specify a dimension list surrounded by angle brackets after the equal sign, as shown in the following two sample lines.</p>
<pre dir="ltr">FILEREAD unit proddist = &lt;COL 1 W 10 product COL 20 -
   W 8 district&gt;
FILEREAD unit proddist = &lt;COL 1 W 10 INTEGER product COL 20 -
   W 8 INTEGER district&gt;
</pre>
<p>The preceding examples show values of the <code dir="ltr">product</code> and <code dir="ltr">district</code> dimensions being used to designate a value of the <code dir="ltr">proddist</code> concat dimension You could also use the APPEND attribute when you needed to maintain any of the dimensions. However, when you needed to process the values of <code dir="ltr">product</code> or <code dir="ltr">district</code> first, so that the syntax would require an equal sign inside the angle brackets, you would have to use an alternative method. (Nested equal signs are not allowed.) For this method you would read and process the base dimension values first, and then use the dimensions, without any field attributes, in the dimension list for the conjoint dimension. For example, to convert the base dimension values of a conjoint dimension to uppercase, use a statement similar to the following.</p>
<pre dir="ltr">FILEREAD unit COL 14 W 8 product = UPCASE(VALUE) -
   COL 5 W 8 district = UPCASE(VALUE) -
   proddist = &lt;product, district&gt;
</pre></li>
<li>
<p><span class="bold">Method Two</span>&mdash;When the input contains position numbers of the conjoint dimension itself, you must specify the INTEGER keyword.</p>
<pre dir="ltr">FILEREAD unit INTEGER proddist
</pre></li>
</ul>
<p class="subhead2"><a id="i81434"></a><a id="OLADM2391"></a>FILEREAD with Variables Dimensioned by Composites</p>
<p>When reading data into a variable dimensioned by a composite, FILEREAD automatically creates any missing target cells that are being assigned non-<code dir="ltr">NA</code> values. This process also adds to the composite all the dimension value combinations that correspond to those new cells. Thus, both the target object and the composite might be larger after an assignment.</p>
<p class="subhead2"><a id="i81443"></a><a id="OLADM2392"></a>Variables Dimensioned by Composites and Efficiency</p>
<p>When you use the automatic composite maintenance feature of FILEREAD to load data into variables dimensioned by composites, be aware of potential performance problems that might later occur when you attempt to access the variables&#39; data. The position of a composite in the dimension list of a variable indicates whether or not performance might later become an issue.</p>
<p>When the composite appears at the end of the dimension list in the variable&#39;s definition (the slowest-varying position), you can use FILEREAD just as you would for a variable whose dimension list does not include composites. For example, you could use the same FILEREAD statements to read data into the variables <code dir="ltr">newsales</code> and <code dir="ltr">newsales.cp</code> (with the following definitions) without sacrificing efficiency.</p>
<pre dir="ltr">DEFINE newsales VARIABLE DECIMAL &lt;product district month&gt;
DEFINE newsales.cp VARIABLE DECIMAL &lt;product SPARSE&lt;district month&gt;&gt; 
</pre>
<p><code dir="ltr">newsales.cp</code> is dimensioned by three dimensions, the last two of which are in a composite. When, however, you have a variable like <code dir="ltr">newsales2.cp</code> (with the following definition) there can be performance implications for accessing data loaded with FILEREAD.</p>
<pre dir="ltr">DEFINE newsales.cp VARIABLE DECIMAL &lt;SPARSE&lt;district month&gt; product &gt; 
</pre>
<p>In this case, you can use one of two methods to avoid performance problems:</p>
<ul>
<li>
<p>You can use CHGDFN with the SEGWIDTH keyword to change the segment size for the variable before using FILEREAD. CHGDFN SEGWIDTH lets you specify the size of a variable&#39;s segments. A segment is a portion of the total number of values a variable holds. The number of segments in a variable affects the performance of data loading and data accessing. The segment size that you specify with a CHGDFN SEGWIDTH statement is used not only for the variable you designate as <span class="italic">varname,</span> but also for all other variables and relations that are defined with the same combination of dimensions and composites in the same order.</p>
</li>
<li>
<p>You can explicitly add composite values just as you would for a conjoint dimension. You can use this method both for named and unnamed composites. See <a href="#i81424">&#34;Composite Maintenance&#34;</a>.</p>
</li>
</ul>
<p class="subhead2"><a id="i81424"></a><a id="OLADM2393"></a>Composite Maintenance</p>
<p>When you want to explicitly maintain composites with FILEREAD, use the same syntax that you use to maintain conjoint dimensions. When the composite is unnamed, refer to it with the form <code dir="ltr">SPARSE&lt;dim1 dim2 ...&gt;</code>. See <a href="#i81434">&#34;FILEREAD with Variables Dimensioned by Composites&#34;</a> and <a href="#i81443">&#34;Variables Dimensioned by Composites and Efficiency&#34;</a> to evaluate the advantages of explicit versus automatic composite maintenance with FILEREAD.</p>
<p class="subhead2"><a id="OLADM2394"></a>Using DWMQY Dimensions with FILEREAD</p>
<p>When the target object of a field is a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR, the default conversion type is VNF. Therefore, you do not have to specify a conversion type when the input values are formatted according to the VNF of the target dimension (or the default VNF when the dimension does not have a VNF of its own).</p>
<p>When the target object of a field is a DATE variable or a dimension of type DAY, WEEK, MONTH, QUARTER, and YEAR, FILEREAD interprets the values correctly when they are in a valid input style for dates as described in DATEORDER. For dimensions of type DAY, WEEK, MONTH, QUARTER, and YEAR, you must specify DATE as the conversion type. For values of a DATE variable, DATE is the default conversion type, so the DATE keyword is optional.</p>
<p>FILEREAD also interprets values of a time dimension or a DATE variable correctly when they are <code dir="ltr">INTEGER</code> values that represent dates (<code dir="ltr">1</code> = <code dir="ltr">January</code> <code dir="ltr">1,</code> <code dir="ltr">1900</code>). In this case, you must specify RAW DATE as the conversion type.</p>
<p class="subhead2"><a id="OLADM2395"></a>Blank Fields</p>
<p>When a field is blank, its value is <code dir="ltr">NA</code> and <code dir="ltr">NA</code> is assigned to the target variable. Examples of blank fields are a text field filled with spaces, a field that begins beyond the end of the record, or a field in a structured file that has nothing, not even a space, between the field delimiters.</p>
<p class="subhead2"><a id="i81345"></a><a id="OLADM2396"></a>Placement of Field Attributes in FILEREAD</p>
<p>Normally, the field attributes immediately precede the target object or the expression on the right of the equal sign.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">attributes&nbsp;object</span></p>
<p>However, when you want an attribute to apply to several fields, specify the attribute followed by the list of target objects surrounded by angle brackets. You can also include attributes that apply to one object by typing them inside the brackets before the object to which they apply.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">attributes0</span>&nbsp;&lt;<span class="italic">attributes1&nbsp;object1</span>=<span class="italic">expression&nbsp;object2&nbsp;attributes3&nbsp;object3</span>&gt;</p>
<p>Angle brackets are also used to surround the base values of a conjoint dimension value.</p>
<p class="subhead2"><a id="OLADM2397"></a>Handling Errors When FILEREAD Encounters an Error</p>
<p>When FILEREAD encounters an error, you can control what happens with an error trap and appropriate processing. Errors can be caused by attempts to convert data to an incompatible data type or by encountering invalid dimension values. You can use the FILEERROR function to get more information about what caused the error. After processing the error, you can use a TRAP statement to turn error trapping back on and GOTO to branch back to the FILEREAD statement. Processing continues with the next record. See <a href="#i81454">Example 9-128, &#34;Error Handling&#34;</a>.</p>
<p class="subhead2"><a id="i81376"></a><a id="OLADM2398"></a>Specifying a Target Object that has NTEXT Values</p>
<p>When you specify a target object of type NTEXT for data from a structured or CSV file, FILEREAD translates the data from the file into the database character set before storing the values (even though they are assigned to an NTEXT object) which can result in data loss when the data from the file cannot be represented in the database character set. For data from a ruled file, which has fixed-width columns, FILEREAD does not translate into the database characters set, so there is no data loss.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1039420"></a>Examples</p>
<div id="OLADM2399" class="example">
<p class="titleinexample"><a id="sthref4306"></a>Example 9-126 Dimension Values and Data</p>
<p>Suppose your analytic workspace contains six-character product identification numbers. You must import both product names and a value for the number of units sold each month. The data file for the last quarter has the following format.</p>
<pre dir="ltr">Jan951234aa00Chocolate Chip Cookies        123
Jan951099bb00Oatmeal Cookies               145
Jan952355cc00Sugar Cookies                 223
Jan955553ee00Ginger Snap Cookies           233
Feb951234aa00Chocolate Chip Cookies        123
Feb951099bb00Oatmeal Cookies               O145
Feb952355cc00Sugar Cookies                 SS223
Feb955553ee00Ginger Snap Cookies           G233
Mar952355cc00Sugar oCookies                 223
Mar955553ee00Ginger Snap Cookies           233
Mar953222dd00Brownies                      432
</pre>
<p>The dimension and variables have the following definitions.</p>
<pre dir="ltr">DEFINE month DIMENSION MONTH
DEFINE productid DIMENSION ID
DEFINE productname VARIABLE TEXT &lt;productid&gt; 
DEFINE units.sold VARIABLE INTEGER &lt;month productid&gt; 
</pre>
<p>The following program uses FILEREAD to add any new values for <code dir="ltr">month</code> and <code dir="ltr">productid</code> to the analytic workspace and to put the data in the correct variables. Maintain dimensions in one FILEREAD statement, close the file, and process it again to get the associated data.</p>
<pre dir="ltr">DEFINE read.product PROGRAM
PROGRAM
VARIABLE fi INT
fi = FILEOPEN(&#39;Dr.Dat&#39; READ)
FILEREAD fi COLUMN 1 APPEND WIDTH 5 month -
   COLUMN 6 APPEND WIDTH 6 productid
FILECLOSE fi
 
fi = FILEOPEN(&#39;Dr.Dat&#39; READ)
FILEREAD fi COLUMN 1 WIDTH 5 month -
   COLUMN 6 WIDTH 6 productid -
   COLUMN 12 WIDTH 30 productname -
   COLUMN 44 WIDTH 22 units.sold
FILECLOSE fi
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2400" class="example">
<p class="titleinexample"><a id="sthref4307"></a>Example 9-127 Dimension Surrogate Values</p>
<p>This example uses one FILEREAD operation to add a value to the <code dir="ltr">product</code> dimension and assign a value to <code dir="ltr">prodnum</code>, which is a <code dir="ltr">NUMBER</code> dimension surrogate for the <code dir="ltr">product</code> dimension. It uses a second FILEREAD to assign a value to the <code dir="ltr">units</code> variable, which is dimensioned by <code dir="ltr">month</code>, <code dir="ltr">product</code>, and <code dir="ltr">district</code>. The data file for the dimension and surrogate values has the following format.</p>
<pre dir="ltr">Kiyaks400
</pre>
<p>The following statements define a fileunit, open the file, read its contents and append a value to the <code dir="ltr">product</code> dimension and assign a value to the <code dir="ltr">prodnum</code> surrogate, and close the file.</p>
<pre dir="ltr">DEFINE funit INT
funit = FILEOPEN(&#39;Ds.Dat&#39; READ)
FILEREAD funit COL 1 APPEND W 6 product COL 7 ASSIGN W 3 prodnum
FILECLOSE funit
</pre>
<p>The data file for the variable value has the following format.</p>
<pre dir="ltr">Jan02400Boston416
</pre>
<p>The following statements open the file, read its contents, match the value of the <code dir="ltr">prodnum</code> surrogate and assign a value to the <code dir="ltr">units</code> variable, and close the file.</p>
<pre dir="ltr">funit = FILEOPEN(&#39;Var.Dat&#39; READ)
FILEREAD funit COL 1 W 5 month COL 6 MATCH W 3 prodnum -
  COL 9 W 6 district COL 15 W 3 INTEGER units
FILECLOSE funit
</pre></div>
<!-- class="example" -->
<div id="OLADM2401" class="example">
<p class="titleinexample"><a id="i81454"></a>Example 9-128 Error Handling</p>
<p>When your input file has data that does not match the format specifications, or when it has a dimension value that is not part of the analytic workspace when you are using the default MATCH attribute, you get an error. You can use error processing at the trap label to check for that kind of error, skip the bad record, and continue processing the file. You can also use a FILEPUT statement to store the bad records in a separate file (see the <a href="#i79471">FILEPUT</a> command).</p>
<p>In the following example, the statements at the trap label check whether the file was successfully opened (<code dir="ltr">fil.unit</code> has an <code dir="ltr">INTEGER</code> value) and whether the user interrupted the program. When these are not the reason for the error, the program assumes it encountered a bad record, resets the trap, and branches back to the FILEREAD statement to continue processing with the next record.</p>
<pre dir="ltr">DEFINE read.price PROGRAM
PROGRAM
VARIABLE fil.unit INTEGER
TRAP ON ERROR
fil.unit = FILEOPEN( ARG(1) READ)
LIMIT month TO &amp;ARG(2)
NEXT:
FILEREAD fil.unit - 
  WIDTH 8 product -
  WIDTH 4 BINARY price
FILECLOSE fil.unit
RETURN
error:
IF fil.unit EQ NA
  THEN RETURN
IF ERRORNAME NE &#39;attn&#39; AND ERRORNAME NE &#39;quit&#39;
  THEN DO
    SHOW JOINCHARS(&#39;Record &#39; RECNO(fil.unit) &#39; is Invalid.&#39;)
    TRAP ON ERROR
    GOTO NEXT
  DOEND
FILECLOSE fil.unit
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2402" class="example">
<p class="titleinexample"><a id="sthref4308"></a>Example 9-129 Preprocessing File Data Before Assigning to an analytic workspace Object</p>
<p>You can also process the data in each field before assigning it to a variable or dimension in the analytic workspace. Suppose your data file has product identifiers that are six-digit numbers, and your analytic workspace has a <code dir="ltr">product</code> dimension whose values are these same product numbers, preceded by a &#34;P.&#34; You can process the identifiers in the file by adding a &#34;P&#34; at the beginning of each value.</p>
<pre dir="ltr">FILEREAD unit COLUMN 1 WIDTH 6 APPEND LSET &#39;p&#39; product
</pre></div>
<!-- class="example" -->
<div id="OLADM2403" class="example">
<p class="titleinexample"><a id="i81413"></a>Example 9-130 Maintaining Conjoint Dimensions with File Data</p>
<p>To maintain a conjoint dimension with FILEREAD, you first maintain its base dimensions by appending any new values from the input file. Then you assign the resulting combination of base dimension values to the conjoint dimension. The following example gets base dimension values from two separate fields, appends the values to the base dimensions, then appends the combination to the conjoint dimension.</p>
<pre dir="ltr">FILEREAD unit APPEND proddist = &lt;W 8 product, W 8 district&gt;
</pre>
<p>In the preceding statement, the angle brackets automatically cause APPEND to apply to all three dimensions. When you do not want to add new values to the base dimensions, but want only to add new conjoint dimension values, you must explicitly state the keyword MATCH or change the order of the target objects, as shown in the two following statements.</p>
<pre dir="ltr">fileread unit APPEND proddist = &lt;W 8 MATCH product,W 8 MATCH district&gt;
</pre>
<p><span class="bolditalic">or</span></p>
<pre dir="ltr">FILEREAD unit W 8 product W 8 district APPEND proddist = &lt;product, district&gt;
</pre></div>
<!-- class="example" -->
<div id="OLADM2404" class="example">
<p class="titleinexample"><a id="sthref4309"></a>Example 9-131 Reading Data From a Structured PRN File</p>
<p>Suppose you want to read data from a structured PRN file with values of the <code dir="ltr">product</code> dimension in field two, values of the <code dir="ltr">district</code> dimension in field three, and several months of sales values beginning in field six. You could read the first 10 records in the file with the following statement.</p>
<pre dir="ltr">FILEREAD unit STOPAFTER 10 STRUCTURED FIELD 2 product -
   district FIELD 6 ACROSS month: sales 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79486"></a>
<div id="OLADM819" class="refsect1">
<h2 class="refsect1">FILESET</h2>
<p><a id="sthref4310"></a><a id="sthref4311"></a><a id="sthref4312"></a><a id="sthref4313"></a>The FILESET command sets the paging attributes of a specified fileunit.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4314"></a>Syntax</p>
<p class="synopsis">FILESET&nbsp;<span class="italic">fileunit&nbsp;attrib-arg1&nbsp;exp1&nbsp;</span>[<span class="italic">attrib-argN&nbsp;expN&nbsp;</span>...]</p>
<p>where <span class="syntaxinlineitalic">attrib-arg</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinline">BMARGIN</span></dd>
<dd><span class="syntaxinline">LINENUM</span></dd>
<dd><span class="syntaxinline">LSIZE</span></dd>
<dd><span class="syntaxinline">ORIGIN</span></dd>
<dd><span class="syntaxinline">PAGENUM</span></dd>
<dd><span class="syntaxinline">PAGEPRG</span></dd>
<dd><span class="syntaxinline">PAGESIZE</span></dd>
<dd><span class="syntaxinline">PAGING</span></dd>
<dd><span class="syntaxinline">PAUSEATPAGEEND</span></dd>
<dd><span class="syntaxinline">TABEXPAND</span></dd>
<dd><span class="syntaxinline">TMARGIN</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4315"></a>Parameters</p>
<dl>
<dt><span class="italic">fileunit</span></dt>
<dd>
<p>A fileunit number that is assigned to a file opened previously using a FILEOPEN statement or by an OUTFILE statement. You can set attributes only for an open file. An attribute argument specifies the file characteristic to change. The attribute must be appropriate for the fileunit specified; otherwise, Oracle OLAP returns an error. You can set several attributes in one FILESET statement by listing the attribute name and its new value in pairs.</p>
</dd>
<dt>BMARGIN</dt>
<dd>
<p>Specifies the number of blank lines that constitute the bottom margin.</p>
</dd>
<dt>LINENUM</dt>
<dd>
<p>Specifies the current line number. Resets after each page break when PAGING is on; otherwise, keeps incrementing.</p>
</dd>
<dt>LSIZE</dt>
<dd>
<p>Specifies the maximum line length for text output files, or the record length for binary input files.</p>
</dd>
<dt>ORIGIN</dt>
<dd>
<p>Specifies the type of system on which the file was created. The default value of the ORIGIN attribute reflects the system you are currently working on, so you must set ORIGIN when the file originated on a different system. The setting of ORIGIN affects how data reading statements interpret the files. For example, data reading statements use this information to decide whether bytes of binary data have to be reversed, and so forth. <a href="#BABCBBAJ">Table 9-8, &#34;<span class="bolditalic">Values for ORIGIN Clause of FILESET</span>&#34;</a> helps you make the right choice. When your system is not listed, try using PC or HP as the value of ORIGIN. When one value does not work, the other one should.</p>
<div id="OLADM2405" class="tblformal">
<p class="titleintable"><a id="sthref4316"></a><a id="BABCBBAJ"></a>Table 9-8 <span class="bolditalic">Values for ORIGIN Clause of FILESET</span></p>
<table class="cellalignment3618" title="Values for ORIGIN Clause of FILESET" summary="This table outlines valid values for the ORIGIN clause of FILESET." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t126">Value</th>
<th class="cellalignment3616" id="r1c2-t126">Hardware or Operating System</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t126" headers="r1c1-t126">
<p>ALPHA</p>
</td>
<td class="cellalignment3617" headers="r2c1-t126 r1c2-t126">
<p>Any DEC workstation using an Alpha processor</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t126" headers="r1c1-t126">
<p>AVMS</p>
</td>
<td class="cellalignment3617" headers="r3c1-t126 r1c2-t126">
<p>A DEC Alpha processor running on VM</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t126" headers="r1c1-t126">
<p>HP</p>
</td>
<td class="cellalignment3617" headers="r4c1-t126 r1c2-t126">
<p>HP MPE XL</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t126" headers="r1c1-t126">
<p>HPS700</p>
</td>
<td class="cellalignment3617" headers="r5c1-t126 r1c2-t126">
<p>HP Series 700 Workstation</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t126" headers="r1c1-t126">
<p>HPS800</p>
</td>
<td class="cellalignment3617" headers="r6c1-t126 r1c2-t126">
<p>HP Series 800 Workstation</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t126" headers="r1c1-t126">
<p>IBMPC</p>
</td>
<td class="cellalignment3617" headers="r7c1-t126 r1c2-t126">
<p>An Intel processor running DOS, Windows, or Windows N</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t126" headers="r1c1-t126">
<p>INTEL5</p>
</td>
<td class="cellalignment3617" headers="r8c1-t126 r1c2-t126">
<p>Any Intel5 processor running UNIX</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t126" headers="r1c1-t126">
<p>MIPS</p>
</td>
<td class="cellalignment3617" headers="r9c1-t126 r1c2-t126">
<p>Any MIPS system</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r10c1-t126" headers="r1c1-t126">
<p>MVS</p>
</td>
<td class="cellalignment3617" headers="r10c1-t126 r1c2-t126">
<p>IBM MVS/TSO</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r11c1-t126" headers="r1c1-t126">
<p>NTALPHA</p>
</td>
<td class="cellalignment3617" headers="r11c1-t126 r1c2-t126">
<p>A DEC Alpha processor running Windows NT</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r12c1-t126" headers="r1c1-t126">
<p>PC</p>
</td>
<td class="cellalignment3617" headers="r12c1-t126 r1c2-t126">
<p>An Intel processor running DOS, Windows, or Windows NT</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r13c1-t126" headers="r1c1-t126">
<p>RS6000</p>
</td>
<td class="cellalignment3617" headers="r13c1-t126 r1c2-t126">
<p>Any IBM RS6000 processor running IBM&nbsp;AIX</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r14c1-t126" headers="r1c1-t126">
<p>SOLARIS2</p>
</td>
<td class="cellalignment3617" headers="r14c1-t126 r1c2-t126">
<p>Any workstation running Solaris2</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r15c1-t126" headers="r1c1-t126">
<p>SUNOS4</p>
</td>
<td class="cellalignment3617" headers="r15c1-t126 r1c2-t126">
<p>Any workstation running SunOS4</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r16c1-t126" headers="r1c1-t126">
<p>VAX</p>
</td>
<td class="cellalignment3617" headers="r16c1-t126 r1c2-t126">
<p>VAX VMS (floating point in G format only)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r17c1-t126" headers="r1c1-t126">
<p>VM</p>
</td>
<td class="cellalignment3617" headers="r17c1-t126 r1c2-t126">
<p>VM/CMS</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></dd>
<dt>PAGENUM</dt>
<dd>
<p>Specifies the current page number.</p>
</dd>
<dt>PAGEPRG</dt>
<dd>
<p>Specifies the OLAP DML program that produces page titles and headings when output is paged.</p>
</dd>
<dt>PAGESIZE</dt>
<dd>
<p>Specifies the number of lines on each page.</p>
</dd>
<dt>PAGING</dt>
<dd>
<p>Specifies if the output is formatted in pages which is equivalent to setting the PAGING option to YES.</p>
</dd>
<dt>PAUSEATPAGEEND</dt>
<dd>
<p>Specifies if Oracle OLAP should pause after each page.</p>
</dd>
<dt>TABEXPAND</dt>
<dd>
<p>Specifies if tab characters should be expanded. When TABEXPAND is zero, tab characters are not expanded. A value greater than 0 indicates the distance, in bytes, between tab stops. The default value of TABEXPAND is <code dir="ltr">8</code>.</p>
</dd>
<dt>TMARGIN</dt>
<dd>
<p>Specifies the number of blank lines that constitute the top margin.</p>
</dd>
<dt><span class="italic">exp</span></dt>
<dd>
<p>An expression that contains the new value for the attribute being set. The data type of the expression must be the same as the data type of the attribute.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4317"></a>Examples</p>
<div id="OLADM2406" class="example">
<p class="titleinexample"><a id="sthref4318"></a>Example 9-132 Setting Paging for a Report</p>
<p>When you are sending output to a report in a disk file, you might set the following attributes to indicate that the report is organized in pages and that the first page is&nbsp;1.</p>
<pre dir="ltr">DEFINE fil.unit INTEGER
fil.unit = FILEOPEN(&#39;REPORT&#39; WRITE)
FILESET fil.unit PAGING YES PAGENUM 1
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79491"></a>
<div id="OLADM820" class="refsect1">
<h2 class="refsect1">FILEVIEW</h2>
<p><a id="sthref4319"></a><a id="sthref4320"></a><a id="sthref4321"></a>The FILEVIEW command works with the FILENEXT function to read one record at a time of an input file, process the data, and store the data in Oracle OLAP dimensions and variables according to the descriptions of the fields. Use FILENEXT to read the record, then use one or more FILEVIEW statements to process the fields as needed. FILEVIEW has the same attributes as FILEREAD for specifying the format of the input and the processing of the output.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4322"></a>Syntax</p>
<p class="synopsis">FILEVIEW&nbsp;<span class="italic">fileunit</span>&nbsp;[<span class="italic">field-desc</span>...]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4323"></a>Parameters</p>
<dl>
<dt><span class="italic">fileunit</span></dt>
<dd>
<p>A fileunit number that is assigned to a file opened for reading (READ mode) in a previous call to the FILEOPEN function.</p>
</dd>
<dt><span class="italic">field-desc</span></dt>
<dd>
<p>A field description describes how to process one or more fields in each input record. Attributes in the field description specify how to format the input data. FILEVIEW reads each field according to the format specification and assigns the input data to the specified object. You can assign the data to the object directly or you can specify an expression to manipulate the data before you assign it. One field description can assign data from one input field to one Oracle OLAP object. Alternately you can use the ACROSS keyword to assign several values in the input record to a variable that is dimensioned by the fastest varying dimension. Because field attributes include the column number in the input record, you can process input fields in any order.</p>
<p>The format for the field description is as follows.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="italic">pos</span>]&nbsp;ACROSS&nbsp;<span class="italic">dim&nbsp;</span>[<span class="italic">limit-clause</span>]:]&nbsp;[<span class="italic">attribs</span>]&nbsp;<span class="italic">object&nbsp;</span>[=&nbsp;<span class="italic">exp</span>]</p>
</dd>
<dt><span class="italic">pos</span></dt>
<dd>
<p>One or more attributes that specify the position in the record where Oracle OLAP begins reading the fields specified by the ACROSS description. To specify the position, use the attributes FIELD, SPACE, and COLUMN (see the <a href="#i79481">FILEREAD</a> command). The <span class="italic">pos</span> argument is optional when the series of fields specified in the ACROSS phrase begins in the next field for structured records, or the next byte for ruled records.</p>
</dd>
<dt>ACROSS-statement: <span class="italic">action-statement</span></dt>
<dd>
<p>Specifies the dimension of one or more data fields in the input record. FILEVIEW assigns the data in the fields to a variable according to the values in the current status of <span class="italic">dim</span>. Typically, each field description processes one value. However, using the ACROSS keyword, you can process one input value for each dimension value currently in the status. When you want the looping to apply to multiple action statements, enclose the action statements in angle brackets.</p>
<p>An ACROSS statement has the following syntax.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ACROSS <span class="italic">dimension</span> [<span class="italic">limit-clause</span>]:</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">action-statement</span></p>
<p>The syntax of <span class="italic">limit-clause</span> is the same syntax as any of the <span class="italic">limit-clause</span> arguments in the various forms of the LIMIT command (that is, the syntax of the LIMIT command after the <span class="italic">limit-type</span> argument such as &#34;TO&#34;). For the syntax of these arguments, see <a href="dml_commands_2.htm#i1019733">LIMIT (using values) command</a>, <a href="dml_commands_2.htm#i1019738">LIMIT using LEVELREL command</a>, <a href="dml_commands_2.htm#i1019742">LIMIT (using parent relation)</a>, <a href="dml_commands_2.htm#i1019747">LIMIT (using related dimension) command</a>, <a href="dml_commands_2.htm#i1019753">LIMIT NOCONVERT command</a>, and <a href="dml_commands_2.htm#i1019757">LIMIT command (using POSLIST)</a>.</p>
<p>The following example limits <code dir="ltr">month</code> to the last six values, no matter what the current status of <code dir="ltr">month</code> is.</p>
<pre dir="ltr">ACROSS month last 6: units
</pre></dd>
<dt><span class="italic">attribs</span></dt>
<dd>
<p>One or more attributes that tell Oracle OLAP the position in the record and the format of the input data. (See the <a href="#i79481">FILEREAD</a> command for an explanation of the available attributes.)</p>
</dd>
<dt><span class="italic">object</span> [= <span class="italic">exp</span>]</dt>
<dd>
<p>An Oracle OLAP variable, dimension, or relation to which the input data is assigned. When =&nbsp;<span class="italic">exp</span> is missing, the data is assigned implicitly to the object. When =&nbsp;<span class="italic">exp</span> is present, the data is processed according to the expression and then assigned to <span class="italic">object</span>.</p>
<p>You can use the keyword VALUE to represent the value in a particular field of a record. VALUE represents the data from the file, formatted according to the FILEREAD attributes you use. When the field in the record is blank, FILEREAD considers its value to be <code dir="ltr">NA</code>. By default, the data type of VALUE is the data type of the target object. However, you can specify a different data type with an attribute keyword. VALUE can be used more than once to represent different values from the same record. For each instance, specify the column from which to read each value, as shown in the following example code.</p>
<pre dir="ltr">sales = if col 1 w 1 text value eq &#39;A&#39; then col 2 w 8 value -
   else col 10 w 8 value
</pre>
<p>In this example, the default data type of VALUE is decimal, which is the data type of the target object <code dir="ltr">sales</code>. However, the first instance of VALUE is compared to a text expression, so you must use the attribute TEXT to specify its data type.</p>
</dd>
<dt>SELECT <span class="italic">exp</span></dt>
<dd>
<p>The SELECT field-description keyword processes varying record types (such as records with different structures or different target objects) with one FILEVIEW statement. Within a field description, you can use the following syntax:</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;<span class="italic">exp</span>&nbsp;-&nbsp;</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[WHEN&nbsp;<span class="italic">exp&nbsp;action</span>&nbsp;[WHEN&nbsp;<span class="italic">exp&nbsp;action</span>&nbsp;...]]&nbsp;-&nbsp;</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;[ELSE&nbsp;<span class="italic">action</span>]</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;<span class="italic">bool-exp&nbsp;</span>THEN&nbsp;<span class="italic">action&nbsp;</span>[ELSE&nbsp;<span class="italic">action</span>]</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DO</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">field-desc</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="italic">field-desc</span>]</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DOEND</p>
<p>The <span class="italic">action</span> argument is one of the following:</p>
<ul>
<li>
<p>NULL (no action occurs)</p>
</li>
<li>
<p><span class="italic">field-description</span>, including nested IF and SELECT statements.</p>
</li>
</ul>
<p>SELECT evaluates the first expression, which may contain invocations of the VALUE keyword, and which has a default data type of TEXT. SELECT then sequentially compares the result with the WHEN expressions. When the first match is found, the associated action occurs. When no match is found, the ELSE action (if specified) occurs.</p>
</dd>
<dt>IF <span class="italic">bool-exp</span></dt>
<dd>
<p>The IF field-description keyword processes varying record types (such as records with different structures or different target objects) with one FILEVIEW statement. Within a field description, you can use the following syntax.</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;<span class="italic">bool-exp&nbsp;</span>THEN&nbsp;<span class="italic">action&nbsp;</span>[ELSE&nbsp;<span class="italic">action</span>]</p>
<p><span class="italic">action</span> is the same as described for SELECT.</p>
<p>IF evaluates the Boolean expression, which may contain invocations of the VALUE keyword. IF performs the THEN action when the expression is TRUE or the ELSE action, if specified, when the expression is FALSE. No action occurs when the expression is <code dir="ltr">NA</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4324"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2407"></a>Record Order</p>
<p>FILEVIEW can process the fields in a record in any order. List the field descriptions in the order you want to process them, identifying the fields with explicit column numbers. You can also use several FILEVIEW statements on the same record to do different processing depending on the data you find in the record.</p>
<p class="subhead2"><a id="OLADM2408"></a>Alternative OLAP DML Statement</p>
<p>When you want to process all the records in a file in the same way, without complicated optional processing, a FILEREAD statement is easier to use.</p>
<p class="subhead2"><a id="OLADM2409"></a>Dimension Values</p>
<p>When the target object of a field description is a dimension, you can specify whether the data in the file is used to add values to the dimension or not. The dimension attributes are MATCH and APPEND:</p>
<ul>
<li>
<p>MATCH -- Any value encountered in a field must already be a value of the dimension. FILEVIEW temporarily limits status to that value. When it is not already a dimension value, FILEVIEW generates an error. After executing a FILEVIEW statement, the dimension status is the same as before the execution of the statement.</p>
</li>
<li>
<p>APPEND -- The values in the field can already exist or they can be new. When the value exists, FILEVIEW limits status to that value; when it does not, FILEVIEW adds the value and then limits status. The dimension is limited to ALL when FILEVIEW is finished.</p>
</li>
</ul>
<p>For more information about handling dimensions, see the <a href="#i79481">FILEREAD</a> command.</p>
<p class="subhead2"><a id="OLADM2410"></a>Handling Errors When FILEVIEW Encounters an Error</p>
<p>When FILEVIEW encounters an error, you can control what happens with an error trap and appropriate processing. Errors can be caused by attempts to convert data to an incompatible data type or by encountering invalid dimension values. You can use the FILEERROR function to find out what type of error occurred. After processing the error, you can use GOTO to branch back to the FILEVIEW statement.</p>
<p class="subhead2"><a id="OLADM2411"></a>Attribute List</p>
<p>For a complete list of the attributes for FILEVIEW and FILEREAD and for more information about processing <code dir="ltr">NA</code> values, reading date values, reading multidimensional data, storing NTEXT values, and specifying attributes, see the <a href="#i79481">FILEREAD</a> command.</p>
<p class="subhead2"><a id="OLADM2412"></a>FILEVIEW with Composites</p>
<p>The discussions of composites and variables dimensioned by composites in FILEREAD also apply to FILEVIEW.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4325"></a>Examples</p>
<div id="OLADM2413" class="example">
<p class="titleinexample"><a id="sthref4326"></a>Example 9-133 Varying Months</p>
<p>The following program processes an input file that contains sales data for a variable number of months. The file has the following records:</p>
<ul>
<li>
<p>Record 1 -- Title (to be ignored).</p>
</li>
<li>
<p>Record 2 -- Column labels. Month names are used to set the status of <code dir="ltr">month</code>. The number of months is unknown before processing the file.</p>
</li>
<li>
<p>Record 3 -- Dashes underlining column labels (to be ignored).</p>
</li>
<li>
<p>Record 4 -- Blank.</p>
</li>
<li>
<p>Record 5 to end -- There are three record types for Record 5&mdash;one for each type of line to be read.</p>
</li>
</ul>
<p>One record type for Record 5 represents a detail line with the contents shown in the following table.</p>
<div class="inftblinformal">
<table class="cellalignment3615" title="Detail Line for Record 5" summary="This table illustrates the detail line for record 5." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t127">Column</th>
<th class="cellalignment3616" id="r1c2-t127">Width</th>
<th class="cellalignment3616" id="r1c3-t127">Format</th>
<th class="cellalignment3616" id="r1c4-t127">Data</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t127" headers="r1c1-t127">1</td>
<td class="cellalignment3617" headers="r2c1-t127 r1c2-t127">8</td>
<td class="cellalignment3617" headers="r2c1-t127 r1c3-t127">Symbolic</td>
<td class="cellalignment3617" headers="r2c1-t127 r1c4-t127">District name or blank (When the district name is blank on a detail line, the most recent line containing a district determines the current district.)</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t127" headers="r1c1-t127">10</td>
<td class="cellalignment3617" headers="r3c1-t127 r1c2-t127">10</td>
<td class="cellalignment3617" headers="r3c1-t127 r1c3-t127">Symbolic</td>
<td class="cellalignment3617" headers="r3c1-t127 r1c4-t127">Product name</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t127" headers="r1c1-t127">21</td>
<td class="cellalignment3617" headers="r4c1-t127 r1c2-t127">10</td>
<td class="cellalignment3617" headers="r4c1-t127 r1c3-t127">Symbolic</td>
<td class="cellalignment3617" headers="r4c1-t127 r1c4-t127">Sales for first month</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t127" headers="r1c1-t127">33</td>
<td class="cellalignment3617" headers="r5c1-t127 r1c2-t127">10</td>
<td class="cellalignment3617" headers="r5c1-t127 r1c3-t127">Symbolic</td>
<td class="cellalignment3617" headers="r5c1-t127 r1c4-t127">Sales for second month</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t127" headers="r1c1-t127">45</td>
<td class="cellalignment3617" headers="r6c1-t127 r1c2-t127">To end of record</td>
<td class="cellalignment3617" headers="r6c1-t127 r1c3-t127">Symbolic</td>
<td class="cellalignment3617" headers="r6c1-t127 r1c4-t127">Sales for additional months</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>Another record type in Record 5 represents a totals line with the contents shown in the following table.</p>
<div class="inftblinformal">
<table class="cellalignment3615" title="Totals Line for Record 5" summary="This table illustrates the totals line for record 5." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t128">Column</th>
<th class="cellalignment3616" id="r1c2-t128">Width</th>
<th class="cellalignment3616" id="r1c3-t128">Data</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t128" headers="r1c1-t128">1</td>
<td class="cellalignment3617" headers="r2c1-t128 r1c2-t128">18</td>
<td class="cellalignment3617" headers="r2c1-t128 r1c3-t128">Blank</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t128" headers="r1c1-t128">21</td>
<td class="cellalignment3617" headers="r3c1-t128 r1c2-t128">To end of record</td>
<td class="cellalignment3617" headers="r3c1-t128 r1c3-t128">Totals</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>A third record type of Record 5 contains dashes or equal signs as row separators as illustrated in the following table.</p>
<div class="inftblinformal">
<table class="cellalignment3615" title="Seperators for Record 5" summary="This table illustrates the row separtors for record 5." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t129">Column</th>
<th class="cellalignment3616" id="r1c2-t129">Width</th>
<th class="cellalignment3616" id="r1c3-t129">Data</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t129" headers="r1c1-t129">1</td>
<td class="cellalignment3617" headers="r2c1-t129 r1c2-t129">18</td>
<td class="cellalignment3617" headers="r2c1-t129 r1c3-t129">Blank</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t129" headers="r1c1-t129">21</td>
<td class="cellalignment3617" headers="r3c1-t129 r1c2-t129">To end of record</td>
<td class="cellalignment3617" headers="r3c1-t129 r1c3-t129">Dashes (--) or equal signs (==)</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>This is a report of the sample file.</p>
<pre dir="ltr">  
                             This is the Title
                    Jan95      Feb95      Mar95      Apr95
                    ---------- ---------- ---------- ----------
 
Boston   Tents       32,153.52  32,536.30  43,062.75  57,608.39
         Canoes      66,013.92  76,083.84  91,748.16 125,594.28
         Racquets    52,420.86  56,837.88  58,838.04  69,338.88
         Sportswear  53,194.70  58,913.40  62,797.80  67,869.10
         Footwear    91,406.82  86,827.32 100,199.46 107,526.66
                    ---------- ---------- ---------- ----------
                    295,189.82 311,198.74 356,646.21 427,937.31
                    ---------- ---------- ---------- ----------
Atlanta  Tents       40,674.20  44,236.55  51,227.06  78,469.37
           .
           .
           .
         Footwear    53,284.54  57,331.30  59,144.76  70,516.98
                    ---------- ---------- ---------- ----------
                    231,780.46 245,812.33 275,622.68 355,784.92
                    ---------- ---------- ---------- ----------
                     1,813,326  1,985,731  2,185,174  2,638,409
                    ========== ========== ========== ==========
</pre>
<p>The program figures out which months are covered in the file, then reads the detail lines and assigns the sales data to the appropriate district and month. The program ignores total lines and underlines when FILEVIEW finds columns 1 through 19 blank. The program takes the name of the data file as an argument.</p>
<pre dir="ltr">DEFINE salesdata PROGRAM
LD Store Several Months of Sales Data in an Analytic Workspace
PROGRAM
VARIABLE fil.unit INTEGER
VARIABLE flag BOOLEAN
VARIABLE mname TEXT
VARIABLE label TEXT
VARIABLE savedist TEXT
 
TRAP ON error NOPRINT
PUSH month district
fil.unit = FILEOPEN(ARG(1) READ)
 
IF FILENEXT(fil.unit) NE YES    &#34;Skip Record 1
  THEN SIGNAL noread
IF FILENEXT(fil.unit) NE YES    &#34;Process Record 2 
  THEN SIGNAL noread
FILEVIEW fil.unit COLUMN 21 ACROSS month: -
  WIDTH 10 mname = JOINLINES( mname VALUE)
LIMIT month TO mname
IF FILENEXT(fil.unit) NE YES     &#34;Skip Record 3
  THEN SIGNAL noread
IF FILENEXT(fil.unit) NE YES     &#34;Skip Record 4
  THEN SIGNAL noread
 
WHILE FILENEXT(fil.unit)  &#34;Process Record 5 To End Of File
   DO
   &#34;Store Value In Local Label Variable
   FILEVIEW fil.unit COLUMN 1 WIDTH 18 label  
   IF label NE NA         &#34;Check For NA (Blank Field)
     THEN DO              &#34;Get District Value If Present
      IF EXTCHARS(label, 1, 8) NE &#39;      &#39; 
         &#34;Set District Status
         THEN savedist = BLANKSTRIP(EXTCHARS(label, 1, 8)) 
       FILEVIEW fil.unit -
         COLUMN 1 WIDTH 8 district = IF VALUE NE NA THEN -
            VALUE ELSE savedist -
         COLUMN 10 WIDTH 10 product -
         COLUMN 19 ACROSS month: WIDTH 10 SPACE 2 -
            SCALE 2 newsales
      DOEND
NEXT:
  DOEND
 
FILECLOSE fil.unit
POP month district
RETURN
error:
IF fil.unit EQ NA
  THEN SHOW JOINCHARS(&#39;Can\&#39;t Open Data File &#39; ARG(1) &#39;.&#39;)
ELSE IF ERRORNAME NE &#39;attn&#39; AND ERRORNAME NE &#39;QUIT&#39;
  THEN DO 
    SHOW JOINCHARS(&#39;RECORD &#39; RECNO(fil.unit) &#39; is invalid.&#39;)
    GOTO NEXT
  DOEND
ELSE IF ERRORNAME EQ &#39;noread&#39;
  THEN DO
    SHOW &#39;File Too Short.&#39;
    FILECLOSE fil.unit
  DOEND
ELSE DO
  SHOW &#39;Data Import Interrupted.&#39; 
  FILECLOSE fil.unit
DOEND
POP month district
RETURN
</pre></div>
<!-- class="example" -->
<div id="OLADM2414" class="example">
<p class="titleinexample"><a id="sthref4327"></a>Example 9-134 Additional Processing</p>
<p>When you want to save the dimension value that FILEVIEW read for display or further processing, you can read the field again and save the value in a variable. These lines in a program display the name of the month that FILEVIEW read. The FILEVIEW command saves the month value in column 1 in a variable called <code dir="ltr">mname</code>.</p>
<pre dir="ltr">WHILE FILENEXT(fil.unit)
DO
  FILEVIEW fil.unit WIDTH 8 month WIDTH 5 INTEGER units -
       COLUMN 1 WIDTH 8 mname
  SHOW mname PROMPT
DOEND
</pre></div>
<!-- class="example" -->
<div id="OLADM2415" class="example">
<p class="titleinexample"><a id="sthref4328"></a>Example 9-135 Using the VALUE Keyword as a Function</p>
<p>Suppose you want to read and report data from a disk file similar to the following, named <code dir="ltr">numbers.dat</code>, which has columns 15 characters wide.</p>
<pre dir="ltr">           1.0            2.0            3.0            4.0            5.0 
          -1.0           -2.0           -3.0           -4.0           -5.0
           0.0            0.0            1.43900000E+03                1.39900000E+03
</pre>
<p>You can read this data using the VALUE keyword as a function with FILEVIEW in a program similar to the following one (named <code dir="ltr">try</code>). However, this first example does not work. The FILEVIEW command skips fields. The reason for the data skipping is that each time FILEREAD fetches a field from the current record, it updates the column pointer to point <span class="italic">past</span> the field. When the next fetch does not specify a position (using the COLUMN, SPACE, or FIELD attribute), data is read from the default position established by the previous fetch. This behavior is typically desirable; however it does not work when multiple fetches are needed to perform a single assignment (for example, when the VALUE function is coded twice in the same IF...THEN...ELSE command block, as shown here). The NAMELIST and DIRLIST attributes return one value for multiple versions of a particular file name in the directory. The NAMELIST attribute also returns only one value for multiple files in the directory with the same root file name but different file types.</p>
<pre dir="ltr">DEFINE try PROGRAM
PROGRAM
VARIABLE funit INTEGER
DEFINE dvar VARIABLE DECIMAL &lt;year&gt;
PUSH year
LIMIT year TO LAST 5
TRAP ON ERROR
funit=FILEOPEN(&#39;numbers.dat&#39; R)
 
WHILE FILENEXT(funit)
   DO
   FILEVIEW funit ACROSS year: W 15 TEXT dvar = -
      IF FINDCHARS(VALUE, &#39;e&#39;) EQ 0 -  &#34;Incorrect Use of Value
      THEN CONVERT(VALUE, dec) -       &#34;Results in Skipped
      ELSE -9999.99                    &#34;Fields
      REPORT DOWN year dvar
   DOEND
error:
FILECLOSE funit
DELETE dvar
POP year
END
</pre>
<p>When you execute the <code dir="ltr">try</code> program,</p>
<pre dir="ltr">try
</pre>
<p>the output skips numbers, as in the following.</p>
<pre dir="ltr"> 
YEAR              DVAR
-------------  ----------
Yr93                 2.00
Yr94                 4.00
Yr95                   NA
Yr96            -9,999.99
Yr97            -9,999.99
   
YEAR              DVAR
-------------  ----------
Yr93                -2.00
Yr94                -4.00
Yr95                   NA
Yr96            -9,999.99
Yr97            -9,999.99
   
YEAR              DVAR
-------------  ----------
Yr93                 0.00
Yr94            -9,999.99
Yr95            -9,999.99
Yr96            -9,999.99
Yr97            -9,999.99
</pre>
<p>However, when the SPACE attribute is used to make the second VALUE back up some distance so it reads the same field that the first VALUE read, everything works fine. SPACE can be used in the preceding sample program by changing the THEN clause to the following clause.</p>
<pre dir="ltr">THEN CONVERT(SPACE -15 VALUE, dec) -
</pre>
<p>Now when you execute the program,</p>
<pre dir="ltr">try
</pre>
<p>the output looks like this.</p>
<pre dir="ltr">   
YEAR              DVAR
-------------  ----------
Yr93                 1.00
Yr94                 2.00
Yr95                 3.00
Yr96                 4.00
Yr97                 5.00
   
YEAR              DVAR
-------------  ----------
Yr93                -1.00
Yr94                -2.00
Yr95                -3.00
Yr96                -4.00
Yr97                -5.00
   
YEAR              DVAR
-------------  ----------
Yr93                 0.00
Yr94                 0.00
Yr95            -9,999.99
Yr96            -9,999.99
Yr97            -9,999.99 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79526"></a>
<div id="OLADM821" class="refsect1">
<h2 class="refsect1">FOR</h2>
<p>Within an OLAP DML program, t<a id="sthref4329"></a><a id="sthref4330"></a><a id="sthref4331"></a><a id="sthref4332"></a><a id="sthref4333"></a><a id="sthref4334"></a><a id="sthref4335"></a>he FOR command specifies one or more dimensions whose status controls the repetition of one or more statements. These statements, along with the FOR statement itself, are often called a FOR loop.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4336"></a>Syntax</p>
<p class="synopsis">FOR&nbsp;<span class="italic">dimension</span>...</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4337"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>One or more dimensions whose current status controls the repetition of one or more statements. The statements are repeated for each combination of the values of the specified dimensions in the current status. When two or more dimensions are specified, the first one varies the slowest. You can specify a composite instead of a dimension.</p>
</dd>
<dt><span class="italic">statement</span></dt>
<dd>
<p>The statement to be repeated. To repeat two or more statements, enclose them between DO and DOEND.</p>
<pre dir="ltr">     DO
       <span class="italic">statement1</span>
          ...
       <span class="italic">statementN</span>
     DOEND
</pre>
<p>When you are repeating only one statement after FOR, you can omit DO and DOEND.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4338"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2416"></a>FOR Dimension</p>
<p>A FOR statement loops over the values in status of the specified dimension. After the last dimension value, dimension status is restored to what it was before the loop, and execution of the program resumes with the next statement.</p>
<p class="subhead2"><a id="OLADM2417"></a>Status Inside a Loop</p>
<p>The TEMPSTAT command limits the dimension you are looping over inside a FOR loop or inside a loop that is automatically generated by a REPORT statement.</p>
<p class="subhead2"><a id="OLADM2418"></a>No Sorting</p>
<p>Because current status defines and controls a FOR loop, you cannot sort the FOR dimension within the loop.</p>
<p class="subhead2"><a id="OLADM2419"></a>Assignment Statements and Other Looping Statements</p>
<p>An OLAP DML assignment statement (SET), and some other OLAP DML statements automatically loop over dimension status and do so more efficiently than a FOR loop. Be careful not to cause extra looping by putting an assignment statement or one of these statements in a FOR loop.</p>
<p class="subhead2"><a id="OLADM2420"></a>Branching</p>
<p>You can use BREAK, CONTINUE, and GOTO statements to branch within, or out of, a FOR loop, thereby altering the sequence of statement execution.</p>
<p class="subhead2"><a id="OLADM2421"></a>Nested FOR Statements</p>
<p>FOR statements can be nested within a FOR loop to any depth when matching DO and DOEND statements are supplied where appropriate.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4339"></a>Examples</p>
<div id="OLADM2422" class="example">
<p class="titleinexample"><a id="sthref4340"></a>Example 9-136 Using FOR in a DO Loop to Repeat ROW Commands</p>
<p>In a report program, you want to show the unit sales of tents for each of three months. Use the following FOR statement with a DO/DOEND sequence to repeat ROW commands and BLANK commands for each value of the <code dir="ltr">month</code> dimension.</p>
<pre dir="ltr">LIMIT product TO tents
LIMIT month TO &#39;Jan96&#39; TO &#39;Mar96&#39;
ROW district
ROW UNDER &#39;-&#39; VALONLY name.product
BLANK
FOR month
    DO
      ROW INDENT 5 month WIDTH 6 UNITS
      BLANK
    DOEND
</pre>
<p>The program lines produce the following report.</p>
<pre dir="ltr">BOSTON
3-Person Tents
--------------
 
     Jan96              307
     Feb96              209
     Mar96              277
</pre></div>
<!-- class="example" -->
<div id="OLADM2423" class="example">
<p class="titleinexample"><a id="CHDIHIFI"></a><a id="i1012386"></a>Example 9-137 Using a FOR Statement for Looping Over Values</p>
<p><a id="sthref4341"></a><a id="sthref4342"></a>The FOR command executes the commands in the loop for each value in the current status of the dimension. You must limit the dimension to the desired values before executing a FOR statement. For example, you can produce a series of output lines that show the price for each product.</p>
<pre dir="ltr">LIMIT month TO FIRST 1
LIMIT product TO ALL
FOR product
SHOW JOINCHARS(&#39;Price for &#39; product &#39;: $&#39; price)
</pre>
<p>Each output line has the following format.</p>
<pre dir="ltr">Price for TENTS: $165.50
</pre>
<p><a id="sthref4343"></a><a id="sthref4344"></a>When your data is multidimensional, you can specify multiple dimensions in a FOR statement to control the order of processing. For example, you can use the following statement to control the order in which dimension values of the <code dir="ltr">units</code> data are processed.</p>
<pre dir="ltr">FOR month district product
   units = ...
</pre>
<p>When this assignment statement is executed, the <code dir="ltr">month</code> dimension varies the slowest, the <code dir="ltr">district</code> dimension varies the next slowest, and the <code dir="ltr">product</code> dimension varies the fastest. Thus, a loop is performed over all products for the first district before doing the next district, and over all districts for the first month before doing the next month.</p>
<p>Within the FOR loop, each specified dimension is temporarily limited to a single value while it executes the statements in the loop. You can therefore work with specific combinations of dimension values within the loop.</p>
</div>
<!-- class="example" -->
<div id="OLADM2424" class="example">
<p class="titleinexample"><a id="CHDEHBCB"></a><a id="i1012387"></a>Example 9-138 Using DO/DOEND in a FOR Loop</p>
<p><a id="sthref4345"></a><a id="sthref4346"></a><a id="sthref4347"></a>When actual figures for unit sales are stored in a variable called <code dir="ltr">units</code> and projected figures for unit sales are stored in a variable called <code dir="ltr">units.plan</code>, then the code in your loop can compare these figures for the same combination of dimension values.</p>
<pre dir="ltr">LIMIT month TO FIRST 1
LIMIT product TO ALL
LIMIT district TO ALL
FOR district product
   DO
     IF (units.plan - units)/units.plan GT .1
     THEN SHOW JOINCHARS(-
       &#39;Unit sales for &#39; product &#39; in &#39; -
       district &#39; are not within 10% of plan.&#39;)
   DOEND
</pre>
<p>These lines of code are processed in the following manner.</p>
<ol>
<li>
<p>The data is limited to a specific month.</p>
</li>
<li>
<p>All the districts and products are placed in status, and the FOR loop is entered.</p>
</li>
<li>
<p>In the FOR loop, the actual figure is tested against the planned figure. When the unit sales figure for <code dir="ltr">Tents</code> in <code dir="ltr">Boston</code> is more than 10 percent below the planned figure, then the following message is sent to the current outfile.</p>
<pre dir="ltr">Unit sales for TENTS in BOSTON are not within 10% of plan.
</pre></li>
<li>
<p>After processing all the products, the FOR loop is complete for the first district.</p>
</li>
<li>
<p>The loop is executed for the second district, and so on.</p>
<p>Note that while the FOR loop executes, each dimension that is specified in a FOR statement is limited temporarily to a single value. When you specify <code dir="ltr">district</code> in the FOR loop, but not <code dir="ltr">product</code>, then all the values of <code dir="ltr">product</code> are in status while the FOR loop executes. The IF...THEN...ELSE command then tests data for only the first value of the <code dir="ltr">product</code> dimension.</p>
</li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79531"></a>
<div id="OLADM822" class="refsect1">
<h2 class="refsect1">FORECAST</h2>
<p><a id="sthref4348"></a><a id="sthref4349"></a><a id="sthref4350"></a><a id="sthref4351"></a>Use the FORECAST command to forecast data by one of three methods: straight-line trend, exponential growth, or Holt-Winters extrapolation. FORECAST performs the calculation according to the method you specify and optionally stores the result in a variable in your analytic workspace.</p>
<p>You can then execute <a href="#i1006493">FORECAST.REPORT</a> to produce a standard report of the forecast. You can also use the INFO function to obtain portions of the results for use in your own customized reports or for further analysis.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Most applications forecast data using a forecasting context rather than using a FORECAST statement. See <a href="dml_program.htm#i1017424">&#34;Forecasting Programs&#34;</a> for more information.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4352"></a>Syntax</p>
<p class="synopsis">FORECAST&nbsp;[LENGTH&nbsp;<span class="italic">n</span>]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[METHOD&nbsp;{<span class="underline">TREND</span>|EXPONENTIAL|WINTERS&nbsp;PERIODICITY&nbsp;<span class="italic">p&nbsp;</span>[<span class="italic">argument...</span>]}]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[TIME&nbsp;<span class="italic">dimension</span>]&nbsp;[FCNAME&nbsp;<span class="italic">name</span>]&nbsp;<span class="italic">time-series</span></p>
<p>where <span class="syntaxinlineitalic">argument</span> is one or more of the following clauses that specify the characteristics of the forecast:</p>
<dl>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALPHA&nbsp;</span><span class="syntaxinlineitalic">n</span></dd>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BETA&nbsp;</span><span class="syntaxinlineitalic">n</span></dd>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GAMMA&nbsp;</span><span class="syntaxinlineitalic">n</span></dd>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STSMOOTHED&nbsp;</span><span class="syntaxinlineitalic">n&nbsp;</span><span class="syntaxinline">STSEASONAL&nbsp;</span><span class="syntaxinlineitalic">n-series&nbsp;</span><span class="syntaxinline">STTREND&nbsp;</span><span class="syntaxinlineitalic">n</span></dd>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FCSMOOTHED&nbsp;</span><span class="syntaxinlineitalic">name</span></dd>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FCSEASONAL&nbsp;</span><span class="syntaxinlineitalic">name</span></dd>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FCTREND&nbsp;</span><span class="syntaxinlineitalic">name</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4353"></a>Parameters</p>
<dl>
<dt>LENGTH <span class="italic">n</span></dt>
<dd>
<p>Specifies the number of periods to forecast. The default is zero. When you supply a LENGTH, you must also supply the FCNAME option.</p>
</dd>
<dt>METHOD TREND</dt>
<dd>
<p>(Default) Specifies that the forecasting technique is a straight-line extrapolation of historical data.</p>
</dd>
<dt>METHOD EXPONENTIAL</dt>
<dd>
<p>Specifies that the forecasting technique is an extrapolation of historical data using a constant period-to-period percentage growth.</p>
</dd>
<dt>METHOD WINTERS</dt>
<dd>
<p>Specifies that the forecasting technique is the Holt-Winters method, an extrapolation method that allows for both a linear trend and seasonal fluctuations in the data. Oracle OLAP first constructs three statistically related series for each time period of the historical data. (See <a href="#i81540">&#34;Holt-Winters Constructed Series&#34;</a>.) Then, Oracle OLAP produces a forecast from the three series for the specified number of periods into the future.</p>
<p>You can supply several arguments that affect the results of the Holt-Winters forecast. The only required one is PERIODICITY. For the others, Oracle OLAP chooses a reasonable value based on the data available.</p>
</dd>
<dt>PERIODICITY <span class="italic">p</span></dt>
<dd>
<p>The length of the seasonal cycle, where <span class="italic">p</span> is an expression that specifies an <code dir="ltr">INTEGER</code> greater than or equal to 2. For example, when the data you are analyzing has monthly values, then <span class="italic">p</span> is 12.</p>
<p>PERIODICITY is required when you use the METHOD WINTERS keyword.</p>
</dd>
<dt>ALPHA <span class="italic">n</span></dt>
<dt>BETA <span class="italic">n</span></dt>
<dt>GAMMA <span class="italic">n</span></dt>
<dd>
<p>Smoothing constants for the first three series calculated for the Holt-Winters forecast (See <a href="#i81540">&#34;Holt-Winters Constructed Series&#34;</a>). ALPHA is for the smoothed data series; BETA is for the seasonal index series; and GAMMA is for the trend series. The value <span class="italic">n</span> is a decimal expression greater than 0 and less than or equal to 1. Each value is optional. When you omit one, Oracle OLAP calculates an optimal smoothing constant for that series that minimizes the Mean Absolute Percent Error of the one-period-ahead forecasts in the historical time periods.</p>
</dd>
<dt>STSMOOTHED <span class="italic">n</span> STSEASONAL <span class="italic">n-series</span> STTREND <span class="italic">n</span></dt>
<dd>
<p>STSMOOTHED specifies the starting value of the smoothed data series (See <a href="#i81540">&#34;Holt-Winters Constructed Series&#34;</a>). The value <span class="italic">n</span> is a decimal expression greater than 0. When you specify STSMOOTHED, you must also specify STSEASONAL and STTREND. When you omit it, Oracle OLAP calculates a starting value.</p>
<p>STSEASONAL specifies the starting values for the seasonal index series (See <a href="#i81540">&#34;Holt-Winters Constructed Series&#34;</a>). <span class="italic">N-series</span> is an array of decimal values, one for each period in a seasonal cycle. The number of values needed equals the number specified for PERIODICITY (See <a href="#i81616">&#34;Holt-Winters Starting Values&#34;</a>). When you specify STSEASONAL, you must also specify STSMOOTHED and STTREND. When you omit it, Oracle OLAP calculates the starting values.</p>
<p>STTREND specifies the starting value of the trend series (See <a href="#i81540">&#34;Holt-Winters Constructed Series&#34;</a>). <span class="italic">N</span> is a decimal value. When you specify STTREND, you must also specify STSMOOTHED and STSEASONAL. When you omit it, Oracle OLAP calculates a starting value.</p>
</dd>
<dt>FCSMOOTHED <span class="italic">name</span></dt>
<dt>FCSEASONAL <span class="italic">name</span></dt>
<dt>FCTREND <span class="italic">name</span></dt>
<dd>
<p>Numeric variables in which Oracle OLAP can store the data calculated for the smoothed data series, the seasonal index series, and the trend series (See <a href="#i81540">&#34;Holt-Winters Constructed Series&#34;</a>). The variable specified by <span class="italic">name</span> must have the TIME <span class="italic">dimension</span> as one of its dimensions. The series calculations produce DECIMAL results, but Oracle OLAP converts the values to the data type of <span class="italic">name</span> before storing them. You can save any or all of the preliminary series. When you do not save a series, Oracle OLAP discards the values after completing the forecast.</p>
</dd>
<dt>TIME <span class="italic">dimension</span></dt>
<dd>
<p>The name of the dimension considered to be the time dimension. The current status of <span class="italic">dimension</span> determines the number of periods of historical data used to calculate the forecast. The status of the time dimension must be an increasing, consecutive range of values. LENGTH specifies how many values immediately beyond this range is forecast.</p>
<p>When <span class="italic">time-series</span> has only one dimension, the time dimension defaults to that. When <span class="italic">time-series</span> has multiple dimensions and one dimension has a type of DAY, WEEK, MONTH, QUARTER, or YEAR, then the time dimension defaults to that type. Otherwise, you must specify the time dimension, even when the additional dimensions are limited to a single value. FORECAST only uses the first value in the status for dimensions other than the time dimension.</p>
</dd>
<dt>FCNAME <span class="italic">name</span></dt>
<dd>
<p>The name of a numeric variable in which to store the values calculated by FORECAST. <span class="italic">Name</span> must be dimensioned by the time dimension; it can have other dimensions as well. When the data type of <span class="italic">name</span> is not decimal, FORECAST converts the values to the appropriate data type.</p>
<p>Fitted values, which correspond to the historical data, are stored in <span class="italic">name</span> for the current status of the time dimension. Forecasted values are stored in <span class="italic">name</span> for the number of periods specified by LENGTH. These forecasted periods immediately follow the current status of the time dimension.</p>
<p>For the Holt-Winters method, the fitted values are one-period-ahead forecasts calculated at the previous period. The final forecasted values are extrapolated from the fitted data.</p>
<p>For the TREND and EXPONENTIAL methods, FORECAST obtains the fitted values by evaluating the regression equation over the current status of the time dimension.</p>
</dd>
<dt><span class="italic">time-series</span></dt>
<dd>
<p>An expression that specifies the time series to be forecast. <span class="italic">Time-series</span> must be a numeric expression that is dimensioned by the time dimension. When <span class="italic">time-series</span> has other dimensions, FORECAST uses the first value only in their current status. The <span class="italic">time-series</span> is the historical data from which FORECAST calculates fitted and forecasted values. (See the explanation for FCNAME.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1040043"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2425"></a>Forecasting Multidimensional Expressions</p>
<p>When you want to forecast all the values of a multidimensional expression, you can use a program that puts a FORECAST statement inside one or more FOR loops to loop over all the remaining dimensions of the expression.</p>
<p class="subhead2"><a id="OLADM2426"></a>Obtaining Portions of Results</p>
<p>YOu can obtain portions of the results of FORECAST for your own reports or further analysis, using an INFO statement.</p>
<p class="subhead2"><a id="OLADM2427"></a>Order of Arguments</p>
<p>You can specify the arguments for FORECAST in any order, except that <span class="italic">time-series,</span> the expression specifying the data to be forecast, must be last.</p>
<p class="subhead2"><a id="OLADM2428"></a><span class="italic">Time-series</span> Data Handling</p>
<p>Each method has its own criteria for handling the input data specified in <span class="italic">time-series.</span></p>
<ul>
<li>
<p>TREND -- Requires at least two values that are not <code dir="ltr">NA</code>; accepts zero and negative values; ignores <code dir="ltr">NA</code> values</p>
</li>
<li>
<p>EXPONENTIAL -- Requires at least two positive values; ignores zero, negative, and <code dir="ltr">NA</code> values</p>
</li>
<li>
<p>WINTERS -- Accepts zero and negative values; fills in <code dir="ltr">NA</code> values by calculating a weighted moving average</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2429"></a>Zero Values</p>
<p>All methods allow zero values in the historical data, specified by <span class="italic">time-series,</span> but those time periods are excluded from the Mean Absolute Percent Error (MAPE) calculation.</p>
<p class="subhead2"><a id="i81540"></a><a id="OLADM2430"></a>Holt-Winters Constructed Series</p>
<p>The Holt-Winters forecasting method constructs three statistically related series, which are used to make the actual forecast. These series are:</p>
<ol>
<li>
<p>The smoothed data series, which is the original data with seasonal effects and random error removed.</p>
</li>
<li>
<p>The seasonal index series, which is the seasonal effect for each period. A value greater than one represents a seasonal increase in the data for that period, and a value less than one is a seasonal decrease in the data. The Holt-Winters method allows seasonal effects to vary over time, so there is a seasonal index value for every historical period.</p>
</li>
<li>
<p>The trend series, which is the change in the data for each period with the seasonal effects and random error removed. The Holt-Winters method allows the trend effect to vary over time, so there is a trend value for every historical period.</p>
</li>
</ol>
<p class="subhead2"><a id="OLADM2431"></a>Holt-Winters Omitted Arguments</p>
<p>For the Holt-Winters method, when you omit the STSMOOTHED, STTREND, and STSEASONAL phrases, Oracle OLAP calculates the necessary starting values using an algorithm from <span class="italic">Statistical Methods for Forecasting</span> by Abraham and Ledolter. Let Oracle OLAP calculate the starting values when you have little experience with Holt-Winters forecasting.</p>
<p class="subhead2"><a id="i81616"></a><a id="OLADM2432"></a>Holt-Winters Starting Values</p>
<p>When you specify starting values, Oracle OLAP obtains the STSEASONAL starting values by unraveling the values to make a list. The list must have at least the number of values as specified by PERIODICITY. Any more values are ignored; fewer values cause an error. The STSEASONAL expression can be multidimensional and does not have to have the same dimensions as the historical data. (For information about the order of the list when a dimensioned expression is unraveled, see the <a href="dml_functions_2.htm#BABHDHGG">UNRAVEL</a> function.)</p>
<p class="subhead2"><a id="OLADM2433"></a>Getting Calculated Values</p>
<p>You can find out the values that Oracle OLAP calculates for ALPHA, BETA, and GAMMA and for STSMOOTHED, STSEASONAL, and STTREND by using the INFO function.</p>
<p class="subhead2"><a id="OLADM2434"></a>Getting a Report of the Forecast</p>
<p><a id="sthref4354"></a>The FORECAST.REPORT program produces a standard report of a forecast created using the FORECAST command.</p>
<p>The report shows the parameters of the forecast, including the forecast formula and Mean Absolute Percent Error, followed by a display of the forecasted values. To produce this report, type the following.</p>
<p class="synopsis">FORECAST.REPORT</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4355"></a>Examples</p>
<div id="OLADM2435" class="example">
<p class="titleinexample"><a id="BABEEJIH"></a><a id="i1006723"></a>Example 9-139 Using the EXPONENTIAL Method</p>
<p>The following statements create a variable called <code dir="ltr">fcst.sales</code>, limit the dimensions of the <code dir="ltr">sales</code> variable, use the EXPONENTIAL method to forecast sportswear sales for the Chicago district for 1997, and store the results of the calculation in <code dir="ltr">fcst.sales</code>.</p>
<pre dir="ltr">DEFINE fcst.sales DECIMAL &lt;month&gt;
LIMIT product TO &#39;Sportswear&#39;
LIMIT district TO &#39;Chicago&#39;
LIMIT month TO &#39;Jan95&#39; TO &#39;Dec96&#39;
FORECAST LENGTH 12 METHOD EXPONENTIAL FCNAME fcst.sales -
time month sales
</pre>
<p>You can now execute FORECAST.REPORT to see the values that have been generated. Running the FORECAST.REPORT program for that forecast produces the following report.</p>
<pre dir="ltr">                     Forecasting Analysis
                     ====================
 
                 Variable to Forecast: SALES
                   Forecast dimension: MONTH
                      Forecast method: EXPONENTIAL
          Mean absolute percent error: 16.64%
 
        Forecast Equation: SALES = 87718.0009541883 *
                           (1.00553383457899 ** MONTH)
 
MONTH                   Actual Value    Fitted Value
--------------------    ------------    ------------
Jan95                      72,123.47       88,203.42
Feb95                      80,071.75       88,691.52
Mar95                      78,812.69       89,182.33
Apr95                      97,413.26       89,675.85
May95                      94,406.65       90,172.10
  ...                        ...               ...
Dec96                      72,095.02      100,140.38
  ...                        ...               ...
</pre></div>
<!-- class="example" -->
<div id="OLADM2436" class="example">
<p class="titleinexample"><a id="BABDAJFC"></a><a id="i1006580"></a>Example 9-140 Using the WINTERS Method</p>
<p>The following statements limit the <code dir="ltr">month</code> dimension, then calculate a forecast that takes into account seasonal influences, using the WINTERS method.</p>
<pre dir="ltr">DEFINE fcst.sales DECIMAL &lt;montH&gt;
LIMIT month TO year &#39;Yr95&#39; &#39;Yr96&#39;
FORECAST LENGTH 12 METHOD WINTERS -
PERIODICITY 12, ALPHA .5, BETA .5, GAMMA .5 -
time month, FCNAME fcst.sales, sales
</pre>
<p>You can now execute FORECAST.REPORT to see the values that have been generated. Running the FORECAST.REPORT program for that forecast produces the following report.</p>
<pre dir="ltr">                     Forecasting Analysis
                     ====================
 
                 Variable to Forecast: SALES
                   Forecast dimension: MONTH
                      Forecast method: WINTERS
                                Alpha: 0.50
                                 Beta: 0.50
                                Gamma: 0.50
                          Periodicity: 12
          Mean absolute percent error: 0.20%
 
MONTH                   Actual Value    Fitted Value
--------------------    ------------    ------------
Jan95                      72,123.47       72,154.67
Feb95                      80,071.75       80,027.51
Mar95                      78,812.69       79,171.08
Apr95                      97,413.26       97,200.81
May95                      94,406.65       94,464.71
 ....                         ...             ...
Dec97                                      77,867.23
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1006493"></a>
<div id="OLADM823" class="refsect1">
<h2 class="refsect1">FORECAST.REPORT</h2>
<p><a id="sthref4356"></a>The FORECAST.REPORT program produces a standard report of a forecast created using the FORECAST command.</p>
<p>The report shows the parameters of the forecast, including the forecast formula and Mean Absolute Percent Error, followed by a display of the forecasted values.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4357"></a>Syntax</p>
<p class="synopsis">FORECAST.REPORT</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4358"></a>Examples</p>
<div id="OLADM2437" class="example">
<p class="titleinexample"><a id="i1006753"></a>Example 9-141 Report of Forecast Using the EXPONENTIAL Method</p>
<p>Assume that you have performed the forecast illustrated in <a href="#BABEEJIH">Example 9-139, &#34;Using the EXPONENTIAL Method&#34;</a>. Running the FORECAST.REPORT program for that forecast produces the following report.</p>
<pre dir="ltr">                     Forecasting Analysis
                     ====================
 
                 Variable to Forecast: SALES
                   Forecast dimension: MONTH
                      Forecast method: EXPONENTIAL
          Mean absolute percent error: 16.64%
 
        Forecast Equation: SALES = 87718.0009541883 *
                           (1.00553383457899 ** MONTH)
 
MONTH                   Actual Value    Fitted Value
--------------------    ------------    ------------
Jan95                      72,123.47       88,203.42
Feb95                      80,071.75       88,691.52
Mar95                      78,812.69       89,182.33
Apr95                      97,413.26       89,675.85
May95                      94,406.65       90,172.10
  ...                        ...               ...
Dec96                      72,095.02      100,140.38
  ...                        ...               ...
</pre></div>
<!-- class="example" -->
<div id="OLADM2438" class="example">
<p class="titleinexample"><a id="i1006604"></a>Example 9-142 Report of Forecast Using the WINTERS Method</p>
<p>Assume that you have performed the forecast illustrated in <a href="#BABDAJFC">Example 9-140, &#34;Using the WINTERS Method&#34;</a>. Running the FORECAST.REPORT program for that forecast produces the following report.</p>
<pre dir="ltr">                     Forecasting Analysis
                     ====================
 
                 Variable to Forecast: SALES
                   Forecast dimension: MONTH
                      Forecast method: WINTERS
                                Alpha: 0.50
                                 Beta: 0.50
                                Gamma: 0.50
                          Periodicity: 12
          Mean absolute percent error: 0.20%
 
MONTH                   Actual Value    Fitted Value
--------------------    ------------    ------------
Jan95                      72,123.47       72,154.67
Feb95                      80,071.75       80,027.51
Mar95                      78,812.69       79,171.08
Apr95                      97,413.26       97,200.81
May95                      94,406.65       94,464.71
 ....                         ...             ...
Dec97                                      77,867.23
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79541"></a>
<div id="OLADM824" class="refsect1">
<h2 class="refsect1">FULLDSC</h2>
<p><a id="sthref4359"></a><a id="sthref4360"></a><a id="sthref4361"></a><a id="sthref4362"></a>The FULLDSC program produces a report that lists the definition of one or more workspace objects, including the properties and triggers of the object(s).</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4363"></a>Syntax</p>
<p class="synopsis">FULLDSC&nbsp;[<span class="italic">names</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4364"></a>Parameters</p>
<dl>
<dt><span class="italic">names</span></dt>
<dd>
<p>The names of one or more workspace objects, separated by spaces or commas. FULLDSC shows the full definition of each object specified. When you omit this argument, FULLDSC shows the definition of all objects in the current status of the NAME dimension.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4365"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2439"></a>Output of FULLDSC</p>
<p>The FULLDSC program is an extension to the DESCRIBE command. That is, the object definition that you list with FULLDSC includes the definition components that are listed by the DESCRIBE command, followed by any properties that are assigned to the object. Each property is listed on its own line with the word PROPERTY, the name of the property, and its value.</p>
<p class="subhead2"><a id="OLADM2440"></a>Limiting the Objects Described</p>
<p>Normally, the status of NAME is ALL, so FULLDSC with no argument produces a report that includes the definitions of all objects in your current workspace. However, you can use the LIMIT command in combination with FULLDSC to report the definitions of a particular group of objects in your workspace. Use LIMIT first to limit the status of the NAME dimension to the names of the objects whose definitions you want to see. Then execute a FULLDSC statement with no arguments to list the definitions.</p>
<p class="subhead2"><a id="OLADM2441"></a>Paginated Output</p>
<p>You can produce paginated output with a FULLDSC statement by setting PAGING to <code dir="ltr">YES</code> before using FULLDSC.</p>
<p class="subhead2"><a id="OLADM2442"></a>Creating Objects with FULLDSC Output</p>
<p>You can use the output from a FULLDSC statement to create objects in other workspaces, because each line of the output is a valid statement. For example, you can execute an OUTFILE statement to send subsequent output to a file, and then execute a FULLDSC statement. You can then access another workspace, and use an INFILE statement to read the FULLDSC output. The same object is created in that workspace.</p>
<p>The output produced by FULLDSC might not exactly reproduce the original PROPERTY statements that created the properties of the object because the original name and value expressions are not saved. In addition, FULLDSC sets the DECIMALS option to 255, which drops trailing zeros. See <a href="#i81654">&#34;Listing the Properties of a Variable&#34;</a><span class="bold">.</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4366"></a>Examples</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_2.htm#CEGCHEAH">Example 10-160, &#34;Describing Triggers&#34;</a></div>
<div id="OLADM2443" class="example">
<p class="titleinexample"><a id="i81654"></a>Example 9-143 Listing the Properties of a Variable</p>
<p>This example produces a report of the full definition of the <code dir="ltr">actual</code> variable, to which the properties DECPLACE and REPPRG have been added. The statement</p>
<pre dir="ltr">FULLDSC actual
</pre>
<p>produces the following output.</p>
<pre dir="ltr">DEFINE ACTUAL VARIABLE DECIMAL &lt;LINE DIVISION MONTH&gt;
LD Actual $ Financials
PROPERTY &#39;DECPLACE&#39; 4
PROPERTY &#39;REPPRG&#39; &#39;qtrrep&#39;
</pre>
<p>Suppose the DECPLACE property had been specified with the following statement, where PRPNAME is a variable whose value is DECPLACE.</p>
<pre dir="ltr">PROPERTY prpname 4.00
</pre>
<p>The output from FULLDSC would be the same as that shown in the preceding example; the value 4.00 would be shown as 4. Therefore, when you created an object using the INFILE technique with the FULLDSC output, the newly created property value would have a type of INTEGER (based on the value 4) even though the original property value had a type of DECIMAL (based on the value 4.00). In most cases, this difference is immaterial, because the appropriate conversions are performed when the property values are used.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78866"></a>
<div id="OLADM825" class="refsect1">
<h2 class="refsect1">GOTO</h2>
<p><a id="sthref4367"></a><a id="sthref4368"></a><a id="sthref4369"></a><a id="sthref4370"></a><a id="sthref4371"></a>Within an OLAP DML program, the GOTO command alters the sequence of statement execution within a program.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4372"></a>Syntax</p>
<p class="synopsis">GOTO&nbsp;<span class="italic">label</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4373"></a>Parameters</p>
<dl>
<dt><span class="italic">label</span></dt>
<dd>
<p>The name of a label elsewhere in the program constructed following the <a href="#i1009483">&#34;Guidelines for Constructing a Label&#34;</a>. Execution of the program branches to the line directly following the specified label.</p>
<p>Note that <span class="italic">label,</span> as specified in GOTO, must <span class="italic">not</span> be followed by a colon. However, the actual label elsewhere in the program must end with a colon.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1027676"></a>Usage Notes</p>
<p class="subhead2"><a id="i1009483"></a><a id="OLADM2444"></a>Guidelines for Constructing a Label</p>
<p><a id="sthref4374"></a>When you use control structures to branch to a particular location, you must provide a label for the location to identify it clearly. When creating a label, follow these guidelines:</p>
<ul>
<li>
<p>The first character in the label must be a letter, period (<code dir="ltr">.</code>), or underscore (<code dir="ltr">_</code>).</p>
</li>
<li>
<p>The remaining characters in a label can be any combination of letters, numbers, periods, or underscores.</p>
</li>
<li>
<p>A label must be followed immediately by a colon (<code dir="ltr">:</code>).</p>
</li>
<li>
<p>Ensure that the first eight bytes in the label are unique. (Remember that, in your character set, a byte might or might not be equivalent to one character.) A label can contain up to 3999 bytes (the maximum length of a text line minus 1&nbsp;byte for the colon that identifies a label). However, because only the first eight bytes of a label name are used, you can experience problems with label names greater than eight bytes when the first eight bytes are not unique.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2445"></a>Missing GOTO Label</p>
<p>When an actual label that corresponds to <span class="italic">label</span> does not exist elsewhere in the same program, execution stops with an error.</p>
<p class="subhead2"><a id="OLADM2446"></a>GOTO with IF and WHILE</p>
<p>A GOTO statement can be used with IF...THEN...ELSE or WHILE to set up conditional branching, using the following syntax.</p>
<p class="synopsis">IF&nbsp;<span class="italic">boolean-expression</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;THEN&nbsp;GOTO&nbsp;<span class="italic">label1</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;ELSE&nbsp;GOTO&nbsp;<span class="italic">label2</span></p>
<p>However, to preserve the clarity of your programming logic, minimize your use of GOTO. You can often replace GOTO with one or more statements executed conditionally using FOR, IF...THEN...ELSE, or WHILE. You can also use a SWITCH command to handle different cases within the same program.</p>
<p class="subhead2"><a id="OLADM2447"></a>GOTO with FOR</p>
<p>You can use a GOTO statement in a FOR loop to branch within, or out of, the loop which changes the sequence of statement execution, depending on where the GOTO statement and the label are positioned.</p>
<ul>
<li>
<p>A GOTO in a FOR loop that branches to a label within the same loop makes execution continue at the label without affecting the current dimension status. Subsequent repetitions of the loop continue normally. To branch to the end of the loop, just before the DOEND statement, consider using a CONTINUE statement instead.</p>
</li>
<li>
<p>A GOTO in a FOR loop that branches to a label outside the loop terminates the effect of the FOR statement. Execution continues at the specified label and dimension status is restored to what it was before the loop. To branch to the statement immediately following the DOEND of a loop, consider using a BREAK statement instead.</p>
</li>
</ul>
<p>When you use a GOTO statement outside a FOR loop to branch into the loop (that is, to a label inside the loop), an error occurs after execution passes through the rest of the loop once.</p>
<p class="subhead2"><a id="OLADM2448"></a>TEMPSTAT and GOTO Statements</p>
<p>Within a FOR loop of a program, when a DO ... DOEND phrase follows TEMPSTAT, status is restored when the DOEND, BREAK, or GOTO is encountered.</p>
<p class="subhead2"><a id="OLADM2449"></a>Alternatives to GOTO Statement</p>
<p>While GOTO makes it easy to branch within a program, frequent use of it can obscure the logic of your program, making it difficult to follow its flow, particularly when you have a complex program with several labels and GOTO statements that skip over large portions of code.</p>
<p>To keep the logic of your programs clear, minimize your use of GOTO.</p>
<p>Sometimes a GOTO statement is the best programming technique, but often there are better alternatives. For example:</p>
<ul>
<li>
<p>Instead of using GOTO statements in a FOR statement, you can often place your alternative sets of statements between DO ... DOEND statements within an IF...THEN...ELSE command itself.</p>
</li>
<li>
<p>When each set of statements is long or you want to use them in multiple places in your program, then you might consider placing them in subprograms. Then, you can use an IF...THEN...ELSE command to choose between two different programs, or use a SWITCH command to choose among many different programs.</p>
</li>
</ul>
<p><a href="#CHDIHIFI">Example 9-137, &#34;Using a FOR Statement for Looping Over Values&#34;</a> illustrates how the FOR command loops over values. <a href="#CHDEHBCB">Example 9-138, &#34;Using DO/DOEND in a FOR Loop&#34;</a> illustrates using DO ... DOEND within a FOR loop.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4375"></a>Examples</p>
<div id="OLADM2450" class="example">
<p class="titleinexample"><a id="sthref4376"></a>Example 9-144 Using GOTO with IF</p>
<p>This example shows a program that produces a report for one of three areas, depending on what argument the user supplies when running the program. When the user specifies <code dir="ltr">EAST</code>, <code dir="ltr">WEST</code>, or <code dir="ltr">CENTRAL</code>, execution branches to a corresponding label, and the statements following it (statement group 1, 2, or 3) are executed. When the user specifies anything else, execution branches to the <code dir="ltr">argerror</code> label, after which statements handle the error.</p>
<pre dir="ltr">DEFINE flexrpt PROGRAM
PROGRAM
IF NOT INLIST(&#39;East\nWest\nCentral&#39;, UPCASE(ARG(1)))
   THEN GOTO argerror
 
SWITCH &amp;UPCASE(ARG(1))
DO
CASE &#39;EAST&#39;:
   ...&#34; (statement group 1)
   BREAK
CASE &#39;WEST&#39;:
   ... &#34;(statement group 2)
   BREAK
CASE &#39;CENTRAL&#39;:
   ...&#34; (statement group 3)
   BREAK
DOEND
 
argerror:
   ...&#34; statements to handle error)
   
END
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78871"></a>
<div id="OLADM826" class="refsect1">
<h2 class="refsect1">GROUPINGID command</h2>
<p><a id="sthref4377"></a>The GROUPINGID command populates a previously-defined object with the grouping ids for the values of a hierarchical dimension, and creates and populates the <a href="dml_properties.htm#BABHCGIF">$GID_DEPTH</a> system property.</p>
<p>A grouping id is a numeric value that corresponds to a level of a hierarchical dimension. The grouping id for the lowest-level of the hierarchy is <code dir="ltr">0</code> (zero). Grouping ids are especially useful for identifying values of different levels of a hierarchical dimension. Dimension values in the same level of the hierarchy have the same value for their grouping id. Selecting dimension values for a specific level is easier with grouping ids because the desired values can be identified with a single condition of <span class="italic">groupingid</span> = <span class="italic">n</span>.</p>
<p>Typically, you use a GROUPINGID statement when you are planning on accessing analytic workspace data in SQL using the <code dir="ltr">OLAP_TABLE</code> function.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABCGJHG">&#34;Gidrel Relation&#34;</a> for more information and the <a class="olink SQLRF00648" href="../SQLRF/functions081.htm#SQLRF00648">GROUPING_ID</a> function in <span class="italic">Oracle Database SQL Language Reference</span> for more information on grouping ids</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4378"></a>Syntax</p>
<p class="synopsis">GROUPINGID [<span class="italic">parent-relation</span>] INTO <span class="italic">destination-object</span> -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;{USING <span class="italic">level-relation</span>} [INHIERARCHY {<span class="italic">inh-variable</span> | <span class="italic">inh-valueset</span>}] [LEVELORDER <span class="italic">lo-valueset</span>] -</p>
<p class="synopsis">[ROLLUP | GROUPSET]</p>
<p>where <span class="syntaxinlineitalic">destination-object</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinlineitalic">grouping-relation</span></dd>
<dd><span class="syntaxinlineitalic">grouping-variable</span></dd>
<dd><span class="syntaxinlineitalic">grouping-surrogate</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4379"></a>Parameters</p>
<dl>
<dt><span class="italic">parent-relation</span></dt>
<dd>
<p>A self-relation for a hierarchical dimension. This self-relation is dimensioned by a hierarchical dimension. The values of the self-relation are the parents of each value in the hierarchical dimension. The <span class="italic">parent-relation</span> argument is optional <span class="italic">only</span> when you use the GROUPINGID command to populate a surrogate and the GROUPINGID command includes a LEVELORDER clause.</p>
</dd>
<dt><span class="italic">grouping-relation</span></dt>
<dd>
<p>The name of a previously-defined relation. One dimension of <span class="italic">grouping-relation</span> must be the hierarchical dimension. The values of grouping-relation are calculated and populated when the GROUPINGID command executes. When you specify a relation as the destination object, Oracle OLAP automatically creates and sets the <a href="dml_properties.htm#BABHCGIF">$GID_DEPTH</a> property on the relation when it populates it.</p>
</dd>
<dt><span class="bolditalic">grouping-variable</span></dt>
<dd>
<p>The name of a previously-defined numeric variable. One dimension of <span class="italic">grouping-variable</span> must be the hierarchical dimension. The data type of <span class="italic">grouping-variable</span> can be any numeric type including <code dir="ltr">NUMBER</code>. The values of grouping-variable are calculated and populated when the GROUPINGID command executes.See the <a href="#i78533">DEFINE VARIABLE</a> command for information on defining variables.</p>
</dd>
<dt><span class="italic">grouping-surrogate</span></dt>
<dd>
<p>The name of a previously-defined surrogate for the hierarchical dimension. The values of grouping-surrogate are calculated and populated when the GROUPINGID command executes. See the <a href="#i78523">DEFINE SURROGATE</a> command for information on defining surrogates.</p>
</dd>
<dt>USING</dt>
<dd>
<p>Specifies that the level of the values of the hierarchical dimension are to be considered when creating grouping ids.</p>
</dd>
<dt><span class="italic">level-relation</span></dt>
<dd>
<p>A relation that is dimensioned by the hierarchical dimension. For each value of the hierarchical dimension, the relation has its value the name of the level for the dimension&#39;s value.</p>
</dd>
<dt>INHIERARCHY</dt>
<dd>
<p>Specifies that only some values of the hierarchical dimension are to be considered when creating grouping ids.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot specify an INHIERARCHY clause when you specify ROLLUP or GROUPSET.</div>
</dd>
<dt><span class="italic">inh-variable</span></dt>
<dd>
<p>A BOOLEAN variable that is dimensioned by the hierarchical dimension and, when the hierarchical dimension is a multi-hierarchical dimension, by a dimension that is the names of the hierarchies. The values of the variable are <code dir="ltr">TRUE</code> when the dimension value is in a hierarchy and <code dir="ltr">FALSE</code> when it is not.</p>
</dd>
<dt><span class="italic">inh-valueset</span></dt>
<dd>
<p>The name of a valueset object whose values identify the hierarchical dimension values to be considered when creating grouping ids. Values not included in the valueset are ignored.</p>
</dd>
<dt>LEVELORDER</dt>
<dd>
<p>Specifies the top-down order of the levels when creating grouping ids.</p>
</dd>
<dt><span class="italic">lo-valueset</span></dt>
<dd>
<p>The name of a valueset object whose values are the names of the levels to be used when creating grouping ids. The order of the values in the valueset object determine the grouping id assigned.</p>
</dd>
<dt>ROLLUP</dt>
<dd>
<p>Specifies that Oracle OLAP creates the grouping ids in the same manner as SQL does when you specify ROLLUP in a SQL <code dir="ltr">SELECT</code> statement.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SQLRF55250" href="../SQLRF/statements_10002.htm#SQLRF55250">Rollup cube clause</a> in <span class="italic">Oracle Database SQL Language Reference</span></div>
<p>The ROLLUP keyword is valid only when the destination object is a relation. When you specify this keyword, <a href="dml_properties.htm#BABBJJGG">$GID_TYPE</a> and <a href="dml_properties.htm#BABEEJEA">$GID_LIST</a> properties.</p>
</dd>
<dt>GROUPSET</dt>
<dd>
<p>Specifies that Oracle OLAP creates the grouping ids in the same manner as SQL does when you specify GROUPING SET in a SQL <code dir="ltr">SELECT</code> statement.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SQLRF55251" href="../SQLRF/statements_10002.htm#SQLRF55251">Grouping sets clause</a> in <span class="italic">Oracle Database SQL Language Reference</span> for more information</div>
<p>The GROUPSET keyword is valid only when the destination object is a relation. When you specify this keyword, Oracle OLAP also creates and populates two properties on the grouping id relation: the <a href="dml_properties.htm#BABBJJGG">$GID_TYPE</a> and <a href="dml_properties.htm#BABEEJEA">$GID_LIST</a> properties.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4380"></a>Examples</p>
<div id="OLADM2451" class="example">
<p class="titleinexample"><a id="BGEHCIHC"></a>Example 9-145 Using GROUPINGID Command to Populate a Relation with Grouping Ids</p>
<p>Assume your analytic workspace contains the following objects.</p>
<pre dir="ltr">DEFINE GEOG DIMENSION TEXT
LD A dimension with two hierarchies for geography
 
DEFINE geog_hierlist DIMENSION TEXT
LD List of Hierarchies for geog dimension
 
DEFINE GEOG_INHIER VALUESET GEOG &lt;GEOG_HIERLIST&gt;
LD A valueset of geog that are just the values in each hierarchy
 
DEFINE GEOG_PARENTREL RELATION GEOG &lt;GEOG GEOG_HIERLIST&gt;
LD Self-relation for geog showing parents of each value
 
DEFINE GEOG_INHIER VALUESET GEOG &lt;GEOG_HIERLIST&gt;
LD A valueset of geog that are just the values in each hierarchy
 
DEFINE GEOG_LEVELREL RELATION GEOG_LEVELLIST &lt;GEOG GEOG_HIERLIST&gt;
LD Level of each dimension member for geog
</pre>
<p>Assume that those objects have the values shown in the following reports.</p>
<pre dir="ltr">REPORT geog_hierlist
 
GEOG_HIERLIST
--------------
Political_Geog
Sales_Geog
 
REPORT DOWN geog W 20 geog_parentrel
 
               -------------GEOG_PARENTREL--------------
               --------------GEOG_HIERLIST--------------
GEOG              Political_Geog         Sales_Geog
-------------- -------------------- --------------------
Boston         MA                   MA
Springfield    MA                   MA
Hartford       CT                   CT
Mansfield      CT                   CT
Montreal       Quebec               Quebec
Walla Walla    WA                   WA
Portland       WA                   WA
Oakland        CA                   CA
San Diego      CA                   CA
MA             USA                  East
CT             USA                  East
WA             USA                  West
CA             USA                  West
Quebec         Canada               East
East           NA                   All Regions
West           NA                   All Regions
All Regions    NA                   NA
USA            All Countries        NA
Canada         All Countries        NA
All Countries  NA                   NA
 
-&gt;REPORT W 20 geog_inhier
 
GEOG_HIERLIST      GEOG_INHIER
-------------- --------------------
Political_Geog Boston
               Springfield
               Hartford
               Mansfield
               Montreal
               Walla Walla
               Portland
               Oakland
               San Diego
               MA
               CT
               WA
               CA
               Quebec
               USA
               Canada
               All Countries
Sales_Geog     Boston
               Springfield
               Hartford
               Mansfield
               Montreal
               Walla Walla
               Portland
               Oakland
               San Diego
               MA
               CT
               WA
               CA
               Quebec
               East
               West
               All Regions
 
-&gt;REPORT DOWN geog W 20 geog_levelrel
 
               --------------GEOG_LEVELREL--------------
               --------------GEOG_HIERLIST--------------
GEOG              Political_Geog         Sales_Geog
-------------- -------------------- --------------------
Boston         City                 City
Springfield    City                 City
Hartford       City                 City
Mansfield      City                 City
Montreal       City                 City
Walla Walla    City                 City
Portland       City                 City
Oakland        City                 City
San Diego      City                 City
MA             State-Prov           State-Prov
CT             State-Prov           State-Prov
WA             State-Prov           State-Prov
CA             State-Prov           State-Prov
Quebec         State-Prov           State-Prov
East           NA                   Region
West           NA                   Region
All Regions    NA                   All Regions
USA            Country              NA
Canada         Country              NA
All Countries  All Countries        NA
 
</pre>
<p>To create grouping ids for the values of geog, you first define a GID dimension with the following definition and you populate it with more values than you expect to have for grouping ids.</p>
<pre dir="ltr">DEFINE GID_DIMENSION DIMENSION NUMBER (16,0)
</pre>
<p>Next you define a relation to hold the grouping ids.</p>
<pre dir="ltr">DEFINE GEOG_GIDREL RELATION GID_DIMENSION &lt;GEOG GEOG_HIERLIST&gt;
</pre>
<p>Now you execute the GROUPINGID command to populate the geog_gidrel relation.</p>
<pre dir="ltr">GROUPINGID geog_parentrel INTO geog_gidrel USING geog_levelrel -
       INHIERARCHY geog_inhier
</pre>
<p>A report of geog_gidrel shows that the relation is now populated.</p>
<pre dir="ltr">REPORT down geog w 20 geog_gidrel
 
               ---------------GEOG_GIDREL---------------
               --------------GEOG_HIERLIST--------------
GEOG              Political_Geog         Sales_Geog
-------------- -------------------- --------------------
Boston         0                    0
Springfield    0                    0
Hartford       0                    0
Mansfield      0                    0
Montreal       0                    0
Walla Walla    0                    0
Portland       0                    0
Oakland        0                    0
San Diego      0                    0
MA             1                    1
CT             1                    1
WA             1                    1
CA             1                    1
Quebec         1                    1
East           NA                   3
West           NA                   3
All Regions    NA                   7
USA            3                    NA
Canada         3                    NA
All Countries  7                    NA
 
</pre>
<p>When you execute a FULLDSC of geog_gidrel, you can see that the $GID_DEPTH property has been created and populated for <code dir="ltr">geog_gidrel</code>.</p>
<pre dir="ltr">DEFINE GEOG_GIDREL RELATION GID_DIMENSION &lt;GEOG GEOG_HIERLIST&gt;
PROPERTY &#39;$GID_DEPTH&#39; 4
</pre></div>
<!-- class="example" -->
<div id="OLADM2452" class="example">
<p class="titleinexample"><a id="BGEHBJBA"></a>Example 9-146 Using GROUPINGID to Populate a Variable with Grouping Ids</p>
<p>Assume that you have the following objects in your analytic workspace.</p>
<pre dir="ltr">DEFINE geography DIMENSION TEXT WIDTH 12
LD Geography Dimension Values
DEFINE geography.parent RELATION geography &lt;geography&gt;
LD Child-parent relation for geography
DEFINE geography.hierarchyid DIMENSION INTEGER
LD Dimension whose values are ids for hierarchies in geography
</pre>
<p>To create a grouping id variable for the <code dir="ltr">Standard</code> hierarchy of geography, define a child-parent relation of only those values that are in the hierarchy whose grouping ids you want to generate, and define a variable to hold the grouping ids. Examples of these definitions follow.</p>
<pre dir="ltr">DEFINE geog.gid INTEGER VARIABLE &lt;geography&gt;
DEFINE geography.newparent RELATION geography &lt;geography&gt;
</pre>
<p>Then populate these variables using statements similar to these.</p>
<pre dir="ltr">&#34; Populate the child-parent relation for hierarchy 1
geography.newparent = geography.parent(geography.hierarchyid 1)
&#34; Populate the grouping id variables
GROUPINGID geography.newparent INTO geog.gid
</pre>
<p>Reports for the new objects created by this code (<code dir="ltr">geography.newparen</code>t and <code dir="ltr">geog.gid</code>) follow.</p>
<pre dir="ltr">REPORT geography.newparent

GEOGRAPHY          GEOGRAPHY.NEWPARENT
---------------- ----------------
World            NA
Americas         World
Canada           Americas
Toronto          Canada
Montreal         Canada
Ottawa           Canada
Vancouver        Canada
Edmonton         Canada
Calgary          Canada
Usa              Americas
Boston           Usa
Losangeles       Usa
Dallas           Usa
Denver           Usa
Newyork          Usa
Chicago          Usa
Seattle          Usa
Mexico           Americas
...              ...
Japan            Asia
Tokyo            Japan
Osaka            Japan
Kyoto            Japan
China            Asia
Beijing          China
Shanghai         China
...              ...
India            Asia
Ireland          Europe
Taiwan           Asia
Thailand         Asia

REPORT geog.gid
GEOGRAPHY            GEOG.GID
---------------- ----------------
World                           7
Americas                        3
Canada                          1
Toronto                         0
Montreal                        0
Ottawa                          0
Vancouver                       0
Edmonton                        0
Calgary                         0
Usa                             1
Boston                          0
Losangeles                      0
Dallas                          0
Denver                          0
Newyork                         0
Chicago                         0
Seattle                         0
Mexico                          1
...                             ...
Japan                           1
Tokyo                           0
Osaka                           0
Kyoto                           0
China                           1
Beijing                         0
Shanghai                        0
...                             ...
India                           1
Ireland                         1
Taiwan                          1
Thailand                        1
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3608">
<tr>
<td class="cellalignment3617">
<table class="cellalignment3613">
<tr>
<td class="cellalignment3612"><a href="dml_functions_2.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3612"><a href="dml_commands_2.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3620">
<table class="cellalignment3611">
<tr>
<td class="cellalignment3612"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3612"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3612"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3612"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3612"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3612"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
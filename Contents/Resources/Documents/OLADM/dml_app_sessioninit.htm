<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-79273"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/OLAP_API_SESSION_INIT%20PL%2FSQL%20Package"></a><title>OLAP_API_SESSION_INIT PL/SQL Package</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1079"/>
<meta name="dcterms.created" content="2016-04-19T12:44:12Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="OLAP DML Reference"/>
<meta name="dcterms.identifier" content="E17673-12"/>
<meta name="dcterms.isVersionOf" content="OLADM"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="dml_app_dbms_aw.htm" title="Previous" type="text/html"/>
<link rel="Next" href="dml_prev_chngs.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17673-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">17/19</span> <!-- End Header -->
<div id="OLADM997" class="appendix"><a id="i77633"></a>
<h1 class="appendix"><span class="secnum">C</span> OLAP_API_SESSION_INIT PL/SQL Package</h1>
<p><a id="sthref5685"></a><a id="sthref5686"></a><a id="sthref5687"></a><a id="sthref5688"></a>The <code dir="ltr"><a id="ABC996828"></a>OLAP_API_SESSION_INIT</code> PL/SQL package provides procedures for maintaining a table of initialization parameters for the OLAP API.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#i77705">Initialization Parameters for the OLAP API</a></p>
</li>
<li>
<p><a href="#CHDBDBJI">Viewing the Configuration Table</a></p>
</li>
<li>
<p><a href="#g997866">Summary of OLAP_API_SESSION_INIT Subprograms</a></p>
</li>
</ul>
<a id="i77705"></a>
<div id="OLADM998" class="sect1">
<h2 class="sect1">Initialization Parameters for the OLAP API</h2>
<p><a id="sthref5689"></a><a id="sthref5690"></a><a id="sthref5691"></a>The <code dir="ltr">OLAP_API_SESSION_INIT</code> package contains procedures for maintaining a configuration table of initialization parameters. When the OLAP API opens a session, it executes the <code dir="ltr">ALTER SESSION</code> commands listed in the table for any user who has the specified roles. Only the OLAP API uses this table; no other type of application executes the commands stored in it.</p>
<p>This functionality provides an alternative to setting these parameters in the database initialization file or the <code dir="ltr"><a id="sthref5692"></a>init.ora</code> file, which would alter the environment for all users.</p>
<p>During installation, the table is populated with <code dir="ltr"><a id="sthref5693"></a>ALTER SESSION</code> commands that have been shown to enhance the performance of the OLAP API. Unless new settings prove to be more beneficial, you do not have to make changes to the table.</p>
<p>The information in the table can be queried through the <code dir="ltr">ALL_OLAP_ALTER_SESSION</code> view alias, which is also described in this chapter.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This package is owned by the <code dir="ltr">SYS</code> user. You must explicitly be granted execution rights before you can use it.</div>
</div>
<!-- class="sect1" -->
<a id="CHDBDBJI"></a>
<div id="OLADM999" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Viewing the Configuration Table</h2>
<p><code dir="ltr">ALL_OLAP_ALTER_SESSION</code> is the public synonym for <code dir="ltr">V$OLAP_ALTER_SESSION</code>, which is a view for the <code dir="ltr">OLAP$ALTER_SESSION</code> table. The view and table are owned by the <code dir="ltr">SYS</code> user.</p>
<div id="OLADM1000" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref5694"></a>
<h3 class="sect2">ALL_OLAP_ALTER_SESSION View</h3>
<p>Each row of <code dir="ltr">ALL_OLAP_ALTER_SESSION</code> identifies a role and a session initialization parameter. When a user opens a session using the OLAP API, the session is initialized using the parameters for roles granted to that user.</p>
<div id="OLADM3014" class="tblformalwide">
<p class="titleintable"><a id="sthref5695"></a><a id="sthref5696"></a>Table C-1 ALL_OLAP_ALTER_SESSION Column Descriptions</p>
<table class="cellalignment3615" title="ALL_OLAP_ALTER_SESSION Column Descriptions" summary="ALL_OLAP_ALTER_SESSION view" dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t3">Column</th>
<th class="cellalignment3616" id="r1c2-t3">Datatype</th>
<th class="cellalignment3616" id="r1c3-t3">NULL</th>
<th class="cellalignment3616" id="r1c4-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t3" headers="r1c1-t3">
<p><code dir="ltr">ROLE</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t3 r1c2-t3">
<p><code dir="ltr">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t3 r1c3-t3">
<p><code dir="ltr">NOT NULL</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t3 r1c4-t3">
<p>A database role</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t3" headers="r1c1-t3">
<p><code dir="ltr">CLAUSE_TEXT</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t3 r1c2-t3">
<p><code dir="ltr">VARCHAR2(3000)</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t3 r1c3-t3">&nbsp;</td>
<td class="cellalignment3617" headers="r3c1-t3 r1c4-t3">
<p>An <code dir="ltr">ALTER SESSION</code> command</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<div class="refentry"><a id="g997866"></a>
<div id="OLADM1001" class="refsect1">
<h2 class="refsect1">Summary of OLAP_API_SESSION_INIT Subprograms</h2>
<p>The following table describes the subprograms provided in <code dir="ltr">OLAP_API_SESSION_INIT</code>.</p>
<div id="OLADM3015" class="tblformal">
<p class="titleintable"><a id="sthref5697"></a><a id="sthref5698"></a>Table C-2 OLAP_API_SESSION_INIT Subprograms</p>
<table class="cellalignment3618" title="OLAP_API_SESSION_INIT Subprograms" summary="List of procedures in the OLAP_API_SESSION_INIT package" dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t4">Subprogram</th>
<th class="cellalignment3616" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t4" headers="r1c1-t4">
<p><a href="#i77989">ADD_ALTER_SESSION Procedure</a></p>
</td>
<td class="cellalignment3617" headers="r2c1-t4 r1c2-t4">
<p>Specifies an <code dir="ltr">ALTER SESSION</code> parameter for OLAP API users with a particular database role.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t4" headers="r1c1-t4">
<p><a href="#i76981">CLEAN_ALTER_SESSION Procedure</a></p>
</td>
<td class="cellalignment3617" headers="r3c1-t4 r1c2-t4">
<p>Removes orphaned data, that is, any <code dir="ltr">ALTER SESSION</code> parameters for roles that are no longer defined in the database.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t4" headers="r1c1-t4">
<p><a href="#i77320">DELETE_ALTER_SESSION Procedure</a></p>
</td>
<td class="cellalignment3617" headers="r4c1-t4 r1c2-t4">
<p>Removes a previously defined <code dir="ltr">ALTER SESSION</code> parameter for OLAP API users with a particular database role.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="OLADM1002" class="refsect2"><a id="i77989"></a>
<h3 class="refsect2">ADD_ALTER_SESSION Procedure</h3>
<p><a id="sthref5699"></a><a id="sthref5700"></a>This procedure specifies an <code dir="ltr">ALTER SESSION</code> parameter for OLAP API users with a particular database role. It adds a row to the <code dir="ltr">OLAP$ALTER_SESSION</code> table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5701"></a>Syntax</p>
<pre dir="ltr">ADD_ALTER_SESSION (
     role_name           IN     VARCHAR2,
     session_parameter   IN     VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5702"></a>Parameters</p>
<p>The <code dir="ltr">role_name</code> and <code dir="ltr">session_parameter</code> are added as a row in <code dir="ltr">OLAP$ALTER_SESSION</code>.</p>
<div id="OLADM3016" class="tblformal">
<p class="titleintable"><a id="sthref5703"></a><a id="sthref5704"></a>Table C-3 ADD_ALTER_SESSION Procedure Parameters</p>
<table class="cellalignment3618" title="ADD_ALTER_SESSION Procedure Parameters" summary="Parameters of the ADD_ALTER_SESSION procedure in the DBMS_ODM package" dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t5">Parameter</th>
<th class="cellalignment3616" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">role_name</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t5 r1c2-t5">
<p>The name of a valid role in the database. Required.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">session_parameter</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t5 r1c2-t5">
<p>A parameter that can be set with a SQL <code dir="ltr">ALTER SESSION</code> command. Required.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5705"></a>Example</p>
<p>The following example inserts a row in <code dir="ltr">OLAP$ALTER_SESSION</code> that turns on query rewrite for users with the <code dir="ltr">OLAP_DBA</code> role.</p>
<pre dir="ltr"><span class="bold">EXECUTE olap_api_session_init.add_alter_session(&#39;OLAP_DBA&#39;,</span> 
     <span class="bold">&#39;SET QUERY_REWRITE_ENABLED=TRUE&#39;);</span>
Row inserted
 
<span class="bold">SELECT * FROM all_olap_alter_session WHERE role=&#39;OLAP_DBA&#39;;</span>
 
ROLE         CLAUSE_TEXT
------------ ------------------------------------------------------------
OLAP_DBA     ALTER SESSION SET QUERY_REWRITE_ENABLED=TRUE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM1003" class="refsect2"><a id="i76981"></a>
<h3 class="refsect2">CLEAN_ALTER_SESSION Procedure</h3>
<p><a id="sthref5706"></a><a id="sthref5707"></a>This procedure removes all <code dir="ltr">ALTER SESSION</code> parameters for any role that is not currently defined in the database. It removes all orphaned rows in the <code dir="ltr">OLAP$ALTER_SESSION</code> table for those roles.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5708"></a>Syntax</p>
<pre dir="ltr">CLEAN_ALTER_SESSION ();
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5709"></a>Example</p>
<p>The following example deletes all orphaned rows.</p>
<pre dir="ltr">EXECUTE olap_api_session_init.clean_alter_session();
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM1004" class="refsect2"><a id="i77320"></a>
<h3 class="refsect2">DELETE_ALTER_SESSION Procedure</h3>
<p><a id="sthref5710"></a><a id="sthref5711"></a>This procedure removes a previously defined <code dir="ltr">ALTER SESSION</code> parameter for OLAP API users with a particular database role. It deletes a row from the <code dir="ltr">OLAP$ALTER_SESSION</code> table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5712"></a>Syntax</p>
<pre dir="ltr">DELETE_ALTER_SESSION (
     role_name           IN     VARCHAR2,
     session_parameter   IN     VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5713"></a>Parameters</p>
<p>The <code dir="ltr">role_name</code> and <code dir="ltr">session_parameter</code> together uniquely identify a row in <code dir="ltr">OLAP$ALTER_SESSION</code>.</p>
<div id="OLADM3017" class="tblformal">
<p class="titleintable"><a id="sthref5714"></a><a id="sthref5715"></a>Table C-4 DELETE_ALTER_SESSION Procedure Parameters</p>
<table class="cellalignment3618" title="DELETE_ALTER_SESSION Procedure Parameters" summary="Parameters of the DELETE_ALTER_SESSION procedure in the DBMS_ODM package" dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t6">Parameter</th>
<th class="cellalignment3616" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t6" headers="r1c1-t6">
<p>role_name</p>
</td>
<td class="cellalignment3617" headers="r2c1-t6 r1c2-t6">
<p>The name of a valid role in the database. Required.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t6" headers="r1c1-t6">
<p>session_parameter</p>
</td>
<td class="cellalignment3617" headers="r3c1-t6 r1c2-t6">
<p>A parameter that can be set with a SQL <code dir="ltr">ALTER SESSION</code> command. Required.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5716"></a>Examples</p>
<p>The following call deletes a row in <code dir="ltr">OLAP$ALTER_SESSION</code> that contains a value of <code dir="ltr">OLAP_DBA</code> in the <a id="sthref5717"></a>first column and <code dir="ltr">QUERY_REWRITE_ENABLED=TRUE</code> in the second column.</p>
<pre dir="ltr"><span class="bold">EXECUTE olap_api_session_init.delete_alter_session(&#39;OLAP_DBA&#39;, </span>
     <span class="bold">&#39;SET QUERY_REWRITE_ENABLED=TRUE&#39;);</span>
 
<span class="bold">SELECT * FROM all_olap_alter_session WHERE role=&#39;OLAP_DBA&#39;;</span>
 
no rows selected
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3608">
<tr>
<td class="cellalignment3617">
<table class="cellalignment3613">
<tr>
<td class="cellalignment3612"><a href="dml_app_dbms_aw.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3612"><a href="dml_prev_chngs.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3620">
<table class="cellalignment3611">
<tr>
<td class="cellalignment3612"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3612"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3612"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3612"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3612"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3612"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
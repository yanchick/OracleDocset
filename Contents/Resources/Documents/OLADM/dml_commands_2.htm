<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-79277"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/OLAP%20DML%20Commands%3A%20H-Z"></a><title>OLAP DML Commands: H-Z</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1079"/>
<meta name="dcterms.created" content="2016-04-19T12:43:58Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="OLAP DML Reference"/>
<meta name="dcterms.identifier" content="E17673-12"/>
<meta name="dcterms.isVersionOf" content="OLADM"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="dml_commands_1.htm" title="Previous" type="text/html"/>
<link rel="Next" href="dml_app_sqlfunc.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17673-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">14/19</span> <!-- End Header -->
<div id="OLADM827" class="chapter"><a id="CCHCECAG"></a>
<h1 class="chapter"><span class="secnum">10</span> OLAP DML Commands: H-Z</h1>
<p>This chapter provides reference topics for the second set (in alphabetical order) of the OLAP DML commands. There is one topic for each of the OLAP DML commands that begins with the letters H-Z, beginning with <a href="#i78881">HEADING</a>.</p>
<p>Alphabetical and categorical listings of the OLAP DML commands and reference topics for the remaining OLAP DML commands appear in <a href="dml_commands_1.htm#BGEEAEAB">Chapter 9, &#34;OLAP DML Commands: A-G&#34;</a>.</p>
<p>For other OLAP DML reference topics, see <a href="dml_properties.htm#BABIGDDG">Chapter 4, &#34;OLAP DML Properties&#34;</a>, <a href="dml_options.htm#CHDFCICB">Chapter 5, &#34;OLAP DML Options&#34;</a>, <a href="dml_functions_1.htm#CJAGEFHJ">Chapter 7, &#34;OLAP DML Functions: A - K&#34;</a>, and <a href="dml_functions_2.htm#CHDBBGJA">Chapter 8, &#34;OLAP DML Functions: L - Z&#34;</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Many OLAP DML statements can be coded as a 3-character abbreviation that consists of the first letter of the statement plus the next two consonants.</div>
<div class="refentry"><a id="i78881"></a>
<div id="OLADM828" class="refsect1">
<h2 class="refsect1">HEADING</h2>
<p><a id="ABC1016480"></a>The HEADING command <a id="sthref4381"></a><a id="sthref4382"></a><a id="sthref4383"></a><a id="sthref4384"></a>produces titles and column headings for a report. The heading output is sent to the current outfile. The form of the HEADING command is the same as that of the ROW command. When you use HEADING, however, Oracle OLAP does not add any numeric values from the heading to column subtotals or grand totals.</p>
<p>Frequently, HEADING statements are used in a PAGEPRG program to produce titles or column headings on each page of a report.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
When you know ahead of time that you do not need the subtotaling capability of the ROW command, use the HEADING command instead of ROW to produce the lines of your report can provide a time savings, because, in this case, Oracle OLAP does not keep track of subtotals.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4385"></a>Syntax</p>
<p class="synopsis">HEADING&nbsp;[<span class="italic">attribs</span>]&nbsp;{<span class="italic">expression1</span>|SKIP},&nbsp;[<span class="italic">attribs</span>]&nbsp;{<span class="italic">expressionN</span>|SKIP}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4386"></a>Parameters</p>
<dl>
<dt><span class="italic">attribs</span></dt>
<dd>
<p>The attributes that specify the format for each column. (See the <a href="#i79216">ROW command</a> for a list and detailed explanation of the available attributes.)</p>
</dd>
<dt><span class="italic">expression</span></dt>
<dd>
<p>The text to be used as a column heading. To use literal text for a column heading, enclose the text in single quotes. (See the <a href="#i79216">ROW command</a> for more information on using expressions, attributes, and ACROSS groups to produce columns.)</p>
</dd>
<dt>SKIP</dt>
<dd>
<p>Used instead of an expression to indicate that the column is to be left blank.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4387"></a>Usage Notes</p>
<p>The notes for the ROW command also apply to the HEADING command (except for the note on row and column arithmetic in ROW).</p>
<p class="subhead2"><a id="OLADM2453"></a>Creating Titles Using Heading</p>
<p>To create a title or subtitle in a report, use HEADING to produce a single &#34;column&#34; with a width equal to the setting of the LSIZE option. You can then center your text within this &#34;column&#34; to produce a centered title.</p>
<p class="subhead2"><a id="OLADM2454"></a>Maximum Heading Width</p>
<p>The maximum width of any line in a report, including a heading line, is 4,000 characters.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4388"></a>Examples</p>
<div id="OLADM2455" class="example">
<p class="titleinexample"><a id="sthref4389"></a>Example 10-1 Producing Column Headings</p>
<p>In a report, you want to have headings for your columns. You can use a HEADING statement such as the following in your program.</p>
<pre dir="ltr">HEADING UNDER &#39;-&#39; CENTER &lt;WIDTH 15 &#39;Product&#39; -
   ACROSS district FIRST 3: district&gt;
</pre>
<p>This statement produces the following result.<a id="sthref4390"></a></p>
<pre dir="ltr">    Product      Atlanta     Boston    Chicago
--------------- ---------- ---------- ----------
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78886"></a>
<div id="OLADM829" class="refsect1">
<h2 class="refsect1">HIDE</h2>
<p><a id="sthref4391"></a><a id="sthref4392"></a>The HIDE command hides the text of a program, so that you cannot display it using a DESCRIBE, EDIT, or OBJ statement. You can perform all other actions on the program, including executing, compiling, renaming, or exporting.</p>
<p>When you hide a program, you supply a seed expression, which Oracle OLAP uses to encode the program text. You can use this seed expression later using an <a href="#BABEJDHB">UNHIDE</a> statement to make the text visible.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This command performs simple encoding. For information on using secure encryption and other security features in Oracle, see <a class="olink DBSEG" href="../DBSEG/toc.htm"><span class="italic">Oracle Database Security Guide</span></a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4393"></a>Syntax</p>
<p class="synopsis">HIDE&nbsp;<span class="italic">prog-name&nbsp;seed-exp</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4394"></a>Parameters</p>
<dl>
<dt><span class="italic">prog-name</span></dt>
<dd>
<p>The name of the program whose text you want to hide. Do not enclose the program name in quotes.</p>
</dd>
<dt><span class="italic">seed-exp</span></dt>
<dd>
<p>A single-line text expression to be used as a seed value when encoding of the program text. Do not specify <code dir="ltr">NA</code> for this value.</p>
<p>Keep a record of this seed expression, so that you can use it later with an UNHIDE statement. The seed expression you specify in the UNHIDE statement must be byte-for-byte the same value as you used in this HIDE statement. Also, the seed expression is case-sensitive, so record uppercase and lowercase characters carefully.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4395"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2456"></a>Exporting and Importing with the Seed</p>
<p>When you export and import a hidden program, the text remains hidden in the analytic workspace in which it is imported. It retains the same seed expression for use with the UNHIDE command.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4396"></a>Examples</p>
<div id="OLADM2457" class="example">
<p class="titleinexample"><a id="sthref4397"></a>Example 10-2 Hiding Program Text</p>
<p>The following example hides the text of a program called <code dir="ltr">sales_rpt</code>.</p>
<pre dir="ltr">HIDE sales_rpt &#39;Crystal&#39; 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CCHJEBGF"></a>
<div id="OLADM830" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">HIERDEPTH</h2>
<p>For each hierarchy of relation, the HIERDEPTH command calculates the depth of that hierarchy from the top of all of the hierarchies and stores that value in a previously-defined relation sometimes called the depth relation.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4398"></a>Syntax</p>
<p class="synopsis">HIERDEPTH <span class="italic">parent-rel</span> [(<span class="italic">qdr-list</span>)] INTO <span class="italic">depth-rel</span> [INHIERARCHY i<span class="italic">nh-valueset</span> ]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4399"></a>Parameters</p>
<dl>
<dt><span class="italic">parent-rel</span></dt>
<dd>
<p>A child-parent self-relation for the hierarchical dimension. See <a href="dml_basics.htm#BABGGIEH">&#34;Parentrel Relation&#34;</a> for more information.</p>
</dd>
<dt><span class="italic">qdr-list</span></dt>
<dd>
<p>A list of QDRs that limits the values of <span class="italic">parentrel</span>. Specify the QDRs as described in <a href="dml_expression.htm#i1014895">&#34;Syntax of a Qualified Data Reference&#34;</a>. When you do not specify a value for <span class="italic">qdrlist</span>, HIERHEIGHT uses the values of <span class="italic">parentrel</span> that are in current status.</p>
</dd>
<dt><span class="italic">depth-rel</span></dt>
<dd>
<p>A previously -defined relation that the HIERDEPTH command populates when it executes. This relation can have multiple dimensions; however, it must be dimensioned by the dimensions of <span class="italic">parentrel</span> and one other <code dir="ltr">NUMBER</code> dimension that represents the depth of the hierarchical dimension.</p>
<p>For example, assuming that <span class="italic">parent-rel</span> has two dimensions, <span class="italic">dim1</span> and <span class="italic">dim2</span>, the following lines of code define a <code dir="ltr">NUMBER</code> dimension named <span class="italic">numdim</span> with 3 values and, then, define a depth relation named <span class="italic">depthrel</span> which is dimensioned by <span class="italic">dim1</span> and <span class="italic">dim2</span> that has as its values the values of <span class="italic">numdim</span>.</p>
<pre dir="ltr">DEFINE numdim dimension NUMBER(3)
DEFINE depthrel RELATION numdim &lt;dim1 dim2&gt;
</pre></dd>
<dt><span class="italic">inh-valueset</span></dt>
<dd>
<p>The name of a valueset object whose values are the hierarchical dimension values to be considered when creating grouping ids. Values not included in the valueset are ignored. See <a href="dml_basics.htm#BABIJDJF">&#34;Inhier Valueset or Variable&#34;</a> for more information.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4400"></a>Examples</p>
<div id="OLADM2458" class="example">
<p class="titleinexample"><a id="sthref4401"></a>Example 10-3 Creating and Populating a Depth Relation for Hierarchies</p>
<p>Assume that your analytic workspace contains the <code dir="ltr">geog</code>, <code dir="ltr">geog_hierlist</code>, and <code dir="ltr">geog_parentrel</code> objects described in <a href="dml_commands_1.htm#BGEHCIHC">Example 9-145, &#34;Using GROUPINGID Command to Populate a Relation with Grouping Ids&#34;</a>. You can create a depth relation for the hierarchies represented by these objects by issuing the following DML code.</p>
<pre dir="ltr">&#34;   Define the number dimension for the depthrel
DEFINE numdepth DIMENSION NUMBER (3)
&#34;   Define the depth relation
&#34;   Populate the depth relation
HIERDEPTH geog_parentrel INTO depthrel
REPORT DOWN geog depthrel
 
               ------------------DEPTHREL-------------------
               ----------------GEOG_HIERLIST----------------
GEOG               Political_Geog           Sales_Geog
-------------- ---------------------- ----------------------
Boston         3                      3
Springfield    3                      3
Hartford       3                      3
Mansfield      3                      3
Montreal       3                      3
Walla Walla    3                      3
Portland       3                      3
Oakland        3                      3
San Diego      3                      3
MA             2                      2
CT             2                      2
WA             2                      2
CA             2                      2
Quebec         2                      2
East           0                      1
West           0                      1
All Regions    0                      0
USA            1                      0
Canada         1                      0
All Countries  0                      0
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78896"></a>
<div id="OLADM831" class="refsect1">
<h2 class="refsect1">HIERHEIGHT command</h2>
<p><a id="sthref4402"></a>The HIERHEIGHT command populates a previously-defined relation with the values of a specified hierarchical dimension by level. Typically, you use the HIERHEIGHT command when you are preparing an analytic workspace for access using the <code dir="ltr">OLAP_TABLE</code> function.</p>
<p>To retrieve the value of a node (by level) for the value of a hierarchical dimension, use the <a href="dml_functions_1.htm#i1010661">HIERHEIGHT</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
See <a href="dml_basics.htm#BABECBEE">&#34;Familyrel Relation&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4403"></a>Syntax</p>
<p class="synopsis">HIERHEIGHT&nbsp;<span class="italic">parentrelation&nbsp;</span>[(<span class="italic">qdrlist</span>)]&nbsp;INTO{<span class="italic">familyrel</span>-</p>
<p class="synopsis">[USING&nbsp;<span class="italic">level-relation</span> | A&nbsp;|&nbsp;<span class="underline">D</span>] [INHIERARCHY { <span class="italic">inh-variable</span> | <span class="italic">inh-valueset</span>}]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4404"></a>Parameters</p>
<dl>
<dt><span class="italic">parentrel</span></dt>
<dd>
<p>A child-parent self-relation for the hierarchical dimension. See <a href="dml_basics.htm#BABGGIEH">&#34;Parentrel Relation&#34;</a> for more information.</p>
</dd>
<dt><span class="italic">qdrlist</span></dt>
<dd>
<p>A list of QDRs that limits the values of <span class="italic">parentrel</span>. Specify the QDRs as described in <a href="dml_expression.htm#i1014895">&#34;Syntax of a Qualified Data Reference&#34;</a>. When you do not specify a value for <span class="italic">qdrlist</span>, HIERHEIGHT uses the values of <span class="italic">parentrel</span> that are in current status.</p>
</dd>
<dt><span class="italic">familyrel</span></dt>
<dd>
<p>A previously -defined relation that the HIERHEIGHT command populates when it executes. This relation can have multiple dimensions; however, it must be dimensioned by the dimensions of <span class="italic">parentrel</span> and one other dimension that represents the levels of the hierarchical dimension. The actual construct of the dimension that represents the levels of the hierarchical dimension varies depending on whether or not the HIERHEIGHT statement includes the USING phrase:</p>
<ul>
<li>
<p>When the statement includes the USING phrase, the dimension that represents the levels of the hierarchical dimension is a dimension that contains the names of the levels.</p>
</li>
<li>
<p>When the statement does <span class="italic">not</span> include the USING phrase, the dimension that represents the levels of the hierarchical dimension is an INTEGER dimension that has as values the depth of the level.</p>
</li>
</ul>
<p>When <span class="italic">familyrel</span> is populated before a HIERHEIGHT statement executes, the HIERHEIGHT statement depopulates it before computing new values.</p>
</dd>
<dt>USING <span class="italic">levelrel</span></dt>
<dd>
<p>Specifies that the relation is populated using the specified <span class="italic">levelrel</span>. See <a href="dml_basics.htm#BABHJAGG">&#34;Levelrel Relation&#34;</a> for more information.</p>
</dd>
<dt>A</dt>
<dd>
<p>Specifies that the relation is populated in ascending order.</p>
</dd>
<dt>D</dt>
<dd>
<p>(Default) Specifies that the relation is populated in descending order.</p>
</dd>
<dt><span class="italic">inh-variable</span></dt>
<dd>
<p>A BOOLEAN variable that is dimensioned by the hierarchical dimension and, when the hierarchical dimension is a multi-hierarchical dimension, by a dimension that is the names of the hierarchies. The values of the variable are <code dir="ltr">TRUE</code> when the dimension value is in a hierarchy and <code dir="ltr">FALSE</code> when it is not.</p>
</dd>
<dt><span class="italic">inh-valueset</span></dt>
<dd>
<p>The name of a valueset object whose values are the hierarchical dimension values to be considered when creating grouping ids. Values not included in the valueset are ignored. See <a href="dml_basics.htm#BABIJDJF">&#34;Inhier Valueset or Variable&#34;</a> for more information.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4405"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2459"></a>HIERHEIGHT with the OLAP_TABLE Function</p>
<p>Typically, you use a HIERHEIGHT statement when you are preparing an analytic workspace for access using the <code dir="ltr">OLAP_TABLE</code> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4406"></a>Examples</p>
<div id="OLADM2460" class="example">
<p class="titleinexample"><a id="sthref4407"></a>Example 10-4 Creating a Relational Representation of a Geography Hierarchy</p>
<p>Assume that there is an analytic workspace named <code dir="ltr">myaw</code> that has a Geography hierarchy defined with analytic objects with the following definitions.</p>
<pre dir="ltr">DEFINE geog.hierdim DIMENSION TEXT
LD Hierarchy names for Geography hierarchies

DEFINE geog.leveldim DIMENSION TEXT
LD List of levels for GEOGRAPHY hierarchies

DEFINE geography DIMENSION TEXT WIDTH 12
LD Values for the Geography hierarchies

DEFINE geog.levelrel RELATION geog.leveldim &lt;geography geog.hierdim&gt;
LD Level of each value in the Geography hierarchies

DEFINE geog.parent RELATION geography &lt;geography geog.hierdim&gt;
LD Child-parent relation for the Geography hierarchies

DEFINE geog.familyrel RELATION geography &lt;geography geog.leveldim geog.hierdim&gt;
LD Geography values by level and hierarchy
</pre>
<p>These objects have the following structures.</p>
<pre dir="ltr">GEOGRAPHY
------------------
World
Americas
Canada
USA
Toronto
Montreal
Boston
LosAngeles

GEOG.HIERDIM
------------------
Standard
Consolidated

GEOG.LEVELDIM
------------------
World
Continent
Country
City
Consolidated
Continent
Consolidated
Country

                   ------------GEOG.LEVELREL------------
                   ------------GEOG.HIERDIM-------------
GEOGRAPHY               Standard         Consolidated
------------------ ------------------ ------------------
World              World              NA
Americas           Continent          Consolidated
                                      Continent
Canada             Country            Consolidated
                                      Country
USA                Country            Consolidated
                                      Country
Toronto            City               NA
Montreal           City               NA
Boston             City               NA
LosAngeles         City               NA

                   -------------GEOG.PARENT-------------
                   ------------GEOG.HIERDIM-------------
GEOGRAPHY               Standard         Consolidated
------------------ ------------------ ------------------
World              NA                 NA
Americas           World              NA
Canada             Americas           Americas
USA                Americas           Americas
Toronto            Canada             NA
Montreal           Canada             NA
Boston             USA                NA
LosAngeles         USA                NA
</pre>
<p>To create a family relation of the Geography hierarchy you define an analytic workspace object with the following definition.</p>
<pre dir="ltr">DEFINE geog.familyrel RELATION geography &lt;geography geog.leveldim geog.hierdim&gt;
LD Geography values by level and hierarchy
</pre>
<p>Then you use a HIERHEIGHT statement as illustrated in the following statement to populate the object.</p>
<pre dir="ltr">HIERHEIGHT geog.parent INTO geog.familyrel USING geog.levelrel
</pre>
<p>By issuing a REPORT statement, you can display the relational representations of both the <code dir="ltr">Standard</code> and <code dir="ltr">Consolidated</code> hierarchies of the <code dir="ltr">geography</code> dimension.</p>
<pre dir="ltr">REPORT DOWN geography geog.familyrel

GEOG.HIERDIM: Standard
             -------------------------------GEOG.FAMILYREL--------------------------------
             --------------------------------GEOG.LEVELDIM--------------------------------
                                                                 Consolidated Consolidated
GEOGRAPHY       World      Continent     Country        City      Continent     Country
------------ ------------ ------------ ------------ ------------ ------------ ------------
World        World        NA           NA           NA           NA           NA
Americas     World        Americas     NA           NA           NA           NA
Canada       World        Americas     Canada       NA           NA           NA
USA          World        Americas     USA          NA           NA           NA
Toronto      World        Americas     Canada       Toronto      NA           NA
Montreal     World        Americas     Canada       Montreal     NA           NA
Boston       World        Americas     USA          Boston       NA           NA
LosAngeles   World        Americas     USA          LosAngeles   NA           NA

GEOG.HIERDIM: Consolidated
             -------------------------------GEOG.FAMILYREL--------------------------------
             --------------------------------GEOG.LEVELDIM--------------------------------
                                                                 Consolidated Consolidated
GEOGRAPHY       World      Continent     Country        City      Continent     Country
------------ ------------ ------------ ------------ ------------ ------------ ------------
World        NA           NA           NA           NA           NA           NA
Americas     NA           NA           NA           NA           Americas     NA
Canada       NA           NA           NA           NA           Americas     Canada
USA          NA           NA           NA           NA           Americas     USA
Toronto      NA           NA           NA           NA           NA           NA
Montreal     NA           NA           NA           NA           NA           NA
Boston       NA           NA           NA           NA           NA           NA
LosAngeles   NA           NA           NA           NA           NA           NA
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78906"></a>
<div id="OLADM832" class="refsect1">
<h2 class="refsect1">IF...THEN...ELSE command</h2>
<p>Within an OLAP DML program, t<a id="sthref4408"></a><a id="sthref4409"></a><a id="sthref4410"></a>he IF...THEN...ELSE command executes one or more statements in a program when a specified condition is met. Optionally, it also executes an alternative statement or group of statements when the condition is not met.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also use IF as a conditional operator in an expression. See <a href="dml_expression.htm#BABGJIIJ">&#34;IF...THEN...ELSE expression&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4411"></a>Syntax</p>
<p class="synopsis">IF&nbsp;<span class="italic">boolean-expression</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;THEN&nbsp;<span class="italic">statement1</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;[ELSE&nbsp;<span class="italic">statement2</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4412"></a>Parameters</p>
<dl>
<dt><span class="italic">boolean-expression</span></dt>
<dd>
<p>Any valid Boolean expression that returns either <code dir="ltr">TRUE</code> or <code dir="ltr">FALSE</code>.</p>
</dd>
<dt>THEN <span class="italic">statement1</span></dt>
<dd>
<p>Oracle OLAP executes the <span class="italic">statement1</span> argument when the Boolean expression is <code dir="ltr">TRUE</code>. The <span class="italic">statement1</span> must be on the same line as THEN.</p>
</dd>
<dt>ELSE <span class="italic">statement2</span></dt>
<dd>
<p>Oracle OLAP executes the <span class="italic">statement2</span> argument when the Boolean expression is <code dir="ltr">FALSE</code>. The <span class="italic">statement2</span> must be on the same line as ELSE. When you omit the ELSE&nbsp;phrase, execution continues with the statement after the whole IF...THEN... statement in the program.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4413"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2461"></a>IF with DO</p>
<p>You can use an IF statement for conditional execution of two or more statements by following the THEN or ELSE (or both) keywords with a DO ... DOEND sequence. See <a href="#i79468">Example 10-5, &#34;Using IF...THEN...ELSE&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2462"></a>Single or Multiple Lines</p>
<p>When IF is used as an expression, the THEN and ELSE keywords must be on the same line as IF. When IF is used as a command, THEN and ELSE must be on separate lines.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4414"></a>Examples</p>
<div id="OLADM2463" class="example">
<p class="titleinexample"><a id="i79468"></a>Example 10-5 Using IF...THEN...ELSE</p>
<p>The following lines from a program illustrate the use of IF...THEN...ELSE.... When the Boolean expression <code dir="ltr">ANY(DOLLARS LT 200000)</code> is <code dir="ltr">TRUE</code>, the statements following THEN (<code dir="ltr">statement group 1</code>) are executed. When the expression is <code dir="ltr">FALSE</code>, the statements following ELSE (<code dir="ltr">statement group 2</code>) are executed instead.</p>
<pre dir="ltr">IF ANY(DOLLARS LT 200000)
THEN DO
  ... &#34; (statement group 1)
  DOEND
ELSE DO
  ... &#34;(statement group 2)
   DOEND
</pre></div>
<!-- class="example" -->
<div id="OLADM2464" class="example">
<p class="titleinexample"><a id="sthref4415"></a>Example 10-6 Using IF as a Conditional Operator</p>
<p>In a program that produces a report, you would like to report a previous year&#39;s actual expenses or the current year&#39;s budget, depending on the year passed to the program as an argument. A conditional expression in a JOINCHARS function produces a heading with the word Actual or Budget. Another conditional expression selects the variable to report. The program would include the following lines.</p>
<pre dir="ltr">ARGUMENT cur.year year
 
LIMIT month TO year cur.year
REPORT -
   HEADING JOINCHARS( &#39;Expenses: &#39; -
                        IF cur.year LT &#39;Yr95&#39; -
                        THEN &#39;Actual FOR &#39; -
                        ELSE &#39;Budget FOR &#39;, -
                       cur.year ) -
   IF cur.year LT &#39;Yr95&#39; THEN actual ELSE budget
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78911"></a>
<div id="OLADM833" class="refsect1">
<h2 class="refsect1">IMPORT</h2>
<p><a id="sthref4416"></a><a id="sthref4417"></a><a id="sthref4418"></a><a id="sthref4419"></a>The IMPORT command<a id="ABC1419530"></a> transfers data to an analytic workspace from a text file, a spreadsheet, or another analytic workspace from an EIF file.</p>
<p>Because the syntax of the IMPORT command is different depending on where the data to be imported is located, separate topics are provided for different types of source files:</p>
<ul>
<li>
<p><a href="#i78916">IMPORT (EIF)</a></p>
</li>
<li>
<p><a href="#i78921">IMPORT (text)</a></p>
</li>
<li>
<p><a href="#i78926">IMPORT (spreadsheet)</a></p>
</li>
</ul>
<div id="OLADM834" class="refsect2"><a id="i78916"></a>
<h3 class="refsect2">IMPORT (EIF)</h3>
<p><a id="sthref4420"></a><a id="sthref4421"></a>You can use the IMPORT (from EIF) command to copy data and definitions into your Oracle OLAP analytic workspace from an EIF file. IMPORT also copies any dimensions of the imported data that do not already exist in your workspace, even when you do not specify them in the command.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Several options that determine how EIF files are imported and exported. These options are listed in <a href="dml_options.htm#CHDHFHDE">&#34;EIF Options&#34;</a>.</div>
<p>IMPORT (from EIF) is commonly used with <a href="dml_commands_1.htm#i78783">EXPORT (EIF)</a> to copy parts of one Oracle OLAP analytic workspace to another; you export objects from the source workspace to an EIF file and then import the objects from the EIF file into the target workspace. The source and target workspaces can reside on the same platform or on different platforms. When you transfer an EIF file between computers, you use a binary transfer to overcome file-format incompatibilities between platforms. The EIF file must have been created with the EIFVERSION set to a version that is less than or equal to the version number of the target workspace. Use EVERSION to verify the target version number.</p>
<p>You can also use IMPORT to store information in the EIFNAMES and EIFTYPES options.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4422"></a>Syntax</p>
<p class="synopsis">IMPORT&nbsp;<span class="italic">import_item&nbsp;</span>FROM&nbsp;EIF&nbsp;FILE&nbsp;<span class="italic">file-id&nbsp;</span>[INTO&nbsp;<span class="italic">workspace</span>]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;[MATCH&nbsp;[STATUS]|<span class="underline">APPEND</span>|REPLACE&nbsp;[DELETE]]&nbsp;[LIST&nbsp;[ONLY]]&nbsp;[<span class="underline">DATA</span>]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;[DFNS]&nbsp;[UPDATE]&nbsp;[NOPROP]&nbsp;[NASKIP]&nbsp;[NLS_CHARSET&nbsp;<span class="italic">charset-exp</span>] -</p>
<p class="synopsis">[<span class="underline">API</span> | NOAPI]</p>
<p>where <span class="syntaxinlineitalic">import_item</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinlineitalic">name&nbsp;</span><span class="syntaxinline">[AS&nbsp;</span><span class="syntaxinlineitalic">newname</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">ALL</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4423"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span> [AS <span class="italic">newname</span>]</dt>
<dd>
<p>The name of an analytic workspace object to be imported from an EIF file to an attached workspace. You cannot specify a qualified object name for the object, because the object is not yet in any workspace. You can list multiple names at a time. See the INTO <span class="italic">workspace</span> argument for information about where the object is imported.</p>
<p>AS <span class="italic">newname</span> can be used to rename any type of object being imported except dimensions.</p>
<p>When you have exported a multidimensional object as separate variables, list all the variable names. (See the SCATTER AS keyword in the <a href="dml_commands_1.htm#i78783">EXPORT (EIF)</a>.)</p>
</dd>
<dt>ALL</dt>
<dd>
<p>(Default) Indicates that you want to import all the objects contained in the EIF file. See the INTO <span class="italic">workspace</span> argument for information about where the objects is imported.</p>
</dd>
<dt>INTO <span class="italic">workspace</span></dt>
<dd>
<p>an analytic workspace name that identifies the attached workspace into which objects is imported. When the objects exist in the specified workspace, then their data is overwritten by the imported data. When the objects do not already exist, IMPORT creates them it in the specified workspace. IMPORT ignores identically named objects when they exist in other attached workspaces.</p>
<p>When you do not specify this argument, then Oracle OLAP does the following:</p>
<ul>
<li>
<p>When you have not previously defined the objects being imported in an attached workspace, then IMPORT defines them automatically in the current workspace.</p>
</li>
<li>
<p>When the objects already exist in any attached workspace, then IMPORT overwrites the data they contain with the imported data.</p>
</li>
</ul>
</dd>
<dt>FROM EIF FILE <span class="italic">file-id</span></dt>
<dd>
<p>Identifies the file you want to import. <span class="italic">File-id</span> is a text expression that represents the name of the file. The name must be in a standard format for a file identifier.</p>
</dd>
<dt>MATCH [STATUS]</dt>
<dd>
<p>Indicates that the IMPORT command should bring in only the data associated with dimension values that match those already in the target workspace. For dimensions other than time dimensions, ensure that corresponding dimension values are spelled and capitalized identically in the EIF file and your target workspace when you want them to match; for example, <code dir="ltr">Tents</code> does not match <code dir="ltr">TENTS</code>. For time dimensions, Oracle OLAP identifies dimension values by the dates they represent rather than by the way they are displayed. Therefore, time dimension values in the EIF file automatically matches time dimension values in your workspace when they represent the same time periods. When you specify MATCH STATUS, IMPORT only imports data associated with the values included in the current status of that dimension. When the dimension is limited in the target workspace, Oracle OLAP ignores any data in the EIF file associated with the values excluded from the status.</p>
</dd>
<dt>APPEND</dt>
<dd>
<p>(Default) Indicates that the IMPORT command should bring in all the dimension values, along with associated data, regardless of whether or not the dimension values match those already present in the target workspace. APPEND adds those that do not match to those already present; it adds new values to the end of the list of dimension values. For time dimensions, APPEND also adds dimension values to fill in any gaps between the dimension values in your target workspace and the new ones.</p>
</dd>
<dt>REPLACE [DELETE]</dt>
<dd>
<p>Indicates that, for objects already defined in the workspace, IMPORT should keep the existing dimension values that match the dimension values in the EIF file. IMPORT deletes dimension values (and their data) that do <span class="italic">not</span> match dimension values in the EIF file. IMPORT replaces the associated data for the dimension values kept as part of the new dimension when the associated data variables are included in the EIF file. For text dimensions, the <span class="italic">order</span> of the dimension values in the EIF file is also adapted.</p>
<p>When you specify REPLACE DELETE, no matching takes place. Before importing a dimension, Oracle OLAP performs a MAINTAIN DELETE ALL, which discards all data associated with the existing dimension and the dimension values.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
Be careful when using the REPLACE keyword. When you replace the values of a dimension, all variables and relations in the target workspace dimensioned by it are affected. When a variable or relation is not being imported at the same time, replacing the values of one of its dimensions could result in the loss of its data.</div>
</dd>
<dt>LIST</dt>
<dt>LIST ONLY</dt>
<dd>
<p>Produces a list of the definitions. For dimensions, the output lists the number of values in each dimension, as they are imported into the target workspace. For composites, the output lists the number of dimension value combinations. IMPORT also indicates the number of bytes read and the elapsed time every two minutes or, in any case, after the import procedure.</p>
<p>When you define a conjoint or composite that uses an index type other than the default, the IMPORT LIST command displays the index type. When you use the default index type (HASH for conjoints, BTREE for composites), that information is not displayed.</p>
<p><a href="dml_commands_1.htm#i78783">EXPORT (EIF)</a> sends the list to the current outfile. When you specify LIST ONLY, you get <span class="italic">only the listing</span> without actually importing anything.</p>
</dd>
<dt>ONLY</dt>
<dd>
<p>Causes Oracle OLAP to place the correct values in the EIFNAMES and EIFTYPES options without actually importing them. However, Oracle OLAP does not produce a full listing of the object definitions. To produce the list, specify the LIST keyword before the ONLY keyword.</p>
</dd>
<dt>DATA</dt>
<dd>
<p>Indicates that, for objects that already exist in the target workspace, IMPORT should update only the data associated with those objects. For formulas that already exist, IMPORT updates their EQ expressions. Objects that IMPORT creates in the target workspace are created with their full definitions and any associated data. You can specify both DATA and DFNS, but when neither is specified, the default is DATA.</p>
</dd>
<dt>DFNS</dt>
<dd>
<p>Indicates that, for objects that already exist in the target workspace, IMPORT should just update definitions and leave data unchanged. The components of the definition affected by IMPORT DFNS are: LD Command, VNF, and PROPERTY. Objects that IMPORT creates in the target workspace still get their data. You can specify both DATA and DFNS, but when neither is specified, the default is DATA.</p>
</dd>
<dt>UPDATE</dt>
<dd>
<p>Indicates that IMPORT should execute an UPDATE statement after importing each object which can be useful when importing large EIF files that would otherwise cause Oracle OLAP to run out of memory. To control the frequency of updates, use the EIFUPDBYTES option.</p>
</dd>
<dt>NOPROP</dt>
<dd>
<p>Prevents any properties that you have assigned to each object from being read from the EIF file.</p>
</dd>
<dt>NASKIP</dt>
<dd>
<p>Specifies that composite tuples (indexes) that contain only <code dir="ltr">NA</code> data should not be imported into the target workspace. This argument has no effect on tuples that already exist in the workspace.</p>
</dd>
<dt>NLS_CHARSET <span class="italic">charset-exp</span></dt>
<dd>
<p>Specifies the character set that Oracle OLAP uses when importing text data from the file specified by <span class="italic">file-id</span>. Normally, an EIF file contains its own specification of its character set, so that this argument is not needed. However, when the EIF file specifies the character set incorrectly or is missing the character set specification, then you must use this argument to specify the character set correctly.</p>
<p>For information about the character sets that you can specify, see <a class="olink NLSPG" href="../NLSPG/toc.htm"><span class="italic">Oracle Database Globalization Support Guide</span></a>.</p>
<p>This argument must be the last one specified. When this argument is omitted, and Oracle OLAP cannot determine the character set from the EIF file itself, then Oracle OLAP imports the data using the database character set, which is recorded in the NLS_LANG option.</p>
</dd>
<dt>API</dt>
<dd>
<p>(Default) When the EIF file was created using an <a href="dml_commands_1.htm#i78783">EXPORT (EIF)</a> command with the API keyword, import any cube metadata<a id="sthref4424"></a><a id="sthref4425"></a> defined for the specified items.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle OLAP automatically executes an UPDATE and a COMMIT after executing this type of import.</div>
</dd>
<dt>NOAPI</dt>
<dd>
<p>Even if the EIF file was created using an <a href="dml_commands_1.htm#i78783">EXPORT (EIF)</a> command with the API keyword, do <span class="italic">not</span> import any cube metadata defined for the specified items. When you specify this keyword, Oracle OLAP does <span class="italic">not</span> automatically execute an UPDATE and a COMMIT after executing the IMPORT command.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4426"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2465"></a>Separate IMPORT Statements</p>
<p>The MATCH, APPEND, REPLACE, DATA, and DFNS arguments you specify affect all the objects you name to be imported. When you want to treat different objects in different ways, use separate IMPORT statements.</p>
<p>Importing and Exporting Hidden Programs</p>
<p class="subhead2"><a id="OLADM2466"></a>Importing Relations</p>
<p>When you are importing a relation, IMPORT also brings in the definition and values for the related dimension as well.</p>
<p class="subhead2"><a id="OLADM2467"></a>Importing Concat Dimensions</p>
<p>When you import a concat dimension into an analytic workspace and the concat dimension and none of its component dimensions already exist in the analytic workspace, then Oracle OLAP imports the concat dimension, its component dimensions, and the definitions of all of the dimensions.</p>
<p>When you import a concat dimension that does not already exist but one or more of its component dimensions already exist in the analytic workspace, then Oracle OLAP imports the concat dimension and any new component dimensions and their definitions. For the component dimensions that already exist in the analytic workspace, Oracle OLAP imports the component dimensions as it does other dimensions, obeying any MATCH, APPEND, REPLACE specifications in the IMPORT statement.</p>
<p>When you import a concat dimension with a name and a definition of a concat dimension that already exists in the analytic workspace, then Oracle OLAP imports the concat dimension as it does other dimension.</p>
<p>When you import a concat dimension with the same name as one that already exists in the analytic workspace but the definition of the imported concat dimension is different than the definition of the existing concat dimension, then the definition of the existing concat dimension does not change and the definitions of the component dimensions of the existing concat dimension do not change. Only the component dimensions of the imported concat dimension that are also component dimensions of the existing concat dimension are imported. When the imported concat dimension does not share any component dimensions with the existing concat dimension, an error condition occurs. When you are importing any objects that are dimensioned by the concat dimension, then Oracle OLAP imports only the values of the object that correspond to the values of the imported dimensions.</p>
<p class="subhead2"><a id="BABCJCHI"></a><a id="OLADM2468"></a>Importing and Exporting Dimension Surrogates</p>
<p>You can import or export a dimension surrogate to or from an Express Interchange File (EIF). In those operations, a dimension surrogate behaves like a variable that is dimensioned by the dimension of the surrogate. In an EXPORT operation, the dimension for which the surrogate is defined is also exported. In an IMPORT operation, the dimension for which the surrogate is defined is imported but you can use the MATCH, STATUS, DATA, DFNS, APPEND, and REPLACE keywords to affect which values are imported.</p>
<p>Importing a dimension surrogates also imports the definition and values for the dimension for which it is a surrogate. When a dimension with the same definition already exists in the current analytic workspace, then the effects of the IMPORT keywords such as MATCH, APPEND, REPLACE, DATA, and DFNS are the same for the surrogate as they would be for a variable dimensioned by the dimension. When the name and definition of the imported surrogate is the same as a dimension surrogate that already exists in the current analytic workspace and when the imported surrogate has a value that is identical to a value in the existing surrogate, an error condition occurs.</p>
<p>You can import an INTEGER dimension surrogate when no object of the same name exists in the current analytic workspace or when you use the DFNS keyword. Importing an INTEGER dimension surrogate affects existing INTEGER dimension surrogates when the implicit importing of the dimension of the imported surrogate changes the values of the existing dimension.</p>
<p class="subhead2"><a id="OLADM2469"></a>APPEND Versus REPLACE</p>
<p>When you are importing an INTEGER dimension that already exists in your target workspace, the following considerations apply.</p>
<ul>
<li>
<p>When the imported INTEGER dimension is larger than the existing one, APPEND and REPLACE have the same effect. The dimension ends up with the number of values in the larger, imported dimension.</p>
</li>
<li>
<p>When the imported INTEGER dimension is smaller, REPLACE drops the appropriate dimension values from the end of the dimension, <span class="italic">along with any associated data,</span> while APPEND leaves the existing dimension values alone.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2470"></a>INTEGER and SHORTINTEGER Data Types</p>
<p>The IMPORT command translates between the INTEGER and SHORTINTEGER data types. When you are importing a variable with one of these data types from an EIF file and it already exists in your workspace as the other type, Oracle OLAP converts the data automatically. The maximum SHORTINTEGER value is <code dir="ltr">32,767</code> and the minimum is <code dir="ltr">-32,767</code>. When you import an INTEGER value that exceeds these limits into a SHORTINTEGER variable, the result is <code dir="ltr">NA</code>.</p>
<p class="subhead2"><a id="OLADM2471"></a>TEXT and ID Data Types</p>
<p>When the EIF file you are importing contains ID data that you want to import into TEXT dimensions, variables, relations, or valuesets, Oracle OLAP automatically converts the ID data to text during the import process.</p>
<p class="subhead2"><a id="OLADM2472"></a>Existing Programs and Models</p>
<p>When you are importing a program or model that already exists in your workspace, you must specify DFNS. A program or a model is a definition only; it does not have any data. The default option DATA does not import the source code when it already exists.</p>
<p>When you define a program, you may specify a data type or a dimension name, which is used when the program is called as a function. When you specify a data type, it determines the data type of the return value. When you specify a dimension name, the return value is a single value of that dimension. When you import an existing program, the data type or the dimension in the imported program definition and the existing program definition must match. Otherwise, Oracle OLAP produces an error message.</p>
<p class="subhead2"><a id="OLADM2473"></a>PERMIT Statements</p>
<p>The PERMIT statements associated with an object are imported with the object definition. You can see them when you describe the object. However, permission conditions are not evaluated when the object is imported.</p>
<p>When an object with the same name already exists in the target workspace and you specify the DFNS keyword, the PERMIT statements for the object are updated. However, you must execute a PERMITRESET to put the new permission into effect. When an object with the same name already exists in the target workspace and you do <span class="italic">not</span> specify the DFNS keyword, the PERMIT statements for the object are not updated. When there is no pre-existing object in the target workspace, and you import with or without the DFNS keyword, the PERMIT statements for the object are updated, but you must execute a PERMITRESET to put the new permission into effect. (See the <a href="#i79588">PERMIT</a> command.)</p>
<p>When you export and import an entire workspace, then update, detach, and reattach the workspace, Oracle OLAP ensures that all the permissions that were in effect before exporting are in place in the target workspace.</p>
<p class="subhead2"><a id="OLADM2474"></a>Reducing Workspace Size</p>
<p>You can use IMPORT with an EXPORT statement to compact an entire workspace at once. To do this, first export the workspace and then import it under a different name. You can then delete the old workspace and rename the new one with the original name.</p>
<p class="subhead2"><a id="OLADM2475"></a>Preserving Conjoint Type</p>
<p>When you export a HASH, BTREE, or NOHASH conjoint dimension to an EIF file, the conjoint type is exported along with the definition in the EIF file. When you then import the conjoint dimension into an analytic workspace, Oracle OLAP preserves the conjoint type when you import into a new dimension or a dimension already using that conjoint type. When you import the dimension into an existing dimension that does not use the same conjoint type, Oracle OLAP does not preserve the original conjoint type that was saved in the EIF file.</p>
<p class="subhead2"><a id="OLADM2476"></a>EIFBYTES, EIFNAMES, and EIFTYPES</p>
<p>You can use the EIFBYTES option to learn the number of bytes read or written by the most recent IMPORT (EIF File) statement. You can use the EIFNAMES option to get a list of the names of all the objects imported by the most recent IMPORT statement and use the EIFTYPES option to learn the types of objects in that list.</p>
<p>The following format causes IMPORT to store information about the specified objects into the EIFNAMES and EIFTYPES options without actually importing the objects. IMPORT places a list of the object names specified by the IMPORT command in the EIFNAMES option. IMPORT also places a list of the type of each object listed in EIFNAMES into the EIFTYPES option. You may use the LIST keyword to send to the current outfile a full listing of the object definitions.</p>
<p class="synopsis">IMPORT&nbsp;<span class="italic">name&nbsp;</span>FROM&nbsp;EIF&nbsp;FILE&nbsp;<span class="italic">file-id&nbsp;</span>[LIST]&nbsp;ONLY</p>
<p>For more information, see the entries for <a href="dml_options.htm#i80471">EIFBYTES</a>, <a href="dml_options.htm#i80481">EIFNAMES</a>, and <a href="dml_options.htm#i80491">EIFTYPES</a> options.</p>
<p class="subhead2"><a id="i79480"></a><a id="OLADM2477"></a>Importing Unnamed Composites</p>
<p>When you define variables or other objects with the SPARSE keyword in the dimension list, Oracle OLAP creates an unnamed composite that corresponds to the SPARSE dimension list. When you export or import an object with the unnamed composite in its definition, the composite is automatically exported or imported with the object. Because the unnamed composite is not a regular workspace object, you cannot import or export it independently.</p>
<p class="subhead2"><a id="OLADM2478"></a>Variable Segments Specified with SEGWIDTH</p>
<p>When you use a CHGDFN statement with the SEGWIDTH keyword to specify the length of variable segments, segment information cannot be exported and imported automatically. You can save your SEGWIDTH settings by exporting the entire workspace, creating a new workspace, importing only the workspace objects into the new workspace, specifying segmentation, and then importing the variable data into the new workspace.</p>
<p class="subhead2"><a id="OLADM2479"></a>Importing TEXT and NTEXT Values</p>
<p>You can export and import TEXT and NTEXT values. Both data types can be exported to a single EIF file.</p>
<ul>
<li>
<p>Exported TEXT values are stored in the EIF file using the character set specified for the file in the <a href="dml_commands_1.htm#i78783">EXPORT (EIF)</a>.</p>
</li>
<li>
<p>Exported NTEXT values are stored in the EIF file as NTEXT (UTF8 Unicode).</p>
</li>
<li>
<p>NTEXT values imported into TEXT objects are converted into the database character set which can result in data loss when the NTEXT values cannot be represented in the database character set.</p>
</li>
<li>
<p>TEXT values imported into NTEXT objects are converted into the NTEXT (UTF8 Unicode) character set.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4427"></a>Examples</p>
<div id="OLADM2480" class="example">
<p class="titleinexample"><a id="sthref4428"></a>Example 10-7 Importing Dimensions from an EIF File</p>
<p>This example shows how to import the contents and dimensions of two variables into the current Oracle OLAP workspace from a disk file called <code dir="ltr">finance.eif</code> in the current directory object.</p>
<pre dir="ltr">IMPORT actual budget FROM EIF FILE &#39;finance.eif&#39;
</pre></div>
<!-- class="example" -->
<div id="OLADM2481" class="example">
<p class="titleinexample"><a id="sthref4429"></a>Example 10-8 IIMPORTING a Concat Dimension</p>
<p>This example shows the result of importing a concat dimension that has a definition that is different than a concat dimension that already exists in the current analytic workspace. Suppose that a DESCRIBE statement returns the following definitions for dimensions and variables in the current analytic workspace.</p>
<pre dir="ltr">DEFINE city TEXT DIMENSION
DEFINE state TEXT DIMENSION
DEFINE country TEXT DIMENSION
DEFINE locality DIMENSION CONCAT (city, state)
DEFINE geog DIMENSION CONCAT (locality, country)
DEFINE sales INTEGER VARIABLE &lt;geog&gt;
</pre>
<p>The following statement reports the <code dir="ltr">sales</code> data.</p>
<pre dir="ltr">REPORT sales
</pre>
<p>The preceding statement produces the following results.</p>
<pre dir="ltr">GEOG                SALES
------------------- -----
&lt;city: Boston&gt;       1000
&lt;city: Springfield&gt;  2000
&lt;state: Ma&gt;          3000
&lt;country: Usa&gt;       4000
</pre>
<p>A DESCRIBE statement returns the following definitions for dimensions and variables in the <code dir="ltr">diffconcat.eif</code> file.</p>
<pre dir="ltr">DEFINE CITY TEXT DIMENSION
DEFINE REGION TEXT DIMENSION
DEFINE COUNTRY TEXT DIMENSION
DEFINE GEOG DIMENSION CONCAT (CITY, REGION, COUNTRY)
DEFINE SALES INTEGER VARIABLE &lt;GEOG&gt;
</pre>
<p>The following statement reports the <code dir="ltr">sales</code> data for the dimension values in the analytic workspace from which you exported the concat dimension that is in the <code dir="ltr">diffconcat.eif</code> file.</p>
<pre dir="ltr">REPORT sales
</pre>
<p>The preceding statement produces the following results.</p>
<pre dir="ltr">GEOG               SALES
------------------ -----
&lt;city: Boston&gt;      1111
&lt;city: Worcester&gt;   2222
&lt;region: East&gt;      3333
&lt;country: Usa&gt;      4444
</pre>
<p>The following statement imports the <code dir="ltr">sales</code> variable from the <code dir="ltr">diffconcat.eif</code> file and implicitly imports the concat dimension <code dir="ltr">geog</code>. The APPEND keyword causes Oracle OLAP to add the value <code dir="ltr">Worcester</code> to the <code dir="ltr">city</code> dimension. After that, it imports new values for <code dir="ltr">sales</code> that correspond to <code dir="ltr">&lt;city: Boston&gt;</code>, <code dir="ltr">&lt;city:&nbsp;Worcester&gt;</code>, and <code dir="ltr">&lt;country: Usa&gt;</code>.</p>
<pre dir="ltr">IMPORT sales FROM EIF FILE diffconcat.eif APPEND
</pre>
<p>After the import operation, reporting the SALES values produces the following results.</p>
<pre dir="ltr">GEOG                SALES
------------------- -----
&lt;city: Boston&gt;       1111
&lt;city: Springfield&gt;  2000
&lt;city: Worcester&gt;    2222
&lt;state: Ma&gt;          3000
&lt;country: Usa&gt;       4444
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM835" class="refsect2"><a id="i78921"></a>
<h3 class="refsect2">IMPORT (text)</h3>
<p><a id="sthref4430"></a><a id="sthref4431"></a>You can use the IMPORT (from text) command to copy data from a text file into an Oracle OLAP worksheet object. A worksheet&#39;s rows are similar to the lines of a text file.</p>
<p>IMPORT is commonly used to copy text files into an analytic workspace from other software products.</p>
<p>Typically, you use a FILEREAD statement for text files instead of IMPORT. FILEREAD is more efficient and does not require a worksheet object or separate handling of each column of data.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4432"></a>Syntax</p>
<p class="synopsis">IMPORT&nbsp;<span class="italic">worksheetname&nbsp;</span>FROM&nbsp;[<span class="underline">TEXT</span>|STRUCTURED|RULED&nbsp;[RULER&nbsp;<span class="italic">ruler-exp</span>]&nbsp;-&nbsp;</p>
<p class="synopsis">&nbsp;&nbsp;PRN&nbsp;FILE&nbsp;<span class="italic">file-id&nbsp;</span>[STOPAFTER&nbsp;<span class="italic">n</span>]&nbsp;[TEXTSTART&nbsp;<span class="italic">schar</span>]&nbsp;[TEXTEND&nbsp;<span class="italic">echar</span>]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;[DELIMITER&nbsp;<span class="italic">dchar</span>]&nbsp;[NLS_CHARSET&nbsp;<span class="italic">charset-exp</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4433"></a>Parameters</p>
<dl>
<dt><span class="italic">worksheetname</span></dt>
<dd>
<p>A text expression that specifies the name of an Oracle OLAP worksheet object. When you have not previously defined <span class="italic">worksheetname</span> in your workspace, IMPORT defines it for you automatically, using the default dimensions <code dir="ltr">WKSCOL</code> and <code dir="ltr">WKSROW</code>. Any previous contents of <span class="italic">worksheetname</span> are overwritten. In any one IMPORT statement, you can import only one <span class="italic">worksheetname</span> from one text file.</p>
</dd>
<dt>FROM . . . PRN</dt>
<dd>
<p>Indicates that you want to import your Oracle OLAP worksheet from a text file.</p>
</dd>
<dt>TEXT</dt>
<dd>
<p>Imports a whole source file as-is into an Oracle OLAP worksheet on a line-by-line basis. The source file is copied into a single wide worksheet column with a data type of TEXT. The column is always column 1 of the worksheet. Each line in the source file is imported into a separate cell on a separate row in the first column, using as many rows as there are lines in the source file. A blank line in the source file produces a TEXT value with zero characters (a null) in the corresponding row of the worksheet&#39;s first column. (TEXT is the default.)</p>
</dd>
<dt>STRUCTURED</dt>
<dd>
<p>Imports a source file into a target worksheet on a cell-by-cell basis, automatically performing three functions:</p>
<ol>
<li>
<p>Each line of characters in the source file is copied into a single row of the target worksheet.</p>
</li>
<li>
<p>Each group of characters on a line in the source file is copied into a separate TEXT cell on the target worksheet row. A group of characters is defined by two conditions: an uninterrupted (except by a decimal point) sequence of <span class="italic">numbers</span>, or enclosure in <span class="italic">double quotes</span>. Consequently, numbers containing commas to mark off thousands are split up into different cells unless the commas are first removed.</p>
</li>
<li>
<p>Any non-numeric characters not enclosed in double quotes are ignored, except minus signs that immediately precede numbers and so are copied into the same TEXT cell along with the numbers. (Be sure there are no spaces between a minus sign and its number in the source file.)</p>
</li>
</ol>
<p>A blank line in the source file results in an <code dir="ltr">NA</code> in the first cell of the corresponding worksheet row.</p>
<p>When your file format does not conform to the pattern described here, you can use the TEXTSTART, TEXTEND, and DELIMITER keywords. These arguments let you customize the delimiters IMPORT uses to identify the start and end of each field.</p>
</dd>
<dt>RULED</dt>
<dd>
<p>Indicates import of a file on a column-by-column basis into worksheet cells of various data types. Every line in the source file must follow the same pattern of data along its length as every other line in the file. You describe this data pattern to Oracle OLAP in the one-line <span class="italic">ruler-exp</span> using the RULER keyword. IMPORT loops over each line in the source file and copies its contents into a corresponding pattern of cells on a row of the target worksheet, one row for each line. As <span class="italic">ruler-exp</span> loops over successive lines in the source file, it adds row after row to the target worksheet, building vertical <span class="italic">columns</span> of similar cells as it goes along. Status messages are sent to the current outfile every 20 rows, starting with the message <code dir="ltr">20 rows processed</code>.</p>
<p>When the source file contains records that follow several different patterns of character groups, use the less exacting options, STRUCTURED or TEXT, to import the data.</p>
</dd>
<dt>RULER <span class="italic">ruler-exp</span></dt>
<dd>
<p>Used only with the RULED keyword to specify the data type, length, and repeat count of each character group in the record pattern of the source file. <span class="italic">Ruler-exp</span> consists of a list of character-group specifications. Each character-group specification must be separated by a comma (<code dir="ltr">,</code>), by backslash N (<code dir="ltr">\n</code>), or by a space(<code dir="ltr">&nbsp;</code>). You do not have to include enough specifications to account for all the characters in the basic record pattern (or line pattern) of the source file; RULER steps to the next record as soon as it runs out of specifications on each line, regardless of how far it is from the end of the current record. Remember to enclose literal text in single quotes.</p>
<p>The specifications for groups of characters are of three types: <code dir="ltr">T</code> for TEXT, <code dir="ltr">A</code> for numeric (INTEGER or DECIMAL), and <code dir="ltr">S</code> for skip or ignore. The formats for these types are shown in <a href="#g1015802">Table 10-1, &#34;Character-Group Specifications for IMPORT from Text&#34;</a>.</p>
<div id="OLADM2482" class="tblformal">
<p class="titleintable"><a id="sthref4434"></a><a id="g1015802"></a>Table 10-1 Character-Group Specifications for IMPORT from Text</p>
<table class="cellalignment3618" title="Character-Group Specifications for IMPORT from Text" summary="The specifications for groups of characters are of three types: T for TEXT, A for numeric (INTEGER or DECIMAL), and S for skip or ignore. The complete formats for these types are shown in this table." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t10">Format</th>
<th class="cellalignment3616" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t10" headers="r1c1-t10">
<p>[<span class="italic">mm</span>]<code dir="ltr"><span class="codeinlinebold">T</span></code><span class="italic">nn</span></p>
</td>
<td class="cellalignment3617" headers="r2c1-t10 r1c2-t10">
<p>Specifies that Oracle OLAP should copy <span class="italic">mm</span> groups (default&nbsp;=&nbsp;1) of <span class="italic">nn</span> characters (bytes) apiece as TEXT. Specifying a group (or groups) of 0 characters leaves an empty cell(s) in the corresponding position in the worksheet. Each group may consist of up to 498 characters. Trailing blanks are stripped.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t10" headers="r1c1-t10">
<p>[<span class="italic">mm</span>]<code dir="ltr"><span class="codeinlinebold">A</span></code><span class="italic">nn</span></p>
</td>
<td class="cellalignment3617" headers="r3c1-t10 r1c2-t10">
<p>Specifies that Oracle OLAP should copy <span class="italic">mm</span> groups (default&nbsp;=&nbsp;<code dir="ltr">1</code>) of <span class="italic">nn</span> characters (bytes) apiece and try to convert each group to a number. When a character group cannot be converted to a number, it is copied into a TEXT cell and any trailing blanks are stripped. A valid <span class="italic">number</span> includes anything you can type for a GET(DECIMAL) function except <code dir="ltr">NA</code>.</p>
<p>Commas embedded in a number before a period (decimal point) are ignored. Consequently, multiple numbers separated only by commas or two numbers separated only by a single period are treated as parts of a single number (when you want the numbers treated separately, insert <span class="italic">spaces</span> between them in the source file). Leading dollar signs (<code dir="ltr">$</code>) and trailing percent signs (<code dir="ltr">%</code>) are ignored, and leading and trailing spaces are stripped. Multiple periods are treated as excess decimal points and ignored (to undo the effects of dotfill). For example,<code dir="ltr">...17...</code> is treated as though the field is <code dir="ltr">17</code>.</p>
<p>Numbers preceded by a hyphen, or a hyphen and spaces, and numbers enclosed in parentheses, are treated as negative. Specifying a group (or groups) of <code dir="ltr">0</code> (zero) characters leaves an empty cell (or cells) in the corresponding position in the worksheet. Each group may consist of up to 4,000 characters.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t10" headers="r1c1-t10">
<p>[<code dir="ltr"><span class="codeinlineitalic">mm</span></code>]<code dir="ltr"><span class="codeinlinebold">S</span></code><code dir="ltr"><span class="codeinlineitalic">nn</span></code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t10 r1c2-t10">
<p>Specifies that Oracle OLAP should skip or ignore <span class="italic">mm</span> groups of <span class="italic">nn</span> characters (bytes). The limit for <span class="italic">nn</span> is 32,767. (You would probably only use <span class="italic">mm</span> to expand this limit to handle a very long record.)</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></dd>
<dt>FILE <span class="italic">file-id</span></dt>
<dd>
<p>Identifies the file you want to import. <span class="italic">File-id</span> is a text expression that represents the name of the file. The name must be in a standard format for a file identifier.</p>
</dd>
<dt>STOPAFTER <span class="italic">n</span></dt>
<dd>
<p>Specifies that no more than <span class="italic">n</span> records should be read from the file. When STOPAFTER is omitted, Oracle OLAP reads the whole file.</p>
</dd>
<dt>TEXTSTART <span class="italic">schar</span></dt>
<dd>
<p>The <span class="italic">schar</span> argument is a text expression that specifies a single character that you want Oracle OLAP to interpret as the start of a text field in a structured file. The default character is a double quote (<code dir="ltr">&#34;</code>).</p>
</dd>
<dt>TEXTEND <span class="italic">echar</span></dt>
<dd>
<p>The <span class="italic">echar</span> argument is a text expression that specifies a single character that you want Oracle OLAP to interpret as the end of a text field in a structured file. The default character is a double quote (<code dir="ltr">&#34;</code>).</p>
</dd>
<dt>DELIMITER <span class="italic">dchar</span></dt>
<dd>
<p>The <span class="italic">dchar</span> argument is a text expression that specifies a single character that you want Oracle OLAP to interpret as the general field delimiter in a structured file. Oracle OLAP uses the general field delimiter to identify both numeric and text fields. The default character is a comma (<code dir="ltr">,</code>).</p>
</dd>
<dt>NLS_CHARSET <span class="italic">charset-exp</span></dt>
<dd>
<p>Specifies the character set that Oracle OLAP uses when importing text data from the file specified by <span class="italic">file-id</span> which allows Oracle OLAP to convert the data accurately from that character set. This argument must be the last one specified. When this argument is omitted, and Oracle OLAP cannot determine the character set from the file itself, then Oracle OLAP imports the data in the database character set, which is recorded in the NLS_LANG option.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4435"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2483"></a>WKSROW and WKSCOL Dimensions</p>
<p>The <code dir="ltr">WKSROW</code> (the default worksheet row) dimension of an Oracle OLAP worksheet object corresponds to the lines of a text file. The <code dir="ltr">WKSCOL</code> (the default worksheet column) dimension of a worksheet divides each row into cells that can be used to separate data types when there are potentially several types on each line of the source file. <code dir="ltr">WKSROW</code> and <code dir="ltr">WKSCOL</code> are INTEGER dimensions with values of <code dir="ltr">1</code>, <code dir="ltr">2</code>, <code dir="ltr">3</code>, and so&nbsp;on.</p>
<p class="subhead2"><a id="OLADM2484"></a>Minimum Worksheet Size</p>
<p>Oracle OLAP sets up a minimum-size worksheet that is 63 cells square, regardless of whether or not all the cells are used. When the source text file requires an Oracle OLAP worksheet larger than the minimum, IMPORT automatically increases the dimension values of <code dir="ltr">WKSCOL</code> and <code dir="ltr">WKSROW</code> as needed.</p>
<p class="subhead2"><a id="OLADM2485"></a>Importing Numbers</p>
<p>When importing a number from a text file, IMPORT gives it an INTEGER data type.</p>
<p class="subhead2"><a id="OLADM2486"></a>File Transfer to Another Computer</p>
<p>When the file you are importing originated on another computer, ensure that its character set is appropriate. When you transfer a text file to another computer, the communications program handling the transfer makes any necessary character translations; for example, from ASCII to EBCDIC. Set the parameters of the transfer program so that the resulting file is in the correct character set for the receiving computer.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4436"></a>Examples</p>
<div id="OLADM2487" class="example">
<p class="titleinexample"><a id="sthref4437"></a>Example 10-9 Importing Columns Without the RULER Keyword</p>
<p>Suppose you have a file named <code dir="ltr">abctxt</code> in your current directory. It has 10 five-digit groups of <code dir="ltr">INTEGER</code> values, followed by a group of 20 characters of text. To import this file into an Oracle OLAP worksheet called <code dir="ltr">sheet1</code>, use the following statement.</p>
<pre dir="ltr">IMPORT sheet1 FROM RULED PRN FILE &#39;abctxt&#39; ruler &#39;10a5, t20&#39;
</pre>
<p>The actual format for the file name must follow the conventions for your operating system.</p>
</div>
<!-- class="example" -->
<div id="OLADM2488" class="example">
<p class="titleinexample"><a id="sthref4438"></a>Example 10-10 Importing Columns with the RULER Keyword</p>
<p>Suppose a file called <code dir="ltr">mix</code> has no line delimiters, with records containing 100 characters apiece. Each record has the character distribution illustrated in the following table.</p>
<div class="inftblinformal">
<table class="cellalignment3615" title="Character Distributions for Records in example" summary="This table describes the character distribution for each record in the example." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t11">Character</th>
<th class="cellalignment3616" id="r1c2-t11">Content</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t11" headers="r1c1-t11">1 - 10</td>
<td class="cellalignment3617" headers="r2c1-t11 r1c2-t11">To be ignored</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t11" headers="r1c1-t11">11 - 17</td>
<td class="cellalignment3617" headers="r3c1-t11 r1c2-t11">Decimal number</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t11" headers="r1c1-t11">18 - 28</td>
<td class="cellalignment3617" headers="r4c1-t11 r1c2-t11">To be ignored</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t11" headers="r1c1-t11">29 - 30</td>
<td class="cellalignment3617" headers="r5c1-t11 r1c2-t11">Two single-character code</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t11" headers="r1c1-t11">31 - 35</td>
<td class="cellalignment3617" headers="r6c1-t11 r1c2-t11">Integer</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t11" headers="r1c1-t11">36 - 100</td>
<td class="cellalignment3617" headers="r7c1-t11 r1c2-t11">To be ignored</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>To import this file into an Oracle OLAP worksheet called <code dir="ltr">sheet2</code>, use the following statement.</p>
<pre dir="ltr">DEFINE sheet2 WORKSHEET temp
IMPORT sheet2 FROM RULED PRN FILE &#39;mix&#39; RULER -
   &#39;s10, a7, s11, 2t1, a5&#39; 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM836" class="refsect2"><a id="i78926"></a>
<h3 class="refsect2">IMPORT (spreadsheet)</h3>
<p><a id="sthref4439"></a><a id="sthref4440"></a><a id="sthref4441"></a>You can use the IMPORT (from spreadsheet) command to copy data (not formulas) from a spreadsheet file into an Oracle OLAP worksheet object. A worksheet&#39;s dimensions are similar to the columns and rows of a spreadsheet. IMPORT always copies an entire spreadsheet file at a time.</p>
<p>IMPORT is commonly used to copy data from other software products (for example, a Lotus spreadsheet) into an Oracle OLAP workspace.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4442"></a>Syntax</p>
<p class="synopsis">IMPORT&nbsp;<span class="italic">worksheetname&nbsp;</span>FROM&nbsp;<span class="italic">source&nbsp;</span>[INTO&nbsp;<span class="italic">workspace</span>]</p>
<p>where <span class="syntaxinlineitalic">source</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinline">WKS&nbsp;FILE&nbsp;</span><span class="syntaxinlineitalic">file-id&nbsp;</span><span class="syntaxinline">[NLS_CHARSET&nbsp;</span><span class="syntaxinlineitalic">charset-exp</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">WK1&nbsp;FILE&nbsp;</span><span class="syntaxinlineitalic">file-id&nbsp;</span><span class="syntaxinline">[NLS_CHARSET&nbsp;</span><span class="syntaxinlineitalic">charset-exp</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">WRK&nbsp;FILE&nbsp;</span><span class="syntaxinlineitalic">file-id&nbsp;</span><span class="syntaxinline">[NLS_CHARSET&nbsp;</span><span class="syntaxinlineitalic">charset-exp</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">WR1&nbsp;FILE&nbsp;</span><span class="syntaxinlineitalic">file-id&nbsp;</span><span class="syntaxinline">[NLS_CHARSET&nbsp;</span><span class="syntaxinlineitalic">charset-exp</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">DIF&nbsp;FILE&nbsp;</span><span class="syntaxinlineitalic">file-id&nbsp;</span><span class="syntaxinline">[NLS_CHARSET&nbsp;</span><span class="syntaxinlineitalic">charset-exp</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">CSV&nbsp;FILE&nbsp;</span><span class="syntaxinlineitalic">file-id&nbsp;</span><span class="syntaxinline">[STOPAFTER&nbsp;</span><span class="syntaxinlineitalic">n</span><span class="syntaxinline">|DELIMITER&nbsp;</span><span class="syntaxinlineitalic">dchar</span><span class="syntaxinline">|NLS_CHARSET&nbsp;</span><span class="syntaxinlineitalic">charset-exp</span><span class="syntaxinline">]</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4443"></a>Parameters</p>
<dl>
<dt><span class="italic">worksheetname</span></dt>
<dd>
<p>An Oracle OLAP worksheet object. In any one IMPORT statement, you can import only one <span class="italic">worksheetname</span> from one spreadsheet file. You can specify a qualified object name for the worksheet; however, when you specify the INTO <span class="italic">worksheet</span> argument, the target workspace specified must be identical. See the INTO <span class="italic">workspace</span> argument for information about where the worksheet object is imported.</p>
</dd>
<dt>FROM WKS</dt>
<dt>FROM WK1</dt>
<dt>FROM WRK</dt>
<dt>FROM WR1</dt>
<dt>FROM DIF</dt>
<dd>
<p>Indicates that you want to import your Oracle OLAP worksheet from a 1-2-3 file, Version 1 (<code dir="ltr">WKS</code>) or Version 2 (<code dir="ltr">WK1</code>); a Symphony file, Version 1.0 (<code dir="ltr">WRK</code>) or Version 1.1 (<code dir="ltr">WR1</code>); or a data interchange format file (<code dir="ltr">DIF</code>).</p>
<p>Oracle OLAP does not recognize numbers in E format (exponential notation) in <code dir="ltr">DIF</code> files.</p>
</dd>
<dt>INTO <span class="italic">workspace</span></dt>
<dd>
<p>An analytic workspace name that identifies the attached workspace into which data is imported. When <span class="italic">worksheetname</span> exists in the specified workspace, then its data is overwritten by the imported data. When <span class="italic">worksheetname</span> does not already exist, IMPORT creates it in the specified workspace. IMPORT ignores an identically named worksheet when it exists in another attached workspace.</p>
<p>When you do not specify this argument, then Oracle OLAP does the following:</p>
<ul>
<li>
<p>When you have not previously defined <span class="italic">worksheetname</span> in an attached workspace, IMPORT defines it automatically in the current workspace using the default dimensions <code dir="ltr">WKSCOL</code> and WKSROW.</p>
</li>
<li>
<p>When <span class="italic">worksheetname</span> already exists in any attached workspace, IMPORT overwrites the data it contains with the imported data.</p>
</li>
</ul>
</dd>
<dt>FILE <span class="italic">file-id</span></dt>
<dd>
<p>Identifies the file you want to import. The <span class="italic">file-id</span> argument is a text expression that represents the name of the file. The name must be in a standard format for a file identifier.</p>
</dd>
<dt>NLS_CHARSET <span class="italic">charset-exp</span></dt>
<dd>
<p>Specifies the character set that Oracle OLAP uses when importing text data from the file specified by <span class="italic">file-id</span> which allows Oracle OLAP to convert the data accurately from that character set. This argument must be the last one specified. When this argument is omitted, and Oracle OLAP cannot determine the character set from the worksheet itself, then Oracle OLAP imports the data in the database character set, which is recorded in the NLS_LANG option.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The NTEXT data type is not supported in worksheets.</div>
</dd>
<dt>FROM CSV FILE <span class="italic">file-id</span> [STOPAFTER <span class="italic">n</span>] [DELIMITER <span class="italic">dchar</span>]</dt>
<dd>
<p>Indicates that you want to import from a source file on a cell-by-cell basis. See <a href="#i79503">&#34;CSV Import&#34;</a>.</p>
<p>STOPAFTER <span class="italic">n</span> specifies that no more than <span class="italic">n</span> records should be read from the file. When STOPAFTER is omitted, Oracle OLAP reads the whole file.</p>
<p>DELIMITER <span class="italic">dchar</span> identifies the single character (<span class="italic">dchar</span>) that you want Oracle OLAP to interpret as the general field delimiter. The default value is comma.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4444"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2489"></a>Default Dimensions of an Oracle OLAP worksheet object</p>
<p>The default dimensions of an Oracle OLAP worksheet are <code dir="ltr">WKSCOL</code> and WKSROW, which correspond to the columns and rows of a spreadsheet. <code dir="ltr">WKSCOL</code> and WKSROW are INTEGER dimensions with values of 1, 2, 3, and so on. When these dimensions already exist in an attached workspace but not in the current workspace, the IMPORT statement fails when it tries to create these dimensions. You can prevent this problem by first defining the worksheet with different dimensions. (See <a href="dml_commands_1.htm#i1014088">&#34;Worksheet Dimensions&#34;</a> for more information.)</p>
<p class="subhead2"><a id="OLADM2490"></a>Addition of Cells when Needed</p>
<p>When the source spreadsheet contains more cells than are defined by the dimensions of the worksheet, IMPORT automatically adds dimension values to provide the required number of cells.</p>
<p class="subhead2"><a id="OLADM2491"></a>Empty and NA Cells</p>
<p>IMPORT merges the source file with the worksheet on a cell-by-cell basis. Cells from the source file that are not empty, even when they just contain <code dir="ltr">NA</code>, overwrite the contents of the corresponding cells in the worksheet; empty cells in the source file do not overwrite the worksheet; source-file cells beyond the end of the current worksheet are appended to it so that no data is discarded.</p>
<p class="subhead2"><a id="OLADM2492"></a>Numbers in DIF Files</p>
<p>When importing any number from DIF files, IMPORT gives it a DECIMAL data type.</p>
<p class="subhead2"><a id="i79503"></a><a id="OLADM2493"></a>CSV Import</p>
<p>The CSV import option automatically performs the following functions when importing from a source file into the cells of a worksheet:</p>
<ul>
<li>
<p>Each line of characters in the source file is copied into a single row in the target worksheet.</p>
</li>
<li>
<p>Each group of characters on a line in the source file is copied into a separate TEXT cell in the target worksheet row, and groups are separated by the delimiter character.</p>
</li>
</ul>
<p>When a group of characters is inside double quotation marks:</p>
<ul>
<li>
<p>A delimiter character found in this group is treated as a literal.</p>
</li>
<li>
<p>When a double quotation mark occurs <span class="italic">within</span> this group, it must be followed by another double quotation mark.</p>
</li>
<li>
<p>A linefeed (<code dir="ltr">\n</code>) found within the group is ignored.</p>
</li>
<li>
<p>Spaces or tabs found before a starting quotation mark and after an end quotation mark are ignored.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4445"></a>Examples</p>
<div id="OLADM2494" class="example">
<p class="titleinexample"><a id="sthref4446"></a>Example 10-11 Importing a DIF File</p>
<p>This example shows how to import a spreadsheet in DIF format in a file called <code dir="ltr">mortgage.dif</code>. We define the worksheet first as a temporary object, which saves memory and storage space. IMPORT would define the worksheet <span class="italic">sheet1</span> automatically when it did not already exist. When it had already been used in a previous IMPORT statement, any data in it would be overwritten with new data.<a id="sthref4447"></a></p>
<pre dir="ltr">DEFINE sheet1 WORKSHEET TEMP
IMPORT sheet1 FROM DIF FILE &#39;mortgage.dif&#39; 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="CHEHFBFE"></a>
<div id="OLADM837" class="refsect1">
<h2 class="refsect1">INFILE</h2>
<p><a id="sthref4448"></a><a id="sthref4449"></a><a id="sthref4450"></a><a id="sthref4451"></a>The INFILE command causes Oracle OLAP to read statement input from a specified file.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_options.htm#CHDIJCHA">&#34;File Reading and Writing Options&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4452"></a>Syntax</p>
<p class="synopsis">INFILE&nbsp;{<span class="italic">file-id</span>|EOF}&nbsp;[NOW]&nbsp;[NLS_CHARSET&nbsp;<span class="italic">charset-exp</span>]&nbsp;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4453"></a>Parameters</p>
<dl>
<dt><span class="italic">file-id</span></dt>
<dd>
<p>The name of a file from which to read input. <span class="italic">File-id</span> is a text expression that represents the name of the file. The name must be in a standard format for a file identifier.</p>
<p>The input file must contain only OLAP DML statements, along with appropriate responses to any prompts generated by the statements. Each statement or response must appear on a separate line in the file.</p>
</dd>
<dt>EOF</dt>
<dd>
<p>Terminates the reading of input from the current file and causes Oracle OLAP to resume reading input from the location from which the INFILE statement was executed. Use of INFILE EOF is optional. See <a href="#i83427">&#34;About the Input File&#34;</a> and <a href="#i83436">&#34;INFILE with Both NOW and EOF&#34;</a>.</p>
</dd>
<dt>NOW</dt>
<dd>
<p>Indicates that Oracle OLAP should open the input file specified in the INFILE and read its statements immediately upon encountering the INFILE instead of waiting until the program containing the INFILE is finished which has the effect of nesting the input file&#39;s statements within the program. See <a href="#i83436">&#34;INFILE with Both NOW and EOF&#34;</a>. This argument must be specified after <span class="italic">file-id.</span></p>
</dd>
<dt>NLS_CHARSET <span class="italic">charset-exp</span></dt>
<dd>
<p>Specifies the character set that Oracle OLAP uses when reading data from the file specified by <span class="italic">file-id</span> which allows Oracle OLAP to convert the data accurately into the current character set, as identified by the NLS_LANG option. This argument must be specified after <span class="italic">file-id</span>. When this argument is omitted, then Oracle OLAP handles the data in the file as having the database character set, which is recorded in the NLS_LANG option.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4454"></a>Usage Notes</p>
<p class="subhead2"><a id="i83427"></a><a id="OLADM2495"></a>About the Input File</p>
<p>When the end of the input file is reached, Oracle OLAP resumes reading input from the location from which the INFILE statement was executed (which could be another input file). You do not have to end the input file with the statement INFILE EOF.</p>
<p>INFILE ignores trailing blanks at the end of a line, or between the last text on a line and a continuation mark. INFILE also ignores blank lines.</p>
<p>When you use the NOW keyword and the input file ends with a continued statement, the statement is ignored. For example, if the file ends with &#34;show&nbsp;- ,&#34; Oracle OLAP ignores a SHOW statement.</p>
<p class="subhead2"><a id="OLADM2496"></a>Using INFILE in a Program</p>
<p>When you include an INFILE statement without the NOW keyword in a program, the INFILE statement is not executed until the program has finished executing. In a nested program, it is not executed until all the programs involved have finished executing. Also, when several INFILE commands have been executed by a program, the input files are read in the opposite order from which they were specified.</p>
<p>For example, assume that <code dir="ltr">program.a</code> calls <code dir="ltr">program.b</code> which calls <code dir="ltr">program.c</code>, and each program contains two INFILE commands, one before and one after the call to the next program (as illustrated in the following code). In this case, the order of execution is: <code dir="ltr">a2</code>, <code dir="ltr">b2</code>, <code dir="ltr">c2</code>, <code dir="ltr">c1</code>, <code dir="ltr">b1</code>, <code dir="ltr">a1</code>.</p>
<pre dir="ltr">program.a
   INFILE a1
   &#34;
        program.b
           INFILE b1
           &#34;
                program.c
                   INFILE c1
                   INFILE c2
           &#34;
           INFILE b2
   &#34;
   INFILE a2
</pre>
<p>When you include an INFILE statement in a program with the NOW keyword, the INFILE statement executes immediately. However, INFILE with the NOW keyword requires more space than usual on the program stack. To conserve stack space, use the NOW keyword only when it is necessary.</p>
<p class="subhead2"><a id="OLADM2497"></a>INFILE with NOW Outside of Programs</p>
<p>The NOW keyword is intended for use within programs, but you can use it at any time. When you use it when the input file would not ordinarily be deferred, the NOW keyword has no visible effect. However, because NOW requires extra stack space, do not use it in these situations.</p>
<p class="subhead2"><a id="i83436"></a><a id="OLADM2498"></a>INFILE with Both NOW and EOF</p>
<p>When you use both the NOW and EOF keywords, the NOW keyword is ignored.</p>
<p class="subhead2"><a id="OLADM2499"></a>Displaying Infiled Statements and Responses</p>
<p>When you want the statements from a disk file to be copied to a debugging file as they are executed, see the <a href="dml_commands_1.htm#i79253">DBGOUTFILE</a> command.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4455"></a>Examples</p>
<div id="OLADM2500" class="example">
<p class="titleinexample"><a id="sthref4456"></a>Example 10-12 Reading the Input File Immediately</p>
<p>The following line of code in a program causes the file called <code dir="ltr">newdefs</code> to be read in immediately.</p>
<pre dir="ltr">INFILE &#39;newdefs&#39; NOW 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79636"></a>
<div id="OLADM838" class="refsect1">
<h2 class="refsect1">LD</h2>
<p><a id="sthref4457"></a><a id="sthref4458"></a><a id="sthref4459"></a><a id="sthref4460"></a><a id="sthref4461"></a>The LD command adds the description to the current object definition. The description consists of text that you specify to describe the object. You can assign a description to any type of definition.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
The current object definition is the definition of the object that has been most recently defined or considered during the current session. To make an object definition the current definition, use a CONSIDER statement.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4462"></a>Syntax</p>
<p class="synopsis">LD&nbsp;[<span class="italic">text</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4463"></a>Parameters</p>
<dl>
<dt><span class="italic">text</span></dt>
<dd>
<p>The text of the description you want to assign to the definition. When <span class="italic">text</span> is omitted, any existing description for the current definition is deleted.</p>
<p>You can create a multiline description by using a hyphen as a continuation character. However, you cannot create a description with an initial blank line with an LD statement.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4464"></a>Examples</p>
<div id="OLADM2501" class="example">
<p class="titleinexample"><a id="sthref4465"></a>Example 10-13 Adding a Description to the Definition of a Variable</p>
<p>This example changes the description associated with the variable <code dir="ltr">units</code>. First, execute the CONSIDER statement to make <code dir="ltr">units</code> the current definition. Then use a LD statement to assign a new description. The <code dir="ltr">units</code> variable has the following definition.</p>
<pre dir="ltr">DEFINE units VARIABLE INTEGER &lt;month product district&gt;
LD Actual Unit Shipments
</pre>
<p>The statements</p>
<pre dir="ltr">CONSIDER units
ld Actual Unit Shipments for Each Division
DESCRIBE units
</pre>
<p>produce the following definition for <code dir="ltr">units</code>.</p>
<pre dir="ltr">DEFINE units VARIABLE INTEGER &lt;month product district&gt;
LD Actual Unit Shipments for Each Division
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78802"></a>
<div id="OLADM839" class="refsect1">
<h2 class="refsect1">LIMIT command</h2>
<p><a id="sthref4466"></a><a id="sthref4467"></a><a id="sthref4468"></a><a id="sthref4469"></a>The LIMIT command<a id="sthref4470"></a><a id="sthref4471"></a><a id="sthref4472"></a> sets the current status list of a dimension and its dimension surrogates, or assigns values to a valuesets the current status list of a dimension and its dimension surrogates, or assigns values to a valueset. You use LIMIT to restrict the data values you are working on by temporarily limiting the range of the dimensions of the data. Using LIMIT, you create a<a id="sthref4473"></a> current status list for a dimension. The current status list of a dimension is an ordered list of currently accessible values for the dimension. Values that are in the current status list of a dimension are said to be &#34;in status.&#34; For more information on dimension status and its importance when working with analytic workspace data, see <a href="dml_basics.htm#BABICBHE">&#34;How to Specify the Set of Data that OLAP DML Operations Work Against&#34;</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
You set the current status list of one or more base dimensions of a composite, conjoint dimension, concat dimension, or a partition template based on the selected values of that object, see the <a href="#CIHHAFHI">LIMIT BASEDIMS</a> command.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_functions_2.htm#i78807">LIMIT function</a>, <a href="dml_commands_1.htm#i78528">DEFINE VALUESET</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4474"></a>Syntax</p>
<p class="synopsis">LIMIT&nbsp;{<span class="italic">dimension</span> | <span class="italic">valueset</span> }&nbsp;[<span class="italic">concat-component</span>] <span class="italic">limit-type</span> [<span class="italic">limit-clause</span>] [IFNONE&nbsp;<span class="italic">label</span>]</p>
<p>where <span class="syntaxinlineitalic">limit-type</span> is one of the following keywords that specify how Oracle OLAP should modify the current status list:</p>
<dl>
<dd><span class="syntaxinline">TO</span></dd>
<dd><span class="syntaxinline">ADD</span></dd>
<dd><span class="syntaxinline">INSERT&nbsp;[FIRST|LAST|BEFORE</span>&nbsp;<span class="syntaxinlineitalic">position</span><span class="syntaxinline">|AFTER</span>&nbsp;<span class="italic">position</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">KEE</span></dd>
<dd><span class="syntaxinline">REMOVE</span></dd>
<dd><span class="syntaxinline">KEEP REORDER</span></dd>
<dd><span class="syntaxinline">COMPLEMENT</span></dd>
<dd><span class="syntaxinline">SORT [NAFIRST]</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4475"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of the dimension or dimension surrogate for which you are setting status.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>The name of the valueset for which you are assigning values.</p>
</dd>
<dt><span class="italic">concat-component</span></dt>
<dd>
<p>Specifies the name of the component of the concat dimension whose values are used to determine the limit. When you specify a value for <span class="italic">concat-component</span>, the limit sets the status of the specified concat dimension using the values of <span class="italic">dimension</span> which is a component of the concat dimension. This <span class="italic">limit-clause</span> applies only when <span class="italic">dimension</span> is a concat dimension. The status of a concat dimension and of its component dimensions are not shared. Changing the status of a component dimension after you have used that dimension as the <span class="italic">limit-clause</span> in setting the status of a concat dimension does not change the status of the concat dimension.</p>
</dd>
<dt><span class="bold">TO</span></dt>
<dd>
<p>Replaces the status of a dimension or valueset with the values specified by the <span class="italic">limit-clause</span> arguments<span class="italic">.</span> The TO keyword selects values from the default status of a dimension in the same order as they appear in the LIMIT statement or in the order implied by the valuelist argument. When you use arguments that imply ordering, the ordering of the values is based on their positions in the default status.</p>
</dd>
<dt><span class="bold">ADD</span></dt>
<dd>
<p>Expands the status of a dimension or valueset by adding the values specified by the <span class="italic">limit-clause</span> arguments that are not already in status. The ADD keywords selects values from the default status of a dimension in the same order as they appear in the LIMIT statement or in the order implied by the <span class="italic">valuelist</span> argument. When you use arguments that imply ordering, the ordering of the values is based on their positions in the default status. ADD adds unique dimension values in the specified order after the current status list or valueset list.</p>
</dd>
<dt>INSERT</dt>
<dd>
<p>Expands the status of a dimension or valueset by inserting the values specified by the <span class="italic">limit-clause</span> arguments in a specified position in the current status. The INSERT keyword selects values from the default status of a dimension in the same order as they appear in the LIMIT statement or in the order implied by the <span class="italic">valuelist argument.</span></p>
<p>When you use arguments that imply ordering (for example,<code dir="ltr">value1</code>&nbsp;<code dir="ltr">TO</code>&nbsp;<code dir="ltr">value2</code>), the ordering of the values is based on their positions in the default status. INSERT adds values to a specified position in the current status. When an added value is already in status, it is removed from its position in the current status and added in the order in which it appears in the valuelist, preserving the order of the added values.</p>
</dd>
<dt>FIRST</dt>
<dd>
<p>Inserts the new values before the first value in status.</p>
</dd>
<dt>LAST</dt>
<dd>
<p>Inserts new values after the last value in status.</p>
</dd>
<dt>BEFORE</dt>
<dt>AFTER</dt>
<dd>
<p>Specifies whether new values Oracle OLAP inserts new values before or after position in the current status.</p>
</dd>
<dt><span class="italic">position</span></dt>
<dd>
<p>A dimension value in the current status, a character expression whose value is a dimension value in the current status, or an <code dir="ltr">INTEGER</code> expression whose value represents the position of a dimension value in the default status.</p>
</dd>
<dt><span class="bold">KEEP</span></dt>
<dd>
<p>Reduces the status of a dimension or valueset by keeping only the values specified by the <span class="italic">limit-clause</span> arguments<span class="italic">.</span> Oracle OLAP performs the selection based on the current dimension status. KEEP preserves the current order of values among the values that remain in the status.</p>
</dd>
<dt>KEEP REORDER</dt>
<dd>
<p>Like a simple KEEP, KEEP REORDER reduces the status of a dimension or valueset by keeping only the values specified by the <span class="italic">limit-clause</span> arguments<span class="italic">.</span> Oracle OLAP performs the selection based on the current dimension status. However, KEEP REORDER orders the result in the order of the selection arguments (that is, the <span class="italic">limit-clause</span> arguments) rather than by the current status order.</p>
</dd>
<dt><span class="bold">REMOVE</span></dt>
<dd>
<p>Reduces the status of a dimension or a valueset by removing the values specified by the <span class="italic">limit-clause</span> arguments<span class="italic">.</span> Oracle OLAP performs the selection based on the current dimension status. KEEP preserves the current order of values among the values that remain in the status.</p>
</dd>
<dt><span class="bold">COMPLEMENT</span></dt>
<dd>
<p>Replaces the status of a dimension or valueset with the values that are not specified by the <span class="italic">limit-clause</span> arguments<span class="italic">.</span> When you do not specify any arguments after COMPLEMENT, status is replaced by all values not now in status. Oracle OLAP performs the selection based on the current dimension status. COMPLEMENT leaves dimension values that remain in their default order. (Abbreviated COMP)</p>
</dd>
<dt><span class="bold">SORT</span></dt>
<dd>
<p>Sorts the values of a dimension or valueset according to the <span class="italic">limit-clause</span> arguments<span class="italic">.</span> LIMIT creates a temporary list of values based on the <span class="italic">limit-clause</span> arguments, and uses this list to sort the current status list. Any values not present in the temporary list are moved to the end of the current status list.</p>
</dd>
<dt>NAFIRST</dt>
<dd>
<p>Specifies that <code dir="ltr">NA</code> values are placed first in the sort list rather than last.</p>
</dd>
<dt><span class="italic">limit-clause</span></dt>
<dd>
<p>Specifies the values to use for the limit. The syntax is quite complex and, consequently, has been divided into the following topics:</p>
<dl>
<dd><a href="#i1019733">LIMIT (using values) command</a></dd>
<dd><a href="#i1019738">LIMIT using LEVELREL command</a></dd>
<dd><a href="#i1019747">LIMIT (using related dimension) command</a></dd>
<dd><a href="#i1019742">LIMIT (using parent relation)</a></dd>
<dd><a href="#i1019753">LIMIT NOCONVERT command</a></dd>
<dd><a href="#i1019757">LIMIT command (using POSLIST)</a></dd>
</dl>
</dd>
<dt>IFNONE</dt>
<dd>
<p>(For use only within an OLAP DML program) Specifies that program execution should branch to <span class="italic">label</span> when the requested status has null status or is based on a related dimension that turns out to have null status (that is, to have no values). In either case, the null status is not put into effect when program execution branches. Instead, the original status, before the LIMIT statement was executed, is retained even when OKNULLSTATUS is <code dir="ltr">YES</code>. Within an OLAP DML program, you cannot use both IFNONE and NULL in the same statement.</p>
</dd>
<dt><span class="italic">label</span></dt>
<dd>
<p>The name of a label elsewhere in the program constructed following the <a href="dml_commands_1.htm#i1009483">&#34;Guidelines for Constructing a Label&#34;</a>. Execution of the program branches to the line directly following the specified label.</p>
<p>Note that <span class="italic">label,</span> as specified in IFNONE, must <span class="italic">not</span> be followed by a colon. However, the actual label elsewhere in the program must end with a colon.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4476"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2502"></a>Specifying a Value of a Concat Dimension</p>
<p>To specify a value of a nonunique concat dimension, use the following syntax.</p>
<p class="synopsis">&lt;<span class="italic">base-dimension</span>: <span class="italic">value</span>&gt;.</p>
<p class="subhead2"><a id="OLADM2503"></a>Default Status List</p>
<p>When you first attach an analytic workspace, the current status list of each dimension consists of all of the values of the dimension that have read permission, in the order in which the values are stored. This list of values is called the default status list for the dimension.</p>
<p class="subhead2"><a id="i1019107"></a><a id="OLADM2504"></a>Unique Values</p>
<p>LIMIT selects only unique values of a dimension. When a value appears more than once in a LIMIT statement, it is placed in status in the order of its first appearance. For example, the following lines.</p>
<pre dir="ltr">LIMIT time TO &#39;Jan97&#39;, &#39;Feb97&#39;, &#39;Jan97&#39;
STATUS time
</pre>
<pre dir="ltr"></pre>
<p>produce this output.</p>
<pre dir="ltr">The current status of TIME is:
JAN97, FEB97 
</pre>
<p class="subhead2"><a id="OLADM2505"></a>Nonexistent Values</p>
<p>Oracle OLAP does not signal an error when you try to set the status of a dimension or valueset that has no values, unless you explicitly list values that do not exist. For example, assume that you have not added any values to a newly defined dimension WEEK. In this case, the statement <code dir="ltr">LIMIT week TO FIRST 10</code> does not cause an error. However, <code dir="ltr">LIMIT week TO &#39;Pete&#39;</code> causes an error because <code dir="ltr">Pete</code> is not a value. Similarly, <code dir="ltr">LIMIT week TO 20</code> causes an error because <code dir="ltr">week</code> does not have a value at position <code dir="ltr">20</code>.</p>
<p class="subhead2"><a id="OLADM2506"></a>Setting the Status of a Dimension or Valueset to Null</p>
<p>Oracle OLAP allows the status of a dimension or valueset to be set to null (empty status) only when you have explicitly specified that you want null status to be permitted. You can give this permission in either of two ways:</p>
<ul>
<li>
<p>Set the OKNULLSTATUS option to <code dir="ltr">YES</code>. This specification indicates that null status should be allowed whenever it occurs (unless the IFNONE argument is present in a LIMIT statement).</p>
</li>
<li>
<p>Use the NULL keyword in a LIMIT statement to set the status of a particular dimension or valueset to null. You can do this by specifying TO NULL or KEEP&nbsp;NULL. This specification indicates that null status should be allowed for this LIMIT statement only.</p>
</li>
</ul>
<p>When you have not used either of these two methods to give permission for null status and you execute a LIMIT statement that would result in null status, Oracle OLAP does not change the status to null when it executes the statement. Instead, Oracle OLAP leaves the status as it was before the statement was issued and either signals an error (when IFNONE is not present) or branches to the IFNONE label (when IFNONE is present).</p>
<p>An IFNONE argument indicates that you do not want program execution to take its normal course when a dimension&#39;s status were to be set to null. Therefore, when IFNONE is present, Oracle OLAP branches to the IFNONE label and does not set the status to null, even when OKNULLSTATUS is <code dir="ltr">YES</code>. When the NULL keyword is present with IFNONE, Oracle OLAP signals the inconsistency with an error.</p>
<p>IFNONE requires the use of unstructured programming techniques. Oracle OLAP now provides alternative structured techniques, so the use of IFNONE is discouraged. IFNONE has been retained for compatibility with previous versions of Oracle OLAP.</p>
<p class="subhead2"><a id="OLADM2507"></a>Limiting a Conjoint</p>
<p>To limit a conjoint dimension to a value list, you can use the following constructions:</p>
<ul>
<li>
<p>Specify the actual values, surrounding each combination with angle brackets</p>
<pre dir="ltr">LIMIT proddist TO &#39;&lt;Tents, Boston&gt;&#39; -
   &#39;&lt;Footwear, Denver&gt;&#39;
</pre></li>
</ul>
<pre dir="ltr"></pre>
<ul>
<li>
<p>Use a variable name for the values, surrounding the combination with angle brackets.</p>
<pre dir="ltr">prodname = &#39;Canoes&#39;
distname = &#39;Seattle&#39;
LIMIT proddist To &lt;prodname, distname&gt;
</pre></li>
<li>
<p>Create a multiline list, where each line is a combination surrounded by angle brackets.</p>
<pre dir="ltr">namelist = &#39;&lt;Tents Boston&gt;\n&lt;Footwear, -
   Denver&gt;\n &lt;Canoes, Seattle&gt;&#39;
LIMIT proddist TO namelist
</pre></li>
</ul>
<pre dir="ltr"></pre>
<ul>
<li>
<p>Use the implicit relation between a conjoint dimension and its base dimension to limit the conjoint dimension. For example, use the following statement to limit PRODDIST to all conjoint values having &#34;Canoes&#34; as one of its base values.</p>
<pre dir="ltr">LIMIT proddist TO product &#39;Canoes&#39;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can use logical position numbers for base dimension values in a conjoint dimension. <a href="dml_functions_1.htm#CHEBBIBF">&#34;Using INSTAT When the Dimension is a Conjoint Dimension&#34;</a> illustrates using logical position numbers</div>
</li>
</ul>
<p>For an example of how you can limit a conjoint dimension that has a concat base dimension, see <a href="#i1020896">Example 10-25, &#34;Limiting a Conjoint Dimension with a Concat Base Dimension&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2508"></a>Limiting a Concat</p>
<p>You can define a concat dimension using simple dimensions, conjoint dimensions, and other concat dimensions as the base dimensions of the concat. The syntax for limiting a concat dimension to one of its values is the following.</p>
<p class="synopsis">LIMIT&nbsp;<span class="italic">concatdim</span>&nbsp;TO&nbsp;&lt;<span class="italic">base-dim</span>: <span class="italic">value</span>&gt;</p>
<p>For example, the concat dimension <code dir="ltr">reg.dist.ccdim</code> has the simple dimensions <code dir="ltr">region</code> and <code dir="ltr">district</code> as its base dimensions. The following statement sets the status of <code dir="ltr">reg.dist.ccdim</code> to two of its values, <code dir="ltr">region:&nbsp;East</code> and <code dir="ltr">district:&nbsp;Atlanta</code>.</p>
<pre dir="ltr">LIMIT reg.dist.ccdim TO &lt;region: &#39;East&#39;&gt; &lt;district: &#39;Atlanta&#39;&gt;
</pre>
<p>For other methods of setting the status of a concat dimension, see <a href="#i1019547">Example 10-16, &#34;Limiting a Concat Dimension&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2509"></a>Alternative to Branching Using an IFNONE Label</p>
<p><a id="sthref4477"></a>As an alternative to branching to an <code dir="ltr">IFNONE</code> label, you can also handle null status for a dimension with the OKNULLSTATUS option. When you set OKNULLSTATUS to <code dir="ltr">YES</code>, then you are allowed to set the status of a dimension to null. You can then check for null status and execute appropriate commands with an IF...THEN...ELSE command, or you can handle null status as a case in a SWITCH command.</p>
<pre dir="ltr">OKNULLSTATUS = YES
LIMIT month TO sales GT salesnum
IF STATLEN(month) LT 1
   THEN GOTO showerr
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1059810"></a>Examples</p>
<div id="OLADM2510" class="example">
<p class="titleinexample"><a id="sthref4478"></a>Example 10-14 Adding and Removing Values</p>
<p>These lines add values to the status for the <code dir="ltr">month</code> dimension.</p>
<pre dir="ltr">LIMIT month TO &#39;Jan96&#39; TO &#39;Jun96&#39;
LIMIT month ADD &#39;Jul96&#39; &#39;Sep96&#39;
</pre>
<p>Issuing a <code dir="ltr">STATUS month</code> statement produces this output.</p>
<pre dir="ltr">The current status of MONTH is:
Jan96 TO Jul96, Sep96
</pre>
<p>This line removes values from the status for the <code dir="ltr">month</code> dimension.</p>
<pre dir="ltr">LIMIT month REMOVE &#39;Jan96&#39; TO &#39;Mar96&#39;
</pre>
<p>Now, issuing a <code dir="ltr">STATUS month</code> statement produces this output</p>
<pre dir="ltr">The current status of MONTH is:
Apr96 TO Jul96, Sep96
</pre></div>
<!-- class="example" -->
<div id="OLADM2511" class="example">
<p class="titleinexample"><a id="sthref4479"></a>Example 10-15 Limiting with a Dimension Surrogate</p>
<p>A dimension and any dimension surrogates for it share the same status.</p>
<p>For example, assume that there is a <code dir="ltr">NUMBER</code> dimension named <code dir="ltr">store_id</code> that has the values <code dir="ltr">25</code>, <code dir="ltr">410</code>, <code dir="ltr">150</code>, <code dir="ltr">205</code>, <code dir="ltr">310</code>, and <code dir="ltr">10</code>. It also uses <code dir="ltr">storepos</code>, an INTEGER dimension surrogate for <code dir="ltr">store_id</code>. The dimension surrogate <code dir="ltr">storepos</code> has the values <code dir="ltr">1</code>, <code dir="ltr">2</code>, <code dir="ltr">3</code>, <code dir="ltr">4</code>, <code dir="ltr">5</code>, and <code dir="ltr">6</code>. A TEXT dimension surrogate for <code dir="ltr">store_id</code> is <code dir="ltr">storename</code>. It has the text values <code dir="ltr">Raoul&#39;s - Boston</code>, <code dir="ltr">Poldy&#39;s Potpourri</code>, <code dir="ltr">Molly&#39;s Emporium</code>, <code dir="ltr">Raoul&#39;s - Atlanta</code>, <code dir="ltr">Kinch&#39;s Kitchen Supplies</code>, and <code dir="ltr">Raoul&#39;s&nbsp;-&nbsp;Chicago</code>. The following statements are equivalent.</p>
<pre dir="ltr">LIMIT store_id TO 25 410 150
LIMIT store_id TO storepos 1 2 3
LIMIT storepos TO 1 TO 3
LIMIT storepos TO first 3
LIMIT storename TO first 3
LIMIT storename TO &#39;Raoul\&#39;s - Boston&#39; TO &#39;Molly\&#39;s Emporium&#39;
LIMIT store_id TO storename storepos 1 2 3
LIMIT storename TO store_id 25 TO 150
</pre>
<p>The following statements set the status of the <code dir="ltr">store_id</code> dimension by limiting <code dir="ltr">storename</code>, which is a TEXT dimension surrogate for <code dir="ltr">store_id</code>, and report the values of <code dir="ltr">store_id</code>.</p>
<pre dir="ltr">LIMIT storename TO &#39;Raoul\&#39;s Sweets&#39; TO &#39;Henry\&#39;s Flowers&#39;
REPORT store_id
</pre>
<p>The preceding statement produces the following output.</p>
<pre dir="ltr">STORE_ID
--------------
10
20
30
</pre></div>
<!-- class="example" -->
<div id="OLADM2512" class="example">
<p class="titleinexample"><a id="i1019547"></a>Example 10-16 Limiting a Concat Dimension</p>
<p>In the following examples, the concat dimension <code dir="ltr">reg.dist.ccdim</code> has the simple dimensions <code dir="ltr">region</code> and <code dir="ltr">district</code> as its base dimensions. A concat dimension has an implicit relation to each of its component dimensions.</p>
<ul>
<li>
<p>The following statement sets the status of the concat dimension using the related dimension syntax and specifying the positions of the component (related) dimension.</p>
<pre dir="ltr">LIMIT reg.dist.ccdim TO district 1, 4, 5
</pre>
<p>Issuing a <code dir="ltr">STATUS reg.dist.ccdim</code> statement produces the following output.</p>
<pre dir="ltr">The current status of REG.DIST.CCDIM is:
&lt;DISTRICT: BOSTON&gt;, &lt;DISTRICT: DALLAS&gt;, &lt;DISTRICT: DENVER&gt;
</pre></li>
<li>
<p>The following statement limits the concat dimension directly to the values specified by positions of the concat dimension.</p>
<pre dir="ltr">LIMIT reg.dist.ccdim TO 1, 4, 5
</pre>
<p>Issuing a <code dir="ltr">STATUS reg.dist.ccdim</code> statement produces the following output.</p>
<pre dir="ltr">The current status of REG.DIST.CCDIM is:
&lt;REGION: EAST&gt;, &lt;DISTRICT: BOSTON&gt;, &lt;DISTRICT: ATLANTA&gt;
</pre></li>
<li>
<p>The following statements set the status of <code dir="ltr">district</code> and then limit <code dir="ltr">reg.dist.ccdim</code> to the status of <code dir="ltr">district</code>.</p>
<pre dir="ltr">LIMIT district TO LAST 3
LIMIT reg.dist.ccdim TO district
</pre>
<p>Issuing a <code dir="ltr">REPORT reg.dist.ccdim</code> statement produces the following output.</p>
<pre dir="ltr">REG.DIST.CCDIM
----------------------
&lt;district: Dallas&gt;
&lt;district: Denver&gt;
&lt;district: Seattle&gt;
</pre></li>
<li>
<p>In the following statement, the <span class="italic">limit-clause</span> argument is a list of values of the concat dimension.</p>
<pre dir="ltr">LIMIT reg.dist.ccdim TO &lt;region: &#39;East&#39;&gt; &lt;district:  &#39;Boston&#39;&gt; &lt;district: &#39;Atlanta&#39;&gt;
</pre></li>
<li>
<p>The following statements define a valueset for <code dir="ltr">reg.dist.ccdim</code>, store the current status of the concat dimension in the valueset, reset the status of the concat to <code dir="ltr">ALL</code>, and then limit the concat to the valueset and report the values of the concat in status.</p>
<pre dir="ltr">DEFINE regdist.vset VALUESET reg.dist.ccdim
LIMIT regdist.vset TO reg.dist.ccdim
LIMIT reg.dist.ccdim TO ALL
LIMIT reg.dist.ccdim TO regdist.vset
RPR W 22 reg.dist.ccdim
</pre>
<p>The preceding statements produce the following result.</p>
<pre dir="ltr">REG.DIST.CCDIM
----------------------
&lt;region: East&gt;
&lt;district: Boston&gt;
&lt;district: Atlanta&gt;
</pre></li>
</ul>
<p>You can also limit a concat dimension using a valueset of one of its component dimensions:</p>
<ul>
<li>
<p>When the component dimensions contain identical values, you can limit the concat dimension to those values by using a Boolean expression. When the <code dir="ltr">district</code> and <code dir="ltr">region</code> dimensions both have <code dir="ltr">New</code> <code dir="ltr">York</code> as a value, then the following statement limits the <code dir="ltr">reg.dist.ccdim</code> to those values.</p>
<pre dir="ltr">LIMIT reg.dist.ccdim TO BASEVAL(reg.dist.ccdim) EQ &#39;New York&#39;
</pre></li>
<li>
<p>In the following example, the concat dimension <code dir="ltr">geog</code> has the simple dimension <code dir="ltr">region</code> and the conjoint dimension <code dir="ltr">cityandstate</code> as its base dimensions. The following statement sets the status of the concat dimension by limiting the conjoint base dimension.</p>
<pre dir="ltr">LIMIT geog TO cityandstate &lt;&#39;Princeton&#39; &#39;New Jersey&#39;&gt; -
   &lt;&#39;Patterson&#39; &#39;New Jersey&#39;&gt;
</pre>
<p>Issuing a <code dir="ltr">STATUS geog</code> statement produces the following output.</p>
<pre dir="ltr">The current status of GEOG is:
&lt;CITYANDSTATE: &lt;PRINCETON, NEW JERSEY&gt;, &lt;CITYANDSTATE: &lt;PATTERSON, NEW JERSEY&gt;&gt;
</pre></li>
<li>
<p>The following statements sets the status of the concat dimension by limiting the conjoint base dimension by specifying a value of a base dimension of the conjoint dimension.</p>
<pre dir="ltr">LIMIT geog TO cityandstate city &#39;Princeton&#39;
RPR W 30 geog
</pre>
<p>The preceding statement produces the following output.</p>
<pre dir="ltr">GEOG
------------------------------
&lt;cityandstate: &lt;Princeton, New Jersey&gt;&gt;
&lt;cityandstate: &lt;Princeton, Indiana&gt;&gt;
</pre></li>
</ul>
</div>
<!-- class="example" -->
<div id="OLADM2513" class="example">
<p class="titleinexample"><a id="sthref4480"></a>Example 10-17 Limiting with a Worksheet</p>
<p>This example shows how to limit a dimension to the values that are contained in a column of a worksheet. Here the dimension <code dir="ltr">month</code> is limited to the values that are contained in the first column of the worksheet <code dir="ltr">workitem</code>. The following statements produce a <code dir="ltr">workitem</code> report, which is shown following the statements.</p>
<pre dir="ltr">LIMIT month TO ALL
LIMIT wkscol TO 1
LIMIT wksrow TO workitem NE NA
REPORT workitem
               -WORKITEM-
               --WKSCOL--
WKSROW             1
-------------- ----------
             1 Jan96
             2 Feb96
             3 Mar96
             4 Apr96
             5 May96
             6 Jun96
             7 Jul96
             8 Aug96
             9 Sep96
            10 Oct96
            11 Nov96
            12 Dec96
</pre>
<p>The following statement limits the <code dir="ltr">month</code> dimension to the values that are listed in the first column of <code dir="ltr">workitem</code>.</p>
<pre dir="ltr">LIMIT month TO CHARLIST(workitem)
</pre>
<p>Issuing a <code dir="ltr">STATUS month</code> statement produces the following output.</p>
<pre dir="ltr">The current status of MONTH is:
Jan96 TO Dec96
</pre></div>
<!-- class="example" -->
<div id="OLADM2514" class="example">
<p class="titleinexample"><a id="CHDFHBAJ"></a><a id="i1021979"></a>Example 10-18 Using Ampersand Substitution with LIMIT</p>
<p><a id="sthref4481"></a><a id="sthref4482"></a><a id="sthref4483"></a>Assume that you want to specify exactly two products for a program named <code dir="ltr">product.rpt</code>. In this case, you could declare two dimension-value arguments to handle them. But when you want to be able to specify any number of products using LIMIT commands, then you can use a single argument with ampersand substitution.</p>
<p>Suppose you use the following commands in your program.</p>
<pre dir="ltr">ARGUMENT natext TEXT
ARGUMENT widthamt INTEGER
ARGUMENT rptprod TEXT
    ...
LIMIT product TO &amp;rptprod
</pre>
<p>You can run the program and specify that you want the first three products in the report.</p>
<pre dir="ltr">CALL product.rpt (&#39;Missing&#39; 8 &#39;first 3&#39;)
</pre>
<p>The single quotation marks are necessary to indicate that &#34;first 3&#34; should be taken as a single argument, rather than two separate arguments separated by a space. The ampersand causes the LIMIT command to interpret <code dir="ltr">&#39;first 3&#39;</code> as a keyword expression rather than as a dimension value.</p>
</div>
<!-- class="example" -->
<div id="OLADM2515" class="example">
<p class="titleinexample"><a id="i1021996"></a>Example 10-19 Branching on Null Status</p>
<p><a id="sthref4484"></a><a id="sthref4485"></a><a id="sthref4486"></a>Your program might try to set or refine the status of the <code dir="ltr">product</code> dimension to include only the products for which unit sales are greater than 500. When no products have unit sales of more than 500, then you can use the <code dir="ltr">IFNONE</code> keyword to specify that execution branch to the <code dir="ltr">novals</code> label.</p>
<pre dir="ltr">LIMIT product KEEP units GT 500 IFNONE novals
</pre>
<p>In the commands following the <code dir="ltr">novals</code> label, you can handle the special situation in which no products have units sales greater than 500.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" -->
<div id="OLADM840" class="refsect2"><a id="i1019733"></a>
<h3 class="refsect2">LIMIT (using values) command</h3>
<p><a id="ABC1039285"></a>A LIMIT command with a using values limit clause assigns values to a valueset or sets the current status list of a dimension or dimension surrogates to:</p>
<ul>
<li>
<p>Specified value or values. The values can be any of the following:</p>
<ul>
<li>
<p>Dimension values, expressed as literal values separated by commas, or as a multiline text expression, each line of which is a value of the dimension.</p>
</li>
<li>
<p>Ranges of dimension values, expressed as <span class="syntaxinlineitalic">value1</span> <span class="syntaxinline">TO</span> <span class="syntaxinlineitalic">value2</span>.</p>
</li>
<li>
<p>Integer values that represent the logical positions of dimension values, expressed as comma-delimited <code dir="ltr">INTEGER</code> values.</p>
</li>
<li>
<p>Ranges of INTEGER values that represent the logical positions of dimension values, expressed as <span class="syntaxinlineitalic">value1</span> <span class="syntaxinline">TO</span> <span class="syntaxinlineitalic">value2</span>.</p>
</li>
<li>
<p>Valuesets.</p>
</li>
</ul>
</li>
<li>
<p>Values for which a Boolean expression is <code dir="ltr">TRUE</code>.</p>
</li>
<li>
<p>The top or bottom performers of a dimension based on a criterion</p>
</li>
<li>
<p>The top or bottom performers of a dimension, by percentage, based on a criterion represented as an expression</p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4487"></a>Syntax</p>
<p class="synopsis">LIMIT&nbsp;{<span class="italic">dimension</span> | <span class="italic">valueset</span>}&nbsp;[<span class="italic">concat-component</span>] <span class="italic">limit-type -</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="italic">inclusive-val-args.</span>...| <span class="italic">exclusive-val-args</span>} [IFNONE&nbsp;<span class="italic">label</span>]</p>
<p>where:</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">inclusive-val-args</span> is one or more of the following constructs:</p>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinlineitalic">intvaluelist</span>&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinlineitalic">text-expression</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinlineitalic">value1&nbsp;</span><span class="syntaxinline">TO&nbsp;</span><span class="syntaxinlineitalic">value2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinlineitalic">valuelist</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinlineitalic">valueset</span><br/></li>
<li>
<p><span class="syntaxinlineitalic">exclusive-val-args</span> is one of the following constructs:</p>
<br/>
<span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALL</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinlineitalic">boolean-expression</span><br/>
<span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{BOTTOM|TOP}&nbsp;</span><span class="syntaxinlineitalic">n&nbsp;</span><span class="syntaxinline">BASEDON&nbsp;</span><span class="syntaxinlineitalic">expression</span><br/>
<span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{BOTTOM|TOP}&nbsp;</span><span class="syntaxinlineitalic">n-percent&nbsp;</span><span class="syntaxinline">PERCENTOF&nbsp;</span><span class="syntaxinlineitalic">expression</span><br/>
<span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{FIRST|LAST}&nbsp;</span><span class="syntaxinlineitalic">n</span><br/>
<span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NTH {</span><span class="syntaxinlineitalic">n</span> |<span class="italic">n</span> TO <span class="italic">n</span>}...<br/>
<span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LONGLIST</span><br/>
<span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LONGLIST</span><br/>
<span class="syntaxinline">SESSION</span><br/>
<span class="syntaxinline">STATUS</span><br/>
<span class="syntaxinline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NULL</span><br/></li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4488"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of the dimension or dimension surrogate for which you are setting status.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>The name of the valueset for which you are assigning values.</p>
</dd>
<dt><span class="italic">concat-component</span></dt>
<dd>
<p>The name of the component of the concat dimension whose values are used to determine the limit. (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this argument.)</p>
</dd>
<dt><span class="italic">limit-type</span></dt>
<dd>
<p>A keyword that specifies how Oracle OLAP should modify the current status list. (See the main entry for <a href="#i78802">LIMIT command</a> for a list and descriptions of these keywords.)</p>
</dd>
<dt><span class="italic">intvaluelist</span></dt>
<dd>
<p>A list of one or more <code dir="ltr">INTEGER</code> values, or the name of a single-cell variable that holds a numeric value. Separate the values with commas (<code dir="ltr">,</code>). Numeric values with decimal places (SHORTDECIMAL or DECIMAL values) are automatically truncated to <code dir="ltr">INTEGER</code> values before being used as dimension values. An <code dir="ltr">INTEGER</code> specifies a dimension value by its logical position in the full set of dimension values. You cannot specify a <code dir="ltr">NUMBER</code> dimension value by an <code dir="ltr">INTEGER</code> position. When the values of the <code dir="ltr">NUMBER</code> dimension are <code dir="ltr">INTEGER</code> values, then you can set the status of the dimension by specifying dimension values, as in <span class="italic">intvalue1</span>, <span class="italic">intvalue2</span> and so on.</p>
</dd>
<dt><span class="italic">text-expression</span></dt>
<dd>
<p>A multiline text expression, each line of which is a value of dimension.</p>
</dd>
<dt><span class="italic">value1</span> TO <span class="italic">value2</span></dt>
<dd>
<p>Specifies a range of dimension values where <span class="italic">value1</span> and <span class="italic">value2</span> can be either <code dir="ltr">INTEGER</code> values or dimension values. Such a range can be increasing (for example, 1 to 10) or decreasing (for example, 10 to 1). When you specify an <code dir="ltr">INTEGER</code> value, that value is the logical position of a value in the default status list for the dimension. When you specify a dimension value, the command convertsthe value to the logical position of the value in the default status list for the dimensioon. The current status of the dimension or valueset is assigned accordingly.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
You cannot specify the values of a <code dir="ltr">NUMBER</code> dimension using INTEGER positions. Instead, define an <code dir="ltr">INTEGER</code> dimension surrogate for the <code dir="ltr">NUMBER</code> dimension and limit the dimension by the positions of the surrogate.</div>
</dd>
<dt><span class="italic">valuelist</span></dt>
<dd>
<p>A list of one or more values of dimension. A dimension value can be specified as a text expression whose value is a valid dimension value. For a <code dir="ltr">NUMBER</code> dimension, dimension values are numbers. For dimensions with a type of DAY, WEEK, MONTH, QUARTER, or YEAR, dimension values can also be specified as <code dir="ltr">DATE</code> expressions.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>An analytic workspace valueset object that is a saved list that holds the values for the dimension whose status is being set. You cannot define a valueset for a dimension surrogate, therefore you cannot specify a valueset when setting the status of a dimension surrogate. However, when you limit a dimension with a valueset, then you automatically limit to the same set any dimension surrogates of that dimension. You can also specify a <a href="dml_functions_2.htm#i78807">LIMIT function</a>.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>Specifies that all dimension values in the default status are to be included in the status. The default status is made up of all dimension values for which read permission is granted, in the same order as when the dimension was last maintained. When you start up an analytic workspace, the status for each dimension in your analytic workspace is the default status. Changing the read permission for a dimension with PERMIT or PERMITRESET statement changes the default status for the dimension.</p>
</dd>
<dt><span class="italic">boolean-expression</span></dt>
<dd>
<p>An expression whose TRUE values are used by Oracle OLAP when limiting the dimension or status. The <span class="italic">boolean-expression</span> must be dimensioned by the dimension whose status is being set. For a dimension surrogate, the Boolean expression is evaluated over the dimension for which it is a surrogate. The data types of the expressions you are comparing in the Boolean expression must be similar. See the <a href="dml_functions_1.htm#i79189">CONVERT</a> function for information on converting data types. To correctly use LIMIT with a Boolean expression you must understand how it works with a Boolean expression that has with multiple dimensions, see <a href="#i1020623">&#34;How LIMIT Handles Boolean Expressions With More Than One Dimension&#34;</a> for details.</p>
</dd>
<dt>BOTTOM &nbsp;<span class="italic">n</span>&nbsp;BASEDON&nbsp;<span class="italic">expression</span></dt>
<dt>TOP&nbsp;<span class="italic">n</span>&nbsp;BASEDON&nbsp;<span class="italic">expression</span></dt>
<dd>
<p>Specifies that the status of a dimension or valueset is set based on a criterion, where <span class="italic">n</span> is the number of values to select and <span class="italic">expression</span> is the criterion on which to base the selection. All dimensions of <span class="italic">expression</span> other than the one whose status is being set must be limited to a single value. TOP results in the status sorted in descending order, BOTTOM results in the status sorted in ascending order. You cannot use a composite after the BASEDON keyword. When you attempt to do so, an error message is displayed.</p>
</dd>
<dt>BOTTOM<span class="italic">&nbsp;n-percent</span>&nbsp;PERCENTOF&nbsp;<span class="italic">expression</span></dt>
<dt>TOP<span class="italic">&nbsp;n-percent</span>&nbsp;PERCENTOF&nbsp;<span class="italic">expression</span></dt>
<dd>
<p>Specifies that the status of a dimension or valueset is set by finding the top or bottom performers based on a criterion represented as an expression. This construction sorts values and adds them to the status that is based on their contribution, by percentage, to an expression.</p>
<p>For example, the following statement sorts products in descending order by each product&#39;s contribution to <code dir="ltr">TOTAL(sales)</code> and then add values to the status, starting from the top, until the cumulative total of <code dir="ltr">sales</code> by <code dir="ltr">product</code> reaches or exceeds 30 percent of all sales.</p>
<pre dir="ltr">LIMIT product TO TOP 30 PERCENTOF TOTAL(sales, product)
</pre>
<div class="infobox-note">
<p class="notep1">Important:</p>
Do not use a criterion expression that causes a side effect or changes its own value.</div>
</dd>
<dt>FIRST&nbsp;<span class="italic">n</span></dt>
<dt>LAST <span class="italic">n</span></dt>
<dd>
<p>Specifies the first <span class="italic">n</span>, last <span class="italic">n</span> values in the dimension&#39;s full set of values when used with TO, ADD, COMPLEMENT, or INSERT. When used with KEEP or REMOVE, specifies the first <span class="italic">n</span>, last <span class="italic">n</span> or <span class="italic">n</span>th values in the current status.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
It can happen that the last item in status, based on a PERCENTOF criterion, is one of several dimension values having the same associated criterion value. In this case, LIMIT includes all dimension values with that criterion value in the resulting status, even when that causes the total of the criterion value to far exceed the specified percentage.</div>
</dd>
<dt>NTH {<span class="italic">n</span> |<span class="italic">n</span> TO <span class="italic">n</span>}</dt>
<dd>
<p>Specifies the <span class="italic">n</span> values in the dimension&#39;s full set of values when used with TO, ADD, COMPLEMENT, or INSERT. When used with KEEP or REMOVE, specifies the <span class="italic">n</span> values in the current status. You can specify any number of values or range of values.</p>
</dd>
<dt>LONGLIST</dt>
<dd>
<p>Indicates that there can be up to 2,000 arguments in the LIMIT statement. When there are less than 300 arguments, LONGLIST is not needed.</p>
</dd>
<dt>SESSION</dt>
<dd>
<p>Specifies that Oracle OLAP use only those dimension members that were created using a <a href="#i1023561">MAINTAIN ADD SESSION</a> statement when performing the limit.</p>
</dd>
<dt>STATUS</dt>
<dd>
<p>Specifies that Oracle OLAP use the values that are presently in status when performing the limit. Specifying this keyword is equivalent to (but more efficient than) using a VALUES (<span class="italic">dimname</span>) statement.</p>
</dd>
<dt>NULL</dt>
<dd>
<p>Indicates an empty dimension or valueset list. Using this keyword with the TO or KEEP arguments removes all values from the current status, leaving an empty dimension or valueset list, even when OKNULLSTATUS is <code dir="ltr">NO</code>. You cannot use IFNONE and NULL in the same LIMIT statement. ADD, INSERT, and REMOVE NULL leave status unchanged. COMPLEMENT NULL places all values in status.</p>
</dd>
<dt>IFNONE <span class="italic">label</span></dt>
<dd>
<p>Specifies that program execution should branch to <span class="italic">label</span> when the requested status has null status or is based on a related dimension that turns out to have null status (that is, to have no values). (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this phrase.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4489"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2516"></a>Considerations When Specifying Values</p>
<p>Keep the following points in mind when specifying values in <span class="italic">limit-clause:</span></p>
<ul>
<li>
<p><a id="sthref4490"></a>The setting of the LIMITSTRICT option determines how Oracle OLAP behaves when a list of values in a LIMIT command, a LIMIT function, or a QDR contains a nonexistent value. By default, when you specify a nonexistent value, Oracle OLAP treats the nonexistent value as an invalid value and stops executing the limit and issues an error. If, instead, you want Oracle OLAP to treat a nonexistent value as an <code dir="ltr">NA</code> value, set the value of LIMITSTRICT to <code dir="ltr">NO</code>.</p>
</li>
<li>
<p>You can embed a quoted string within a quoted string, which is necessary when there are special characters in a base dimension value of a composite or conjoint dimension, such as <code dir="ltr">Joe&#39;s Deli</code>. See the <a href="dml_expression.htm#CJAJJIJG">&#34;Text Literals&#34;</a>.</p>
</li>
<li>
<p>When the dimension has the NTEXT data type and an argument that represents a dimension value has the TEXT data type, LIMIT converts the argument value to NTEXT. Similarly, when the dimension has the TEXT data type and an argument that represents a dimension value has the NTEXT data type, LIMIT converts the argument value to TEXT; however, in this case, the conversion can result in data loss when the NTEXT value cannot be represented in the database character set.</p>
</li>
<li>
<p>When you specify a value of a dimension with a type of DAY, WEEK, MONTH, QUARTER, or YEAR, the value can be in the format specified by the VNF (value name format) for the dimension (or in the default VNF for the type of dimension you are limiting when the dimension does not have a VNF) or in a valid input style for DATE values.</p>
<p>You must only provide the date components that are relevant for the type of dimension you are limiting. For a DAY or WEEK dimension, you must supply the day, month, and year components. For a MONTH or QUARTER dimension, you must only supply the month and year (for example, <code dir="ltr">Jun95</code> or <code dir="ltr">0695</code> for June 1995). For a YEAR dimension, you must only specify the year (for example, <code dir="ltr">95</code> for 1995). The valid input styles for dates are discussed in DATEORDER.</p>
<p>When you specify a DATE expression or a text value that represents a complete date, you can specify <span class="italic">any</span> date that falls within the time period that is represented by the desired dimension value. Oracle OLAP uses the DATEORDER option to resolve any ambiguities.</p>
</li>
</ul>
<p class="subhead2"><a id="i1020623"></a><a id="OLADM2517"></a>How LIMIT Handles Boolean Expressions With More Than One Dimension</p>
<p>When you have used this type of LIMIT command (or LIMIT function) to limit only one dimension of a multi-dimensional Boolean expression, you effectively limit that expression to the values of limited dimension and <span class="italic">only</span> the current values of the unlimited dimensions.</p>
<p>For example, assume that you you have a <code dir="ltr">sales</code> variable is dimensioned by three dimensions: <code dir="ltr">product</code>, <code dir="ltr">district</code>, and <code dir="ltr">month</code>.</p>
<p>Let&#39;s look first at what happens when you explicitly limit <code dir="ltr">district</code> and <code dir="ltr">month</code> dimensions to single values and then limit <code dir="ltr">product</code> using a Boolean expression.</p>
<pre dir="ltr">LIMIT month TO &#39;Jan95&#39;
LIMIT district TO &#39;Boston&#39;
LIMIT product TO sales GT 90000
STATUS product
</pre>
<pre dir="ltr"></pre>
<p>The STATUS statement produces the following output.</p>
<pre dir="ltr">The current status of PRODUCT is:
Footwear
</pre>
<pre dir="ltr"></pre>
<p>In this case, the resulting status is all of the products whose sales exceed $90,000 for the month of January 1995 in the Boston district, which is only Footwear.</p>
<p>Now consider the following example in which the MONTH dimension is not limited to a single value.</p>
<pre dir="ltr">LIMIT product TO ALL
LIMIT month TO &#39;Jan95&#39; &#39;Feb95&#39; &#39;Mar95&#39;
LIMIT district TO &#39;Boston&#39;
</pre>
<pre dir="ltr"></pre>
<p>When you execute a REPORT <code dir="ltr">sales</code> statement, you can see the BOSTON sales figures for three months.</p>
<pre dir="ltr">DISTRICT: BOSTON
               -------------SALES--------------
               -------------MONTH--------------
PRODUCT          Jan95      Feb95      Mar95
-------------- ---------- ---------- ----------
Tents           32,153.52  32,536.30  43,062.75
Canoes          66,013.92  76,083.84  91,748.16
Racquets        52,420.86  56,837.88  58,838.04
Sportswear      53,194.70  58,913.40  62,797.80
Footwear        91,406.82  86,827.32 100,199.46
</pre>
<pre dir="ltr"></pre>
<p>However, the following LIMIT and STATUS commands produce the output shown following them. Again, only Footwear is in the status for <code dir="ltr">month</code>.</p>
<pre dir="ltr">LIMIT product TO sales GT 90000
STATUS product
 
The current status of PRODUCT is:
Footwear
</pre>
<pre dir="ltr"></pre>
<p>In this case, each product has three sales figures, one for each month. For each product, LIMIT evaluates the sales data for <span class="italic">only</span> the first month in status. A product is added to the status when its sales data exceeds $90,000 in that month.</p>
<p>When you would like all months evaluated for each product, you can use the EVERY, ANY, or NONE functions. For example, the following LIMIT statement adds a product to the status when <span class="italic">any</span> of its months has a sales figure that exceeds $90,000.</p>
<pre dir="ltr">LIMIT product TO ANY(sales GT 90000, product)
</pre>
<p>In this case a <code dir="ltr">STATUS product</code> statement produces the following output.</p>
<pre dir="ltr">The current status of product is:
Canoes, Footwear
</pre>
<p class="subhead2"><a id="OLADM2518"></a>Limiting Using Implicit Relations</p>
<p>Every dimension with a type of DAY, WEEK, MONTH, QUARTER, or YEAR is related to all other dimensions of this type through an implicit relation. When you limit the values of one DAY, WEEK, MONTH, QUARTER, or YEAR dimension by specifying another DAY, WEEK, MONTH, QUARTER, or YEAR dimension as the <span class="italic">related-dimension,</span> Oracle OLAP uses the implicit relation by default. However, when an explicit relation is defined between the two of these types of dimensions, you can override the default by specifying the name of the explicit relation as the <span class="italic">related-dimension.</span> For example, you can issue the following statement.</p>
<pre dir="ltr">LIMIT month TO quarter year
</pre>
<pre dir="ltr"></pre>
<p>This statement temporarily limits <code dir="ltr">quarter</code> to <code dir="ltr">year</code>, then limits <code dir="ltr">month</code> to <code dir="ltr">quarter</code>, and finally, restores <code dir="ltr">quarter</code> to its original status.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4491"></a>Examples</p>
<div id="OLADM2519" class="example">
<p class="titleinexample"><a id="CCHFGAHI"></a>Example 10-20 Using LIMIT to Partially Populate Variables</p>
<pre dir="ltr">DEFINE GEOG DIMENSION TEXT
DEFINE PRODUCTS DIMENSION TEXT
DEFINE SALES VARIABLE DECIMAL &lt;PRODUCTS GEOG&gt;
DEFINE COSTS VARIABLE DECIMAL &lt;PRODUCTS GEOG&gt;
</pre>
<p>Assume also as shown by the following reports that you have populated the dimensions but not the variables. All of the elements of the <code dir="ltr">costs</code> and <code dir="ltr">sales</code> variables appear in the report and all have the value of <code dir="ltr">NA</code>.</p>
<pre dir="ltr">PRODUCTS
------------
TVs
Radios
Skis
Bikes
 
GEOG
------------
Boston
Springfield
New Orleans
Baton Rouge
Quebec City
Montreal
Toronto
Norfolk
 
             -------------------SALES-------------------
             -----------------PRODUCTS------------------
GEOG            TVs       Radios      Skis      Bikes
------------ ---------- ---------- ---------- ----------
Boston               NA         NA         NA         NA
Springfield          NA         NA         NA         NA
New Orleans          NA         NA         NA         NA
Baton Rouge          NA         NA         NA         NA
Quebec City          NA         NA         NA         NA
Montreal             NA         NA         NA         NA
Toronto              NA         NA         NA         NA
Norfolk              NA         NA         NA         NA
 
             -------------------COSTS-------------------
             -----------------PRODUCTS------------------
GEOG            TVs       Radios      Skis      Bikes
------------ ---------- ---------- ---------- ----------
Boston               NA         NA         NA         NA
Springfield          NA         NA         NA         NA
New Orleans          NA         NA         NA         NA
Baton Rouge          NA         NA         NA         NA
Quebec City          NA         NA         NA         NA
Montreal             NA         NA         NA         NA
Toronto              NA         NA         NA         NA
Norfolk              NA         NA         NA         NA
 
</pre>
<p>Now you issue the following LIMIT command so that only values indexed by Boston and Springfield values of the geog dimension are accessible to Oracle OLAP.</p>
<pre dir="ltr">LIMIT geog TO &#39;Boston&#39; &#39;Springfield&#39;
 
</pre>
<p>Now you issue new reports for <code dir="ltr">geog</code>, costs, and <code dir="ltr">sales</code>. For the <code dir="ltr">geog</code> dimension only the Boston and Springfield elements values appear. Also, only the elements of the <code dir="ltr">costs</code> and <code dir="ltr">sales</code> variables that are indexed by Boston and Springfield appear in the report.</p>
<pre dir="ltr">GEOG
------------
Boston
Springfield
 
             -------------------SALES-------------------
             -----------------PRODUCTS------------------
GEOG            TVs       Radios      Skis      Bikes
------------ ---------- ---------- ---------- ----------
Boston               NA         NA         NA         NA
Springfield          NA         NA         NA         NA
 
             -------------------COSTS-------------------
             -----------------PRODUCTS------------------
GEOG            TVs       Radios      Skis      Bikes
------------ ---------- ---------- ---------- ----------
Boston               NA         NA         NA         NA
Springfield          NA         NA         NA         NA
 
</pre>
<p>Now you issue two assignment statements that use the RANDOM function to populate the <code dir="ltr">costs</code> and <code dir="ltr">sales</code> variables, followed by the LIMIT command that sets the status of the geog dimension to its default status of ALL.</p>
<pre dir="ltr"> 
sales = RANDOM (200)
costs = RANDOM (100)
LIMIT geog to ALL
 
</pre>
<p>Now you issue new reports for <code dir="ltr">geog</code>, costs, and <code dir="ltr">sales</code>. All of the values of the <code dir="ltr">geog</code> dimension and all of the elements of the <code dir="ltr">costs</code> and <code dir="ltr">sales</code> variables appear. However, only the elements of the <code dir="ltr">costs</code> and <code dir="ltr">sales</code> variables that are indexed by Boston and Springfield have non-NA values.</p>
<pre dir="ltr"> 
GEOG
------------
Boston
Springfield
New Orleans
Baton Rouge
Quebec City
Montreal
Toronto
Norfolk
 
             -------------------SALES-------------------
             -----------------PRODUCTS------------------
GEOG            TVs       Radios      Skis      Bikes
------------ ---------- ---------- ---------- ----------
Boston           199.97     133.82      10.07     148.17
Springfield      173.94      27.56      32.21      47.40
New Orleans          NA         NA         NA         NA
Baton Rouge          NA         NA         NA         NA
Quebec City          NA         NA         NA         NA
Montreal             NA         NA         NA         NA
Toronto              NA         NA         NA         NA
Norfolk              NA         NA         NA         NA
 
             -------------------COSTS-------------------
             -----------------PRODUCTS------------------
GEOG            TVs       Radios      Skis      Bikes
------------ ---------- ---------- ---------- ----------
Boston            43.52      25.32      68.68      10.38
Springfield        9.49      27.96      61.76      16.12
New Orleans          NA         NA         NA         NA
Baton Rouge          NA         NA         NA         NA
Quebec City          NA         NA         NA         NA
Montreal             NA         NA         NA         NA
Toronto              NA         NA         NA         NA
Norfolk              NA         NA         NA         NA
</pre></div>
<!-- class="example" -->
<div id="OLADM2520" class="example">
<p class="titleinexample"><a id="sthref4492"></a>Example 10-21 Limiting with a Boolean Expression</p>
<p>You can limit a dimension or valueset according to the values of a Boolean expression. In this example, the values of the TOTALL function are broken out by <code dir="ltr">product</code> and compared to a constant. The LIMIT statement sets the status to all the products whose sales, totaled for all months and districts, are greater than 12 million.</p>
<pre dir="ltr">LIMIT product TO TOTAL(sales product) GT 12000000
</pre></div>
<!-- class="example" -->
<div id="OLADM2521" class="example">
<p class="titleinexample"><a id="sthref4493"></a>Example 10-22 Limiting with a Formula</p>
<p>When you use the same criterion frequently to limit a dimension, you can save the expression as a formula and use the name of the formula as the limit expression.</p>
<pre dir="ltr">DEFINE criterion FORMULA TOTAL(sales product) GT 12000000
LIMIT product TO criterion
</pre></div>
<!-- class="example" -->
<div id="OLADM2522" class="example">
<p class="titleinexample"><a id="sthref4494"></a>Example 10-23 Limiting with a Valueset</p>
<p>You can save a status list in a valueset and use those values later to limit the status. When it takes several LIMIT commands to produce the status list you want, the valueset keeps you from having to repeat those LIMIT commands each time you need the same list. The following statements limit <code dir="ltr">district</code> to the districts in which sportswear sales exceeded $1,000,000 in 1996. The status is saved in the valueset <code dir="ltr">sports.district</code>, and you can limit <code dir="ltr">district</code> to the same list with one LIMIT statement.</p>
<pre dir="ltr">DEFINE sports.district VALUESET district
LIMIT product TO &#39;Sportswear&#39;
LIMIT month TO year &#39;Yr96&#39;
LIMIT sports.district TO TOTAL(sales district) GT 1000000
LIMIT district TO sports.district
</pre>
<p>Issuing a <code dir="ltr">STATUS district</code> statement produces this output.</p>
<pre dir="ltr">The current status of DISTRICT is:
ATLANTA TO DENVER
</pre></div>
<!-- class="example" -->
<div id="OLADM2523" class="example">
<p class="titleinexample"><a id="sthref4495"></a>Example 10-24 Limiting with a Variable</p>
<p>Here the TOP and BASEDON keywords are used to limit the status of a dimension, using the values of a variable as a criterion. The status list is sorted in descending order according to the values of <code dir="ltr">sales</code>.</p>
<pre dir="ltr">LIMIT product TO &#39;Sportswear&#39;
LIMIT month TO &#39;Jul96&#39;
LIMIT district TO TOP 2 BASEDON sales
</pre>
<p>The following REPORT statement</p>
<pre dir="ltr">REPORT DOWN district sales
</pre>
<p>produces this output, which shows the results of the LIMIT commands.</p>
<pre dir="ltr">PRODUCT: SPORTSWEAR
               --SALES---
               --MONTH---
DISTRICT         Jul96
-------------- ----------
Dallas         220,416.81
Atlanta        211,666.14
</pre></div>
<!-- class="example" -->
<div id="OLADM2524" class="example">
<p class="titleinexample"><a id="i1020896"></a>Example 10-25 Limiting a Conjoint Dimension with a Concat Base Dimension</p>
<p>Assume that your analytic workspace contains a conjoint dimension named <code dir="ltr">prod.regdist</code> that has the <code dir="ltr">product</code> simple dimension and the <code dir="ltr">reg.dist.ccdim</code> concat dimension as its base dimensions. The conjoint dimension <code dir="ltr">prod.regdist</code> has the following values.</p>
<pre dir="ltr">Tents   &lt;region: East&gt;
Tents   &lt;region: West&gt;
Canoes  &lt;region: East&gt;
Canoes  &lt;region: West&gt;
Tents   &lt;district: Boston&gt;
Tents   &lt;district: Atlanta&gt;
Tents   &lt;district: Denver&gt;
Canoes  &lt;district: Atlanta&gt;
Canoes  &lt;district: Seattle&gt;
</pre>
<p>There are two different ways that you can set the status of a conjoint dimension that has a concat dimension as a base dimension:</p>
<ul>
<li>
<p>By specifying the concat dimension, one of its component dimensions, and a value of the component dimension. The following LIMIT statement sets the status of <code dir="ltr">prod.regdist</code> in this manner.</p>
<pre dir="ltr">LIMIT prod.regdist TO reg.proddist.ccdim district &#39;Atlanta&#39;
RPR W 20 prod.regdist
</pre>
<p>The preceding statement produces the following output.</p>
<pre dir="ltr">--------------PROD.REGDIST---------------
      PRODUCT           REG.DIST.CCDIM
-------------------- --------------------
Tents                &lt;district: Atlanta&gt;
Canoes               &lt;district: Atlanta&gt;
</pre></li>
<li>
<p>You can also set the status of the conjoint by specifying its values. The following LIMIT statement sets the status of <code dir="ltr">prod.regdist</code> in this manner.</p>
<pre dir="ltr">LIMIT prod.regdist TO &lt;&#39;Tents&#39; &#39;&lt;region: East&gt;&#39;&gt; &lt;&#39;Tents&#39; &#39;&lt;district: Boston&gt;&#39;&gt;
RPR W 20 prod.regdist
</pre>
<p>The preceding statement produces the following output.<a id="sthref4496"></a></p>
<pre dir="ltr">--------------PROD.REGDIST---------------
      PRODUCT           REG.DIST.CCDIM
-------------------- --------------------
Tents                &lt;region: East&gt;
Tents                &lt;district: Boston&gt;
</pre></li>
</ul>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM841" class="refsect2"><a id="i1019738"></a>
<h3 class="refsect2">LIMIT using LEVELREL command</h3>
<p><a id="ABC1112988"></a>A LIMIT command that uses only dimension values that are at the same level as the current level of the hierarchical dimension or dimension surrogate when setting status or assigning values to a valueset.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4497"></a>Syntax</p>
<p class="synopsis">LIMIT&nbsp;{<span class="italic">dimension</span> | <span class="italic">valueset</span>}&nbsp;[<span class="italic">concat-component</span>] <span class="italic">limit-type-</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEVELREL <span class="italic">level-relation-clause</span>&nbsp;[IFNONE&nbsp;<span class="italic">label</span>]</p>
<p>where the syntax of <span class="syntaxinlineitalic">level-relation-clause</span> varies depending on the dimensionality of the object you want to specify:</p>
<ul>
<li>
<p>To specify a level relation which is multidimensional you use the following syntax:</p>
<p class="synopsis">RELATION <span class="italic">level-relation-name</span> [QUALIFY <span class="italic">relation-dimension-name</span> [<span class="italic">inclusive-val-args.</span>..]...]</p>
<p>(You can also use this syntax when the level relation is one-dimensional.)</p>
</li>
<li>
<p>To specify a level relation which is one-dimensional, you can use the following simplified syntax:</p>
<p class="synopsis">&nbsp;<span class="italic">level-relation-name</span>&nbsp;[<span class="italic">valueset2</span>]&nbsp;&nbsp;&nbsp;</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4498"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of the dimension or dimension surrogate for which you are setting status.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>The name of the valueset for which you are assigning values; or a <a href="dml_functions_2.htm#i78807">LIMIT function</a>.</p>
</dd>
<dt><span class="italic">concat-component</span></dt>
<dd>
<p>The name of the component of the concat dimension whose values are used to determine the limit. (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this argument.)</p>
</dd>
<dt><span class="italic">limit-type</span></dt>
<dd>
<p>A keyword that specifies how Oracle OLAP should modify the current status list. (See the main entry for <a href="#i78802">LIMIT command</a> for a list and descriptions of these keywords.)</p>
</dd>
<dt>LEVELREL</dt>
<dd>
<p>Sets the status of a hierarchical dimension to all of the values of the hierarchical dimension that are at the same level as the current value of the dimension; or, that limits a hierarchical dimension to those values of the hierarchical dimension that are at the same level as the current value of the dimension and that are also in a specified valueset.</p>
</dd>
<dt>RELATION</dt>
<dd>
<p>Specifies that Oracle OLAP performs the limit based on the values of the relation specified by <span class="italic">level-relation-name</span>. Specify this keyword if <span class="italic">level-relation-name</span> is a multidimensional relation.</p>
</dd>
<dt><span class="italic">level-relation-name</span></dt>
<dd>
<p>Specifies the name of a level relation for the hierarchical dimension you want to limit. See <a href="dml_basics.htm#BABHJAGG">&#34;Levelrel Relation&#34;</a> for more information.</p>
</dd>
<dt>QUALIFY <span class="italic">relation-dimension-name</span> [<span class="italic">inclusive-val-args</span>]</dt>
<dd>
<p>Identifies the values by which Oracle OLAP performs the limit.</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">relation-dimension-name</span> is the name of a dimension of the relation specified by <span class="italic">level-relation-name</span>.</p>
</li>
<li>
<p><span class="syntaxinlineitalic">inclusive-val-args</span> specifies the values of <span class="italic">relation-dimension-name</span> to use when determining the values of <span class="italic">level-relation-name</span> by which to perform the limit. You can specify any inclusive valuelist argument as described in the syntax of the <span class="italic">inclusive-val-args</span> argument for the <span class="italic">valuelist</span> clause for LIMIT command. (See <a href="#i1019733">LIMIT (using values) command</a> for detailed syntax.) When you omit this argument, Oracle OLAP uses the current status of the dimension when performing the limit.</p>
</li>
</ul>
</dd>
<dt><span class="italic">valueset2</span></dt>
<dd>
<p>Specifies the name of a valueset object is dimensioned by the level dimension for the hierarchical dimension that you want to limit. The result of using this argument is the individual valueset that corresponds to the level value of the current position of the dimensions.</p>
<p>You can also specify a<a href="dml_functions_2.htm#i78807">LIMIT function</a>.</p>
</dd>
<dt>IFNONE <span class="italic">label</span></dt>
<dd>
<p>Specifies that program execution should branch to <span class="italic">label</span> when the requested status has null status or is based on a related dimension that turns out to have null status (that is, to have no values). (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this phrase.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4499"></a>Examples</p>
<div id="OLADM2525" class="example">
<p class="titleinexample"><a id="sthref4500"></a>Example 10-26 Limiting to a Single Time Period of a Hierarchical Time Dimension</p>
<p>Assume that you have defined a hierarchical text dimension named <code dir="ltr">time</code>, a level dimension named <code dir="ltr">timelevels</code> that has <code dir="ltr">Month</code> and <code dir="ltr">Year</code> as values, and a relation named <code dir="ltr">timelevelsrel</code> that is dimensioned by <code dir="ltr">time</code> and that has <code dir="ltr">timelevels</code> as a related dimension (that is, for each value of the <code dir="ltr">time</code> dimension, <code dir="ltr">timelevelsre</code> contains a value of either <code dir="ltr">Month</code> or <code dir="ltr">Year</code>) When you want to limit the values of <code dir="ltr">time</code> that are already in status to only those values that are at the same level as <code dir="ltr">Jan99</code>, you can issue the following statement.<a id="sthref4501"></a></p>
<pre dir="ltr">LIMIT time TO LEVELREL timelevelsrel
</pre>
<p>This is equivalent to issuing the following statement</p>
<pre dir="ltr">LIMIT time TO RELATION timelevelsrel QUALIFY time CURRENT
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM842" class="refsect2"><a id="i1019747"></a>
<h3 class="refsect2">LIMIT (using related dimension) command</h3>
<p><a id="ABC1040283"></a>A LIMIT command with a related-dimension limit clause that uses the values of a different related dimension to assign values to a valueset or to set the status of a dimension or a dimension surrogate.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4502"></a>Syntax</p>
<p class="synopsis">LIMIT&nbsp;{<span class="italic">dimension</span> | <span class="italic">valueset</span>} <span class="italic">limit-type related-dim-clause</span> [IFNONE&nbsp;<span class="italic">label</span>]</p>
<p>where the syntax of <span class="syntaxinlineitalic">related-dim-clause</span> varies depending on the type of object being specified:</p>
<ul>
<li>
<p>When you want to specify a relation, the syntax is:</p>
<p class="synopsis">RELATION <span class="italic">relation-name</span> [QUALIFY <span class="italic">relation-dimension-name</span> [<span class="italic">inclusive-val-args.</span>..]...]</p>
</li>
<li>
<p>When you want to specify a dimension that is related to the dimension being limited, the syntax is:</p>
<p class="synopsis">&nbsp;<span class="italic">related-dimension-name</span>&nbsp;[<span class="italic">related-dimension-valuelist</span>]&nbsp;&nbsp;&nbsp;</p>
<p>(You can also use this simplified syntax when the object is a one-dimensional relation.)</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4503"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of the dimension or dimension surrogate for which you are setting status.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>The name of the valueset for which you are assigning values; or a <a href="dml_functions_2.htm#i78807">LIMIT function</a>.</p>
</dd>
<dt><span class="italic">concat-component</span></dt>
<dd>
<p>The name of the component of the concat dimension whose values are used to determine the limit. (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this argument.)</p>
</dd>
<dt><span class="italic">limit-type</span></dt>
<dd>
<p>A keyword that specifies how Oracle OLAP should modify the current status list. (See the main entry for <a href="#i78802">LIMIT command</a> for a list and descriptions of these keywords.)</p>
</dd>
<dt>RELATION <span class="italic">relation-name</span></dt>
<dd>
<p>Specifies that Oracle OLAP performs the limit based on the values of the relation specified by <span class="italic">relation-name</span>. Specify this keyword if <span class="italic">relation-name</span> is a multidimensional relation. Also, when there are multiple relations between the dimension being limited and the dimension specified by <span class="italic">related-dimension-name</span>, you can use this phrase to identify which relation Oracle OLAP uses to perform the limit.</p>
</dd>
<dt>QUALIFY <span class="italic">relation-dimension-name</span> [<span class="italic">inclusive-val-args</span>]</dt>
<dd>
<p>Identifies the values by which Oracle OLAP performs the limit, where:</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">relation-dimension-name</span> is the name of a dimension of the relation specified by <span class="italic">relation-name</span>.</p>
</li>
<li>
<p><span class="syntaxinlineitalic">inclusive-val-args</span> specifies the values of <span class="italic">relation-dimension-name</span> to use when determining the parent values. You can specify any inclusive valuelist argument as described in the syntax of the <span class="italic">inclusive-val-args</span> argument for the <span class="italic">valuelist</span> clause for LIMIT command. See <a href="#i1019733">LIMIT (using values) command</a> for detailed syntax. When you omit this argument, Oracle OLAP uses the current status list of the related dimensions when performing the limit.</p>
</li>
</ul>
</dd>
<dt><span class="italic">related-dimension-name</span></dt>
<dd>
<p>Specifies the name of a one-dimensional relation or a dimension that is related to the dimension being limited. For <span class="italic">related-dimension-name</span>, you can also specify a dimension surrogate for the dimension you are limiting, or a dimension surrogate of the related dimension. For example, <code dir="ltr">dimsurr</code> is a dimension surrogate of <code dir="ltr">dim2</code> and <code dir="ltr">dim2</code> is related to <code dir="ltr">dim1</code>. The dimension surrogate <code dir="ltr">dimsurr</code> has the values <code dir="ltr">Dsv1</code>, <code dir="ltr">Dsv2</code>, <code dir="ltr">Dsv3</code> and <code dir="ltr">Dsv4</code>. The following statement limits <code dir="ltr">dim1</code> by specifying values of <code dir="ltr">dimsurr</code>.</p>
<pre dir="ltr">LIMIT dim1 TO dimsurr dsv1 dsv3
</pre></dd>
<dt><span class="italic">related-dimension-valuelist</span></dt>
<dd>
<p>The values of the related dimension or a dimension surrogate for the related dimension or the dimension specified using the syntax shown in LIMIT command. See <a href="#i1019733">LIMIT (using values) command</a> for detailed syntax. When this argument is present in a LIMIT statement, status is obtained by selecting the values of the dimension being limited, which are related to the <span class="italic">related-dimension</span> values. When <span class="italic">valuelist</span> is omitted, the current status value of <span class="italic">related-dimension</span> is used.</p>
</dd>
<dt>IFNONE <span class="italic">label</span></dt>
<dd>
<p>Specifies that program execution should branch to <span class="italic">label</span> when the requested status has null status or is based on a related dimension that turns out to have null status (that is, to have no values). (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this phrase.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4504"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2526"></a>Limiting to a Related Dimension Is a Two-Step Process</p>
<p>When you limit a dimension or valueset to a related dimension, the resulting status is determined in a two-step process:</p>
<ol>
<li>
<p>The dimension values are arranged in the order of the values of the related dimension.</p>
</li>
<li>
<p>When there are multiple values of the dimension for any value of the related dimension, those values are arranged in the order of their default status.</p>
</li>
</ol>
<p class="subhead2"><a id="OLADM2527"></a>Suppressing the Sort When Limiting to a Related Dimension</p>
<p>You can suppress the sort that occurs when you limit a dimension or valueset to a related dimension by setting LIMITSORTREL to <code dir="ltr">NO</code> which can significantly improve performance when the dimension you are limiting is large.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When LIMIT.SORTREL is <code dir="ltr">NO</code>, printed output of a dimension may not appear in logical order.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4505"></a>Examples</p>
<div id="OLADM2528" class="example">
<p class="titleinexample"><a id="sthref4506"></a>Example 10-27 Limiting with a Related Dimension</p>
<p>Here the status of a dimension is limited using a related dimension. This statement limits <code dir="ltr">district</code> to <code dir="ltr">Boston</code> and <code dir="ltr">Atlanta</code>, which are in the <code dir="ltr">East</code> region.</p>
<pre dir="ltr">LIMIT district TO region &#39;East&#39;
</pre>
<p>This statement limits <code dir="ltr">product</code> to <code dir="ltr">Sportswear</code> and <code dir="ltr">Footwear</code>, which are in the division that appears last in the list of <code dir="ltr">division</code> values.<a id="sthref4507"></a></p>
<pre dir="ltr">LIMIT product TO division LAST 1
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM843" class="refsect2"><a id="i1019742"></a>
<h3 class="refsect2">LIMIT (using parent relation)</h3>
<p><a id="ABC1040578"></a>A LIMIT command that uses a parent relation in its limit clause to set the status of a hierarchical dimension or its dimension surrogate, or assigns values to a valueset, based on family relationships within the hierarchy.</p>
<div class="infoboxnotealso">
<p class="notep1">See:</p>
<a href="#CCHIDEBG">&#34;Looping Behavior of LIMIT (using parent relation)&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4508"></a>Syntax</p>
<p class="synopsis">LIMIT&nbsp;{<span class="italic">dimension</span> | <span class="italic">valueset</span>}&nbsp;[<span class="italic">concat-component</span>] <span class="italic">limit-type-</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="italic">family-keyword</span> ] USING&nbsp;<span class="italic">parent-relation-clause</span> [IFNONE&nbsp;<span class="italic">label</span>]</p>
<p>where:</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">family-keyword</span> has one of the following constructs:</p>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">PARENTS</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">CHILDREN</span><br/>
&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<span class="syntaxinline">ANCESTORS</span> <span class="syntaxinline">[DISTANCE</span> <span class="syntaxinlineitalic">generation</span> <span class="syntaxinline">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<span class="syntaxinline">DESCENDANTS</span> <span class="syntaxinline">[DISTANCE</span> <span class="syntaxinlineitalic">generation</span> <span class="syntaxinline">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<span class="syntaxinline">SIBLINGS</span><br/>
<span class="syntaxinline">TOPANCESTORS</span><br/>
<span class="syntaxinline">BOTTOMDESCENDANTS</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<span class="syntaxinline">HIERARCHY [INVERTED]&nbsp;[NOORIGIN]&nbsp;[SKIP</span>&nbsp;<span class="syntaxinlineitalic">n</span><span class="syntaxinline">]&nbsp;[DEPTH&nbsp;</span><span class="syntaxinlineitalic">n</span><span class="syntaxinline">]&nbsp;[RUN&nbsp;</span><span class="syntaxinlineitalic">textexp</span><span class="syntaxinline">]]&nbsp;</span><br/></li>
<li>
<p>The syntax for <span class="syntaxinlineitalic">parent-relation-clause</span> varies depending on its dimensionality of the object you want to specify:</p>
<ul>
<li>
<p>When the parent relation is multidimensional, use the following syntax:</p>
<p class="synopsis">RELATION <span class="italic">parentrel</span> [QUALIFY <span class="italic">relation-dimension-name</span> [<span class="italic">inclusive-val-args.</span>.. | CURRENT]...]</p>
<p>(You can also use this syntax when the parent relation is one-dimensional.)</p>
</li>
<li>
<p>When the parent relation is one-dimensional, you can use the following simplified syntax:</p>
<p class="synopsis">&nbsp;<span class="italic">parentrel</span>&nbsp;[<span class="italic">inclusive-val-args</span>&nbsp;| CURRENT]&nbsp;</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4509"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of the dimension or dimension surrogate for which you are setting status.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>The name of the valueset for which you are assigning values; or a <a href="dml_functions_2.htm#i78807">LIMIT function</a>.</p>
</dd>
<dt><span class="italic">concat-component</span></dt>
<dd>
<p>The name of the component of the concat dimension whose values are used to determine the limit. (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this argument.)</p>
</dd>
<dt><span class="italic">limit-type</span></dt>
<dd>
<p>A keyword that specifies how Oracle OLAP should modify the current status list. (See the main entry for <a href="#i78802">LIMIT command</a> for a list and descriptions of these keywords.)</p>
</dd>
<dt>PARENTS</dt>
<dd>
<p>Finds the parent of each value in valuelist. For a dimension, when there is no <span class="italic">valuelist,</span> finds the parent for each value in status. For a valueset, when there is no <span class="italic">valuelist,</span> it finds the parent of each value in the valueset. It uses the <span class="italic">parent-relation</span> to look up the parent.</p>
</dd>
<dt>CHILDREN</dt>
<dd>
<p>Finds the children of each value in valuelist. For a dimension, when there is no <span class="italic">valuelist,</span> finds the children for each value in status. For a valueset, when there is no <span class="italic">valuelist,</span> it finds the children of each value in the valueset. It uses the <span class="italic">parent-relation</span> to look up the children.</p>
</dd>
<dt>ANCESTORS [DISTANCE <span class="italic">generation</span>]</dt>
<dd>
<p>When you do not include the DISTANCE phrase:</p>
<ul>
<li>
<p>Finds the ancestors (that is, parents, grandparents, and so on) of each value in <span class="italic">valuelist.</span> For a dimension, when there is no <span class="italic">valuelist,</span> it finds the ancestors of each value in status.</p>
</li>
<li>
<p>For a valueset, when there is no <span class="italic">valuelist,</span> it finds the ancestors of each value in the valueset. In other words it finds &#34;parents&#34; for the values and the &#34;parents of the parents&#34; until there are no new parents.</p>
</li>
</ul>
<p>When you include the DISTANCE phrase, limits to the ancestors who are members of the generation specified by <span class="italic">generation</span>:</p>
<ul>
<li>
<p>For <span class="italic">generation</span>, specify 0 for the current generation, 1 for parents, 2 for grandparents, 3 for great grandparents, and so on.</p>
</li>
<li>
<p>For negative values, the command returns descendant generations (that is -1 returns children, -2 returns grandchildren, and so on).</p>
</li>
</ul>
</dd>
<dt>DESCENDANTS [DISTANCE <span class="italic">generation</span>]</dt>
<dd>
<p>When you do not include the DISTANCE phrase:</p>
<ul>
<li>
<p>Finds the descendants (that is, children, grandchildren, and so on) of each value in <span class="italic">valuelist.</span> For a dimension, when there is no <span class="italic">valuelist,</span> it finds descendants for each value in status.</p>
</li>
<li>
<p>For a valueset, when there is no <span class="italic">valuelist,</span> it finds the descendants of each value in the valueset. In other words, it finds the children of the values and the children of the children until there are no new children.</p>
</li>
</ul>
<p>When you include the DISTANCE phrase, limits to the descendants who are members of the generation specified by <span class="italic">generation</span>:</p>
<ul>
<li>
<p>For <span class="italic">generation</span>, specify 0 for the current generation, 1 for children, 2 for grandchildren, 3 for great grandchildren, and so on.</p>
</li>
<li>
<p>For negative, the command returns ancestor generations (that is -1 returns parents, -2 returns grandparents, and so on).</p>
</li>
</ul>
</dd>
<dt>SIBLINGS</dt>
<dd>
<p>Finds all siblings of each value in <span class="italic">valuelist</span>, including the valuelist values, themselves. Issuing one LIMIT statement with the SIBLIGS keyword is the same as issuing two consecutive LIMIT statements: 1) LIMIT with PARENTS, 2) LIMIT with CHILDREN. For a dimension, when there is no <span class="italic">valuelist,</span> it finds siblings for each value in status. For a valueset, when there is no <span class="italic">valuelist,</span> it finds the siblings of each value in the valueset.</p>
</dd>
<dt>TOPANCESTORS</dt>
<dd>
<p>(Abbreviated TOPANC) Finds those members that are at the top of the hierarchy; that is, those members that do not have any ancestors which is equivalent to issuing the following two LIMIT commands.</p>
<pre dir="ltr">   LIMIT dimension to ANCESTORS ....
   LIMIT dimension REMOVE DESCENDANTS....
</pre></dd>
<dt>BOTTOMDESCENDANTS</dt>
<dd>
<p>(Abbreviated BOTTOMDESC) Finds those members that are at the bottom of the hierarchy; that is, those members that do not have any descendants.</p>
</dd>
<dt>HIERARCHY</dt>
<dd>
<p>Finds the descendants (that is, children, grandchildren, and so on) based on a particular <span class="italic">parent-relation.</span> The difference is the order of the values. DESCENDANTS groups the values by level (all children, then all grandchildren, and so on); HIERARCHY places each group of children next to its parent. HIERARCHY includes the original values (that is, those in status before the LIMIT statement was executed) in status.</p>
</dd>
<dt>INVERTED</dt>
<dd>
<p>Indicates that children should be listed before their parents. By default, children are listed after their parents.</p>
</dd>
<dt>NOORIGIN</dt>
<dd>
<p>Excludes the original values from the status. The default is to include original values.</p>
</dd>
<dt>SKIP</dt>
<dd>
<p>Skips <span class="italic">n</span> generations for each value in <span class="italic">valuelist.</span> For dimensions, when there is no <span class="italic">valuelist,</span> it skips <span class="italic">n</span> generations for each value in status. For a valueset, when there is no <span class="italic">valuelist,</span> it skips <span class="italic">n</span> generations for each value in the valueset. This keyword, in combination with DEPTH, is helpful when drilling down; see <a href="#i1020830">Example 10-29, &#34;Drilling Down Using SKIP and DEPT&#34;</a>.</p>
</dd>
<dt>DEPTH</dt>
<dd>
<p>Includes <span class="italic">n</span> generations down from each value of <span class="italic">valuelist.</span> For dimensions, when there is no <span class="italic">valuelist,</span> it includes <span class="italic">n</span> generations for each value in status. For a valueset, when there is no <span class="italic">valuelist,</span> it includes <span class="italic">n</span> generations of each value in the valueset. The default depth value is 99. This keyword, in combination with SKIP, is helpful when drilling down on values.</p>
</dd>
<dt>RUN</dt>
<dd>
<p>Executes a statement, represented as a text expression, every time a group of children is constructed. For example, you can sort each group of children based on information stored in an Oracle OLAP variable. In the following statement, markets are sorted in increasing order based on unit sales every time a group of children is constructed.</p>
<pre dir="ltr">LIMIT market TO HIERARCHY RUN &#39;SORT market a unit.m&#39; USING -
</pre>
<pre dir="ltr">  market.market
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
In this example, when you use KEEP or REMOVE instead of TO in your LIMIT statement, the SORT statement would have no effect.</div>
</dd>
<dt>USING&nbsp;</dt>
<dd>
<p>Specifies the values to use when determining parent values.</p>
</dd>
<dt><span class="italic">parentrel</span></dt>
<dd>
<p>Specifies the name of the parent relation for the dimension.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABGGIEH">&#34;Parentrel Relation&#34;</a> and <a href="#CCHIDEBG">&#34;Looping Behavior of LIMIT (using parent relation)&#34;</a></div>
<p>To limit a dimension surrogate, use the parent relation for the dimension for which it is a surrogate.</p>
</dd>
<dt>RELATION &nbsp;</dt>
<dd>
<p>Identifies the beginning of the <span class="italic">parent-relation-clause</span>. You use this keyword when <span class="italic">parentrel</span> is a multidimensional relation.</p>
</dd>
<dt>QUALIFY <span class="italic">relation-dimension-name</span>&nbsp;</dt>
<dd>
<p>Specifies the name of a dimension of <span class="italic">parentrel</span>. The use of this clause varies depending on whether you are coding a LIMIT command or a LIMIT function as described in <a href="#CCHIDEBG">&#34;Looping Behavior of LIMIT (using parent relation)&#34;</a>.</p>
</dd>
<dt><span class="italic">inclusive-val-args</span></dt>
<dd>
<p>Specifies the values to use when determining the parent values. You can specify any inclusive valuelist argument as described in the syntax of the <span class="italic">inclusive-val-args</span> argument for the <span class="italic">valuelist</span> clause for LIMIT command. See <a href="#i1019733">LIMIT (using values) command</a> for detailed syntax.</p>
</dd>
<dt>CURENT</dt>
<dd>
<p>Specifies that you want to limit to the values of the children of the current value of the dimension. (This is the same as specifying <code dir="ltr"><span class="codeinlineitalic">dimension_name</span></code> <code dir="ltr">+0</code>.)</p>
</dd>
<dt>IFNONE <span class="italic">label</span></dt>
<dd>
<p>Specifies that program execution should branch to <span class="italic">label</span> when the requested status has null status or is based on a related dimension that turns out to have null status (that is, to have no values). (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this phrase.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4510"></a>Usage Notes</p>
<p class="subhead2"><a id="CCHIDEBG"></a><a id="OLADM2529"></a>Looping Behavior of LIMIT (using parent relation)</p>
<p>When you do not include a QUALIFY clause, the set of values that this LIMIT puts into status when <span class="italic">parentrel</span> is multi-dimensional varies depending on whether or not you are issuing a LIMIT command or a LIMIT function:</p>
<ul>
<li>
<p>LIMIT command. All of the in-status values of the related dimensions of parentrel are included in the set of in-status values. If you only want the current values of the related dimensions of parentrel to be included in the set of in-status values, specify a QUALIFY <span class="italic">related-dimension</span> CURRENT clause for each of the related dimensions of parentrel.</p>
</li>
<li>
<p>LIMIT function. Only the current values of the related dimensions of parentrel are included in the set of in-status values. If you want all of the in-status values of the related dimensions of parentrel to be included in the set of in-status values, specify a QUALIFY <span class="italic">related-dimension</span> related-dimension clause for each of the related dimensions of parentrel.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4511"></a>Examples</p>
<div id="OLADM2530" class="example">
<p class="titleinexample"><a id="sthref4512"></a>Example 10-28 A Simple Drill Down</p>
<p>This example drills down on districts from the region level of the market dimension. First, the market dimension, which has embedded totals at the district, region, and total U.S. level, is limited to the region level data. This LIMIT is done using the relation <code dir="ltr">mlv.market</code>, which is a relation between <code dir="ltr">marke</code>t and <code dir="ltr">market.level</code>.</p>
<p>Issuing a <code dir="ltr">REPORT mlv.market</code> statement produces the following output, which shows the values of <code dir="ltr">mlv.market</code>.</p>
<pre dir="ltr">MARKET         MLV.MARKET
-------------- ----------
Totus          Totus
East           Region
Boston         District
Atlanta        District
Central        Region
Chicago        District
Dallas         District
West           Region
Denver         District
Seattle        District
</pre>
<p>The following LIMIT statement limits the values of <code dir="ltr">MARKET</code>, and the STATUS statement produces the values currently in status. The output of STATUS is shown following the statements.</p>
<pre dir="ltr">LIMIT market TO mlv.market &#39;Region&#39;
STATUS market
 
The current status of MARKET is:
EAST, CENTRAL, WEST
</pre>
<p>To drill down on the district level data from the region level, you can use LIMIT with the CHILDREN keyword. The following example uses a parent-relation called <code dir="ltr">market.market</code> to perform the drill down. For each value of the <code dir="ltr">market</code> dimension, this relation contains the name of its parent.</p>
<pre dir="ltr">DEFINE market.market RELATION market &lt;market&gt;
LD Self-relation for the Market Dimension
</pre>
<p>A report of <code dir="ltr">market.market</code> produces the following output.</p>
<pre dir="ltr">MARKET         MARKET.MARKET
-------------- -------------
Totus          NA
East           Totus
Boston         Central
Atlanta        East
Central        Totus
Chicago        Central
Dallas         Central
West           Totus
Denver         West
Seattle        West
</pre>
<p>You can limit <code dir="ltr">market</code> to the children of the <code dir="ltr">East</code>, <code dir="ltr">Central</code>, and <code dir="ltr">West</code> regions by using the CHILDREN keyword with LIMIT.</p>
<pre dir="ltr">LIMIT market TO mlv.market &#39;Region&#39;
Limit market TO CHILDREN USING market.market
</pre>
<p>A report of <code dir="ltr">market</code> produces the following output.</p>
<pre dir="ltr">MARKET
-------------
Boston
Atlanta
Chicago
Dallas
Denver
Seattle
</pre></div>
<!-- class="example" -->
<div id="OLADM2531" class="example">
<p class="titleinexample"><a id="i1020830"></a>Example 10-29 Drilling Down Using SKIP and DEPT</p>
<p>Consider the following statement.</p>
<pre dir="ltr">LIMIT market TO HIERARCHY DEPTH 2 SKIP 1 USING market.market &#39;Totus&#39;
</pre>
<p>Oracle OLAP looks in the child-parent relation (<code dir="ltr">market.market</code>) to find the children and the grandchildren (<code dir="ltr">DEPTH 2</code>) of <code dir="ltr">Totus</code> and it discards the first generation (<code dir="ltr">SKIP 1</code>). The resulting status follows.</p>
<pre dir="ltr">Totus
Boston
Atlanta
Chicago
Dallas
Denver
Seattle
</pre>
<pre dir="ltr"></pre>
<p>Note that <code dir="ltr">Totus</code> is included in status. With HIERARCHY, the original values are included in status.<a id="sthref4513"></a></p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM844" class="refsect2"><a id="i1019753"></a>
<h3 class="refsect2">LIMIT NOCONVERT command</h3>
<p><a id="ABC1041001"></a>The LIMIT command sets the current status list of a dimension and its dimension surrogates, or assigns values to a valueset.</p>
<p>A LIMIT command with the NOCONVERT keyword sets the status of one dimension based on the numeric position of values in a different dimension.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4514"></a>Syntax</p>
<p class="synopsis">LIMIT{<span class="italic">dimension</span> | <span class="italic">valueset</span>}&nbsp;[<span class="italic">concat-component</span>] <span class="italic">limit-type -</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOCONVERT&nbsp;[{<span class="italic">unrelated-dimension|numeric-valueset</span>}] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[IFNONE&nbsp;<span class="italic">label</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4515"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of the dimension or dimension surrogate for which you are setting status.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>The name of the valueset for which you are assigning values; or a <a href="dml_functions_2.htm#i78807">LIMIT function</a>.</p>
</dd>
<dt><span class="italic">concat-component</span></dt>
<dd>
<p>The name of the component of the concat dimension whose values are used to determine the limit. (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this argument.)</p>
</dd>
<dt><span class="italic">limit-type</span></dt>
<dd>
<p>A keyword that specifies how Oracle OLAP should modify the current status list. (See the main entry for <a href="#i78802">LIMIT command</a> for a list and descriptions of these keywords.)</p>
</dd>
<dt>NOCONVERT</dt>
<dd>
<p>Sets the status of a dimension based on the numeric position of the specified values in the status list of an another dimension.</p>
</dd>
<dt><span class="italic">unrelated-dimension</span></dt>
<dd>
<p>Specifies the name of a dimension not related to the dimension being limited. Using this argument specifies that the status of a dimension or valueset is set based on the numeric position of each value in status of the unrelated-dimension. Setting status based on in status values in unrelated dimensions is particularly useful when the two dimensions are in different analytic workspaces (for example, when a one-to-one correspondence exists between the product dimension in two analytic workspaces).</p>
</dd>
<dt><span class="italic">numeric-valueset</span></dt>
<dd>
<p>Specifies a numeric valueset. When you use this argument, NOCONVERT sets the status based on the numeric values in the valueset. The numeric values represent the positions of the values in the default status of the dimension.</p>
</dd>
<dt>IFNONE <span class="italic">label</span></dt>
<dd>
<p>(For use only within an OLAP DML program) Specifies that program execution should branch to <span class="italic">label</span> when the requested status has null status or is based on a related dimension that turns out to have null status (that is, to have no values). (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this phrase.)<a id="sthref4516"></a></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM845" class="refsect2"><a id="i1019757"></a>
<h3 class="refsect2">LIMIT command (using POSLIST)</h3>
<p><a id="sthref4517"></a>The LIMIT command sets the current status list of a dimension and its dimension surrogates, or assigns values to a valueset.</p>
<p>A LIMIT command with the POSLIST keyword sets the status of a dimension based on the position of the values within that dimension.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4518"></a>Syntax</p>
<p class="synopsis">LIMIT&nbsp;{<span class="italic">dimension</span> | <span class="italic">valueset</span>}&nbsp;[<span class="italic">concat-component</span>] <span class="italic">limit-type -</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;POSLIST <span class="italic">poslist-exp</span> [IFNONE&nbsp;<span class="italic">label</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4519"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of the dimension or dimension surrogate for which you are setting status.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>The name of the valueset for which you are assigning values; or a <a href="dml_functions_2.htm#i78807">LIMIT function</a>.</p>
</dd>
<dt><span class="italic">concat-component</span></dt>
<dd>
<p>The name of the component of the concat dimension whose values are used to determine the limit. (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this argument.)</p>
</dd>
<dt><span class="italic">limit-type</span></dt>
<dd>
<p>A standard keyword (documented in the main entry for LIMIT command) that specifies how Oracle OLAP should modify the current status list.</p>
</dd>
<dt>POSLIST&nbsp;<span class="italic">poslist-textexp</span></dt>
<dd>
<p>Sets the status of a dimension based on the position of a value within a dimension. <span class="italic">poslist-textexp</span> is a text expression, each line of which is a numeric value that evaluates to a numeric position of the dimension being limited.</p>
</dd>
<dt>IFNONE <span class="italic">label</span></dt>
<dd>
<p>Specifies that program execution should branch to <span class="italic">label</span> when the requested status has null status or is based on a related dimension that turns out to have null status (that is, to have no values). (See the main entry for <a href="#i78802">LIMIT command</a> for complete description of this phrase.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="CIHHAFHI"></a>
<div id="OLADM846" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">LIMIT BASEDIMS</h2>
<p><a id="sthref4520"></a>The LIMIT BASEDIMS <a id="sthref4521"></a><a id="sthref4522"></a>command sets the current status list of one or more base dimensions of a composite, conjoint dimension, concat dimension, or a partition template based on the selected values of that object.</p>
<p>You use LIMIT BASEDIMS to produce a status of dimension values for each dimension that exists in the sparse object&#39;s tuples, possibly filtered by some arbitrary input status. You can also use the this command to assign a value to one or more valuesets for the base dimensions.</p>
<p>Values that are in the current status list of a dimension are said to be &#34;in status.&#34; The status of the base dimensions of a composite, conjoint dimension, concat dimension, or a partition template is determined by the current status of its base dimensions.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more information on working with dimension status, see <a href="dml_basics.htm#BABHFFFI">&#34;OLAP DML Statements Apply to All of the Values of a Data Object&#34;</a> and <a href="#i78802">LIMIT command</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4523"></a>Syntax</p>
<p class="synopsis">LIMIT BASEDIMS {&lt;<span class="italic">dimlist</span>&gt;}TO <span class="italic">object</span> [ [KEEP] <span class="italic">limit-clause</span> ]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4524"></a>Parameters</p>
<dl>
<dt><span class="italic">dimlist</span></dt>
<dd>
<p>A space-delimited list of objects that identifies the base dimensions for which you want Oracle OLAP to change status and the valuesets for which you want Oracle OLAP to add values. Within <span class="italic">dimlist</span>, you can specify the following values:</p>
<dl>
<dd><span class="syntaxinlineboldital">base-dimension-name</span></dd>
<dd>The name of a base dimension of <span class="italic">object</span>.</dd>
<dd><span class="syntaxinlineboldital">relation-name</span></dd>
<dd>The name of a relation. When you specify a relation, Oracle OLAP sets the status of the related dimension.</dd>
<dd><span class="syntaxinlineboldital">valueset-name</span></dd>
<dd>The name of a valueset for a base dimension; or a <a href="dml_functions_2.htm#i78807">LIMIT function</a>. When you specify the name of a valueset, Oracle OLAP assigns a single value to the specified valueset.</dd>
</dl>
<p>The default value of <span class="italic">dimlist</span> is the completely expanded list of the base dimensions of <span class="italic">object</span>.</p>
</dd>
<dt><span class="italic">object</span></dt>
<dd>
<p>The name of a composite, a conjoint dimension, a concat dimension, or a partition template object.</p>
</dd>
<dt>KEEP</dt>
<dd>
<p>Specifies that Oracle OLAP performs the selection based on the current dimension status of the base dimensions of the object. KEEP preserves the current order of values among the values that remain in the status.</p>
</dd>
<dt><span class="italic">limit-clause</span></dt>
<dd>
<p>Specifies how Oracle OLAP should select values from <span class="italic">object</span> to modify the current status lists of the base dimensions.</p>
<p>The syntax of <span class="italic">limit-clause</span> is the same syntax as any of the non-positional <span class="italic">limit-clause</span> arguments in the various forms of the LIMIT command (that is, the syntax of the LIMIT command after the <span class="italic">limit-type</span> argument such as &#34;TO&#34;). For the syntax of these arguments, see <a href="#i1019733">LIMIT (using values) command</a>, <a href="#i1019738">LIMIT using LEVELREL command</a>, <a href="#i1019742">LIMIT (using parent relation)</a>, <a href="#i1019747">LIMIT (using related dimension) command</a>, <a href="#i1019753">LIMIT NOCONVERT command</a>, and <a href="#i1019757">LIMIT command (using POSLIST)</a>.</p>
<p>When this optional argument is not specified, Oracle OLAP sets the status of the base dimensions to the current status of the dimensions.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78827"></a>
<div id="OLADM847" class="refsect1">
<h2 class="refsect1">LISTBY</h2>
<p><a id="sthref4525"></a><a id="sthref4526"></a><a id="sthref4527"></a><a id="sthref4528"></a><a id="sthref4529"></a>The LISTBY program produces a report of the names of all objects in an analytic workspace that are dimensioned by or related to one or more specified dimensions or composites. You can use LISTBY with a dimension or composite in any attached workspace.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4530"></a>Syntax</p>
<p class="synopsis">LISTBY&nbsp;<span class="italic">dimensions</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4531"></a>Parameters</p>
<dl>
<dt><span class="italic">dimensions</span></dt>
<dd>
<p>A list of one or more dimensions or composites, separated by spaces. When you list multiple dimensions, all the dimensions must be in the same workspace. LISTBY returns a list of objects that are dimensioned by all the dimensions you specify. When you specify an unnamed composite, use the following format:</p>
<p class="synopsis">LISTBY&nbsp;SPARSE&nbsp;<span class="italic">dim1&nbsp;dim2&nbsp;</span>...</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4532"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2532"></a>Composites and Conjoint Dimensions</p>
<p>The report produced by LISTBY includes any named or unnamed composite, or conjoint dimension, whose base dimension list includes the dimensions you specify.</p>
<p>The report also includes any object whose dimension list includes a named or unnamed composite that in turn has the specified dimensions as base dimensions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4533"></a>Examples</p>
<div id="OLADM2533" class="example">
<p class="titleinexample"><a id="sthref4534"></a>Example 10-30 Using LISTBY</p>
<p>LISTBY is used here to list the name of every object that is dimensioned by or related to <code dir="ltr">product</code>. The statement <code dir="ltr">LISTBY product</code> produces the following output.</p>
<pre dir="ltr">15 objects dimensioned by or related to PRODUCT
----------------------------------------------------------------
ADVERTISING          DIVISION.PRODUCT     EXPENSE
INDUSTRY.SALES       NAME.PRODUCT         NATIONAL.SALES
PRICE                PRODUCT.MEMO         PRODUCTSET
SALES                SALES.FORECAST       SALES.PLAN
SHARE                UNITS                UNITS.M
</pre></div>
<!-- class="example" -->
<div id="OLADM2534" class="example">
<p class="titleinexample"><a id="sthref4535"></a>Example 10-31 Specifying More Than One Dimension</p>
<p>In this example LISTBY is used to list the name of every object that is dimensioned by or related to <span class="italic">both</span> <code dir="ltr">product</code> and <code dir="ltr">market</code>.</p>
<pre dir="ltr">LISTBY product market
</pre>
<pre dir="ltr">1 objects dimensioned by or related to PRODUCT, MARKET
----------------------------------------------------------
UNITS.M
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78832"></a>
<div id="OLADM848" class="refsect1">
<h2 class="refsect1">LISTFILES</h2>
<p><a id="sthref4536"></a><a id="sthref4537"></a>The LISTFILES command lists all the open files that can be referenced by the FILEQUERY function which includes all files opened by FILEOPEN, OUTFILE, and LOG command.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4538"></a>Syntax</p>
<p class="synopsis">LISTFILES</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4539"></a>Examples</p>
<div id="OLADM2535" class="example">
<p class="titleinexample"><a id="sthref4540"></a>Example 10-32 Listing Open Files</p>
<p>The following example shows how to use LISTFILES to see which open files can be referenced by the FILEQUERY function.</p>
<pre dir="ltr">DEFINE fil.unit VARIABLE INTEGER
fil.unit = FILEOPEN(&#39;report&#39; WRITE)
LISTFILES
</pre>
<p>These statements produce the following output.</p>
<pre dir="ltr">10 w  D:\WINNT35\SYSTEM32\report
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78837"></a>
<div id="OLADM849" class="refsect1">
<h2 class="refsect1">LISTNAMES</h2>
<p><a id="sthref4541"></a><a id="sthref4542"></a><a id="sthref4543"></a>The LISTNAMES program produces a report that lists the names of the objects in an analytic workspace. You can limit the list to particular types of objects, and you can have the names for each type of object listed in alphabetical order.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4544"></a>Syntax</p>
<p class="synopsis">LISTNAMES&nbsp;[AW&nbsp;<span class="italic">workspace</span>|&#39;*&#39;]&nbsp;[<span class="italic">objtype-list</span>|<span class="underline">ALL</span>]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="underline">SORTED</span>|UNSORTED]&nbsp;[LIKE&nbsp;&#39;<span class="italic">pattern</span>&#39;]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4545"></a>Parameters</p>
<dl>
<dt>AW <span class="italic">workspace</span></dt>
<dt>AW &#39;*&#39;</dt>
<dd>
<p>Specifies the name of an attached workspace whose objects you want to list. When you omit the workspace name, LISTNAMES lists the objects in the current workspace. When you use the <code dir="ltr">&#39;*&#39;</code> (asterisk) argument instead of an analytic workspace name, LISTNAMES produces a separate report for each attached workspace.</p>
</dd>
<dt><span class="italic">objtype-list</span></dt>
<dt>ALL</dt>
<dd>
<p>Specifies one or more of the following types of objects whose names you want to list: AGGMAP, COMPOSITE, DIMENSION, FORMULA, MODEL, OPTION, PROGRAM, RELATION, VALUESET, VARIABLE, and WORKSHEET. You can include a trailing &#34;S&#34; on any object type, for example, <code dir="ltr">DIMENSIONS</code>. You can list these object types in any order. ALL (the default) specifies that the names of objects of <span class="italic">all</span> these types should be listed.</p>
</dd>
<dt>SORTED</dt>
<dt>UNSORTED</dt>
<dd>
<p>SORTED (the default, abbreviated SORT) specifies that the object names should be sorted alphabetically. UNSORTED (abbreviated UNSORT) specifies that the object names should not be sorted alphabetically.</p>
</dd>
<dt>LIKE &#39;<span class="italic">pattern</span>&#39;</dt>
<dd>
<p>Compares the names of the definitions in an analytic workspace to the text pattern you specify and lists the names that match. A definition name is <span class="italic">like</span> a text pattern when corresponding characters match. Besides literal matching, LIKE lets you use <span class="italic">wildcard</span> characters to match multiple characters in a string. An underscore (<code dir="ltr">_</code>) character in a pattern matches any single character. A percent (<code dir="ltr">%</code>) character in a pattern matches zero or more characters.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4546"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2536"></a>NAME Dimension</p>
<p><a id="sthref4547"></a><a id="sthref4548"></a><a id="sthref4549"></a><a id="sthref4550"></a>NAME<a id="ABC1063062"></a> is a special dimension that is used by Oracle OLAP to organize the list of objects in an analytic workspace. Its values are the names of the objects defined in the current workspace. (</p>
<p>You cannot explicitly change the values of the NAME dimension. Instead the values are changed as DEFINE, DELETE, MOVE, or RENAME statements execute. Also, you cannot use a qualified object name to specify the NAME dimension of an analytic workspace that is not the current workspace.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i78837">LISTNAMES</a> program</div>
<div id="OLADM2537" class="example">
<p class="titleinexample"><a id="sthref4551"></a>Example 10-33 Listing Dimensions</p>
<p>Suppose you want a list of all the dimensions in an analytic workspace. First, use a LIMIT command and the OBJ function to limit the status of the NAME dimension. Then use a STATUS statement to produce a list of dimensions. Because the values returned by <code dir="ltr">OBJ(TYPE)</code> are always in uppercase, you must use <code dir="ltr">&#39;DIMENSION&#39;</code> (not <code dir="ltr">&#39;dimension&#39;</code>) in the LIMIT statement to get a match. The statements</p>
<pre dir="ltr">LIMIT NAME TO OBJ(TYPE) EQ &#39;DIMENSION&#39;
STATUS NAME
</pre>
<p>produce the following output.</p>
<pre dir="ltr">The current status of NAME is:
PRODUCT, DISTRICT, DIVISION, LINE, REGION, MARKETLEVEL, MARKET,
MONTH, YEAR, QUARTER
</pre></div>
<!-- class="example" -->
<div id="OLADM2538" class="example">
<p class="titleinexample"><a id="sthref4552"></a>Example 10-34 Listing Relations</p>
<p>Suppose you want to see the definitions of all the relations in an analytic workspace. Use the LIMIT command and the OBJ function to select these names. Then use DESCRIBE to produce a list of their definitions. The statements</p>
<pre dir="ltr">LIMIT NAME TO OBJ(TYPE) EQ &#39;RELATION&#39;
DESCRIBE
</pre>
<p>produce the following output.</p>
<pre dir="ltr">DEFINE REGION.DISTRICT RELATION REGION &lt;DISTRICT&gt;
LD REGION for each DISTRICT
 
DEFINE DIVISION.PRODUCT RELATION DIVISION &lt;PRODUCT&gt;
LD DIVISION for each PRODUCT
 
DEFINE MLV.MARKET RELATION MARKETLEVEL &lt;MARKET&gt;
 
DEFINE MARKET.MARKET RELATION MARKET &lt;MARKET&gt;
LD Self-relation for the Market Dimension<a id="sthref4553"></a> 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4554"></a>Examples</p>
<div id="OLADM2539" class="example">
<p class="titleinexample"><a id="sthref4555"></a>Example 10-35 Listing of DEMO Workspace Objects</p>
<p>This example lists the dimensions, variables, and relations in the current workspace. The statement</p>
<pre dir="ltr">LISTNAMES dimension variable relation
</pre>
<p>produces the following output for the DEMO workspace.</p>
<pre dir="ltr">10 DIMENSIONs      18 VARIABLEs       4 RELATIONs
----------------   ----------------   ----------------
DISTRICT           ACTUAL             DIVISION.PRODUCT
DIVISION           ADVERTISING        MARKET.MARKET
LINE               BUDGET             MLV.MARKET
MARKET             DEMOVER            REGION.DISTRICT
MARKETLEVEL        EXPENSE
MONTH              FCST
PRODUCT            INDUSTRY.SALES
QUARTER            NAME.LINE
REGION             NAME.PRODUCT
YEAR               NATIONAL.SALES
                   PRICE
                   PRODUCT.MEMO
                   SALES
                   SALES.FORECAST
                   SALES.PLAN
                   SHARE
                   UNITS
                   UNITS.M 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78842"></a>
<div id="OLADM850" class="refsect1">
<h2 class="refsect1">LOAD</h2>
<p><a id="sthref4556"></a><a id="sthref4557"></a>The LOAD command loads the definition of a program, formula, or model into memory. It is usually used in startup programs, to save time when a program is first used in a session.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4558"></a>Syntax</p>
<p class="synopsis">LOAD&nbsp;<span class="italic">object</span>.&nbsp;.&nbsp;.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4559"></a>Parameters</p>
<dl>
<dt><span class="italic">object</span>. . .</dt>
<dd>
<p>The name of a program, formula, or model.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4560"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2540"></a>Definitions Loaded on First Use</p>
<p>All of the objects in an analytic workspace (except for programs, formulas, and models) are loaded into memory when the analytic workspace is attached. Programs, models, and formulas are loaded into memory when first used or when requested using the LOAD command. The time required for loading is small but perceptible, and an application builder fine-tuning a system might want to preload objects in a startup program so that the application runs up to speed from the beginning of a session.</p>
<p class="subhead2"><a id="OLADM2541"></a>Effect of Loading Many Objects</p>
<p>Loading too many objects into memory can cause Oracle OLAP to run out of memory when it processes a long statement. It is best to use LOAD sparingly, choosing the objects for maximum effect.</p>
<p class="subhead2"><a id="OLADM2542"></a>LOAD Does Not Compile Programs</p>
<p>When a program is not compiled, LOAD does not automatically compile it. For best performance, always compile the program and save the compiled code by updating your workspace. Then when you load the program in another session (for example, with an AUTOGO program), the program is ready to run. See the <a href="dml_commands_1.htm#i79154">COMPILE</a> command for more information about compilation.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4561"></a>Examples</p>
<div id="OLADM2543" class="example">
<p class="titleinexample"><a id="sthref4562"></a>Example 10-36 Loading Two Programs</p>
<p>The following statement loads the two programs <code dir="ltr">choose.months</code> and <code dir="ltr">sales.rpt</code>.</p>
<pre dir="ltr">LOAD choose.months sales.rpt
</pre></div>
<!-- class="example" -->
<div id="OLADM2544" class="example">
<p class="titleinexample"><a id="sthref4563"></a>Example 10-37 Loading All the Programs in an analytic workspace</p>
<p>The following statements load all the programs in the analytic workspace.</p>
<pre dir="ltr">LIMIT NAME TO OBJ(TYPE) EQ &#39;program&#39;
LOAD &amp;VALUES(NAME)
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78852"></a>
<div id="OLADM851" class="refsect1">
<h2 class="refsect1">LOG command</h2>
<p><a id="sthref4564"></a><a id="sthref4565"></a><a id="sthref4566"></a>The LOG command starts or stops the recording of a session to a disk file. All lines of input and output are recorded.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not confuse the LOG command with the function of the same name which is a mathematical function.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4567"></a>Syntax</p>
<p class="synopsis">LOG EOF | TRACEFILE | SAVE | {[APPEND] <span class="italic">file-name</span>}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4568"></a>Parameters</p>
<dl>
<dt>EOF</dt>
<dd>
<p>Stops recording of the session and closes any opened log record file.</p>
</dd>
<dt>TRACEFILE</dt>
<dd>
<p>Specifies that the session information should be directed to the Oracle trace file, which is identified by the TRACEFILEUNIT option.</p>
</dd>
<dt>SAVE</dt>
<dd>
<p>Forces Oracle OLAP to update the log file. Lines of input and output are not always written to disk as they are generated. Instead, the lines are stored temporarily then written to disk periodically. <code dir="ltr">LOG</code> <code dir="ltr">SAVE</code> effectively issues the <code dir="ltr">LOG</code> <code dir="ltr">EOF</code> and <code dir="ltr">LOG&nbsp;APPEND</code> <code dir="ltr"><span class="codeinlineitalic">file-name</span></code> commands which ensures that all appropriate lines are written to disk by closing the log file and reopening it. Additional lines of input and output are appended to the file.</p>
</dd>
<dt>APPEND</dt>
<dd>
<p>Specifies that the record of your session should be added to the end of an existing disk file. When you omit this argument, the new output replaces the current contents of the file.</p>
</dd>
<dt><span class="italic">file-name</span></dt>
<dd>
<p>A text expression that is the name of the file to which session information should be written. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use a CDA statement to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4569"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2545"></a>Automatic Closing of a Log File</p>
<p>When you use <code dir="ltr">LOG</code> <code dir="ltr"><span class="codeinlineitalic">file-name</span></code> to start recording in a disk file, LOG closes any log record file that is currently open. LOG issues this close even when the new file is not actually opened (as when you specify an invalid file name in the LOG statement).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4570"></a>Examples</p>
<div id="OLADM2546" class="example">
<p class="titleinexample"><a id="sthref4571"></a>Example 10-38 Keeping a Log File</p>
<p>To record your session in a file called <code dir="ltr">session.log</code>, use a statement like the following.</p>
<pre dir="ltr">LOG &#39;session.log&#39; 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1017721"></a>
<div id="OLADM852" class="refsect1">
<h2 class="refsect1">MAINTAIN</h2>
<p><a id="sthref4572"></a><a id="sthref4573"></a><a id="sthref4574"></a><a id="sthref4575"></a><a id="sthref4576"></a><a id="sthref4577"></a><a id="sthref4578"></a>The MAINTAIN command enters and maintains the values of dimensions, composites, and partition template objects.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also issue a MAINTAIN statement for a surrogate dimension that has a Maintain trigger. In this case, Oracle OLAP only executes the Maintain trigger program; no other action occurs. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information for more information. Issuing a MAINTAIN statement for a surrogate dimension that does <span class="italic">not</span> have a Maintain trigger, returns an error.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4579"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">object {</span>ADD|DELETE|RENAME|MOVE|MERGE} <span class="italic">args</span></p>
<p>The keywords that you can use with the MAINTAIN command varies by object:</p>
<ul>
<li>
<p><span class="syntaxinline">MAINTAIN</span> <span class="syntaxinlineitalic">dimension</span> <span class="syntaxinline">{ADD|DELETE|RENAME|MOVE|MERGE}</span> <span class="syntaxinlineitalic">args</span></p>
<p>The keyword that you can use varies by the type of dimension that you want to maintain:</p>
<ul>
<li>
<p>With a non-concat dimension, you can use the ADD, DELETE, RENAME, MOVE, or MERGE keywords to add, delete, rename, move, or merge non-concat dimension values. You can also use the ADD keyword to add temporary calculated members to a dimension.</p>
</li>
<li>
<p>With a concat dimension, you can only use the MOVE keyword to move concat dimension values.</p>
</li>
</ul>
</li>
<li>
<p><span class="syntaxinline">MAINTAIN</span>&nbsp;<span class="syntaxinlineitalic">composite&nbsp;</span><span class="syntaxinline">{ADD|DELETE|MERGE}</span> <span class="syntaxinlineitalic">args</span></p>
</li>
<li>
<p><span class="syntaxinline">MAINTAIN</span>&nbsp;<span class="syntaxinlineitalic">partition-template</span>&nbsp;<span class="syntaxinline">{ADD|DELETE|MOVE}</span> <span class="syntaxinlineitalic">args</span></p>
</li>
</ul>
<p>The specific syntax varies by keyword. Consequently, there are separate topics for each keyword of the MAINTAIN command:</p>
<dl>
<dd><a href="#i1022202">MAINTAIN ADD</a></dd>
<dd><a href="#i1010111">MAINTAIN DELETE</a></dd>
<dd><a href="#i1023950">MAINTAIN MERGE</a></dd>
<dd><a href="#CIHIGHGA">MAINTAIN MOVE</a></dd>
<dd><a href="#i1010123">MAINTAIN RENAME</a></dd>
</dl>
<p>For information that applies to the MAINTAIN command in general, see the Usage Notes in this topic.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4580"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2547"></a>Triggering Program Execution When MAINTAIN Executes</p>
<p>Using the TRIGGER command, you can make the execution of a MAINTAIN statement an event that automatically executes an OLAP DML program. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information.</p>
<p class="subhead2"><a id="OLADM2548"></a>Automatic Status Reset</p>
<p>When you use the ADD, DELETE, MERGE, or MOVE keyword to maintain a dimension or composite whose status is not currently ALL, the MAINTAIN command automatically resets status to ALL before performing the maintenance function. However, when you use the RENAME keyword to maintain a dimension whose status is not currently ALL, the MAINTAIN command does <span class="italic">not</span> change the status of the dimension.</p>
<p class="subhead2"><a id="OLADM2549"></a>Maintain Permission</p>
<p>You cannot perform maintenance on a dimension when a PERMIT MAINTAIN statement denies maintain permission for the dimension. Maintain permission is implicitly denied whenever read permission is restricted for a dimension, even when you specify maintain permission for the dimension. (See the <a href="#i79588">PERMIT</a> command.)</p>
<p class="subhead2"><a id="OLADM2550"></a>Maintaining Dimensions in Multiwriter Analytic Workspaces</p>
<p>Keep the following points in mind when maintaining dimensions in an analytic workspace that is attached in multiwriter mode:</p>
<ul>
<li>
<p>You cannot update a variable when any of its dimensions have been acquired and modified.</p>
</li>
<li>
<p>Reverting a dimension after adding dimension values is not recommended because it can result in suboptimal space allocation for variables dimensioned by the dimension.</p>
</li>
<li>
<p>When an acquired variable is dimensioned by an acquired dimension that has been maintained, you cannot update the variable until the dimension is updated or released.</p>
</li>
<li>
<p>You do not have to acquire composites in order for them to be maintained, Oracle OLAP automatically performs concurrent dimension maintenance for the composite dimensions.</p>
</li>
</ul>
<p>Also, before you can maintain dimensions in an analytic workspace that is attached in multiwriter mode, you must first acquire the dimension using an ACQUIRE statement.</p>
<p>For example, assume that user A and user B both have to perform what-if computations on both <code dir="ltr">actuals</code> and <code dir="ltr">budget</code>. After performing the what-if computations, user A needs to modify <code dir="ltr">actuals</code> and B needs to modify <code dir="ltr">budget</code>. Finally, both user A and user B have to add a new <code dir="ltr">time</code> dimension value and add data corresponding to that new dimension value to <code dir="ltr">actuals</code> or <code dir="ltr">budget</code>.</p>
<p>User A issues the following OLAP DML statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
...make modifications 
ACQUIRE actuals
...make more modifications
ACQUIRE time
MAINTAIN time ADD &#39;Y2002&#39;
actuals (time &#39;Y2002&#39;, ...) = ...
UPDATE MULTI actuals, time
COMMIT
RELEASE actuals, time
AW DETACH myworkspace
</pre>
<p>User B issues the following OLAP DML statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
...make modifications 
ACQUIRE budget
...make more modifications
ACQUIRE time--&gt; failed
ACQUIRE RESYNC time WAIT
MAINTAIN time ADD &#39;Y2003&#39;
budget (time &#39;Y2003&#39;, ...) = ...
UPDATE MULTI budget, time
COMMIT
RELEASE budget, time
AW DETACH myworkspace
</pre>
<p class="subhead2"><a id="OLADM2551"></a>MAINTAIN and Dimension Surrogates</p>
<p>You cannot use a MAINTAIN statement on a dimension surrogate. You can only use MAINTAIN to add values to or delete them from a dimension. However, when you add or delete a dimension value, then Oracle OLAP adds or removes a position from surrogates of that dimension. When you add a position to a dimension, the corresponding position in a surrogate for that dimension receives an <code dir="ltr">NA</code> value.</p>
<p class="subhead2"><a id="OLADM2552"></a>Maintaining a Concat Dimension</p>
<p>A concat dimension contains the values of its component dimensions. You do not directly add, merge, or delete the values of a concat dimension using MAINTAIN statements. Instead, when you add, merge, or delete values from a component dimension of the concat, Oracle OLAP automatically adds or deletes the values from the concat dimension. You can use the MOVE keyword of the MAINTAIN command to change the order of the values of a concat dimension.</p>
</div>
<!-- class="refsubsect" -->
<div id="OLADM853" class="refsect2"><a id="i1022202"></a>
<h3 class="refsect2">MAINTAIN ADD</h3>
<p><a id="sthref4581"></a>The MAINTAIN command with the ADD keyword adds new TEXT, ID, and INTEGER values to a non-concat dimension, composite, or partition; or adds a new temporary calculated member to a dimension.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also issue a <a href="#i1023542">MAINTAIN ADD for TEXT, ID, and INTEGER Values</a> statement for a surrogate dimension that has a Maintain trigger. In this case, Oracle OLAP only executes the Maintain trigger program one time for each value; no other action occurs. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information for more information. Issuing a MAINTAIN statement for a surrogate dimension that does <span class="italic">not</span> have a Maintain trigger, returns an error.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4582"></a>Syntax</p>
<p>The syntax for using the MAINTAIN command with the ADD keyword depends on the type of the object being maintained and whether you are adding a permanent or temporary member.</p>
<p>For this reason, the following separate entries are provided for MAINTAIN ADD:</p>
<ul>
<li>
<p><a href="#i1023542">MAINTAIN ADD for TEXT, ID, and INTEGER Values</a></p>
</li>
<li>
<p><a href="#i1023560">MAINTAIN ADD for DAY, WEEK, MONTH, QUARTER, and YEAR Values</a></p>
</li>
<li>
<p><a href="#i1023561">MAINTAIN ADD SESSION</a></p>
</li>
<li>
<p><a href="#CIHCFGGE">MAINTAIN ADD TO PARTITION</a></p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div id="OLADM854" class="refsect3"><a id="i1023542"></a>
<h4 class="refsect3">MAINTAIN ADD for TEXT, ID, and INTEGER Values</h4>
<p><a id="sthref4583"></a>The MAINTAIN command with the ADD keyword adds new TEXT, ID, or INTEGER values to a non-concat dimension or composite.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also issue this MAINTAIN ADD statement for a surrogate dimension that has a Maintain trigger. In this case, Oracle OLAP only executes the Maintain trigger program one time for each value in <span class="italic">valuelist</span>; no other action occurs. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information for more information. Issuing a MAINTAIN statement for a surrogate dimension that does <span class="italic">not</span> have a Maintain trigger, returns an error.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4584"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">composite</span>|<span class="italic">dimension</span> ADD <span class="italic">valuelist</span> [FIRST|<span class="underline">LAST</span>|BEFORE <span class="italic">position|</span>AFTER <span class="italic">position</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4585"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>A non-concat dimension, already defined in an attached analytic workspace.</p>
</dd>
<dt><span class="italic">composite</span></dt>
<dd>
<p>A composite. When the composite is a named composite, it must be defined in an attached analytic workspace. When the composite is unnamed, it must have been used in defining an object in an attached analytic workspace. Use the SPARSE keyword to refer to an unnamed composite (for example, <code dir="ltr">SPARSE &lt;market product&gt;</code>).</p>
</dd>
<dt>ADD <span class="italic">valuelist</span></dt>
<dd>
<p>Specifies that the values in <span class="italic">valuelist</span> are to be added to the dimension or composite:</p>
<ul>
<li>
<p>When you use this argument to add values to a composite or a dimension of type TEXT or ID, the <span class="italic">valuelist</span> can be text literals or a TEXT or ID expression. When it is a multiline text expression, each element (line) is treated as a separate value.Do not add null dimension values (empty single quotes) or values that consists of spaces only, because there is no way you can refer to such values in the future.</p>
</li>
<li>
<p>When <span class="italic">dimension</span> is INTEGER, <span class="italic">valuelist</span> can be an <code dir="ltr">INTEGER</code> quantity, such as 5 or 100.</p>
</li>
</ul>
</dd>
<dt>FIRST</dt>
<dt>LAST</dt>
<dd>
<p>Specify the logical position at which dimension values are added. FIRST indicates that the new values are inserted before any existing values. LAST indicates that new values are added after the current values. LAST is the default. When you are adding a certain quantity of <code dir="ltr">INTEGER</code> values to an INTEGER dimension, that quantity of <code dir="ltr">INTEGER</code> values are added before or after any existing <code dir="ltr">INTEGER</code> values (depending on your specification), and all the <code dir="ltr">INTEGER</code> values in the resulting series are automatically adjusted into simple numeric order.</p>
<p>All values specified before the keyword FIRST or LAST are placed in that position, not just the one value immediately preceding the keyword in your statement.</p>
</dd>
<dt>BEFORE <span class="italic">position</span></dt>
<dt>AFTER <span class="italic">position</span></dt>
<dd>
<p>Specify a position before or after which the dimension values are to be added. For <span class="italic">position</span> you can specify an existing dimension value, a character expression whose value is an existing dimension value, or an <code dir="ltr">INTEGER</code> expression whose value represents the position of a dimension value. When you are adding a certain quantity of <code dir="ltr">INTEGER</code> values to an INTEGER dimension, that quantity of <code dir="ltr">INTEGER</code> values are added before or after the <code dir="ltr">INTEGER</code> position you specify, and the <code dir="ltr">INTEGER</code> values in the whole of the resulting series are automatically adjusted into simple numeric order.</p>
<p>All values specified before the keywords BEFORE or AFTER are placed in that position, not just the one value immediately preceding the keyword in your statement.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4586"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2553"></a>Performance When Using MAINTAIN ADD BEFORE or AFTER position</p>
<p>The cost performance of using MAINTAIN ADD BEFORE or MAINTAIN MOVE AFTER statements depends on the number of values in the dimension rather than the number of values being added. Consequently, instead of issuing many of these statements one after another:</p>
<ol>
<li>
<p>Add the values using simple MAINTAIN ADD statements</p>
</li>
<li>
<p>Set the status of the dimension status to the values you are concerned with.</p>
</li>
<li>
<p>Order the added values, by issuing a single <a href="#i1010119">MAINTAIN MOVE dimension value</a> statement</p>
</li>
</ol>
<p class="subhead2"><a id="OLADM2554"></a>Adding Values to an INTEGER Dimension</p>
<p>When you use MAINTAIN to add values in an INTEGER dimension, the values are renumbered to keep the normal sequence of <code dir="ltr">INTEGER</code> values (1, 2, 3, ...).</p>
<p class="subhead2"><a id="OLADM2555"></a>Conjoint Dimensions and Composites</p>
<p>Each value of a conjoint dimension or composite is a combination of values from each of the dimensions (and composites, if any) in its dimension list. To add values to a conjoint dimension or composite, specify each value combination enclosed in angle brackets. The values in a given combination must be in the same order as the dimensions and composites in the definition of the conjoint dimension or composite. Each dimension value in the combination must already exist as a value in the corresponding base dimension. However, when a composite value in the combination does not exist, Oracle OLAP automatically adds the value to the appropriate composite.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4587"></a>Examples</p>
<div id="OLADM2556" class="example">
<p class="titleinexample"><a id="sthref4588"></a>Example 10-39 Adding Values to a TEXT Dimension</p>
<p>This statement adds <code dir="ltr">Omaha</code> and <code dir="ltr">Seattle</code> to the end of the dimension values for the <code dir="ltr">city</code> dimension.</p>
<pre dir="ltr">MAINTAIN city ADD &#39;Omaha&#39; &#39;Seattle&#39;
</pre>
<p>This statement adds <code dir="ltr">Atlanta</code> at the beginning of the list of cities and inserts <code dir="ltr">Peoria</code> after <code dir="ltr">Omaha</code>.</p>
<pre dir="ltr">MAINTAIN city ADD &#39;Atlanta&#39; FIRST, &#39;Peoria&#39; AFTER &#39;Omaha&#39;
</pre>
<p>Here the value of the TEXT variable <code dir="ltr">textvar</code> is inserted before the fifth dimension value of <code dir="ltr">city</code>. When you assign the value <code dir="ltr">Columbus</code> to <code dir="ltr">textvar</code>, you must make sure it is in mixed case, because you want the dimension value to be in mixed case.</p>
<pre dir="ltr">textvar = &#39;Columbus&#39;
MAINTAIN city ADD textvar BEFORE 5
</pre></div>
<!-- class="example" -->
<div id="OLADM2557" class="example">
<p class="titleinexample"><a id="sthref4589"></a>Example 10-40 Adding Values to a Conjoint Dimension</p>
<p>The following is an example of adding values to a conjoint dimension.</p>
<pre dir="ltr">DEFINE proddist DIMENSION &lt;product, district&gt;
MAINTAIN proddist ADD &lt;&#39;Tents&#39; &#39;Boston&#39;&gt; &lt;&#39;Footwear&#39; &#39;Denver&#39;&gt;
</pre>
<p>You can also assign a value of a base dimension to a text variable and use the name of the variable inside the angle brackets.</p>
<pre dir="ltr">prodname = &#39;Canoes&#39;
distname = &#39;Seattle&#39;
MAINTAIN proddist ADD &lt;prodname, distname&gt;
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" -->
<div id="OLADM855" class="refsect3"><a id="i1023560"></a>
<h4 class="refsect3">MAINTAIN ADD for DAY, WEEK, MONTH, QUARTER, and YEAR Values</h4>
<p><a id="sthref4590"></a>The MAINTAIN command with the ADD keyword adds new values to a dimension of type DAY, WEEK, MONTH, QUARTER, and YEAR.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4591"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">dimension</span> ADD {<span class="italic">valuelist</span>|{<span class="italic">n</span> PERIODS FIRST}|{<span class="italic">n</span> PERIODS LAST}}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4592"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>A non-concat dimension, already defined in an attached analytic workspace.</p>
</dd>
<dt>ADD <span class="italic">valuelist</span></dt>
<dd>
<p>Specifies that the values in <span class="italic">valuelist</span> are to be added to the dimension. When <span class="italic">dimension</span> is of type DAY, WEEK, MONTH, QUARTER, or YEAR, then <span class="italic">valuelist</span> can be text constants or a TEXT, ID, or DATE expression. When the values are TEXT, they can be in the format specified by the VNF (value name format) for the dimension (or in the default format for the type of dimension you are maintaining when the dimension does not have a VNF) or in a valid input style for date values. When the values are specified as a TEXT expression, each element or line is treated as a separate value.</p>
<p>When the values are in the format specified by the VNF or in the default format for this type of dimension, each value explicitly indicates the time period you want to add. For example, assume that the VNF for a <code dir="ltr">month</code> dimension is <code dir="ltr">&#39;&lt;MTXT&gt;&lt;YY&gt;&#39;</code>. In this case, the value <code dir="ltr">JAN99</code> represents the month January&nbsp;1999.</p>
<p>When you specify a value for a DAY, WEEK, MONTH, QUARTER, or YEAR dimension as a date, you must provide only the date components that are relevant for the type of dimension you are maintaining. For a DAY or WEEK dimension, you must supply the day, month, and year components. For a MONTH or QUARTER dimension, you must supply only the month and year (for example, <code dir="ltr">&#39;JUN98&#39;</code> or <code dir="ltr">&#39;0698&#39;</code> for June&nbsp;1998). For a YEAR dimension, you must specify only the year (for example, <code dir="ltr">&#39;98&#39;</code> for 1998). For information about the valid input styles for dates, see the <a href="dml_options.htm#i79233">DATEORDER</a> option.</p>
<p>When you add a dimension value by specifying a DATE expression or a TEXT value that represents a complete date, you can specify <span class="italic">any</span> date that falls within the time period you want to add. For example, to add the month January&nbsp;1999, you can specify any date from <code dir="ltr">&#39;01JAN99&#39;</code> through <code dir="ltr">&#39;31JAN99</code>&#39;. Oracle OLAP uses the DATEORDER option to resolve any ambiguities.</p>
<p>When adding values to a DAY, WEEK, MONTH, QUARTER, or YEAR dimension that does not yet have values, you must specify only the first and last values you want to add for the dimension. Oracle OLAP automatically fills in the gaps with appropriate values for the intervening time periods.</p>
<p>When a DAY, WEEK, MONTH, QUARTER, or YEAR dimension already has values, you can add values only at the beginning or the end of the existing list. To add values, you must specify only the first or last value you want to add. Oracle OLAP automatically fills in the gap between the existing list and the value you specify.</p>
</dd>
<dt><span class="italic">n</span> PERIODS FIRST</dt>
<dt><span class="italic">n</span> PERIODS LAST</dt>
<dd>
<p>Specifies the number of periods to add at the beginning or end of an existing list of dimension values.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4593"></a>Examples</p>
<div id="OLADM2558" class="example">
<p class="titleinexample"><a id="sthref4594"></a>Example 10-41 Adding Values to Dimension of Type QUARTER</p>
<p>In this example you define a new QUARTER dimension, called <code dir="ltr">qtr</code>, and you add dimension values for the quarters in 1998 and 1999. You must only add the first and last dimension values you want. Oracle OLAP fills in the intervening values. To add the first and last quarters, you can specify any dates that fall within those quarters.</p>
<pre dir="ltr">DEFINE qtr DIMENSION QUARTER
MAINTAIN qtr ADD &#39;01jan98&#39; &#39;31dec99&#39;
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" -->
<div id="OLADM856" class="refsect3"><a id="i1023561"></a>
<h4 class="refsect3">MAINTAIN ADD SESSION</h4>
<p><a id="sthref4595"></a><a id="sthref4596"></a><a id="sthref4597"></a><a id="sthref4598"></a><a id="sthref4599"></a>The MAINTAIN command with the ADD SESSION keywords adds a temporary calculated member to a dimension and applies it to the specified objects; or applies a previously-defined calculated member to the specified objects. The calculated member and its definition do not persist from session to session; both are deleted after the session in which they are created.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4600"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">dimension</span> ADD SESSION <span class="italic">member_name</span> [<span class="italic">= calculation</span>] -</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [STEP DIMENSION (<span class="italic">stepdim</span>...)][<span class="italic">apply-to</span>]</p>
<p>where:</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">calculation</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinlineitalic">model-equation</span></dd>
<dd><span class="syntaxinline">AGGREGATION (</span><span class="syntaxinlineitalic">dimension-members</span><span class="syntaxinline">....)</span></dd>
</dl>
</li>
<li>
<p><span class="syntaxinlineitalic">apply-to</span> specifies the basis on which the custom aggregation is added using one of the following phrases:</p>
<dl>
<dd><span class="syntaxinline">APPLY TO AGGMAP</span> <span class="syntaxinlineitalic">aggmaps</span></dd>
<dd><span class="syntaxinline">APPLY FOR VARIABLE</span> <span class="syntaxinlineitalic">variables</span></dd>
<dd><span class="syntaxinline">APPLY WITH RELATION</span> <span class="syntaxinlineitalic">relations</span></dd>
</dl>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4601"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>A dimension that is already defined in an attached analytic workspace. You can specify any type of dimension for <span class="italic">dimension</span> except a non-unique concat dimension or a base dimension of either a unique or non-unique concat dimension.</p>
</dd>
<dt>ADD SESSION</dt>
<dd>
<p>ADD SESSION indicates maintenance of a temporary calculated member.</p>
</dd>
<dt><span class="italic">member-name</span></dt>
<dd>
<p>Specifies the name of the temporary calculated member.</p>
</dd>
<dt>=</dt>
<dd>
<p>Indicates that you are defining a new calculated member.</p>
</dd>
<dt>model-equation</dt>
<dd>
<p>A text expression that specifies the calculation used as a dynamic model to calculate custom member values. (See the <a href="#CIHCEHEH">SET</a> command for more information about model equations.)</p>
</dd>
<dt>AGGREGATION</dt>
<dd>
<p>Indicates that the temporary calculated member is added as a custom aggregation using the specified dimension members. This clause effectively modifies the RELATION statement of aggmap objects that are the aggregation specification for variables dimensioned by <span class="italic">dimension</span>. Consequently, a MAINTAIN ADD SESSION statement that contains an AGGREGATION clause must also contain an APPLY WITH RELATION clause.</p>
</dd>
<dt><span class="italic">dimension-membe</span>rs</dt>
<dd>
<p>A text expression that specifies one or more dimension values to be used by the custom aggregation. When using a literal to specify multiple dimension members, separate the values with commas</p>
</dd>
<dt>STEP DIMENSIONS</dt>
<dd>
<p>Indicates that the calculation is a time-series function.</p>
</dd>
<dt><span class="italic">stepdim</span></dt>
<dd>
<p>A text expression that specifies the dimension along which the time-series function is calculated. When using a literal to specify multiple dimension names, separate the names with commas.</p>
</dd>
<dt>APPLY TO AGGMAP</dt>
<dd>
<p><a id="sthref4602"></a><a id="sthref4603"></a>Indicates that the calculated temporary member is added <span class="italic">only</span> to dimensions used by the specified aggmap objects.</p>
</dd>
<dt><span class="italic">aggmaps</span></dt>
<dd>
<p>A text expression that specifies the name of one or more aggmap objects to which the temporary calculated member is added. When using a literal to specify multiple aggmap objects, separate the names with commas. The temporary calculated member is added to each of the specified aggmap objects.</p>
</dd>
<dt>APPLY FOR VARIABLE</dt>
<dd>
<p>Indicates that the temporary calculated member is added <span class="italic">only</span> to dimensions used by the default aggmap objects for the specified variables.</p>
</dd>
<dt><span class="italic">variables</span></dt>
<dd>
<p>A text expression that specifies the one or more variable names for which the temporary calculated member is added to. When using a literal to specify multiple variable names, separate the names with commas. The temporary calculated member is added to the default aggmap object of each specified variable.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
When a specified variable does not have a default aggmap, using this clause generates an error. Use AGGMAP SET or $AGGMAP to specify a default aggmap for the variable.</div>
</dd>
<dt>APPLY WITH RELATION</dt>
<dd>
<p>Indicates that the temporary calculated member is added dimensions used by the aggregation specifications that contain a RELATION statement for the specified relation.</p>
</dd>
<dt><span class="italic">relation</span></dt>
<dd>
<p>A text expression that specifies the name of the relation for which there must be a RELATION statement in the AGGMAP statement.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4604"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2559"></a>Finding Out Information About Temporary Calculated Members</p>
<p>Once you have added a temporary calculated member using a MAINTAIN statement, you can use AGGMAPINFO to discover the temporary calculated members you have added, the equations used to calculate members, and the dimension members used in the right-hand side of equations used to calculate custom members.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4605"></a>Examples</p>
<div id="OLADM2560" class="example">
<p class="titleinexample"><a id="CHDBDHJA"></a><a id="i1023703"></a>Example 10-42 Creating Calculated Dimension Members with Aggregated Values</p>
<p>Assume that an analytic workspace has a dimension named <code dir="ltr">letter</code> and a variable named <code dir="ltr">my_quantity</code> with the following definitions and permanent values.</p>
<pre dir="ltr">DEFINE letter DIMENSION TEXT
DEFINE my_quantity VARIABLE DECIMAL &lt;letter&gt;

LETTER                  MY_QUANTITY
-------------- ------------------------------
A                                       10.00
B                                      100.00
</pre>
<p>You can define temporary dimension members for the <code dir="ltr">letter</code> dimension and aggregate data in <code dir="ltr">my_quantity</code> for those members following these steps:</p>
<ol>
<li>
<p>Determine the aggregation that you want to perform and define and populate the necessary supporting objects.</p>
<ol>
<li>
<p>Create an empty child-parent relation for the <code dir="ltr">letter</code> dimension</p>
<pre dir="ltr">DEFINE letter.parentrel RELATION letter &lt;letter&gt;

LETTER                LETTER.PARENTREL
-------------- ------------------------------
A              NA
B              NA
</pre></li>
<li>
<p>Define a simple model to be used to calculate values associated with the <code dir="ltr">letter</code> dimension</p>
<pre dir="ltr">DEFINE my_model MODEL
MODEL 
  DIMENSION letter
 END
</pre></li>
<li>
<p>Define and compile a simple aggmap to be used to calculate <code dir="ltr">my_quantity</code> values associated with the <code dir="ltr">letter</code> dimension</p>
<pre dir="ltr">DEFINE my_aggmap AGGMAP
AGGMAP 
   RELATION letter.parentrel PRECOMPUTE(NA)
   MODEL my_model PRECOMPUTE(NA)
  END

COMPILE my_aggmap
</pre></li>
<li>
<p>Define a variable to contain the definition for the custom aggregation, This new variable is the same as <code dir="ltr">my_quantity</code> except that has <code dir="ltr">my_aggmap</code> as its default aggmap.</p>
<pre dir="ltr">DEFINE my_quantity_definition VARIABLE DECIMAL &lt;letter&gt;

CONSIDER my_quantity_definition
PROPERTY &#39;$AGGMAP&#39; &#39;my_aggmap&#39;

REPORT my_quantity_definition

LETTER             MY_QUANTITY_DEFINITION
-------------- ------------------------------
A                                          NA
B                                          NA
</pre></li>
</ol>
</li>
<li>
<p>Add temporary members to the <code dir="ltr">letter</code> dimension and specify how variable values for those members are to be calculated.</p>
<pre dir="ltr">MAINTAIN letter ADD SESSION &#39;C&#39; = &#39;A&#39; * &#39;B&#39;
MAINTAIN letter ADD SESSION &#39;D&#39; = AGGREGATION(&#39;A&#39;, &#39;B&#39;) -
    APPLY TO AGGMAP my_aggmap
MAINTAIN letter ADD SESSION &#39;E&#39; = &#39;C&#39; + &#39;D&#39; -
    APPLY WITH RELATION letter.parentrel
MAINTAIN letter ADD SESSION &#39;F&#39; = 10 * &#39;E&#39; -
    APPLY FOR VARIABLE my_quantity_definition
</pre>
<p>A report of the <code dir="ltr">letter</code> dimension shows the new dimension members.</p>
<pre dir="ltr">LETTER
--------------
A
B
C
D
E
F
</pre></li>
<li>
<p>Aggregate <code dir="ltr">my_quantity</code> using the aggmap object named <code dir="ltr">my_aggmap</code>.</p>
<pre dir="ltr">REPORT AGGREGATE(my_quantity USING my_aggmap)

                AGGREGATE(MY_QUANTITY USING
LETTER                   MY_AGGMAP)
-------------- ------------------------------
A                                       10.00
B                                      100.00
C                                    1,000.00
D                                      110.00
E                                    1,110.00
F                                   11,100.00
</pre></li>
</ol>
<p>Assume now that you issue the UPDATE and COMMIT statements to update and commit your analytic workspace. Then you detach the analytic workspace and end your session.</p>
<p>Later you start a new session and attach the same analytic workspace. When you ask for a description of the analytic workspace you can see that all of the objects that were in the analytic workspace when the UPDATE was issued still exist.</p>
<pre dir="ltr">DEFINE LETTER DIMENSION TEXT

DEFINE LETTER.PARENTREL RELATION LETTER &lt;LETTER&gt;

DEFINE MY_QUANTITY VARIABLE DECIMAL &lt;LETTER&gt;

DEFINE MY_MODEL MODEL
MODEL
DIMENSION letter
END

DEFINE MY_AGGMAP AGGMAP
AGGMAP
RELATION letter.parentrel PRECOMPUTE(NA)
MODEL my_model PRECOMPUTE(NA)
END

DEFINE MY_QUANTITY_DEFINITION VARIABLE DECIMAL &lt;LETTER&gt;
</pre>
<p>However, when you report on the <code dir="ltr">letter</code> dimension and the <code dir="ltr">my_quantity</code> variable, the temporary dimension members that you added in the previous session and their related values in the <code dir="ltr">my_quantity</code> variable do not exist.</p>
<pre dir="ltr">LETTER
--------------
A
B

REPORT letter.parentrel

LETTER                LETTER.PARENTREL
-------------- ------------------------------
A              NA
B              NA

REPORT my_quantity

LETTER                  MY_QUANTITY
-------------- ------------------------------
A                                       10.00
B                                      100.00

LETTER             MY_QUANTITY_DEFINITION
-------------- ------------------------------
A                                          NA
B                                          NA

REPORT AGGREGATE(my_quantity USING my_aggmap)

                AGGREGATE(MY_QUANTITY USING
LETTER                   MY_AGGMAP)
-------------- ------------------------------
A                                       10.00
B                                      100.00
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" -->
<div id="OLADM857" class="refsect3"><a id="CIHCFGGE"></a>
<h4 class="refsect3">MAINTAIN ADD TO PARTITION</h4>
<p>The MAINTAIN ADD TO PARTITION statement <a id="sthref4606"></a>adds previously-populated dimension or composite values to a partition of a previously-defined partition template object.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Use <a href="#CIHBDFHF">MAINTAIN MOVE TO PARTITION</a> to maintain partition values when you have already populated a partitioned variable.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4607"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">partition-template</span> ADD TO PARTITION <span class="italic">partition</span> <span class="italic">valuelist</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4608"></a>Parameters</p>
<dl>
<dt><span class="italic">partition-template</span></dt>
<dd>
<p>A text expression that is the name of a previously-defined partition template object.</p>
</dd>
<dt>ADD TO PARTITION</dt>
<dd>
<p>Specifies that values are to be added to the partition.</p>
</dd>
<dt><span class="italic">partition</span></dt>
<dd>
<p>A text expression that is the name of a previously-defined partition in the partition template specified by <span class="italic">partition-template</span>.</p>
</dd>
<dt><span class="italic">valuelist</span></dt>
<dd>
<p>Text literals or a TEXT or ID expression specifying the values to be added. When it is a TEXT expression, each element (line) is treated as a separate value. The values in the expression are added exactly as they are typed.</p>
<p>For a concat dimension, you can specify a value of the concat dimension, or the name of a component dimension and a value or position of that dimension. You can use the values of a dimension surrogate as the values of <span class="italic">value</span>.</p>
<p>Note that you cannot partition along an <code dir="ltr">INTEGER</code> dimension.</p>
</dd>
<dt>TO</dt>
<dd>
<p>Indicates a range of values.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4609"></a>Examples</p>
<p>For an example of adding values to a partition, see <a href="#CCDJGJGJ">Example 10-48, &#34;Adding and Deleting Partition Values&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" -->
<div id="OLADM858" class="refsect2"><a id="i1010111"></a>
<h3 class="refsect2">MAINTAIN DELETE</h3>
<p><a id="sthref4610"></a><a id="sthref4611"></a><a id="sthref4612"></a>The MAINTAIN command with the DELETE keyword deletes members from non-concat dimensions and composites; or deletes the data of previously-partitioned variables from one partition to another as it changes the dimension or composite values defined for a partition in the partition template which the variables are dimensioned.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also issue a MAINTAIN DELETE statement for a surrogate dimension that has a Maintain trigger. In this case, Oracle OLAP only executes the Maintain trigger program; no other action occurs. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information for more information. Issuing a MAINTAIN statement for a surrogate dimension that does <span class="italic">not</span> have a Maintain trigger, returns an error.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4613"></a>Syntax</p>
<p>The syntax for using the DELETE keyword of the MAINTAIN command to delete members varies depending on the type of object from which you are deleting the members. For this reason, the following separate entries are provided for MAINTAIN DELETE:</p>
<ul>
<li>
<p><a href="#i1024494">MAINTAIN DELETE dimension</a></p>
</li>
<li>
<p><a href="#i1024510">MAINTAIN DELETE composite</a></p>
</li>
<li>
<p><a href="#CIHHFEEI">MAINTAIN DELETE FROM PARTITION</a></p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div id="OLADM859" class="refsect3"><a id="i1024494"></a>
<h4 class="refsect3">MAINTAIN DELETE dimension</h4>
<p><a id="sthref4614"></a><a id="sthref4615"></a><a id="sthref4616"></a>The MAINTAIN command with the DELETE keyword deletes dimension members from non-concat dimensions.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also issue a MAINTAIN DELETE statement for a surrogate dimension that has a Maintain trigger. In this case, Oracle OLAP only executes the Maintain trigger program; no other action occurs. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information for more information. Issuing a MAINTAIN statement for a surrogate dimension that does <span class="italic">not</span> have a Maintain trigger, returns an error.</div>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<a href="#i1024510">MAINTAIN DELETE composite</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4617"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">dimension</span> DELETE <span class="italic">limit-clause</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4618"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>A non-concat dimension, already defined in an attached analytic workspace, whose values are to be deleted.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use a dimension surrogate as the <span class="italic">dimension</span> argument of a MAINTAIN&nbsp;DELETE command. However, you can use a dimension surrogate as a value within the <span class="italic">limit-clause</span> parameter.</div>
</dd>
<dt><span class="italic">limit-clause</span></dt>
<dd>
<p>Specifies the values to delete from the dimension.</p>
<p>The syntax of <span class="italic">limit-clause</span> is the same syntax as any of the <span class="italic">limit-clause</span> arguments in the various forms of the LIMIT command (that is, the syntax of the LIMIT command after the <span class="italic">limit-type</span> argument such as &#34;TO&#34;). For the syntax of these arguments, see <a href="#i1019733">LIMIT (using values) command</a>, <a href="#i1019738">LIMIT using LEVELREL command</a>, <a href="#i1019742">LIMIT (using parent relation)</a>, <a href="#i1019747">LIMIT (using related dimension) command</a>, <a href="#i1019753">LIMIT NOCONVERT command</a>, and <a href="#i1019757">LIMIT command (using POSLIST)</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4619"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2561"></a>Deleting Temporary Calculated Members From Dimensions</p>
<p>When you use a MAINTAIN DELETE statement to delete a temporary calculated member, Oracle OLAP:</p>
<ol>
<li>
<p>Deletes the member from the dimension.</p>
</li>
<li>
<p>Removes the calculation from all aggmap objects that currently contain the corresponding calculation.</p>
</li>
</ol>
<p class="subhead2"><a id="OLADM2562"></a>Deleting Values in an Integer Dimension</p>
<p>When you use MAINTAIN to delete values in an INTEGER dimension, the values are renumbered to keep the normal sequence of <code dir="ltr">INTEGER</code> values (1, 2, 3, ...).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4620"></a>Examples</p>
<div id="OLADM2563" class="example">
<p class="titleinexample"><a id="sthref4621"></a>Example 10-43 Deleting Dimension Values by Value</p>
<p>This statement deletes <code dir="ltr">Omaha</code> and <code dir="ltr">Newark</code> from the values for <code dir="ltr">city</code>.</p>
<pre dir="ltr">MAINTAIN city DELETE &#39;Omaha&#39; &#39;Newark&#39;
</pre></div>
<!-- class="example" -->
<div id="OLADM2564" class="example">
<p class="titleinexample"><a id="sthref4622"></a>Example 10-44 Deleting the First Five Values of a Dimension</p>
<p>In this example, you use the INTEGER variable <code dir="ltr">intvar</code> to remove the first five cities from the dimension <code dir="ltr">city</code>.</p>
<pre dir="ltr">intvar = 5
MAINTAIN city DELETE FIRST intvar
</pre></div>
<!-- class="example" -->
<div id="OLADM2565" class="example">
<p class="titleinexample"><a id="sthref4623"></a>Example 10-45 Deleting Dimension Values Based on a Boolean Expression</p>
<p>Here you remove from <code dir="ltr">city</code> all those cities with a population of less than 75,000 people. You use the variable <code dir="ltr">population.c</code>, which contains the population for each city.</p>
<pre dir="ltr">MAINTAIN city DELETE population.c LT 75000
</pre></div>
<!-- class="example" -->
<div id="OLADM2566" class="example">
<p class="titleinexample"><a id="sthref4624"></a>Example 10-46 Deleting Dimension Values Using Surrogate to Specify Values</p>
<p>Assume that <code dir="ltr">prodid</code> is a <code dir="ltr">NUMBER</code> dimension and <code dir="ltr">prodtype</code> is a <code dir="ltr">TEXT</code> dimension surrogate for <code dir="ltr">prodid</code>. Assume also that the values of <code dir="ltr">prodid</code> are <code dir="ltr">17</code>, <code dir="ltr">40</code>, and <code dir="ltr">56</code>. The values of <code dir="ltr">prodtype</code> are <code dir="ltr">Two-Person&nbsp;Tent</code>, <code dir="ltr">Three-person&nbsp;Tent</code>, and <code dir="ltr">Four-person&nbsp;Tent</code>. The following statement deletes a value from <code dir="ltr">prodid</code> and from its surrogate.</p>
<pre dir="ltr">MAINTAIN prodid DELETE prodid(prodtype &#39;Three-Person Tent&#39;)
</pre></div>
<!-- class="example" -->
<div id="OLADM2567" class="example">
<p class="titleinexample"><a id="sthref4625"></a>Example 10-47 Deleting Related MONTH Values</p>
<p>In this example, you use the related dimension <code dir="ltr">quarter</code> to remove values of the dimension <code dir="ltr">month</code>. All months related to the values of <code dir="ltr">quarter</code> currently in the status are deleted.</p>
<pre dir="ltr">LIMIT quarter TO FIRST 1
</pre>
<p>MAINTAIN&nbsp;month&nbsp;DELETE&nbsp;quarter</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" -->
<div id="OLADM860" class="refsect3"><a id="i1024510"></a>
<h4 class="refsect3">MAINTAIN DELETE composite</h4>
<p><a id="sthref4626"></a><a id="sthref4627"></a><a id="sthref4628"></a>The MAINTAIN command with the DELETE keyword deletes dimension members from composites.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i1024494">MAINTAIN DELETE dimension</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4629"></a>Syntax</p>
<p class="synopsis">MAINTAIN&nbsp;<span class="italic">composite</span> DELETE&nbsp;<span class="italic">comp-arg</span></p>
<p>where <span class="syntaxinlineitalic">comp-arg</span> is one of the following constructs:</p>
<dl>
<dd><span class="syntaxinlineitalic">valuelist</span></dd>
<dd><span class="syntaxinline">ALL</span></dd>
<dd><span class="syntaxinlineitalic">base-dim&nbsp;</span><span class="syntaxinline">[</span><span class="syntaxinlineitalic">valuelist</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinlineitalic">boolean-expression</span></dd>
<dd><span class="syntaxinline">{TOP | BOTTOM}&nbsp;</span><span class="syntaxinlineitalic">n&nbsp;</span><span class="syntaxinline">BASEDON&nbsp;</span><span class="syntaxinlineitalic">exp</span></dd>
<dd><span class="syntaxinline">{TOP | BOTTOM}&nbsp;</span><span class="syntaxinlineitalic">n-percent&nbsp;</span><span class="syntaxinline">PERCENTOF&nbsp;</span><span class="syntaxinlineitalic">expression</span></dd>
<dd><span class="syntaxinline">LONGLIST</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4630"></a>Parameters</p>
<dl>
<dt><span class="italic">composite</span></dt>
<dd>
<p>A composite whose values are to be deleted. When the composite is a named composite, it must be defined in an attached analytic workspace. When the composite is unnamed, it must have been used in defining an object in an attached analytic workspace.</p>
<p>Use the SPARSE keyword to refer to an unnamed composite (for example, <code dir="ltr">SPARSE&nbsp;&lt;market product&gt;</code>).</p>
</dd>
<dt><span class="italic">valuelist</span></dt>
<dd>
<p>Specifies one or more values to be deleted from the composite. The <span class="italic">valuelist</span> can be text constants or a text expression.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>Deletes all composite values, but does <span class="italic">not</span> delete the definition of the composite itself.</p>
</dd>
<dt><span class="italic">base-dim</span> [<span class="italic">valuelist</span>]</dt>
<dd>
<p>Deletes the values that include the listed values of a base dimension of the composite. The argument <span class="italic">valuelist</span> can be one value, a list of values, or a range of values (using TO to specify an inclusive range). You cannot use position numbers to specify a range of values. When you omit <span class="italic">valuelist,</span> Oracle OLAP deletes all values that include <span class="italic">base-dim</span> values currently in status.</p>
</dd>
<dt><span class="italic">boolean-expression</span></dt>
<dd>
<p>Deletes all composite values for which the Boolean expression is <code dir="ltr">TRUE</code>. The <span class="italic">boolean-expression</span> must be dimensioned by the <span class="italic">dimension</span> or the <span class="italic">composite</span> from which you the values deleted. When it has additional dimensions, their status must each be limited to one value.</p>
</dd>
<dt>TOP <span class="italic">n</span> BASEDON <span class="italic">exp</span></dt>
<dt>BOTTOM <span class="italic">n</span> BASEDON <span class="italic">exp</span></dt>
<dd>
<p>Deletes the top or bottom <span class="italic">n</span> values based on the highest (TOP) or lowest (BOTTOM) values in <span class="italic">exp.</span> The expression must be dimensioned by the <span class="italic">composite</span> from which you the values deleted. When it has additional dimensions, their status must each be limited to one value.</p>
</dd>
<dt>BOTTOM <span class="italic">n-percent</span> PERCENTOF <span class="italic">expression</span></dt>
<dt>TOP <span class="italic">n-percent</span> PERCENTOF <span class="italic">expression</span></dt>
<dd>
<p>Deletes values by finding the top or bottom performers based on a criterion. This construction sorts values and deletes them based on their contribution, by percentage, to an expression.</p>
</dd>
<dt>LONGLIST</dt>
<dd>
<p>Indicates a long list (up to 2,000 values) of individual values to delete. When there are fewer than 300 values, LONGLIST is not needed.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" -->
<div id="OLADM861" class="refsect3"><a id="CIHHFEEI"></a>
<h4 class="refsect3">MAINTAIN DELETE FROM PARTITION</h4>
<p>The MAINTAIN DELETE FROM PARTITION command deletes the <a id="sthref4631"></a><a id="sthref4632"></a>data of previously-partitioned variables from one partition to another as it changes the dimension or composite values defined for a partition in the partition template which the variables are dimensioned.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Use <a href="#CIHBDFHF">MAINTAIN MOVE TO PARTITION</a> to maintain partition values when you have already populated a partitioned variable.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4633"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">partition-template</span> DELETE FROM PARTITION <span class="italic">partition</span> { <span class="italic">dim-arg</span>| <span class="italic">comp-arg</span>}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4634"></a>Parameters</p>
<dl>
<dt><span class="italic">partition-template</span></dt>
<dd>
<p>A text expression that is the name of a previously-defined partition template object.</p>
</dd>
<dt><span class="italic">partition</span></dt>
<dd>
<p>A text expression that is the name of a previously-defined partition in the partition template specified by <span class="italic">partition-template</span>.</p>
</dd>
<dt>DELETE FROM PARTITION</dt>
<dd>
<p>Specifies that values are to be deleted from the partition and from partitioned variables dimensioned using a partition template that includes the partition.</p>
</dd>
<dt><span class="italic">dim-args</span></dt>
<dd>
<p>Specifies the values of a dimension that to use when deleting partitioned variable values and when redefining the values that are in the partition You can use any of the constructs specified for the <span class="italic">dim-arg</span> argument in <a href="#i1024494">MAINTAIN DELETE dimension</a>.</p>
</dd>
<dt><span class="italic">comp--args</span></dt>
<dd>
<p>Specifies the values of a composite to use when deleting partitioned variable values and when redefining the values that are in the partition You can use any of the constructs specified for the <span class="italic">comp-arg</span> argument in <a href="#i1024510">MAINTAIN DELETE composite</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4635"></a>Examples</p>
<div id="OLADM2568" class="example">
<p class="titleinexample"><a id="CCDJGJGJ"></a>Example 10-48 Adding and Deleting Partition Values</p>
<p>Assume that you have defined the following objects in your analytic workspace. on</p>
<pre dir="ltr">DEFINE time DIMENSION TEXT
DEFINE time_parentrel RELATION time &lt;time&gt;
DEFINE product DIMENSION TEXT
DEFINE partition_sales_by_year PARTITION TEMPLATE &lt;time product&gt; -
   PARTITION BY LIST (time) -
    (PARTITION time_2004 VALUES (&#39;2004&#39;, &#39;Dec2004&#39;, &#39;Jan2004&#39;, &#39;31Dec2004&#39;, - 
          &#39;01Dec2004&#39;, &#39;31Jan2004&#39;, &#39;01Jan2004&#39;) &lt;TIME PRODUCT&gt; -
     PARTITION time_2003 VALUES (&#39;2003&#39;, &#39;Dec2003&#39;, &#39;Jan2003&#39;, &#39;31Dec2003&#39;, -
         &#39;01Dec2003&#39;, &#39;31Jan2003&#39;, &#39;01Jan2003&#39;) &lt;TIME PRODUCT&gt; -
     PARTITION time_2002 VALUES (&#39;2002&#39;, &#39;Dec2002&#39;, &#39;Jan2002&#39;, &#39;31Dec2002&#39;, -
         &#39;01Dec2002&#39;, &#39;31Jan2002&#39;, &#39;01Jan2002&#39;) &lt;TIME PRODUCT&gt;)
</pre>
<p>Assume that instead of having all sales values dimensioned levels by all time values of a year in a partition, you want to have partitions by days and by summary time values (month and year). To change <code dir="ltr">partition_sales_by_year</code> to reflect this new partitioning scheme, you issue the following statements.</p>
<pre dir="ltr">&#34;Create the new partition
CHGDFN partition_sales_by_year DEFINE -
         (PARTITION partition_month_years VALUES () &lt;time product&gt;)
&#34;Delete the values for months and years from the partitions for years
MAINTAIN partition_sales_by_year DELETE FROM PARTITION time_2004 &#39;2004&#39;- 
        &#39;Dec2004&#39; &#39;Jan2004&#39;
MAINTAIN partition_sales_by_year DELETE FROM PARTITION time_2003 &#39;2003&#39;-
        &#39;Dec2003&#39;&#39;Jan2003&#39;
MAINTAIN partition_sales_by_year DELETE FROM PARTITION time_2002 &#39;2002&#39;-
       &#39;Dec2002&#39; &#39;Jan2002&#39;
&#34;Add the month and year values to the new partition for summary values
MAINTAIN partition_sales_by_year ADD TO PARTITION partition_month_years &#39;2004&#39;-
      &#39;Dec2004&#39; &#39;Jan2004&#39; &#39;2003&#39; &#39;Dec2003&#39;&#39;Jan2003&#39; &#39;2002&#39; &#39;Dec2002&#39; &#39;Jan2002&#39;
</pre>
<p>The <code dir="ltr">partition_sales_by_year</code> partition template object now has the following definition.</p>
<pre dir="ltr">DEFINE PARTITION_SALES_BY_YEAR PARTITION TEMPLATE &lt;TIME PRODUCT&gt; -
   PARTITION BY LIST (TIME) -
    (PARTITION TIME_2004 VALUES (&#39;31Dec2004&#39;, &#39;01Dec2004&#39;, &#39;31Jan2004&#39;, -
       &#39;01Jan2004&#39;) &lt;TIME PRODUCT&gt; -
     PARTITION TIME_2003 VALUES (&#39;31Dec2003&#39;, &#39;01Dec2003&#39;, &#39;31Jan2003&#39;, -
       &#39;01Jan2003&#39;) &lt;TIME PRODUCT&gt; -
     PARTITION TIME_2002 VALUES (&#39;31Dec2002&#39;, &#39;01Dec2002&#39;, &#39;31Jan2002&#39;, -
       &#39;01Jan2002&#39;) &lt;TIME PRODUCT&gt; -
     PARTITION PARTITION_MONTH_YEARS VALUES (&#39;2004&#39;, &#39;Dec2004&#39;, &#39;Jan2004&#39;, -
       &#39;2003&#39;, &#39;Dec2003&#39;, &#39;Jan2003&#39;, &#39;2002&#39;, &#39;Dec2002&#39;, &#39;Jan2002&#39;)-
         &lt;TIME PRODUCT&gt;)
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" -->
<div id="OLADM862" class="refsect2"><a id="i1023950"></a>
<h3 class="refsect2">MAINTAIN MERGE</h3>
<p><a id="sthref4636"></a>The MAINTAIN command with the MERGE keyword provides a quick way to make sure all dimension or composite values on a separate list are included in a non-concat dimension or composite. Using the MERGE keyword with the MAINTAIN command automatically adds the new values from the list and ignores the duplicates. This method of entering dimension values can save a significant amount of time when you have a large number of values to enter.</p>
<p>You can use MERGE with dimensions of any data type, including DAY, WEEK, MONTH, QUARTER, and YEAR dimensions. However, because Oracle OLAP provides a quick way of adding values of DAY, WEEK, MONTH, QUARTER, and YEAR dimensions through the ADD keyword, the MERGE keyword may not be as useful with DAY, WEEK, MONTH, QUARTER, and YEAR dimensions as it is with TEXT or ID dimensions.</p>
<p>At the same time as you are merging values into a dimension, you can also update a relation that involves that dimension.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also issue this MAINTAIN MERGE statement for a surrogate dimension that has a Maintain trigger. In this case, Oracle OLAP only executes the Maintain trigger program one time for each value in <span class="italic">exp</span>; no other action occurs. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information for more information. Issuing a MAINTAIN statement for a surrogate dimension that does <span class="italic">not</span> have a Maintain trigger, returns an error.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4637"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">dimension</span>|<span class="italic">composite</span> MERGE&nbsp;<span class="italic">exp</span>&nbsp;[RELATE&nbsp;<span class="italic">relation</span>]</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>A non-concat dimension, already defined in an attached analytic workspace, whose values are to be entered or changed.</p>
</dd>
<dt><span class="italic">composite</span></dt>
<dd>
<p>A composite whose values are to be added, deleted, or merged. When the composite is a named composite, it must be defined in an attached analytic workspace. When the composite is unnamed, it must have been used in defining an object in an attached analytic workspace. Use the SPARSE keyword to refer to an unnamed composite (for example, <code dir="ltr">SPARSE &lt;market product&gt;</code>).</p>
</dd>
<dt><span class="italic">exp</span></dt>
<dd>
<p>Specifies an expression whose values are to be merged with <span class="italic">dimension</span>; for example, the name of a dimensioned text variable that contains dimension values, or a single-cell text variable whose value is a multiline list of dimension values. MAINTAIN MERGE ignores any NAs in <span class="italic">exp.</span> When <span class="italic">dimension</span> is an INTEGER dimension, then <span class="italic">exp</span> specifies the number of values that you want in the dimension. When the actual total is less, MAINTAIN MERGE adds enough values to reach the specified total. For example, when an INTEGER dimension has 10 positions, <code dir="ltr">MERGE</code> <code dir="ltr">5</code> has no effect; but <code dir="ltr">MERGE</code> <code dir="ltr">15</code> would add 5 values.</p>
</dd>
<dt>RELATE <span class="italic">relation</span></dt>
<dd>
<p>Specifies a relation to be updated as new values from <span class="italic">exp</span> are merged into <span class="italic">dimension.</span> At least one dimension of <span class="italic">exp</span> must also appear in the definition of <span class="italic">relation.</span> When <span class="italic">exp</span> is a single-cell value, you cannot use the RELATE phrase.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4638"></a>Examples</p>
<div id="OLADM2569" class="example">
<p class="titleinexample"><a id="sthref4639"></a>Example 10-49 Using the MERGE Keyword with Composites</p>
<p>Suppose you want to define a composite that is made up of all combinations of the first three values of the <code dir="ltr">product</code> dimension and the first five values of the <code dir="ltr">district</code> dimension. You can efficiently include all 15 values with the following statements.</p>
<pre dir="ltr">DEFINE comp_proddist COMPOSITE &lt;product district&gt;
LIMIT product TO FIRST 3
LIMIT district TO FIRST 5
MAINTAIN comp_proddist MERGE &lt;product district&gt;
</pre>
<p>This method works with conjoint dimensions as well.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM863" class="refsect2"><a id="CIHIGHGA"></a>
<h3 class="refsect2">MAINTAIN MOVE</h3>
<p>A MAINTAIN command with the MOVE keyword has different effects depending on the object on which it operates:</p>
<ul>
<li>
<p>When maintaining a dimension, MAINTAIN MOVE changes the position of one or more values in a non-concat dimension or a dimension of type TEXT, ID, or INTEGER or adds previously-populated dimension or composite values to a partition</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also issue a <a href="#i1010119">MAINTAIN MOVE dimension value</a> statement for a surrogate dimension that has a Maintain trigger. In this case, Oracle OLAP only executes the Maintain trigger program; no other action occurs. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information for more information. Issuing a MAINTAIN statement for a surrogate dimension that does <span class="italic">not</span> have a Maintain trigger, returns an error.</div>
</li>
<li>
<p>When maintaining a partition, MAINTAIN MOVE moves the data of a previously-partitioned variables from one partition to another as it changes the dimension or composite values defined for a partition in the partition template which the variables are dimensioned.</p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4640"></a>Syntax</p>
<p>The syntax for using the MAINTAIN command with the MOVE keyword depends on the type of the object being maintained.</p>
<p>For this reason, the following separate entries are provided for MAINTAIN MOVE:</p>
<ul>
<li>
<p><a href="#i1010119">MAINTAIN MOVE dimension value</a></p>
</li>
<li>
<p><a href="#CIHBDFHF">MAINTAIN MOVE TO PARTITION</a></p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div id="OLADM864" class="refsect3"><a id="i1010119"></a>
<h4 class="refsect3">MAINTAIN MOVE dimension value</h4>
<p><a id="sthref4641"></a>A simple MAINTAIN MOVE statement changes the position of one or more values in a non-concat dimension or a dimension of type TEXT, ID, or INTEGER. You cannot use the MOVE keyword of the MAINTAIN command with composites or with dimensions of type DAY, WEEK, MONTH, QUARTER, or YEAR.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also issue a MAINTAIN MOVE statement for a surrogate dimension that has a Maintain trigger. In this case, Oracle OLAP only executes the Maintain trigger program; no other action occurs. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information for more information. Issuing a MAINTAIN statement for a surrogate dimension that does <span class="italic">not</span> have a Maintain trigger, returns an error.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4642"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">dimension</span> MOVE <span class="italic">limit-clause</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4643"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>A non-concat dimension, already defined in an attached analytic workspace, whose values are to be entered or changed. The dimension must be of type TEXT, ID, or INTEGER. You cannot specify a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR.</p>
</dd>
<dt><span class="italic">limit-clause</span></dt>
<dd>
<p>Specifies the values you want to move.</p>
<p>The syntax of <span class="italic">limit-clause</span> is the same syntax as any of the <span class="italic">limit-clause</span> arguments in the various forms of the LIMIT command (that is, the syntax of the LIMIT command after the <span class="italic">limit-type</span> argument such as &#34;TO&#34;). For the syntax of these arguments, see <a href="#i1019733">LIMIT (using values) command</a>, <a href="#i1019738">LIMIT using LEVELREL command</a>, <a href="#i1019742">LIMIT (using parent relation)</a>, <a href="#i1019747">LIMIT (using related dimension) command</a>, <a href="#i1019753">LIMIT NOCONVERT command</a>, and <a href="#i1019757">LIMIT command (using POSLIST)</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4644"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2570"></a>What Effects Performance of MAINTAIN MOVE</p>
<p>The performance cost of issuing a MAINTAIN MOVE command is dependent on the length of the dimension, not on the number of values being moved. Consequently, when moving values in a large dimension, do not issue several MAINTAIN MOVE statements one after another; instead, set up the dimension status to what you want and then issue a single MAINTAIN MOVE command.</p>
<p class="subhead2"><a id="OLADM2571"></a>Reordering or Sorting Values within a Dimension</p>
<p>When you want to reorder or sort dimension values using a MAINTAIN MOVE statement, to specify that you want to use all of the dimension values that are in status, use the STATUS keyword of the <span class="italic">limit-clause</span> argument of <a href="#i1019733">LIMIT (using values) command</a> rather than a VALUES command.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4645"></a>Examples</p>
<div id="OLADM2572" class="example">
<p class="titleinexample"><a id="sthref4646"></a>Example 10-50 Moving a Dimension Value to a Specific Position</p>
<p>This statement moves the position of the city <code dir="ltr">Houston</code> to the position following the fifth dimension value.</p>
<pre dir="ltr">MAINTAIN city MOVE &#39;Houston&#39; AFTER 5
</pre></div>
<!-- class="example" -->
<div id="OLADM2573" class="example">
<p class="titleinexample"><a id="sthref4647"></a>Example 10-51 Moving a Dimension Value to the End of the Status List</p>
<p>In this example, you use the TEXT variable <code dir="ltr">textvar</code> to move <code dir="ltr">Seattle</code> to the end of the list of cities.</p>
<pre dir="ltr">textvar = &#39;Seattle&#39;
MAINTAIN city MOVE textvar LAST
</pre></div>
<!-- class="example" -->
<div id="OLADM2574" class="example">
<p class="titleinexample"><a id="sthref4648"></a>Example 10-52 Moving Values of Concat Dimensions</p>
<p>The following statement moves the <code dir="ltr">reg.dist.ccdim</code> concat dimension value <code dir="ltr">&lt;district:&nbsp;&#39;Denver&#39;&gt;</code> after the concat dimension value <code dir="ltr">&lt;region:&nbsp;&#39;West&#39;&gt;</code>.</p>
<pre dir="ltr">MAINTAIN reg.dist.ccdim MOVE &lt;district: &#39;Denver&#39;&gt; AFTER &lt;region: &#39;West&#39;&gt;
</pre>
<p>The following statement moves the concat dimension value <code dir="ltr">&lt;district:&nbsp;&#39;Denver&#39;&gt;</code> after the position that corresponds to the first value of the component <code dir="ltr">district</code> dimension. If the first value in the status of <code dir="ltr">district</code> is <code dir="ltr">Atlanta</code>, then <code dir="ltr">&lt;district:&nbsp;&#39;Denver&#39;&gt;</code> moves after the value <code dir="ltr">&lt;district:&nbsp;&#39;Atlanta&#39;&gt;</code> in the concat dimension.</p>
<pre dir="ltr">MAINTAIN reg.dist.ccdim MOVE &lt;district: &#39;Denver&#39;&gt; AFTER &lt;district: 1&gt;
</pre>
<p>The following statement moves the concat dimension value <code dir="ltr">&lt;district:&nbsp;&#39;Dallas&#39;&gt;</code> after the third value of the concat dimension.</p>
<pre dir="ltr">MAINTAIN reg.dist.ccdim MOVE &lt;district: &#39;Dallas&#39;&gt; AFTER 3
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" -->
<div id="OLADM865" class="refsect3"><a id="CIHBDFHF"></a>
<h4 class="refsect3">MAINTAIN MOVE TO PARTITION</h4>
<p>A MAINTAIN MOVE TO PARTITION statement combines both add and move capabilities. You can use a MAINTAIN MOVE TO PARTITION statement to:</p>
<ul>
<li>
<p>Add<a id="sthref4649"></a><a id="sthref4650"></a><a id="sthref4651"></a><a id="sthref4652"></a> previously-populated dimension or composite values to a partition in the same manner as <a href="#CIHCFGGE">MAINTAIN ADD TO PARTITION</a></p>
</li>
<li>
<p>Change the dimension or composite values defined for a partition in the partition template by which the variables are dimensioned and, at the same time, move the data of a previously-partitioned variables dimensioned by those dimensions and composites from one partition to another.</p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4653"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">partition-template</span> MOVE TO PARTITION <span class="italic">partition</span> <span class="italic">value&nbsp;[TO&nbsp;value]</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4654"></a>Parameters</p>
<dl>
<dt><span class="italic">partition-template</span></dt>
<dd>
<p>A text expression that is the name of a previously-defined partition template object.</p>
</dd>
<dt>MOVE TO PARTITION</dt>
<dd>
<p>Specifies that values are to be added to the partition or moved from one partition to another.</p>
</dd>
<dt><span class="italic">partition</span></dt>
<dd>
<p>A text expression that is the name of a previously-defined partition in the partition template specified by <span class="italic">partition-template</span>.</p>
</dd>
<dt><span class="italic">value</span></dt>
<dd>
<p>Specifies one or more values of a previously-populated dimension or composite. You can specify these values as:</p>
<ul>
<li>
<p>A literal value.</p>
</li>
<li>
<p>An expression whose value is a dimension value.</p>
</li>
<li>
<p>For all dimensions except <code dir="ltr">NUMBER</code> dimensions, an <code dir="ltr">INTEGER</code> expression whose value represents the position of a dimension value.</p>
</li>
<li>
<p>A valueset; or a <a href="dml_functions_2.htm#i78807">LIMIT function</a>.</p>
</li>
</ul>
<p>For a concat dimension, you can specify a value of the concat dimension, or the name of a component dimension and a value or position of that dimension. You can use the values of a dimension surrogate as the values of <span class="italic">value</span>.</p>
</dd>
<dt>TO</dt>
<dd>
<p>Indicates a range of values.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4655"></a>Examples</p>
<div id="OLADM2575" class="example">
<p class="titleinexample"><a id="CCDDADAJ"></a>Example 10-53 Specifying the Values of a Partition Using Valuesets</p>
<p>Assume that you have defined a partition template object with the following definition that does not specify the actual dimension values for each partition.</p>
<pre dir="ltr">DEFINE PARTITION_SALES_BY_YEAR PARTITION TEMPLATE &lt;TIME PRODUCT&gt; -
   PARTITION BY LIST (TIME) -
    (PARTITION TIME_2004 VALUES () &lt;TIME PRODUCT&gt; -
     PARTITION TIME_2003 VALUES () &lt;TIME PRODUCT&gt; -
     PARTITION TIME_2002 VALUES () &lt;TIME PRODUCT&gt;)
</pre>
<p>To specify the values of each partition using valuesets, you take the following steps:</p>
<ol>
<li>
<p>Define a valueset for each year&#39;s values.</p>
<pre dir="ltr">DEFINE vs_2004 VALUESET time
LIMIT vs_2004 to &#39;01Dec2004&#39; &#39;31Dec2004&#39; &#39;01Jan2004&#39;&#39;31Jan2004&#39; -
     &#39;Jan2004&#39; &#39;Dec2004&#39; &#39;2004&#39;
DEFINE vs_2003 VALUESET time
LIMIT vs_2003 to &#39;01Dec2003&#39; &#39;31Dec2003&#39; &#39;01Jan2003&#39;&#39;31Jan2003&#39; -
     &#39;Jan2003&#39; &#39;Dec2003&#39; &#39;2003&#39;
DEFINE vs_2002 VALUESET time
LIMIT vs_2002 to &#39;01Dec2002&#39; &#39;31Dec2002&#39; &#39;01Jan2002&#39;&#39;31Jan2002&#39; -
     &#39;Jan2002&#39; &#39;Dec2002&#39; &#39;2002&#39;
</pre></li>
<li>
<p>Using MAINTAIN MOVE statements, specify values for the partitions of the partition template.</p>
<pre dir="ltr">MAINTAIN partition_sales_by_year MOVE TO PARTITION time_2004 vs_2004
MAINTAIN partition_sales_by_year MOVE TO PARTITION time_2003 vs_2003
MAINTAIN partition_sales_by_year MOVE TO PARTITION time_2002 vs_2002
</pre></li>
</ol>
<p>When you issue a DESCRIBE statement, you can see that the description of the <code dir="ltr">partition_sales_by_year</code> partition template now includes the appropriate values of <code dir="ltr">time</code> in each partition definition.</p>
<pre dir="ltr">DEFINE PARTITION_SALES_BY_YEAR PARTITION TEMPLATE &lt;TIME PRODUCT&gt; - 
    PARTITION BY LIST (TIME) -
    (PARTITION TIME_2004 VALUES -
(&#39;2004&#39;,&#39;Dec2004&#39;,&#39;Jan2004&#39;, 31Dec2004&#39;,01Dec2004&#39;,&#39;31Jan2004&#39;,&#39;01Jan2004&#39;)-
     PARTITION TIME_2003 VALUES -
(&#39;2003&#39;,&#39;Dec2003&#39;,&#39;Jan2003&#39;, 31Dec2003&#39;,01Dec2003&#39;,&#39;31Jan2003&#39;,&#39;01Jan2003&#39;)-
      PARTITION TIME_2002 VALUES -
                     (&#39;2002&#39;,&#39;Dec2002&#39;,&#39;Jan2002&#39;, 31Dec2002&#39;,01Dec2002&#39;,&#39;31Jan2002&#39;,&#39;01Jan2002&#39;))
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" -->
<div id="OLADM866" class="refsect2"><a id="i1010123"></a>
<h3 class="refsect2">MAINTAIN RENAME</h3>
<p><a id="sthref4656"></a>The MAINTAIN command with the RENAME keyword changes the spelling of one or more dimension values. You cannot use RENAME keyword with a composite or with dimensions of type INTEGER, DAY, WEEK, MONTH, QUARTER, or YEAR.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also issue a MAINTAIN RENAME statement for a surrogate dimension that has a Maintain trigger. In this case, Oracle OLAP only executes the Maintain trigger program; no other action occurs. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information for more information. Issuing a MAINTAIN statement for a surrogate dimension that does <span class="italic">not</span> have a Maintain trigger, returns an error.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4657"></a>Syntax</p>
<p class="synopsis">MAINTAIN <span class="italic">dimension</span> RENAME {<span class="italic">value</span> <span class="italic">new-value</span>}...</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4658"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>A non-concat dimension of type TEXT or ID that is already defined in an attached analytic workspace and whose values are to be renamed. You cannot specify a dimension of type INTEGER, DAY, WEEK, MONTH, QUARTER, or YEAR.</p>
</dd>
<dt><span class="italic">value</span></dt>
<dd>
<p>Specifies an existing dimension value to be renamed. You can specify a dimension value, a character expression whose value is a dimension value, or an <code dir="ltr">INTEGER</code> expression whose value represents the position of a dimension value.</p>
</dd>
<dt><span class="italic">new-value</span></dt>
<dd>
<p>A text constant or a TEXT or ID expression that is the new spelling for the dimension value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4659"></a>Examples</p>
<div id="OLADM2576" class="example">
<p class="titleinexample"><a id="sthref4660"></a>Example 10-54 Renaming Values of a TEXT Dimension</p>
<p>This statement changes the spelling of the cities <code dir="ltr">Chic</code> and <code dir="ltr">Bost</code> to <code dir="ltr">Chicago</code> and <code dir="ltr">Boston</code>.</p>
<pre dir="ltr">MAINTAIN city RENAME &#39;Chic&#39; &#39;Chicago&#39; &#39;Bost&#39; &#39;Boston&#39;
</pre>
<p><a id="i1024803"></a>In this example you use the TEXT variable <code dir="ltr">textvar</code> to change the second city to <code dir="ltr">Atlanta</code>.</p>
<pre dir="ltr">textvar = &#39;Atlanta&#39;
MAINTAIN city RENAME 2 textvar
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i1004861"></a>
<div id="OLADM867" class="refsect1">
<h2 class="refsect1">MODEL</h2>
<p><a id="sthref4661"></a><a id="sthref4662"></a>The MODEL command enters a completely new specification into a new or existing model object. When the model already has a specification, Oracle OLAP overwrites it. To use MODEL to assign an model specification to a model object, the definition must be the one most recently defined or considered during the current session. When it is not, you must first use a CONSIDER statement to make it the current definition.</p>
<p>An alternative to a MODEL statement is an EDIT MODEL statement, which is available only in OLAP Worksheet. An EDIT MODEL statement opens an Edit window in which you can add, delete, or change the specification for a model object.</p>
<p>Adding a specification to a model object is just one step in modeling data. For more information on models, see <a href="dml_objects.htm#BEIDHDFI">&#34;OLAP DML Model Objects&#34;</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4663"></a>Syntax</p>
<p class="synopsis">MODEL&nbsp;<span class="italic">specification</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4664"></a>Parameters</p>
<dl>
<dt><span class="italic">specification</span></dt>
<dd>
<p>A multiline text expression that contains one or more of the following OLAP DML statements:</p>
<dl>
<dd><a href="#CIHCEHEH">SET</a> (=) command&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</dd>
<dd><a href="#i80588">DIMENSION (in models)</a> statement</dd>
<dd><a href="#i78931">INCLUDE</a> statement</dd>
</dl>
<p>The maximum number of lines you can have in a model is 4,000. Each statement is a line of the multiline text expression. When coding an ALLOCMAP statement at the command line level, separate statements with newline delimiters (<code dir="ltr">\n</code>), or use JOINLINES.</p>
<p>For a discussion of designing a model specification, see <a href="#CIHDFIIF">&#34;Model Specification&#34;</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4665"></a>Usage Notes</p>
<p class="subhead2"><a id="CIHDFIIF"></a><a id="OLADM2577"></a>Model Specification</p>
<p>The model specification consists of the following OLAP DML statements:</p>
<ol>
<li>
<p>One of the following:</p>
<ul>
<li>
<p>Exactly one INCLUDE statement that specifies the name of another model to include. See <a href="dml_objects.htm#BEIGEBCH">&#34;Nesting Models&#34;</a> for more information.</p>
</li>
<li>
<p>One or more DIMENSION (in models) statements coded following the <a href="#i1010430">&#34;Guidelines for Writing DIMENSION Statements in a Model&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
When a model contains an INCLUDE statement, then it cannot contain any DIMENSION statements. However, the model referenced in the INCLUDE statement or the root model in a hierarchy must contain the DIMENSION statements needed by the parent model(s).</div>
</li>
</ul>
</li>
<li>
<p>One or more SET commands or equations written following the <a href="#i1027115">&#34;Rules for Equations in Models&#34;</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_objects.htm#BEIHBBHH">&#34;Dimension Status and Model Equations&#34;</a> for information on how Oracle OLAP processes equations in a model</div>
</li>
<li>
<p>A final END statement that indicates the end of the model specification. (Omit when coding the specification in an Edit window of the OLAP Worksheet.)</p>
</li>
</ol>
<p>The maximum number of lines you can have in a model is 32,000.</p>
<p class="subhead2"><a id="OLADM2578"></a>MODEL Statement in an Aggregation Specification</p>
<p>Within an aggmap, you can use a special MODEL statement to execute a predefined model. (See the <a href="dml_commands_1.htm#i1010068">MODEL (in an aggregation)</a> statement under the AGGMAP command for more information.</p>
<p class="subhead2"><a id="OLADM2579"></a>Methods of Calculating Data Within a Variable</p>
<p>Both models and aggmap objects calculate data values within a variable based on relationships among dimension members. When a parent-child relationship exists among dimension members (that is, the dimension has a hierarchical structure) and all aggregate values can be calculated using the same method, then you can use a RELATION statement within an aggregation specification to calculate the values. However, when the dimension is not hierarchical and different equations are needed to calculate the values, then you must define a model. You can use a <a href="dml_commands_1.htm#i1010068">MODEL (in an aggregation)</a> to execute the MODEL within an aggregation specification or you can run a model at the command line using the syntax shown in <a href="dml_objects.htm#BEIDEBCA">&#34;Running a Model&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2580"></a>Deleting a Model Specification</p>
<p>You can remove the specification of a model without deleting the model definition. Consider the model with a CONSIDER statement. Then issue a MODEL statement and enter the word END as the model specification.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1066892"></a>Examples</p>
<div id="OLADM2581" class="example">
<p class="titleinexample"><a id="sthref4666"></a>Example 10-55 Model Specified in a Program</p>
<p>In the following example, a simple model is created (or overwritten) in a program called <code dir="ltr">myprog</code>. The first line in the program defines or considers the model. The second line contains the MODEL statement, which provides the lines of the model.</p>
<p>This model calculates the line items in a budget. The model equations are based on a <code dir="ltr">line</code> dimension.</p>
<pre dir="ltr">DEFINE myprog PROGRAM
PROGRAM
IF NOT EXISTS(&#39;myModel&#39;)
  THEN DEFINE myModel
  ELSE CONSIDER myModel
MODEL JOINLINES(-
  &#39;DIMENSION line month&#39; -
  &#39;Opr.Income = Gross.Margin - Marketing&#39; -
  &#39;Gross.Margin = Revenue - Cogs&#39; -
  &#39;Revenue = LAG(Revenue, 1, month) * 1.02&#39; -
  &#39;Cogs = LAG(Cogs, 1, MONTH) * 1.01&#39; -
  &#39;Marketing = LAG(Opr.Income, 1, month) * 0.20&#39; -
  &#39;END&#39;)
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2582" class="example">
<p class="titleinexample"><a id="sthref4667"></a>Example 10-56 Model from an Input File</p>
<p>This example presents the text of the same simple model, but it is stored in an ASCII disk file called <code dir="ltr">budget.txt</code>.</p>
<pre dir="ltr">DEFINE income.budget MODEL
MODEL
DIMENSION line month
Opr.Income = Gross.Margin - Marketing
Gross.Margin = Revenue - Cogs
Revenue = LAG(Revenue, 1, month) * 1.02
Cogs = LAG(Cogs, 1, month) * 1.01
Marketing = LAG(Opr.Income, 1, month) * 0.20
END
</pre>
<p>To include the <code dir="ltr">income.budget</code> model in your analytic workspace, execute the following statement in which <code dir="ltr">myinpfiles</code> is a directory object.</p>
<pre dir="ltr">INFILE &#39;myinpfiles/budget.txt&#39;
</pre></div>
<!-- class="example" -->
<div id="OLADM2583" class="example">
<p class="titleinexample"><a id="CHDBGACB"></a><a id="i1010678"></a>Example 10-57 Creating a Model</p>
<p><a id="sthref4668"></a>Suppose that you define a model, called <code dir="ltr">income.calc</code>, that calculates line items in the income statement.</p>
<pre dir="ltr">define income.calc model
ld Calculate line items in income statement
</pre>
<p><a id="sthref4669"></a>After defining the model, you can use a <code dir="ltr">MODEL</code> statement or the OLAP Worksheet editor to enter the specification for the model. A model specification can contain <code dir="ltr">DIMENSION</code> commands, assignment statements and comments. All the <code dir="ltr">DIMENSION</code> commands must come before the first equation. For the current example, you can specify the lines shown in the following model.</p>
<pre dir="ltr">DEFINE INCOME.CALC MODEL
LD Calculate line items in income statement
MODEL
DIMENSION line
net.income = opr.income - taxes
opr.income = gross.margin - (marketing + selling + r.d)
gross.margin = revenue - cogs
END
</pre>
<p><a id="sthref4670"></a>When you write the equations in a model, you can place them in any order. When you compile the model, either by issuing a <code dir="ltr">COMPILE</code> statement or by running the model, Oracle OLAP identifies the logical order in which the model equations are solved. When the calculated results of one equation are used as input to another equation, then the equations are solved in the order in which they are needed.</p>
<p><a id="sthref4671"></a>To run the <code dir="ltr">income.calc</code> model and use <code dir="ltr">actual</code> as the solution variable, you execute the following statement.</p>
<pre dir="ltr">income.calc actual
</pre>
<p>When the solution variable has dimensions other than the dimensions on which model equations are based, then a loop is performed automatically over the current status list of each of those dimensions. For example, <code dir="ltr">actual</code> is dimensioned by <code dir="ltr">month</code> , <code dir="ltr">division</code>, and <code dir="ltr">line</code>. When <code dir="ltr">division</code> is limited to <code dir="ltr">ALL</code>, and <code dir="ltr">month</code> is limited to <code dir="ltr">OCT96</code> to <code dir="ltr">DEC96</code>, then the <code dir="ltr">income.calc</code> model is solved for the three months in the status for each of the divisions.</p>
</div>
<!-- class="example" -->
<div id="OLADM2584" class="example">
<p class="titleinexample"><a id="CHDGFCII"></a><a id="i1010772"></a>Example 10-58 Building a Scenario Model</p>
<p>Suppose, for example, you want to calculate profit figures based on optimistic, pessimistic, and best-guess revenue figures for each division. The steps for building this scenario model are explained in the following example.</p>
<p>You can call the scenario dimension <code dir="ltr">scenario</code> and give it values that represent the scenarios you want to calculate.</p>
<p>These commands give <code dir="ltr">scenario</code> the values <code dir="ltr">optimistic</code>, <code dir="ltr">pessimistic</code> and <code dir="ltr">bestguess</code>.</p>
<pre dir="ltr">DEFINE scenario DIMENSION TEXT
LD Names of scenarios
MAINTAIN scenario ADD optimistic pessimistic bestguess
</pre>
<p><a id="sthref4672"></a>These commands create a variable named <code dir="ltr">plan</code> dimensioned by three other dimensions (<code dir="ltr">month</code>, <code dir="ltr">line</code>, and <code dir="ltr">division</code>) in addition to the <code dir="ltr">scenario</code> dimension.</p>
<pre dir="ltr">DEFINE plan DECIMAL &lt;month line division scenario&gt;
LD Scenarios for financials
</pre>
<p>For this example, you must enter input data, such as revenue and cost of goods sold, into the <code dir="ltr">plan</code> variable.</p>
<p>For the best-guess data, you can use the data in the <code dir="ltr">budget</code> variable. Limit the <code dir="ltr">line</code> dimension to the input line items, and then copy the <code dir="ltr">budget</code> data into the <code dir="ltr">plan</code> variable.</p>
<pre dir="ltr">LIMIT scenario TO &#39;BESTGUESS&#39;
LIMIT line TO &#39;REVENUE&#39; &#39;COGS&#39; &#39;MARKETING&#39; &#39;SELLING&#39; &#39;R.D&#39;
plan = budget
</pre>
<p>You might want to base the optimistic and pessimistic data on the best-guess data. For example, optimistic data might be fifteen percent higher than best-guess data, and pessimistic data might be twelve percent less than best-guess data. With <code dir="ltr">line</code> still limited to the input line items, execute the following commands.</p>
<pre dir="ltr">plan(scenario &#39;OPTIMISTIC&#39;) = 1.15 * plan(scenario &#39;BESTGUESS&#39;)
plan(scenario &#39;PESSIMISTIC&#39;) = .88 * plan(scenario &#39;BESTGUESS&#39;)
</pre>
<p>The final step in building a scenario model is to write a model that calculates results based on input data. The model might contain calculations very similar to those in the <code dir="ltr">budget.calc</code> model shown earlier in this chapter.</p>
<p>You can use the same equations for each scenario or you can use different equations. For example, you might want to calculate the cost of goods sold and use a different constant factor in the calculation for each scenario. To use a different constant factor for each scenario, you can define a variable dimensioned by <code dir="ltr">scenario</code> and place the appropriate values in the variable. When the name of your variable is <code dir="ltr">cogsval</code>, then your model might include the following equation for calculating the <code dir="ltr">cogs</code> line item.</p>
<pre dir="ltr">cogs = cogsval * revenue
</pre>
<p>By using variables dimensioned by <code dir="ltr">scenario</code>, you can introduce a great deal of flexibility into your scenario model.</p>
<p>Similarly, you might want to use a different constant factor for each division. You can define a variable dimensioned by <code dir="ltr">division</code> to hold the values for each division. For example, when labor costs vary from division to division, then you might dimension <code dir="ltr">cogsval</code> by <code dir="ltr">division</code> and by <code dir="ltr">scenario</code>.</p>
<p>When you run your model, you specify <code dir="ltr">plan</code> as the solution variable. For example, when your model is called <code dir="ltr">scenario.calc</code>, then you solve the model with this statement.</p>
<pre dir="ltr">scenario.calc plan
</pre>
<p>A loop is performed automatically over the current status list of each of the dimensions of <code dir="ltr">plan</code>. Therefore, when the <code dir="ltr">scenario</code> dimension is limited to <code dir="ltr">ALL</code> when you run the <code dir="ltr">scenario.calc</code> model, then the model is solved for all three scenarios: <code dir="ltr">optimistic</code>, <code dir="ltr">pessimistic</code>, and <code dir="ltr">bestguess</code>.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" -->
<div id="OLADM868" class="refsect2"><a id="i80588"></a>
<h3 class="refsect2">DIMENSION (in models)</h3>
<p><a id="sthref4673"></a>The DIMENSION statement at the beginning of a model tells Oracle OLAP the names of one or more dimensions to which the model assigns data or to which it refers in dimension-based equations. A dimension-based equation assigns the results of a calculation to a target that is represented by one or more values of a dimension.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4674"></a>Syntax</p>
<p class="synopsis">DIMENSION&nbsp;<span class="italic">dimension1&nbsp;</span>[,&nbsp;<span class="italic">dimensionN</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4675"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>One or more dimensions, including base dimensions of composites, on which model equations are based. You can specify the name of a dimension surrogate instead of the dimension for which is a surrogate. You can then use the values of the surrogate instead of the values of the dimension.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1031965"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2585"></a>Dimension-Based Equations in Models</p>
<p>When an equation (SET) assigns data to a dimension value or refers to dimension values in its calculations, it is called a <span class="italic">dimension-based</span> equation. Note that a dimension-based equation does not have to refer to the dimension itself, but only to the <span class="italic">values</span> of the dimension. Therefore, when the model contains any dimension-based equations, you must specify the name of each of these dimensions in a DIMENSION statement at the beginning of the model s that Oracle OLAP can determine the dimension to which each dimension value belongs. You can specify the name of a dimension surrogate instead of the dimension for which it is a surrogate. You can then use the values of the surrogate instead of the values of the dimension.</p>
<p>In addition, when a model contains any dimension-based equations, you must supply the name of a <span class="italic">solution variable</span> when you run the model. The solution variable is both the source and the target of data for the model. It holds the input data used in dimension-based calculations, and Oracle OLAP stores the calculation results in designated values of the solution variable. The solution variable is generally dimensioned by all the dimensions on which the model equations are based. For example, in a financial application, the model might be based on the <code dir="ltr">line</code> dimension, and the solution variable might be <code dir="ltr">actual</code>, which has <code dir="ltr">line</code> as one of its dimensions.</p>
<p>Dimension-based equations provide flexibility in modeling. Because you do not have to specify the modeling variable until you solve a model, you can run the same model with different solution variables. For example, you might run the same model with the <code dir="ltr">actual</code> variable, with a &#34;best case&#34; budget variable, and with a &#34;worst case&#34; budget variable.</p>
<p>A dimension must be specified in a DIMENSION statement when a dimension-based equation refers to a value of the dimension either as a source of the data used in the calculation or as the target to which the results are assigned. In the following example, <code dir="ltr">Gross.Margin</code>, <code dir="ltr">Revenue</code>, and <code dir="ltr">Cogs</code> are values of the <code dir="ltr">line</code> dimension, so <code dir="ltr">line</code> is specified in a DIMENSION statement.</p>
<pre dir="ltr">DIMENSION line
Gross.Margin = Revenue - Cogs
</pre>
<p class="subhead2"><a id="OLADM2586"></a>Dimension is a Function Argument</p>
<p>A dimension must be specified in a DIMENSION statement when the dimension is an argument to a function that uses a dimension value as its data source. In the following example, <code dir="ltr">month</code> must be specified in a DIMENSION statement.</p>
<pre dir="ltr">DIMENSION line, month
Revenue = lag(Revenue, 1, month) * 1.05
</pre>
<p>The writer of the preceding model expects to use a solution variable that is dimensioned by <code dir="ltr">line</code> and <code dir="ltr">month</code>. Therefore, when the model is run, the LAG function operates on a solution variable that has the specified time dimension (<code dir="ltr">month</code>) as one of its dimensions. However, because the model compiler cannot anticipate the time dimension of the solution variable, you must specify it in a DIMENSION statement. When you fail to include <code dir="ltr">month</code> in a DIMENSION statement, an error occurs when you attempt to compile the model.</p>
<p>In a function that operates on time-series data (such as MOVINGTOTAL or LAG), the <span class="italic">dimension</span> argument is optional when the dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR. For example, you can omit <code dir="ltr">month</code> from the LAG function in the preceding example. However, you must still specify the appropriate time dimension in a DIMENSION statement.</p>
<p class="subhead2"><a id="OLADM2587"></a>Solution Variable</p>
<p>When you run a model that contains dimension-based equations, you specify a solution variable, which is both the source and the target of data for the model. The solution variable is generally dimensioned by all the dimensions that are listed in the DIMENSION commands used in the model. Or, when a solution variable is dimensioned by a composite, the DIMENSION commands can list base dimensions of the composite. The DIMENSION commands can be explicit in the model or inherited through an included model. See <a href="#i81076">&#34;Incompatibility with INCLUDE&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2588"></a>Working with Composites</p>
<p>When you expect to run a model with a solution variable that has a composite in its dimension list, you can specify a base dimension of the composite in a DIMENSION statement. Your model equations assign results to values of the base dimension. Oracle OLAP automatically creates any new values that are needed in the composite.</p>
<p class="subhead2"><a id="OLADM2589"></a>Multiple DIMENSION Commands</p>
<p>You can include a separate DIMENSION statement for every dimension referred to or used in dimension-based equations, or you can specify all the dimensions in a single DIMENSION statement.</p>
<p class="subhead2"><a id="OLADM2590"></a>Location of Commands</p>
<p>You must place all the DIMENSION commands at the beginning of the model, before any equations.</p>
<p class="subhead2"><a id="i81076"></a><a id="OLADM2591"></a>Incompatibility with INCLUDE</p>
<p>When a model contains an INCLUDE statement, it cannot contain any DIMENSION commands. The INCLUDE statement specifies another model to include in the current model. In this case, the current model inherits its DIMENSION commands, if any, from the included model. For more information in including models, see the <a href="#i78931">INCLUDE</a> statement under the MODEL command.</p>
<p>Inherited DIMENSION commands must satisfy all the requirements specified for explicit DIMENSION commands. See <a href="#i1010430">&#34;Guidelines for Writing DIMENSION Statements in a Model&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2592"></a>Dimension Order</p>
<p>When multiple dimensions are specified by the DIMENSION commands in a model, the order in which the dimensions are listed is important:</p>
<ul>
<li>
<p>When a model equation contains a name that might be a dimension value, Oracle OLAP searches through the dimensions that appear in the model&#39;s explicit or inherited DIMENSION commands, in the order you list the dimensions, to determine whether the name matches a dimension value of a listed dimension. The search concludes as soon as a match is found. Therefore, when two or more listed dimensions have a dimension value with the same name, Oracle OLAP assumes that the value belongs to the dimension specified earliest in a DIMENSION statement. When the name does not match a value of a listed dimension, Oracle OLAP then searches through the variables in the attached workspaces to find a match.</p>
</li>
<li>
<p>When model equations assign results to values of a target dimension, Oracle OLAP constructs code that loops over the values of the other, non-target, dimensions listed in the DIMENSION commands. The non-target dimension listed first in the DIMENSION commands is treated as the slowest-varying dimension. For example, when MONTH is the first non-target dimension listed in a DIMENSION statement and DIVISION is the second, Oracle OLAP loops through all the divisions for the first month, then all the divisions for the second month, and so on.</p>
</li>
</ul>
<p class="subhead2"><a id="i1010430"></a><a id="OLADM2593"></a>Guidelines for Writing DIMENSION Statements in a Model</p>
<p>When you write <code dir="ltr">DIMENSION</code> statements, keep these points in mind:</p>
<ul>
<li>
<p>In the <code dir="ltr">DIMENSION</code> statements, you must list the names of all the dimensions on which model equations are based. In the following example, <code dir="ltr">gross.margin</code>, <code dir="ltr">revenue</code>, and <code dir="ltr">cogs</code> are values of the <code dir="ltr">line</code> dimension, so <code dir="ltr">line</code> is specified in a <code dir="ltr">DIMENSION</code> statement.</p>
<pre dir="ltr">DIMENSION line
gross.margin = revenue - cogs
</pre></li>
</ul>
<ul>
<li>
<p><code dir="ltr">DIMENSION</code> statements must also list any dimension that is an argument to a function that refers to a dimension value. In the following example, <code dir="ltr">month</code> must be specified in a <code dir="ltr">DIMENSION</code> statement.</p>
<pre dir="ltr">DIMENSION line, month
revenue = LAG(revenue, 1, month) * 1.05
</pre></li>
</ul>
<ul>
<li>
<p>When a model equation assigns results to a dimension value, then code is constructed that loops over the values of any of the other nontarget dimensions listed in the <code dir="ltr">DIMENSION</code> statements. The nontarget dimension listed first in the <code dir="ltr">DIMENSION</code> statements is treated as the slowest-varying dimension.</p>
</li>
<li>
<p><a id="sthref4676"></a>A model executes most efficiently when you observe the following guidelines for coordinating the dimensions in <code dir="ltr">DIMENSION</code> statements and the dimensions of the solution variable:</p>
<ul>
<li>
<p>List the target dimension of the model as the <span class="italic">first</span> dimension in the <code dir="ltr">DIMENSION</code> statements and as the <span class="italic">last</span> dimension in the definition of the solution variable.</p>
</li>
<li>
<p>In <code dir="ltr">DIMENSION</code> statements, list the nontarget dimensions in the <span class="italic">reverse</span> order of their appearance in the definition of the solution variable. Consequently, the fastest-varying and slowest-varying nontarget dimensions are in the same order in the model and in the solution variable.</p>
</li>
</ul>
</li>
<li>
<p>When the solution variable has dimensions that are not used or referred to in model equations, then do not include them in <code dir="ltr">DIMENSION</code> statements.</p>
</li>
<li>
<p>When your analytic workspace contains a variable whose name is the same as a dimension value, or when the same dimension value exists in two different dimensions, then there could be ambiguities in your model equations. Because you can use a variable and a dimension value in the same way in a model equation, a name might be the name of a variable, or it might be a value of any dimension in your analytic workspace.</p>
</li>
<li>
<p>Your <code dir="ltr">DIMENSION</code> statements are used to determine whether each name reference in an assignment statement is a variable or a dimension value. <a href="dml_objects.htm#BEIJAACH">&#34;Compiling Models&#34;</a> explains how the name references are resolved.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_objects.htm#BEIDHDFI">&#34;OLAP DML Model Objects&#34;</a>, SET, and MODEL for information on:
<ul>
<li>
<p>Entering statements in a model</p>
</li>
<li>
<p>How to refer to values of dimensions</p>
</li>
<li>
<p>Explanation of how Oracle OLAP constructs code from the statements</p>
</li>
<li>
<p>Explanation of how Oracle OLAP handles the situation in which the solution variable has more dimensions or fewer dimensions than are listed in DIMENSION commands</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4677"></a>Examples</p>
<div id="OLADM2594" class="example">
<p class="titleinexample"><a id="sthref4678"></a>Example 10-59 Simplified Model for Budget Estimates</p>
<p>The following statements define a simplified model that estimates budget values for the items on an income statement.</p>
<pre dir="ltr">DEFINE income.budget MODEL
LD Model for estimating budget line items
MODEL
dimension line, month
Revenue = 1.05 * LAG(Revenue 1 month)
Gross.Margin = Revenue - Cogs
Opr.Income = Gross.Margin - (Marketing + Selling + R.D)
Net.Income = Opr.Income - Taxes
END
</pre>
<p>The model equations are based on the <code dir="ltr">line</code> dimension, so <code dir="ltr">line</code> is specified in the DIMENSION statement. The dimension <code dir="ltr">month</code> is the time dimension in the LAG function that operates on REVENUE values, so <code dir="ltr">month</code> is also specified in the DIMENSION statement.</p>
<p>When you run the model, Oracle OLAP loops over the values in the current status of the <code dir="ltr">month</code> dimension.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM869" class="refsect2"><a id="i78931"></a>
<h3 class="refsect2">INCLUDE</h3>
<p><a id="sthref4679"></a><a id="sthref4680"></a><a id="sthref4681"></a>The INCLUDE statement includes one model within another model. You can use the INCLUDE statement only within models.</p>
<p>Use INCLUDE to create modular models by placing equations that are common to several models, in a separate model for inclusion on other models as needed. The INCLUDE statement also facilitates what-if analyses. An experimental model can draw equations from a base model and selectively replace them with new equations</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4682"></a>Syntax</p>
<p class="synopsis">INCLUDE&nbsp;<span class="italic">model</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4683"></a>Parameters</p>
<dl>
<dt><span class="italic">model</span></dt>
<dd>
<p>The name of a model to include in the current model. The current model is referred to as the parent model. The model that you include is referred to as the base model.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4684"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2595"></a>Guidelines for Coding INCLUDE Statements in a Model</p>
<p>Follow these guidelines for using INCLUDE statements in models:</p>
<ul>
<li>
<p>A model can contain only one INCLUDE statement.</p>
</li>
<li>
<p>The INCLUDE statement must be before any equations in the model.</p>
</li>
<li>
<p>A model that contains an INCLUDE statement cannot contain any DIMENSION statements.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2596"></a>How to Nest Models</p>
<p>You can nest models by placing an INCLUDE statement in a base model. For example, model <code dir="ltr">myModel1</code> can include model <code dir="ltr">myModel2</code>, and model <code dir="ltr">myModel2</code> can include model <code dir="ltr">myModel3</code>. The nested models form a hierarchy. In this example, <code dir="ltr">myModel1</code> is at the top of the hierarchy, and <code dir="ltr">myModel3</code> is at the root. A base model cannot include a model at a higher level in the hierarchy. In the preceding example, <code dir="ltr">myModel2</code> cannot include <code dir="ltr">myModel1</code>, and <code dir="ltr">myModel3</code> cannot include <code dir="ltr">myModel1</code> or <code dir="ltr">myModel2</code>.</p>
<p class="subhead2"><a id="OLADM2597"></a>Dependencies Among Equations</p>
<p>When compiling a model that contains an INCLUDE statement, the compiler considers the dependencies among the equations from all the included models when it orders and blocks the equations. Therefore, when you run the <code dir="ltr">MODEL.COMPRPT</code> program to examine the results of the compilation or when you set the MODTRACE option to <code dir="ltr">YES</code> before running the parent model, you might find that equations from different levels in the hierarchy of included models are interspersed. See <a href="#i79514">Example 10-61, &#34;Producing a Compilation Report&#34;</a><span class="bold">.</span></p>
<p>When the compiler finds no dependencies among the equations from the included models, it executes the equations in the root model first and the equations in the parent model last.</p>
<p class="subhead2"><a id="OLADM2598"></a>Compiling a Parent Model</p>
<p>When you compile a parent model, the compiler compiles all the base models under it in the included hierarchy when compiled code does not already exist. When the compiler detects an error in an included model, neither it nor any model above it in the hierarchy is compiled. When the root model of the included hierarchy contains an error, the higher-level models are unable to inherit any DIMENSION statements from the root model. In this case, the compiler might report an error in a parent model when the source of the error is actually in the root model. For example, the compiler might report that a target dimension value does not exist in any attached analytic workspace. On the other hand, when the compiler detects an error in a parent model but finds no errors in the included models, the included models are compiled even though the parent model is not.</p>
<p class="subhead2"><a id="OLADM2599"></a>Masking Equations</p>
<p>To support what-if analyses, Oracle OLAP allows equations in a model to mask previous equations. The previous equations can come from the same model or from included models. A masked equation is not executed. When you run the <code dir="ltr">MODEL.COMPRPT</code> program after compiling the model, the masked equation is not shown in the report on the compiled model.</p>
<p>Masking can take place when an equation assigns a value to a variable or dimension value that is also the target of a previous equation. The masking rules are as follows:</p>
<ul>
<li>
<p>When the target in the earlier equation is qualified the same as the target in the later equation, the earlier equation is masked and the later equation is executed. The following example illustrates two equations with targets that are identically qualified.</p>
<pre dir="ltr">Equation from a base model:      BUDGET(LINE REVENUE) = 5000
Equation from the parent model:  BUDGET(LINE REVENUE) = 3500
</pre>
<pre dir="ltr"></pre>
<p>In this example, the equation from the base model is masked and the equation from the parent model is executed.</p>
</li>
<li>
<p>When the target in the earlier equation is more qualified than the target in the later equation, the earlier equation is masked. The later equation is executed.</p>
<p>The target that is more qualified is the one that affects the fewest dimension values. Consider the following equations from a base model and a parent model.</p>
<pre dir="ltr">Equation from a base model:      BUDGET(LINE REVENUE) = 2500
Equation from the parent model:  BUDGET = 4000
</pre>
<pre dir="ltr"></pre>
<p>The equation from the base model is more qualified because it assigns data only for the REVENUE value of the LINE dimension. The equation from the parent model assigns data to all the values of the LINE dimension. In this example, the equation from the base model is masked and the equation from the parent model is executed.</p>
</li>
<li>
<p>When the target in the earlier equation is less qualified than the target in the later equation, no masking takes place. Both equations are executed.</p>
<p>Consider the following equations from a base model and a parent model.</p>
<pre dir="ltr">Equation from a base model:      BUDGET = LAG(ACTUAL, 1, MONTH)
Equation from the parent model:  BUDGET(LINE REVENUE) = 6500
Equation from the parent model:  BUDGET(LINE COGS) = 4000
</pre>
<pre dir="ltr"></pre>
<p>The equation from the base model assigns data to all the values of the LINE dimension. The equations from the parent model are more qualified because each assigns data only for a single value of the LINE dimension. In this example, the equation from the base model is executed first, and then the equations from the parent model are executed.</p>
<p>This functionality enables you to assign a large number of values with one equation and use subsequent equations to replace or test individual values.</p>
</li>
<li>
<p>When the target in the earlier equation is qualified differently from the target in the later equation, no masking takes place. Both equations are executed. In the following example, both equations are executed.</p>
<pre dir="ltr">Equation from a base model:      BUDGET(LINE REVENUE) = 5000
Equation from the parent model:  BUDGET(LINE COGS) = 4500
</pre></li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4685"></a>Examples</p>
<div id="OLADM2600" class="example">
<p class="titleinexample"><a id="sthref4686"></a>Example 10-60 Including a Model</p>
<p>This example shows a parent model named <code dir="ltr">income.plan</code> that includes a base model named <code dir="ltr">base.lines</code>.</p>
<pre dir="ltr">DEFINE income.plan MODEL
MODEL
INCLUDE base.lines
revenue = LAG(revenue, 1, month) * 1.02
cogs = LAG(cogs, 1, month) * 1.01
taxes = 0.3 * opr.income
END
 
DEFINE BASE.LINES MODEL
MODEL
DIMENSION line month
net.income = opr.income - taxes
opr.income = gross.margin - marketing
gross.margin = revenue - cogs
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2601" class="example">
<p class="titleinexample"><a id="i79514"></a>Example 10-61 Producing a Compilation Report</p>
<p>The following statements compile the parent model and produce a compilation report.</p>
<pre dir="ltr">COMPILE income.plan
MODEL.COMPRPT income.plan
</pre>
<p>These statements produce the following output.</p>
<pre dir="ltr">MODEL INCOME.PLAN &lt;LINE MONTH&gt;
                      BLOCK 1 (SIMPLE)
INCOME.PLAN     2:    revenue = lag(revenue, 1, month) * 1.02
INCOME.PLAN     3:    cogs = lag(cogs, 1, month) * 1.01
BASE.LINES      4:    gross.margin = revenue - cogs
BASE.LINES      3:    opr.income = gross.margin - marketing
INCOME.PLAN     4:    taxes = 0.3 * opr.income
BASE.LINES      2:    net.income = opr.income - taxes
                      END BLOCK 1
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i1004377"></a>
<div id="OLADM870" class="refsect1">
<h2 class="refsect1">MODEL.COMPRPT</h2>
<p>The MODEL.COMPRPT program produces a report that shows how model equations are grouped into blocks. For step blocks and for simultaneous blocks with a cross<span class="italic">-</span>dimensional dependence, the report lists the dimensions involved in the dependence.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4687"></a>Syntax</p>
<p class="synopsis">MODEL.COMPRPT</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4688"></a>Examples</p>
<div id="OLADM2602" class="example">
<p class="titleinexample"><a id="i1004312"></a>Example 10-62 A Compilation Report for the income.budget Model</p>
<p>The MODEL.COMPRPT program produces a compilation report that shows the block structure of the model that you specify as the program argument and the order of equations within each block. Each equation is identified with the name of the model and its statement number within that model.</p>
<p>The following statements compile the model and invoke MODEL.COMPRPT.</p>
<pre dir="ltr">COMPILE income.budget
MODEL.COMPRPT income.budget
</pre>
<p>The <code dir="ltr">MODEL.COMPRPT</code> statement produces the following compilation report.</p>
<pre dir="ltr">MODEL INCOME.BUDGET &lt;LINE MONTH&gt;
                   BLOCK 1 (SIMPLE)
INCOME.BUDGET  4:  revenue = lag(revenue, 1, month) * 1.02
INCOME.BUDGET  5:  cogs = lag(cogs, 1, month) * 1.01
INCOME.BUDGET  3:  gross.margin = revenue - cogs
                    BLOCK 2 (STEP-FORWARD &lt;MONTH&gt;)
INCOME.BUDGET  6:   marketing = lag(opr.income, 1, month) * 0.20
INCOME.BUDGET  2:   opr.income = gross.margin - marketing
                    END BLOCK 2
                   END BLOCK 1
</pre></div>
<!-- class="example" -->
<div id="OLADM2603" class="example">
<p class="titleinexample"><a id="sthref4689"></a>Example 10-63 A Compilation Report for the income.est Model</p>
<p>The following statement runs the <code dir="ltr">MODEL.COMPRPT</code> program, which produces a compilation report for a model named <code dir="ltr">income.est</code>.</p>
<pre dir="ltr">MODEL.COMPRPT income.est
</pre>
<p>The compilation report contains the following output.</p>
<pre dir="ltr">MODEL INCOME.EST &lt;LINE MONTH&gt;
              BLOCK 1 (STEP-FORWARD &lt;MONTH&gt;)
INCOME.EST 5: revenue = lag(revenue,1,month)+2*lag(marketing,1,month)
INCOME.EST 4: gross.margin = revenue - cogs
               BLOCK 2 (SIMULTANEOUS)
INCOME.EST 2:  net.income = opr.income - taxes
INCOME.EST 3:  opr.income = gross.margin - marketing - selling - r.d
INCOME.EST 6:  marketing = .15 * net.income
INCOME.EST 7:  taxes = .3 * opr.income
               END BLOCK 2
              END BLOCK 1
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="g1068375"></a>
<div id="OLADM871" class="refsect1">
<h2 class="refsect1">MODEL.DEPRT</h2>
<p>The MODEL.DEPRPT program produces a report that lists the variables and dimension values on which each model equation depends. When a dependence is dimensional, the report gives the name of the dimension.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4690"></a>Syntax</p>
<p class="synopsis">MODEL.DEPRT</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4691"></a>Examples</p>
<div id="OLADM2604" class="example">
<p class="titleinexample"><a id="i1004255"></a>Example 10-64 Producing a Dependency Report</p>
<p>The MODEL.DEPRPT program produces a dependency report that lists the variables and dimension values that are the assignment target and data sources for each model equation. For each equation, the assignment target and each data source is listed on a separate line. When a target or data source is a dimension value, its line is marked by an asterisk enclosed in square brackets (<code dir="ltr">[*]</code>).</p>
<p>When a target or data source depends on a qualifier, the report specifies the dimension of the qualifier and indicates the type of dependence. The type of dependence can be any of the following:</p>
<ul>
<li>
<p>LAG&nbsp;--&nbsp;One-way dependence on previous dimension values</p>
</li>
<li>
<p>LEAD&nbsp;--&nbsp;One-way dependence on later dimension values</p>
</li>
<li>
<p>BOTH&nbsp;--&nbsp;Two-way dependence on both previous and later values</p>
</li>
<li>
<p>VARIABLE&nbsp;--&nbsp;Dependence on either previous or later values, depending on the value of a variable when the model is run</p>
</li>
<li>
<p>QDR&nbsp;--&nbsp;Qualified data reference</p>
</li>
</ul>
<p>Assume that you want to produce a dependency report for the <code dir="ltr">income.budget</code> model. The following statement and report illustrate this process.</p>
<pre dir="ltr">MODEL.DEPRPT income.budget

MODEL INCOME.BUDGET &lt;LINE MONTH&gt;
2    [*](LINE OPR.INCOME):
       [*](LINE GROSS.MARGIN)
       [*](LINE MARKETING)
3    [*](LINE GROSS.MARGIN):
       [*](LINE REVENUE)
       [*](LINE COGS)
4    [*](LINE REVENUE):
       [*](LINE REVENUE)(LAG &lt;MONTH&gt;)
5    [*](LINE COGS):
       [*](LINE COGS)(LAG &lt;MONTH&gt;)
6    [*](LINE MARKETING):
       [*](LINE OPR.INCOME)(LAG &lt;MONTH&gt;)
</pre>
<p>The data sources in statements 4, 5, and 6 have a LAG dependence on the <code dir="ltr">month</code> dimension.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1004462"></a>
<div id="OLADM872" class="refsect1">
<h2 class="refsect1">MODEL.XEQRPT</h2>
<p>The MODEL.XEQRPT program produces a report about the execution of the model. The report specifies the block where the solution failed and shows the values of the model options that were used in solving simultaneous blocks.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4692"></a>Syntax</p>
<p class="synopsis">MODEL.XEQRPT</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4693"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2605"></a>Running MODEL.XEQRPT</p>
<p>Before you can run the MODEL.XEQRPT program, you must</p>
<ol>
<li>
<p>Set the <a href="dml_options.htm#i1004528">MODERROR</a> option to STOP or CONTINUE.</p>
</li>
<li>
<p>Execute the model.</p>
</li>
</ol>
<p>When the model halts because of an error, run the <code dir="ltr">MODEL.XEQRPT</code> program.</p>
<p class="subhead2"><a id="OLADM2606"></a>Effect of MODERROR on MODEL.XEQRPT</p>
<p>The results returned by MODEL.XEQRPT vary depending on the setting of the <a href="dml_options.htm#i1004528">MODERROR</a> option:</p>
<ul>
<li>
<p>When MODERROR is set to <code dir="ltr">STOP</code> and execution of the model halts because of an error, you can run the MODEL.XEQRPT program to produce a report about the execution of the model. The report specifies the block where the solution failed and shows the values of the model options that were used in solving simultaneous blocks.</p>
</li>
<li>
<p>When MODERROR is set to <code dir="ltr">CONTINUE</code> and one block in the model is a simultaneous block that either diverges or fails to converge, Oracle OLAP executes any remaining blocks in the model.</p>
<p>Moreover, Oracle OLAP executes the model for the remaining values in the status of any additional dimensions of the solution variable that are not dimensions of the model. In this case, when you run the MODEL.XEQRPT program when Oracle OLAP finishes executing the model, a report on the solution for the final values of the additional dimensions is produced.</p>
<p>When the simultaneous blocks in the model converged when the model was executed for the final values of the additional dimensions, then <code dir="ltr">MODEL.XEQRPT</code> reports that the blocks were solved, even though an earlier execution of the model for another dimension value might have failed. When you want to see the <code dir="ltr">MODEL.XEQRPT</code> for the dimension values where the failure occurred, you can set MODERROR to <code dir="ltr">STOP</code> and rerun the model.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4694"></a>Examples</p>
<div id="OLADM2607" class="example">
<p class="titleinexample"><a id="i1004616"></a>Example 10-65 Producing an Execution Report for the income.est Model</p>
<p>After running the income.est model, you can use the MODEL.XEQRPT program to produce a report on the execution of the model.</p>
<p>The following statement runs the MODEL.XEQRPT program, which produces an execution report for the model.</p>
<pre dir="ltr">MODEL.XEQRPT income.est
</pre>
<p>The execution report contains the following output.</p>
<pre dir="ltr">MODEL INCOME.EST &lt;LINE MONTH&gt;
Solution status:     SOLVED
Model options in use: 
   MODSIMULTYPE:     AITKENS
   MODMAXITERS:      50
   MODTOLERANCE:     3
   MODOVERFLOW:      3
   MODGAMMA:         1
BLOCK 1 (STEP-FORWARD &lt;MONTH&gt;)
  Solution status:   SOLVED
BLOCK 2 (SIMULTANEOUS)
  Solution status:   SOLVED
  Iterations:        15
</pre>
<p>The report shows the values of the model options that were used in solving the simultaneous blocks and indicates whether each block was solved.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="g1037071"></a>
<div id="OLADM873" class="refsect1">
<h2 class="refsect1">MONITOR</h2>
<p><a id="sthref4695"></a><a id="sthref4696"></a><a id="sthref4697"></a><a id="sthref4698"></a><a id="sthref4699"></a><a id="sthref4700"></a><a id="sthref4701"></a><a id="sthref4702"></a>The MONITOR command records data on the performance cost of each line in a specified program. To get meaningful information from MONITOR, your session must be the only one running in Oracle OLAP. Furthermore, the accuracy of the results of MONITOR decreases as more processes are started on the host computer.</p>
<p>You first use a MONITOR statement to specify a program for monitoring; then you run the program and use MONITOR again to obtain the results. When the program executes a given line repeatedly, MONITOR records the cumulative cost of all the executions on the single line of its monitor list that is devoted to that program line.</p>
<p>A line of code is considered to have a high performance cost when it takes a long time to execute. Use a TRACKPRG statement to identify programs that have relatively high costs and then use MONITOR to identify the time-consuming lines within those programs. When you want, you can use both TRACKPRG and MONITOR simultaneously.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4703"></a>Syntax</p>
<p class="synopsis">MONITOR ON [<span class="italic">programs</span>] | OFF | INIT | FILE [[APPEND] <span class="italic">file-name</span>] | RESET</p>
<p>where <span class="syntaxinlineitalic">programs</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinline">ALL [</span><span class="syntaxinlineitalic">awlist</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinlineitalic">program-name</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4704"></a>Parameters</p>
<dl>
<dt>ON</dt>
<dd>
<p>Starts looking for the specified programs to be run so that Oracle OLAP can gather line-by-line timing data in a monitor list. (It continues the current monitoring process without interruption when monitoring is already on, or resumes with a gap when monitoring was off.)</p>
<p>When you do not specify a value for <span class="italic">programs</span>, the default is the program or programs specified in the last executed <code dir="ltr">MONITOR</code> <code dir="ltr">ON</code> statement. When there was no such statement in your current session, no data is collected and no error is produced.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>Specifies that all of the programs in one or more analytic workspaces are monitored.</p>
</dd>
<dt><span class="italic">awlist</span></dt>
<dd>
<p>The name of one or more analytic workspaces (optionally separated by commas) whose programs you want monitored. When you omit this argument, Oracle OLAP monitors all of the programs in all of the attached analytic workspaces</p>
</dd>
<dt><span class="italic">program-name</span></dt>
<dd>
<p>The name of a specific program that you want monitored.</p>
</dd>
<dt>OFF</dt>
<dd>
<p>Stops monitoring programs and freezes any timing data currently in the monitor list which allows you send the list to the current outfile or to a text file either immediately, or later in your session.</p>
</dd>
<dt>RESET</dt>
<dd>
<p>(Useful only when monitoring is on.) Retains information about the programs that ares currently specified for monitoring and the Oracle OLAP memory that is allocated for the current monitor list, but discards any timing data currently in the list. In addition, RESET causes MONITOR to again begin waiting for you to run the same programs. When you do, MONITOR automatically gathers new timing data into a new monitor list for the same programs in the same memory allocation as before.</p>
</dd>
<dt>INIT</dt>
<dd>
<p>(Useful only when monitoring is on.) Initializes the monitoring environment. Initialization consists of discarding the program names and the timing data associated with the current monitor list, and releasing the Oracle OLAP memory previously used for that list so it can be used for other purposes or for collecting new data in a new monitor list.</p>
</dd>
<dt>FILE</dt>
<dd>
<p>Specifies that the timing data that is currently in the monitor list is sent to a file.</p>
</dd>
<dt>APPEND</dt>
<dd>
<p>Specifies that the timing data is appended to an existing file. When you omit this argument, the new output replaces the current contents of the file.</p>
</dd>
<dt><span class="italic">file-name</span></dt>
<dd>
<p>A text expression that is the name of the file to receive the output. Unless the file is in the current directory, you must include the name of the directory object in the name of the file. When <span class="italic">file-name</span> is specified, the data is sent to the named text file. FILE has no effect on the monitor list, so you can send the same list repeatedly to different destinations. When <span class="italic">file-name</span> is omitted, Oracle OLAP sends the timing data that is currently in the monitor list to the current outfile.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use a CDA statement to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4705"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2608"></a>Monitor List</p>
<p>Each entry (that is, line) in the monitor list focuses on the execution of a single program line, regardless of how many times it is executed. Each entry is divided into the following four sections:</p>
<ul>
<li>
<p>Cumulative total time of all executions in milliseconds rounded to the nearest 10 millisecond, in columns 1 through 11</p>
</li>
<li>
<p>Number of times executed, in columns 12 through 18</p>
</li>
<li>
<p>Line number, in columns 19 through 23</p>
</li>
<li>
<p>Text of the line, in column 24 and subsequent columns</p>
</li>
</ul>
<p>Here is a sample of MONITOR output with column numbers included for reference.</p>
<pre dir="ltr">12345678901234567890123456789012345678901234567890
 
60              1    1 push name 
30              1    2 trap on GETOUT noprint 
51              1    3 limit name to obj(type) eq &#39;DIMENSION&#39;
0               1    4 for name 
0               0    5    do 
450             6    6    limit &amp;name to ALL ifnone BYPASS 
0               0    7 BYPASS: 
0               0    8    doend 
0               0    9 GETOUT: 
0               1   10 pop name 
</pre>
<p>The following is the full description of the program used for the preceding output. Note that in the output, the line with the LIMIT command is truncated because it is too long to fit.</p>
<pre dir="ltr">DEFINE allstat PROGRAM
LD Program to set the status of all dimensions in the analytic workspace to ALL
PROGRAM
PUSH NAME
TRAP ON getout NOPRINT
LIMIT NAME TO OBJ(TYPE) EQ &#39;Dimension&#39; IFNONE getout
FOR NAME
   DO
   LIMIT &amp;NAME TO ALL IFNONE bypass
bypass:
   DOEND
getout:
POP NAME
END
</pre>
<p class="subhead2"><a id="OLADM2609"></a>Attaching, Detaching, and Reattaching Analytic Workspaces</p>
<p>When Oracle OLAP executes a program in an analytic workspace that has been attached, detached, a new block of data is collected.</p>
<p class="subhead2"><a id="OLADM2610"></a>Truncated Statement Lines</p>
<p>When a program line is too long, the MONITOR output truncates it. Continuation lines do not appear in the output.</p>
<p class="subhead2"><a id="OLADM2611"></a>Producing a Report</p>
<p>When you want to produce an Oracle OLAP report from the timing data in the MONITOR file, you can write a program that uses a FILEREAD statement to read the data into an Oracle OLAP variable, and then use Oracle OLAP reporting capabilities to produce a report. You can use the <code dir="ltr">TRACKREPORT</code> program as a model. However, keep in mind that the <code dir="ltr">TRACKREPORT</code> program was written to produce a report on TRACKPRG output, not MONITOR output.</p>
<p class="subhead2"><a id="OLADM2612"></a>Bracketing Lines</p>
<p>When you just want to time a particular line or group of lines in a program, you can insert <code dir="ltr">MONITOR</code> <code dir="ltr">ON</code> and <code dir="ltr">MONITOR</code> <code dir="ltr">OFF</code> statements in the program to bracket just the line or lines in which you are interested.</p>
<p class="subhead2"><a id="OLADM2613"></a>Using MONITOR for a Nested Programs</p>
<p>When you do not want to run a nested program by itself, you can specify its name in a <code dir="ltr">MONITOR</code> <code dir="ltr">ON</code> statement and then run the program that calls it. MONITOR gathers timing data only for the specified (nested) program. When the specified program is called more than once, for each program line, MONITOR accumulates the total seconds taken by all the times the line was run and provide the number of times it was run.</p>
<p>When you just want to time a particular execution of a nested program that is called more than once, you can insert <code dir="ltr">MONITOR</code> <code dir="ltr">ON</code> and <code dir="ltr">MONITOR</code> <code dir="ltr">OFF</code> statements in the calling program to bracket the single call in which you are interested.</p>
<p class="subhead2"><a id="OLADM2614"></a>Using MONITOR with Very Small Programs</p>
<p>You might not be able to reproduce the results exactly for very small programs. When the CPU interrupts processing to do other tasks, that time is a greater percentage of the total execution time.</p>
<p class="subhead2"><a id="OLADM2615"></a>Unit of Measure for MONITOR</p>
<p>The MONITOR and TRACKPRG commands use milliseconds as the unit for recording execution time. The execution time does not include time spent on I/O and time spent waiting for the next statement.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4706"></a>Examples</p>
<div id="OLADM2616" class="example">
<p class="titleinexample"><a id="sthref4707"></a>Example 10-66 Collecting Timing Data Using MONITOR</p>
<p>In this example, MONITOR is used to collect timing data on the execution of the individual lines of code in <code dir="ltr">prog1</code> and then to send the data to a text file. The <code dir="ltr">MONITOR</code> <code dir="ltr">ON</code> statement is then used to discard the <code dir="ltr">prog1</code> timing data and start collecting data on <code dir="ltr">prog2</code>. After the data for <code dir="ltr">prog2</code> is sent to a second file, <code dir="ltr">MONITOR</code>&nbsp;<code dir="ltr">INIT</code> is used to discard the current monitor list and release the memory used for it.</p>
<pre dir="ltr">MONITOR ON prog1
prog1
MONITOR FILE prog1.mon
MONITOR ON prog2
prog2
MONITOR OFF
MONITOR FILE prog2.mon
MONITOR INIT
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CFABACJD"></a>
<div id="OLADM874" class="refsect1">
<h2 class="refsect1">MOVE</h2>
<p><a id="sthref4708"></a><a id="sthref4709"></a>The MOVE command moves an object name to a new position in the NAME dimension of an analytic workspace. The reorganizing effect of the MOVE command on the workspace is cosmetic. That is, no physical changes take place in workspace storage. Users often reorganize workspace objects so the output from DESCRIBE is easier to read.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4710"></a>Syntax</p>
<p class="synopsis">MOVE&nbsp;<span class="italic">name...&nbsp;</span>{FIRST|<span class="underline">LAST</span>|{BEFORE|AFTER}&nbsp;<span class="italic">name2</span>}&nbsp;[AW&nbsp;<span class="italic">workspace</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4711"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span>...</dt>
<dd>
<p>The names of one or more objects to move. You can specify the names individually, or use one of the following forms to specify a group of names:</p>
<dl>
<dd><span class="syntaxinlineitalic">name&nbsp;</span><span class="syntaxinline">TO</span>&nbsp;<span class="syntaxinlineitalic">name</span></dd>
<dd><span class="syntaxinline">FIRST</span>&nbsp;<span class="syntaxinlineitalic">n&nbsp;</span></dd>
<dd><span class="syntaxinline">LAST</span>&nbsp;<span class="syntaxinlineitalic">n</span></dd>
<dd><span class="syntaxinlineitalic">boolean-expression&nbsp;</span>(dimensioned&nbsp;by&nbsp;NAME)</dd>
</dl>
<p>You can specify a qualified object name to indicate the attached workspace in which the object resides. As an alternative, you can use the AW argument to specify the workspace. Do not use both.</p>
<p>When you do not use a qualified object name or the AW argument to specify an analytic workspace, Oracle OLAP looks for the object in the current workspace.</p>
</dd>
<dt>FIRST</dt>
<dt>LAST</dt>
<dd>
<p>The logical position in the NAME dimension to which Oracle OLAP moves the objects specified by the <span class="italic">name</span> argument. Specifying FIRST moves the objects to the beginning of the NAME dimension. Specifying LAST (the default) moves the names to the end of the NAME dimension.</p>
</dd>
<dt>BEFORE <span class="italic">name2</span></dt>
<dt>AFTER <span class="italic">name2</span></dt>
<dd>
<p>The position before or after a particular object (<span class="italic">name2</span>) to which Oracle OLAP moves the objects specified by the <span class="italic">name</span> argument.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to move the object. When you do not use a qualified object name or the AW argument to specify an analytic workspace, objects are moved in the current workspace.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4712"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2617"></a>Alphabetizing Your Objects</p>
<p>You can arrange your workspace objects alphabetically with the following statements, which work on the NAME dimension.</p>
<pre dir="ltr">SORT NAME A NAME
MOVE CHARLIST(NAME) FIRST
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4713"></a>Examples</p>
<div id="OLADM2618" class="example">
<p class="titleinexample"><a id="sthref4714"></a>Example 10-67 Moving a Relation</p>
<p>This example shows how to move the relation <code dir="ltr">desc.product</code> after <code dir="ltr">product</code>. The OLAP DML statement</p>
<pre dir="ltr">SHOW CHARLIST(NAME)
</pre>
<p>produces the following list (annotation has been added).</p>
<pre dir="ltr">product           &lt;--- Position of product
district
division
line
region
marketlevel
market
month
year
quarter
desc.product      &lt;--- Old position of desc.product
region.district
division.product
...
</pre>
<p>The following statements</p>
<pre dir="ltr">MOVE desc.product AFTER product
SHOW CHARLIST(NAME)
</pre>
<p>change the workspace order and produce the following list (annotation has been added).</p>
<pre dir="ltr">product           &lt;--- Position of product
desc.product      &lt;--- New position of desc.product
district
division
line
region
marketlevel
market
month
year
quarter
region.district
division.product
...
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79538"></a>
<div id="OLADM875" class="refsect1">
<h2 class="refsect1">OUTFILE</h2>
<p><a id="sthref4715"></a><a id="sthref4716"></a><a id="sthref4717"></a><a id="sthref4718"></a><a id="sthref4719"></a><a id="sthref4720"></a>The OUTFILE command lets you redirect the text output of statements to a file.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_options.htm#CHDIJCHA">&#34;File Reading and Writing Options&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4721"></a>Syntax</p>
<p class="synopsis">OUTFILE {EOF | TRACEFILE | [APPEND] <span class="italic">file-name</span> [NOCACHE] [NLS_CHARSET <span class="italic">charset-exp</span>]}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4722"></a>Parameters</p>
<dl>
<dt>EOF</dt>
<dd>
<p>The current outfile is closed and output is redirected to the default outfile.</p>
</dd>
<dt>TRACEFILE</dt>
<dd>
<p>Specifies that the output should be directed to the Oracle trace file, which is identified by the TRACEFILEUNIT option.</p>
</dd>
<dt>APPEND</dt>
<dd>
<p>Specifies that the output should be added to the end of an existing disk file. When you omit this argument, the new output replaces the current contents of the file.</p>
</dd>
<dt><span class="italic">file-name</span></dt>
<dd>
<p>A text expression that is the name of the file to which output should be written. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use a CDA statement to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
<dt>NOCACHE</dt>
<dd>
<p>Specifies that Oracle OLAP should write lines to the outfile as they are generated. Without this keyword, Oracle OLAP reduces file I/O activity by saving text and writing it periodically to the file. The NOCACHE keyword slows performance significantly, but it ensures that every line is immediately recorded in the outfile. This argument must be specified after <span class="italic">file-name</span></p>
</dd>
<dt>NLS_CHARSET <span class="italic">charset-exp</span></dt>
<dd>
<p>Specifies the character set that Oracle OLAP uses when writing data to the file specified by <span class="italic">file-name</span> which allows Oracle OLAP to convert the data accurately into that character set. This argument must be specified after file-name. When this argument is omitted, then Oracle OLAP writes the data to the file in the database character set, which is recorded in the NLS_LANG option.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4723"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2619"></a>Outfiling a PERMIT_READ or PERMIT_WRITE Program</p>
<p>The contents of a <a href="dml_program.htm#i1015611">PERMIT_READ</a> or a <a href="dml_program.htm#i1015926">PERMIT_WRITE</a> program is emptied when outfiled. To successfully copy the contents of these programs to and from analytic workspaces, rename them before using OUTFILE; and then, after using INFILE to copy them into an analytic workspace, name them back to PERMIT_READ or PERMIT_WRITE.</p>
<p class="subhead2"><a id="OLADM2620"></a>Current Outfile Identifier</p>
<p>As a first step, every OUTFILE statement closes the current outfile. When OUTFILE opens a new outfile on disk, it automatically assigns to it an arbitrary <code dir="ltr">INTEGER</code> as its file unit number. The current file unit number is held in the OUTFILEUNIT option.</p>
<p class="subhead2"><a id="OLADM2621"></a>Appending to an Outfile</p>
<p>When you send output to a file and then send output to a second file, the first file does not remain open. To resume sending output to the first file, you must execute another OUTFILE statement and include the APPEND file-name phrase.</p>
<p class="subhead2"><a id="OLADM2622"></a>Automatic Closing of Outfile</p>
<p>When you use OUTFILE <span class="italic">file-name</span> to direct output to a disk file, OUTFILE closes any outfile currently open. OUTFILE issues a close even when the new file is not actually opened (as when you specify an invalid file-name in an OUTFILE statement).</p>
<p class="subhead2"><a id="OLADM2623"></a>Paging Options and Redirected Output</p>
<p>The paging options control the organization of text output in pages. Examples are: BMARGIN, LINENUM, LINELEFT, PAGESIZE, PAGENUM, PAGEPRG, PAGING, TMARGIN, and LSIZE. The paging options have a separate value for each separate outfile. When you set a paging option to control output to a disk file, the new value remains in effect until you use an OUTFILE statement again to redirect output. At this point, the paging option returns to its default value. Therefore, when you want a paging option to have a particular value for a disk file, you generally have set it after you execute an OUTFILE statement.</p>
<p class="subhead2"><a id="OLADM2625"></a>Current and Default Outfiles</p>
<p>The current outfile is the destination for the output of statements, such as REPORT and DESCRIBE, that produce text. When you have not used an OUTFILE statement to send output to a file, Oracle OLAP uses your default outfile.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4724"></a>Examples</p>
<div id="OLADM2626" class="example">
<p class="titleinexample"><a id="sthref4725"></a>Example 10-68 Sending a Report to an Output File</p>
<p>In this example, you want to send the output of a REPORT statement to an output file.</p>
<pre dir="ltr">OUTFILE &#39;budget.rpt&#39;
REPORT budget
OUTFILE EOF 
</pre></div>
<!-- class="example" -->
<div id="OLADM2627" class="example">
<p class="titleinexample"><a id="CHDGDBEH"></a><a id="i1016780"></a>Example 10-69 Directing Output to a File</p>
<p><a id="sthref4726"></a><a id="sthref4727"></a><a id="sthref4728"></a><a id="sthref4729"></a>Suppose you have a program called <code dir="ltr">year.end.sales</code>, and you want to save the report it creates in a file. Type the following commands to write a file of the report. In this example, <code dir="ltr">userfiles</code> is a directory object and <code dir="ltr">yearend.txt</code> is the name of the file.</p>
<pre dir="ltr">OUTFILE &#39;userfiles/yearend.txt&#39;
year.end.sales
OUTFILE EOF
</pre>
<p>Now the file contains the <code dir="ltr">year.end.sales</code> report. You can add more reports to the same file with the <code dir="ltr">APPEND</code> keyword for OUTFILE. Suppose you have another program called <code dir="ltr">year.end.expenses</code>. Add its report to the file with the following commands. Remember that without <code dir="ltr">APPEND</code>, an OUTFILE statement overwrites the expense report.</p>
<pre dir="ltr">OUTFILE APPEND &#39;userfiles/yearend.txt&#39;
year.end.expenses
OUTFILE EOF
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79548"></a>
<div id="OLADM876" class="refsect1">
<h2 class="refsect1">PAGE</h2>
<p><a id="sthref4730"></a><a id="sthref4731"></a><a id="sthref4732"></a>The PAGE program forces a page break in output when PAGING is set to <code dir="ltr">YES</code>. An optional argument to PAGE specifies a conditional page break based on how many lines are left on the page.</p>
<p>The PAGE program is commonly used in report programs. It is meaningful only when PAGING is set to <code dir="ltr">YES</code> and only for output from statements such as REPORT and LISTNAMES.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4733"></a>Syntax</p>
<p class="synopsis">PAGE&nbsp;[<span class="italic">n</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4734"></a>Parameters</p>
<dl>
<dt><span class="italic">n</span></dt>
<dd>
<p>A positive <code dir="ltr">INTEGER</code> expression that indicates that a page break should occur only when there are fewer than <span class="italic">n</span> lines left on the current page. When the number of lines left equals or exceeds <span class="italic">n</span>, no page break occurs. See <a href="#i80838">Example 10-70, &#34;Keeping Lines Together&#34;</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4735"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2628"></a>Top of Page</p>
<p>No page break occurs when you are already at the top of a page when a PAGE statement is executed.</p>
<p class="subhead2"><a id="OLADM2629"></a>Producing the Header</p>
<p>The PAGE program signals that further output should be produced on a new page, but it does <span class="italic">not</span> produce a header on the new page unless there is further output. When there is further output, Oracle OLAP produces the heading that is defined by the current PAGEPRG program and then starts producing the output.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4736"></a>Examples</p>
<div id="OLADM2630" class="example">
<p class="titleinexample"><a id="i80838"></a>Example 10-70 Keeping Lines Together</p>
<p>Suppose you have 12 lines of data that would be hard to read when interrupted by a page break, so you want to prevent such an interruption. Use the <code dir="ltr">PAGE</code> <code dir="ltr">12</code> statement immediately before the statements that produce the 12 lines of data. A page break occurs before the 12 lines of data only when there are less than 12 lines left on the page. When there are 12 lines or more left at that point, output continues on the same page.</p>
</div>
<!-- class="example" -->
<div id="OLADM2631" class="example">
<p class="titleinexample"><a id="sthref4737"></a>Example 10-71 Forcing a Page Break</p>
<p>The following lines from a report program force a page break at the start of each loop for <code dir="ltr">district</code> which makes the report for each district start at the top of a page. (The report program uses a heading program called <code dir="ltr">report.head</code> to create a customized heading. See the <a href="dml_options.htm#i79558">PAGEPRG</a> option for information on customized heading programs.)</p>
<pre dir="ltr">PUSH PAGING PAGEPRG
PAGING = YES
PAGEPRG = &#39;report.head&#39;
FOR district
   DO
   PAGE
   ROW district
   BLANK
   FOR month
      ROW WIDTH 8 month sales sales.plan
   DOEND
PAGE
POP PAGING PAGEPRG
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79578"></a>
<div id="OLADM877" class="refsect1">
<h2 class="refsect1">PARSE</h2>
<p><a id="sthref4738"></a><a id="sthref4739"></a><a id="sthref4740"></a>Use the PARSE command to parse a specified group of expressions. When the argument can be parsed, PARSE determines the number of expressions in it and their text, object type, data type, and the number and names of their dimensions. This information is stored internally by Oracle OLAP, but can be obtained with the INFO function.</p>
<p>A PARSE statement is especially useful when you want to accept expressions as arguments to a program.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4741"></a>Syntax</p>
<p class="synopsis">PARSE&nbsp;<span class="italic">text-expression</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4742"></a>Parameters</p>
<dl>
<dt><span class="italic">text-expression</span></dt>
<dd>
<p>A text expression that contains one or more smaller expressions to be parsed. When you are processing program arguments, you can specify an ARGS function as the text expression that contains all the arguments for the program.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4743"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2632"></a>Obtaining Information Produced by a PARSE Statement</p>
<p>See the <a href="dml_functions_1.htm#i79512">INFO (PARSE)</a> function for an explanation of how to obtain the information produced by a PARSE statement.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4744"></a>Examples</p>
<div id="OLADM2633" class="example">
<p class="titleinexample"><a id="sthref4745"></a>Example 10-72 Parsing the Arguments to a Program</p>
<p>In a simple report program, you want to specify the data to be reported as an argument to the program. You want to be able to specify an expression and the name of a data variable.</p>
<p>Suppose you want to display each of the arguments with a different column width, which means you must process the arguments individually. The ARGS function can only process them together. So you use PARSE and INFO to parse the arguments and produce individual columns for each of them. Here is a sample program.</p>
<pre dir="ltr">DEFINE report1 PROGRAM
PROGRAM
PUSH month product district DECIMALS
DECIMALS = 0
LIMIT month TO FIRST 2
LIMIT product TO ALL
LIMIT district TO &#39;Chicago&#39;
PARSE ARGS
REPORT ACROSS month WIDTH 8 &lt;&amp;INFO(PARSE FORMULA 1) -
   WIDTH 13 &amp;INFO(PARSE FORMULA 2)&gt;
POP month product district DECIMALS
END
</pre>
<p>When you run the program, you can supply either the names of variables (such as <code dir="ltr">sales</code>) or expressions (such as <code dir="ltr">sales-expense</code>) or one of each as arguments. The following REPORT statement produces the illustrated report.</p>
<pre dir="ltr">report1 sales sales-expense
 
DISTRICT: CHICAGO
             --------------------MONTH--------------------
             --------JAN95--------- --------FEB95---------
PRODUCT       SALES   SALES-EXPENSE  SALES   SALES-EXPENSE
------------ -------- ------------- -------- -------------
Tents          29,099         1,595   29,010         1,505
Canoes         45,278           292   50,596           477
Racquets       54,270         1,400   58,158         1,863
Sportswear     72,123         7,719   80,072         9,333
Footwear       90,288         8,117   96,539        13,847
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79588"></a>
<div id="OLADM878" class="refsect1">
<h2 class="refsect1">PERMIT</h2>
<p><a id="sthref4746"></a><a id="sthref4747"></a><a id="sthref4748"></a><a id="sthref4749"></a><a id="sthref4750"></a>The PERMIT command lets you grant or deny read-only and read/write access permission for workspace objects and for specific values of dimensions and dimensioned objects. You can also use PERMIT to grant or deny permission to maintain dimensions and to change permission for workspace objects.</p>
<p>In general, access permissions that you set for a dimension are meaningful not only for that dimension, but also for the objects dimensioned by that dimension as explained more fully in <a href="#BAJBDECG">&#34;How Dimension Permission Interacts with Permissions for Other Objects&#34;</a>. Access permissions that you set for other objects are limited in scope to that particular object. Various conditions determine when permission changes take effect as discussed in <a href="#BAJHHEGD">&#34;When Permission Changes Take Effect&#34;</a></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BAJGAJGJ">&#34;Important Considerations Before You Change the Permissions of an Object&#34;</a>, <a href="dml_program.htm#i1020273">&#34;Startup Programs&#34;</a>, <a href="dml_program.htm#CHDGGBGH">&#34;Permission Programs&#34;</a>, <a href="dml_options.htm#i79593">PERMITERROR</a> option, and <a href="#i79598">PERMITRESET</a> command</div>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
The PERMIT command assigns permission to the object most recently defined or considered. When the definition of the object is not the current one, first use a CONSIDER statement before issuing PERMIT commands for the object</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4751"></a>Syntax</p>
<p class="synopsis">PERMIT&nbsp;{READ|WRITE|MNT|PERMIT}&nbsp;[WHEN&nbsp;<span class="italic">permission-condition</span>...]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4752"></a>Parameters</p>
<dl>
<dt>READ</dt>
<dd>
<p>Depending on the permission conditions, grants or restricts permission to read <span class="italic">all</span> of the values of an object or only certain values in a dimension or dimensioned object.</p>
<p>Note that restricting read permission for a dimension also restricts maintain permission for that dimension. Also, when you grant read permission for an object, write permission is also allowed for the values you can read, unless you deny it with an explicit PERMIT WRITE statement.</p>
</dd>
<dt>WRITE</dt>
<dd>
<p>Depending on the permission conditions, grants or restricts permission to modify <span class="italic">any</span> of the values of an object or only certain values of a dimensioned object.</p>
<p>Restricting write permission for an object does not necessarily mean that the object is totally unavailable. For example, when you have restricted write access to a calculation specification (that is, an aggmap object, program, model, or formula, you can still execute the object&mdash; you just cannot edit the contents of the calculation specification.</p>
<p>Oracle OLAP does not prevent you from granting write permission for values that you cannot read within a dimensioned object. When you have both a PERMIT READ and a PERMIT WRITE statement for a dimensioned object, and some values which satisfy the permission conditions for write do not fall within the subset of values which satisfy the permission conditions for read, then those values may be modified but not seen.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Write permission is not meaningful for dimensions&mdash; except to provide write access to objects dimensioned by the dimension. To grant or restrict the ability to add values to a dimension, issue PERMIT MNT statements for the dimension instead.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BAJFBDAA">&#34;When the only PERMIT Statement for an Object is a PERMIT WRITE Statement&#34;</a></div>
</dd>
<dt>MNT</dt>
<dd>
<p>Depending on the permission conditions, grants or restricts permission to maintain a dimension.</p>
<p>Note that you cannot grant maintain permission to a dimension for which you have restricted read permission. Oracle OLAP automatically denies maintain permission for a dimension when there is restricted read permission for that dimension.</p>
</dd>
<dt>PERMIT</dt>
<dd>
<p>Depending on the permission conditions, grants or restricts permission to use the PERMIT command to change the read, write, maintain, or permit permission for the object.</p>
<p>Note that unless explicitly you explicitly deny permit permission for an object, permit permission is allowed for an object no matter what other permissions are set for that object.</p>
</dd>
<dt>WHEN <span class="italic">permission-condition</span>...</dt>
<dd>
<p>When you omit the WHEN clause and execute a PERMIT READ, PERMIT WRITE, or PERMIT MNT statement, Oracle OLAP restores full read, write, or maintain permission to the object.</p>
<p>When you include the WHEN clause, the conditions for granting read, write, maintain, or permit permission consist of one or more Boolean expressions depending on whether or not the object has dimensionality, the type of permission you are setting and, for read and write permissions, whether or not the object has dimensionality:</p>
<ul>
<li>
<p>When you are specifying permit permission, maintain permission, or read or write permission that applies to an object without dimensionality or when you want the read or write permissions to apply to <span class="italic">all</span> the values of a dimensioned object, specify the permission condition as a Boolean expression that evaluates to a single value. (Not that if you <span class="italic">do</span> specify a dimensioned Boolean expression to specify permissions for an object without dimensionality or when you are specifying permit or maintain permission, then PERMIT uses the first value in status.)</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Avoid specifying a Boolean value as a permission condition (for example, <code dir="ltr">YES</code> or <code dir="ltr">NO</code>) for a PERMIT PERMIT statement. Instead specify the permission condition as a Boolean variable, a function that returns a Boolean result, or a Boolean value calculated by comparison operators. In this way, when permit permission has been denied, you can restore it by setting the value of the Boolean and executing a PERMITRESET statement. If you ever do lock up an object and are unable to modify its permission, you can specify permit permission for it in the workspace permission program for that workspace, then detach and reattach the workspace.</div>
</li>
<li>
<p>If you are specifying read or write permission that applies to individual dimension values or to slices of a dimensioned object, specify one permission condition for each dimension of interest. In this case, the WHEN clause has the following syntax and each dimensioned permission condition consists of a Boolean expression dimensioned by a dimension of the object.</p>
<dl>
<dd><span class="syntaxinline">WHEN</span>&nbsp;<span class="syntaxinlineitalic">dimensioned_permission_condition1</span></dd>
<dd><span class="syntaxinline">&nbsp;&nbsp;&nbsp;[BY&nbsp;</span><span class="syntaxinlineitalic">dimensioned_permission_condition2</span></dd>
<dd><span class="syntaxinline">[UNION</span> <span class="syntaxinlineitalic">dimensioned_permission_condition2A</span>]...</dd>
</dl>
<p>Use the UNION phrase to efficiently access the union of several symmetric subcubes of a multidimensional variable.</p>
<p>Note that if a Boolean expression for a dimensioned permission condition has any extra dimensions in addition to an object dimension, PERMIT takes the first value in status to determine which column of Boolean values to use. The intersection of the <code dir="ltr">YES</code> values for each dimension (a logical <code dir="ltr">AND</code> of the conditions) is the subset of values within the object to which the permission applies. When any of the object dimensions are not represented by a dimensioned permission condition, then Oracle OLAP assumes <code dir="ltr">YES</code> for all those dimension values.</p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4753"></a>Usage Notes</p>
<p class="subhead2"><a id="BAJGAJGJ"></a><a id="OLADM2634"></a>Important Considerations Before You Change the Permissions of an Object</p>
<p>Keep the following important considerations in mind before you change the permissions of an object:</p>
<ul>
<li>
<p>You <span class="italic">must</span> have permit permission for an object to issue PERMIT commands against it.</p>
</li>
<li>
<p>Do <span class="italic">not</span> lock out the DBA user, who must always have access to everything in the workspace.</p>
</li>
<li>
<p>Issuing PERMIT statements against an INTEGER dimension may result in undesired behavior. Dimensions with an INTEGER data type have values identified by their numeric position. PERMIT renumbers INTEGER dimensions to keep the normal sequence of <code dir="ltr">INTEGER</code> values (1, 2, 3, ...). When you must use PERMIT to change the default access rights for an INTEGER dimension and this behavior is not desirable, redefine the dimension with a different, non-integer data type.</p>
</li>
</ul>
<p class="subhead2"><a id="BAJHHEGD"></a><a id="OLADM2635"></a>When Permission Changes Take Effect</p>
<p>Within <a href="dml_program.htm#i1015611">PERMIT_READ</a> and <a href="dml_program.htm#i1015926">PERMIT_WRITE</a> programs, permissions ares only evaluated when you issue an explicit PERMIT or PERMITRESET statement and then reference the targeted object.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
AW ATTACH automatically executes a PERMITRESET immediately after executing an analytic workspace permission program. Executing PERMITRESET causes the workspace to be attached with all permission implemented</div>
<p>Once an analytic workspace is attached and any PERMIT_READ and PERMIT_WRITE programs have executed, permission changes specified by a PERMIT statement take effect:</p>
<ul>
<li>
<p>When a PERMITRESET statement executes.</p>
</li>
<li>
<p>When you are targeting any object (except a dimension), and the permission condition consists of a single Boolean variable, any changes to that Boolean variable affect the permission immediately. (You never have to execute a PERMITRESET in this case.)</p>
</li>
<li>
<p>In other situations, if you do not issue a PERMITRESET statement, permission are evaluated upon next reference to the object.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The OBJ function is an exception to this rule. Because OBJ does not load the object into memory, it does not reflect any changes to the object&#39;s permission since the last time it was loaded. When you want OBJ to provide information based on new permission criteria, execute a LOAD statement before the OBJ statement.</div>
</li>
</ul>
<p class="subhead2"><a id="BAJFBDAA"></a><a id="OLADM2636"></a>When the only PERMIT Statement for an Object is a PERMIT WRITE Statement</p>
<p>When the only PERMIT statement for an object is a PERMIT WRITE, then read permission is provided by default for the object. The default read permission is provided independent of the value of the permission condition(s) for the PERMIT WRITE statement. Consequently, a PERMIT WRITE with a single-cell permission condition which evaluates to <code dir="ltr">NO</code> provides read-only access to an nondimensional object or to all the values of a dimensioned object.</p>
<p>When the only PERMIT statement for an object is a PERMIT WRITE with dimensioned permission conditions, it designates some values for read/write access and the remaining values for read-only access. See <a href="#i80909">Example 10-73, &#34;Variable Permission&#34;</a>.</p>
<p class="subhead2"><a id="BAJBDECG"></a><a id="OLADM2637"></a>How Dimension Permission Interacts with Permissions for Other Objects</p>
<p>All dimensioned data is affected by the read permission on its dimensions. The dimension values that satisfy the read permission condition determine the default status for the dimension. The values of dimensioned objects that correspond to dimension values without read permission are inaccessible.</p>
<p>However, in order for write permission associated with a dimension to apply to other objects dimensioned by it, there must be at least one PERMIT statement associated with the dimensioned object.</p>
<ul>
<li>
<p>When you want a dimensioned object to inherit write permission from its dimensions, but you do not want it to have permission of its own, which could interact with the dimension permission, you can simply use a PERMIT READ with a single-cell permission condition that evaluates to <code dir="ltr">YES</code>.</p>
</li>
<li>
<p>When you want a dimensioned object to inherit write permission from its dimensions, and you also want it to have permissions of its own, understand how dimension permission interacts with individual object permissions before setting them.</p>
</li>
</ul>
<p>Dimension permission interacts with permission for most of the objects dimensioned by it in the following ways:</p>
<ul>
<li>
<p>The access permissions of a dimension apply to all dimension surrogates defined for that dimension. You cannot use a PERMIT statement on a dimension surrogate.</p>
</li>
<li>
<p>When there is read or write permission associated with a dimension, but no permission restriction associated with an object dimensioned by that dimension, then the permission for the dimensioned object is the same as the dimension permission.</p>
</li>
<li>
<p>When there is read permission associated with both the dimension and the dimensioned object, Oracle OLAP determines the values with read permission in the object by taking the intersection of the values with read permission in the dimension and the values with read permission in the object.</p>
</li>
<li>
<p>When there is write permission associated with both the dimension and the dimensioned object, Oracle OLAP determines the values with write permission in the object by taking the intersection of the values with read permission in the dimension, the values with write permission in the dimension, and the values with write permission in the object.</p>
</li>
</ul>
<p>However, this is not the case for relations and valuesets. When there is restricted write permission for a dimension of a relation or a valueset, it does not affect relations and valuesets dimensioned by that dimension.</p>
<p class="subhead2"><a id="OLADM2638"></a>Determining Permission</p>
<p>The permission associated with an object is provided, like an LD, when you describe it using a DESCRIBE statement. The only exception is when you are denied permit permission for the object. In this case, no permission is provided when you describe it.</p>
<p class="subhead2"><a id="OLADM2639"></a>Advantages of PERMIT Over LIMIT as a Tool for Scoping</p>
<p>As a tool for scoping within application programs, PERMIT has several advantages over the LIMIT command. To restrict the scope of a dimensioned object according to a Boolean expression, you have to use two LIMIT statements, a <code dir="ltr">LIMIT</code> and a LIMITKEEP. You only need one PERMIT statement to do the same thing. Moreover, application users cannot change the restricted scope set by PERMIT commands in application programs. Application users can easily change the scope set by LIMIT commands in application programs simply by executing more LIMIT commands.</p>
<p class="subhead2"><a id="OLADM2640"></a>Handling Permission Violations</p>
<p>You can use the PERMITERROR option to control the way Oracle OLAP handles attempted violations of the permission established by PERMIT commands for variables. The default value of PERMITERROR is <code dir="ltr">YES</code>, meaning that Oracle OLAP signals an error when a user attempts to access a value for which permission is denied. When you set PERMITERROR to <code dir="ltr">NO</code>, Oracle OLAP simply denies access without signaling an error condition which is useful when you want to do a report of a dimensioned variable for which you have partial permission without limiting the dimensions to the permitted values up front. With PERMITERROR set to <code dir="ltr">NO</code>, values for which you do not have read permission appear as <code dir="ltr">NA</code> values in the report.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4754"></a>Examples</p>
<div id="OLADM2641" class="example">
<p class="titleinexample"><a id="i80909"></a>Example 10-73 Variable Permission</p>
<p>For a variable <code dir="ltr">sales</code> dimensioned by <code dir="ltr">month</code>, <code dir="ltr">product</code>, and <code dir="ltr">district</code>, you might have three dimensioned permission conditions in the form of three variables as illustrated in the following report.</p>
<pre dir="ltr">MONTH.BOOL&lt;MONTH&gt;  PROD.BOOL&lt;PRODUCT&gt;  DISTRICT.BOOL&lt;DISTRICT&gt;
-----------------  ------------------  -----------------------
Jan95    NO        Tents     YES       Boston     NO
Feb95    YES       Canoes    YES       Atlanta    NO
Mar95    NO        Racquets   NO       Chicago    YES
...      ...       ...        ...      ...        ...
</pre>
<p>When the <code dir="ltr">YES</code> values shown in the preceding example are the only <code dir="ltr">YES</code> values in the permission conditions, the following PERMIT statement provides read/write access to <code dir="ltr">sales</code> data for tents and canoes sold in Chicago in Feb95. In the absence of a <code dir="ltr">PERMIT</code>&nbsp;<code dir="ltr">READ</code> statement for <code dir="ltr">sales</code>, Oracle OLAP provides read-only permission for all the other values of <code dir="ltr">sales</code>.</p>
<pre dir="ltr">PERMIT WRITE WHEN district.bool BY prod.bool BY month.bool
</pre>
<p>You can restore full write permission with the following PERMIT statement.</p>
<pre dir="ltr">PERMIT WRITE
</pre>
<p>When there is no restricted write permission for <code dir="ltr">sales</code>, the following PERMIT statement provides read/write access to sales data for tents and canoes sold in Chicago in Feb95, and it causes all other values of sales to be invisible.</p>
<pre dir="ltr">PERMIT READ WHEN district.bool BY prod.bool BY month.bool
</pre></div>
<!-- class="example" -->
<div id="OLADM2642" class="example">
<p class="titleinexample"><a id="sthref4755"></a>Example 10-74 Dimensioned Permission Condition</p>
<p>To restrict access to the <code dir="ltr">product</code> dimension you need a permission condition dimensioned by <code dir="ltr">product</code>. However, when the permission condition has a second dimension, say <code dir="ltr">authority</code>, PERMIT selects the BOOLEAN values that pertain to <code dir="ltr">product</code> based on the first value in status of <code dir="ltr">authority</code>. When you restrict read permission on the <code dir="ltr">authority</code> dimension to one value, PERMIT uses that value to determine the BOOLEAN values of the permission condition for <code dir="ltr">product</code>. The REPORT commands produce the output that follows them.</p>
<pre dir="ltr">DEFINE authority DIMENSION TEXT
MAINTAIN authority ADD OTHER DBA
DEFINE prod_authority VARIABLE BOOLEAN &lt;product authority&gt;
...
&#34; Assign values to the variable
...
REPORT prod_authority
 
              -----------------PROD_AUTHORITY------------------
              --------------------PRODUCT----------------------
AUTHORITY     Tents   Canoes   Racquets   Sportswear   Footwear
---------     -----   ------   --------   ----------   --------
Other            NO       NO        YES          YES        YES
Dba             YES      YES        YES          YES        YES

CONSIDER product
PERMIT READ WHEN prod_authority
PERMITERROR = NO
RPEPORT product
 
PRODUCT
-------------
Racquets
Sportswear
Footwear

CONSIDER authority
PERMIT READ WHEN AUTHORITY EQ &#39;dba&#39;
PERMITRESET
Report product
 
PRODUCT
-------------
Tents
Canoes
Racquets
Sportswear
Footwear
</pre></div>
<!-- class="example" -->
<div id="OLADM2643" class="example">
<p class="titleinexample"><a id="i80934"></a>Example 10-75 User-Defined Boolean Function</p>
<p>In the following example, <code dir="ltr">usercheck</code> is a user-defined Boolean function that checks the current value of the variable <code dir="ltr">thisuser</code> against a list of user IDs. <code dir="ltr">usercheck</code> returns <code dir="ltr">NO</code> when the current value of <code dir="ltr">thisuser</code> is not in the list. The following PERMIT statement applied to the <code dir="ltr">sales</code> variable provides read-only access to all values of <code dir="ltr">sales</code> when <code dir="ltr">usercheck</code> returns <code dir="ltr">NO</code>. It provides read/write access to all values of <code dir="ltr">sales</code> when <code dir="ltr">usercheck</code> returns <code dir="ltr">YES</code>.</p>
<pre dir="ltr">PERMIT WRITE WHEN usercheck(thisuser)
</pre>
<p>The following PERMIT statement, applied to the variable <code dir="ltr">price</code>, provides full access to all values of <code dir="ltr">price</code> when <code dir="ltr">usercheck</code> returns <code dir="ltr">YES</code>. When it returns <code dir="ltr">NO</code>, it denies all access to the <code dir="ltr">price</code> variable.</p>
<pre dir="ltr">PERMIT READ WHEN usercheck(thisuser)
</pre></div>
<!-- class="example" -->
<div id="OLADM2644" class="example">
<p class="titleinexample"><a id="sthref4756"></a>Example 10-76 Individual Cells</p>
<p>When you want to prevent access to one particular sales figure, say for racquets in Boston in March of 1997, you can create a Boolean variable and use it in a PERMIT statement as illustrated in the following statements.</p>
<pre dir="ltr">DEFINE sales.bool VARIABLE BOOLEAN &lt;month product district&gt;
sales.bool = yes
LIMIT month TO &#39;Mar97&#39;
LIMIT product TO &#39;Racquets&#39;
LIMIT district TO &#39;Boston&#39;
sales.bool = no
CONSIDER sales
PERMIT READ WHEN sales.bool
</pre></div>
<!-- class="example" -->
<div id="OLADM2645" class="example">
<p class="titleinexample"><a id="sthref4757"></a>Example 10-77 Individual Dimension Values</p>
<p>The following PERMIT commands applied to the <code dir="ltr">district</code> dimension prevent access to all dimension values except <code dir="ltr">Boston</code> and <code dir="ltr">Atlanta</code>. They provide read/write access for all data related to <code dir="ltr">Boston</code> and read-only access for all data related to <code dir="ltr">Atlanta</code>. They also prevent anyone with a user ID not allowed by the function <code dir="ltr">usercheck</code> (see <a href="#i80934">Example 10-75, &#34;User-Defined Boolean Function&#34;</a>) from modifying the permission for <code dir="ltr">district</code>.</p>
<pre dir="ltr">PERMIT READ WHEN district EQ &#39;Boston&#39; OR district EQ &#39;Atlanta&#39;
PERMIT WRITE WHEN district EQ &#39;Boston&#39;
PERMIT PERMIT WHEN usercheck(thisuser) 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79598"></a>
<div id="OLADM879" class="refsect1">
<h2 class="refsect1">PERMITRESET</h2>
<p><a id="sthref4758"></a><a id="sthref4759"></a><a id="sthref4760"></a><a id="sthref4761"></a>The PERMITRESET command causes the values of permission conditions to be reevaluated. Permission conditions consist of one or more Boolean expressions that designate the criteria used by PERMIT commands associated with an object.</p>
<p>When permission conditions are dimensioned, they indicate which values of a dimensioned object PERMIT targets for permission. A single-cell permission condition can indicate any Boolean criterion, such as whether or not a particular user may access the object.</p>
<p>When you want to keep the existing PERMIT commands for an object, but you want the permission conditions associated with them to be recalculated, issue a PERMITRESET statement. The permission for that object is based on the new values of the permission conditions the next time you use the object in an OLAP DML statement.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_program.htm#i1020273">&#34;Startup Programs&#34;</a>, <a href="#i79588">PERMIT</a> command, and <a href="dml_options.htm#i79593">PERMITERROR</a> option</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4762"></a>Syntax</p>
<p class="synopsis">PERMITRESET&nbsp;&nbsp;[<span class="italic">object_name</span>]&nbsp;&nbsp;[READ|WRITE]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4763"></a>Parameters</p>
<dl>
<dt><span class="italic">object_name</span></dt>
<dd>
<p>Specifies the name of an object for which permission conditions should be reevaluated. When you do not specify an object name, the permission conditions for all objects are reevaluated.</p>
</dd>
<dt>READ</dt>
<dd>
<p>Causes reevaluation of the permission conditions for <code dir="ltr">PERMIT</code>&nbsp;<code dir="ltr">READ</code> commands only, or for a <code dir="ltr">PERMIT</code>&nbsp;<code dir="ltr">READ</code> statement for the specified object.</p>
</dd>
<dt>WRITE</dt>
<dd>
<p>Causes reevaluation of the permission conditions for <code dir="ltr">PERMIT</code> <code dir="ltr">WRITE</code> commands only, or for a <code dir="ltr">PERMIT</code> <code dir="ltr">WRITE</code> statement for the specified object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4764"></a>Examples</p>
<div id="OLADM2646" class="example">
<p class="titleinexample"><a id="sthref4765"></a>Example 10-78 Resetting Permission</p>
<p>In the following example, the user-defined Boolean function <code dir="ltr">usercheck</code> checks the current value of the variable <code dir="ltr">thisuser</code> and returns <code dir="ltr">YES</code> only when it is greater than&nbsp;<code dir="ltr">100</code>. Access to the variable <code dir="ltr">uservar</code> is only allowed when <code dir="ltr">thisuser</code> is greater than <code dir="ltr">100</code>. However, when you change the value of <code dir="ltr">thisuser</code> to a value less than or equal to <code dir="ltr">100</code> without resetting the permission for <code dir="ltr">uservar</code>, access is still permitted.</p>
<p>The statement</p>
<pre dir="ltr">DESCRIBE uservar
</pre>
<p>produces the following output.</p>
<pre dir="ltr">DEFINE USERVAR VARIABLE INTEGER
PERMIT READ WHEN usercheck(thisuser)
</pre>
<p>The statement</p>
<pre dir="ltr">SHOW uservar
</pre>
<p>produces the following output.</p>
<pre dir="ltr">5
</pre>
<p>The statement</p>
<pre dir="ltr">DESCRIBE usercheck
</pre>
<p>produces the following output.</p>
<pre dir="ltr">DEFINE USERCHECK PROGRAM BOOLEAN
PROGRAM
  ARG thisuser INT
  TRAP ON errorexit NOPRINT
  IF thisuser GT 100
          THEN RETURN YES
  ELSE RETURN NO
  errorexit:
       RETURN NO
END
</pre>
<p>The statement</p>
<pre dir="ltr">DESCRIBE thisuser
</pre>
<p>produces the following output.</p>
<pre dir="ltr">DEFINE THISUSER VARIABLE INTEGER
</pre>
<p>The statement</p>
<pre dir="ltr">SHOW thisuser
</pre>
<p>produces the following output.</p>
<pre dir="ltr">101
</pre>
<p>The statements</p>
<pre dir="ltr">thisuser = 100
SHOW uservar
</pre>
<p>produces the following output.</p>
<pre dir="ltr">5
</pre>
<p>The statements</p>
<pre dir="ltr">PERMITRESET luservar READ
SHOW uservar 
</pre>
<p>produce the following error.</p>
<pre dir="ltr">ERROR: You do not have permission to read this value of USERVAR
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79603"></a>
<div id="OLADM880" class="refsect1">
<h2 class="refsect1">POP</h2>
<p><a id="sthref4766"></a><a id="sthref4767"></a><a id="sthref4768"></a>The POP command restores the status of a dimension (including the NAME dimension), the status of a valueset, or the value of an option or single-cell variable that was saved with a previous PUSH statement.</p>
<p>PUSH and POP are commonly used within a program to make changes to options and dimension status that apply <span class="italic">only</span> during the program&#39;s execution. Afterward, the options and status are the same as they were before the execution of the program.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i79608">POPLEVEL</a>, <a href="#i79633">PUSH</a>, <a href="#i79638">PUSHLEVEL</a>, and <a href="dml_commands_1.htm#i79174">CONTEXT command</a>s</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4769"></a>Syntax</p>
<p class="synopsis">POP&nbsp;<span class="italic">name1&nbsp;</span>[<span class="italic">nameN</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4770"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of a dimension, valueset, variable, or option that was specified in a previous PUSH statement, whose saved value you want to restore.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4771"></a>Examples</p>
<p>For an example of using POP, see <a href="#CHDJHAFF">Example 10-84, &#34;Saving and Restoring Values&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79608"></a>
<div id="OLADM881" class="refsect1">
<h2 class="refsect1">POPLEVEL</h2>
<p><a id="sthref4772"></a><a id="sthref4773"></a><a id="sthref4774"></a><a id="sthref4775"></a><a id="sthref4776"></a>The POPLEVEL command (abbreviated PPL) restores all values saved with PUSH commands that were executed since the last POPLEVEL statement specifying the same marker.</p>
<p>You must use PUSHLEVEL to mark a starting point for a series of PUSH commands before you can use POPLEVEL to restore the saved values. POPLEVEL itself marks the end of the series. You can use POPLEVEL only within programs.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BAJFJADC">&#34;Considerations When Designing PUSHLEVEL and POPLEVEL Statements&#34;</a>, <a href="#i79603">POP</a>, <a href="#i79633">PUSH</a>, <a href="#i79638">PUSHLEVEL</a>, and <a href="dml_commands_1.htm#i79174">CONTEXT command</a>s</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4777"></a>Syntax</p>
<p class="synopsis">POPLEVEL&nbsp;<span class="italic">marker-expression&nbsp;</span>[DISCARD]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4778"></a>Parameters</p>
<dl>
<dt><span class="italic">marker-expression</span></dt>
<dd>
<p>A text value used as a marker. This value must be the same as the value used in the corresponding PUSHLEVEL statement to mark the start of a series of saved values being popped.</p>
</dd>
<dt>DISCARD</dt>
<dd>
<p>Specifies that the pushed values for that level are discarded when you issue a POPLEVEL statement. When you do not specify DISCARD, the values that were pushed are used to reset the pushed objects.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4779"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2647"></a>Possible Uses for POP LEVEL Statement</p>
<p>Two possible uses for POPLEVEL statements are:</p>
<ul>
<li>
<p>After a series of increasingly broadening or narrowing LIMIT commands, each with a corresponding PUSH.</p>
</li>
<li>
<p>After a single extremely long and complicated PUSH statement, or a series of short ones given throughout a program, that may need a lot of editing. PUSHLEVEL and POPLEVEL allow you to edit the arguments for a long and complicated PUSH statement without also having to edit a corresponding long and complicated POP statement.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4780"></a>Examples</p>
<p>To see a sample program using POPLEVEL, see the example for the <a href="#i79638">PUSHLEVEL</a> command.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79623"></a>
<div id="OLADM882" class="refsect1">
<h2 class="refsect1">PROGRAM</h2>
<p><a id="sthref4781"></a><a id="sthref4782"></a>The PROGRAM command enters completely new contents into a new or existing program. When the program already has lines of code, Oracle OLAP overwrites them.</p>
<p>To use PROGRAM to enter the contents of a program object, the program object definition must be the one most recently defined or considered during the current session. When it is not, you must first use a CONSIDER statement to make it the current definition.</p>
<p>An alternative to a PROGRAM statement is an EDIT PROGRAM statement, which is available only in OLAP Worksheet. An EDIT PROGRAM statement opens an Edit window in which you can add, delete, or change the specification for a program object.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For a discussion of writing, compiling, and debugging OLAP DML programs, see <a href="dml_program.htm#CFHFFAFB">Chapter 6, &#34;OLAP DML Programs&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4783"></a>Syntax</p>
<p class="synopsis">PROGRAM&nbsp;[<span class="italic">contents</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4784"></a>Parameters</p>
<dl>
<dt><span class="italic">contents</span></dt>
<dd>
<p>A text expression that is the OLAP DML statements that are the lines of the program. You can use most OLAP DML statements within a program. For a discussion of writing, compiling, and debugging OLAP DML programs, see <a href="dml_program.htm#CFHFFAFB">Chapter 6, &#34;OLAP DML Programs&#34;</a>.</p>
<p>The maximum number of lines you can have in a program is 32,000.When coding a PROGRAM statement at the command line level, separate program lines with newline delimiters (<code dir="ltr">\n</code>), or use the JOINLINES function as shown in <a href="#i80967">&#34;Program On the Fly&#34;</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4785"></a>Examples</p>
<div id="OLADM2648" class="example">
<p class="titleinexample"><a id="sthref4786"></a>Example 10-79 User-Defined Function with Arguments</p>
<p>Suppose your analytic workspace contains a variable called <code dir="ltr">units.plan</code>, which is dimensioned by the <code dir="ltr">product</code>, <code dir="ltr">district</code>, and <code dir="ltr">month</code> dimensions. The variable holds INTEGER data that indicates the number of product units that are expected to be sold.</p>
<p>Suppose also that you define a program named<code dir="ltr">units_goals_met</code>. This program is a user-defined function. It accepts three dimension-value arguments that specify a given cell of the <code dir="ltr">units.plan</code> variable, and it accepts a fourth argument that specifies the number of units that were actually sold for that cell. The program returns a Boolean value to the calling program. It returns <code dir="ltr">YES</code> when the actual figure comes up to within 10 percent of the planned figure; it returns <code dir="ltr">NO</code> when the actual figure does not.</p>
<p>The definition of the <code dir="ltr">units_goals_met</code> program is follows.</p>
<pre dir="ltr">DEFINE units_goal_met PROGRAM BOOLEAN
LD Tests whether actual units met the planned estimate
&#34;Program Initialization
ARGUMENT userprod  TEXT
ARGUMENT userdist  TEXT
ARGUMENT usermonth TEXT
ARGUMENT userunits INTEGER
VARIABLE answer boolean
TRAP ON errorlabel
PUSH product district month
&#34;Program Body
LIMIT product TO userprod
LIMIT district TO userdist
LIMIT month TO usermonth
IF (units.plan - userunits) / units.plan GT .10
   THEN answer = NO
   ELSE answer = YES
&#34;Normal Exit
POP product district month
RETURN answer
&#34;Abnormal Exit
errorlabel:
POP product district month
SIGNAL ERRORNAME ERRORTEXT
END
</pre>
<p>To execute the <code dir="ltr">units_goal_met</code> program and store the return value in a variable called <code dir="ltr">success</code>, you can use an assignment statement (SET).</p>
<pre dir="ltr">success = units_goal_met(&#39;TENTS&#39; &#39;BOSTON&#39; &#39;JUN96&#39; 2000)
</pre></div>
<!-- class="example" -->
<div id="OLADM2649" class="example">
<p class="titleinexample"><a id="i80967"></a>Example 10-80 Program On the Fly</p>
<p>This example creates a flexible report program &#34;on the fly&#34; to avoid the inefficiencies of a more conventional program using <span class="italic">ampersand substitution.</span> The conventional program would contain the following loop.</p>
<pre dir="ltr">FOR &amp;dimname
   ROW &amp;dimname &amp;varname
</pre>
<p>To avoid ampersand substitution, define a program, for example, STANDARDREP, and leave it without any code in it, or with code that can be discarded. Then in your report program, insert lines such as the following.</p>
<pre dir="ltr">DEFINE myreport PROGRAM
LD Program to produce my report
PROGRAM
ARGUMENT dimname TEXT
ARGUMENT varname TEXT
...
CONSIDER standardrep
PROGRAM JOINLINES(JOINCHARS(&#39;FOR &#39;, dimname) - 
   JOINCHARS(&#39;   ROW &#39;, dimname, &#39; &#39;, varname) )
COMPILE standardrep
standardrep
...
</pre></div>
<!-- class="example" -->
<div id="OLADM2650" class="example">
<p class="titleinexample"><a id="i80982"></a>Example 10-81 Program from an Input File</p>
<p>This example presents the text of a simple program that is in an ASCII disk file called <code dir="ltr">salesrep.inf</code>. The first line in the file defines the program, the second line contains a PROGRAM statement, and the subsequent lines provide the lines of the program.</p>
<pre dir="ltr">DEFINE salesrep PROGRAM
PROGRAM
PUSH month product district
TRAP ON haderror
LIMIT month TO FIRST 3
LIMIT product TO FIRST 3
LIMIT district TO ALL
REPORT grandtotals sales
haderror:
POP month product district
END
</pre>
<p>To include the <code dir="ltr">salesrep</code> program in your analytic workspace, you can execute the following statement.</p>
<pre dir="ltr">INFILE &#39;salesrep.inf&#39;
</pre>
<p>You can create an input file from an existing program using an OUTFILE statement</p>
</div>
<!-- class="example" -->
<div id="OLADM2651" class="example">
<p class="titleinexample"><a id="sthref4787"></a>Example 10-82 Using OLAP Worksheet Instead of a PROGRAM Statement</p>
<p>When you use OLAP Worksheet to create a program, you can use an EDIT statement to display an Edit window where you can enter the contents. For example, use the following statements to define a new program named <code dir="ltr">salesrep</code> and display it in an Edit window.</p>
<pre dir="ltr">DEFINE salesrep PROGRAM
EDIT salesrep
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79628"></a>
<div id="OLADM883" class="refsect1">
<h2 class="refsect1">PROPERTY</h2>
<p><a id="sthref4788"></a><a id="sthref4789"></a><a id="sthref4790"></a><a id="sthref4791"></a><a id="sthref4792"></a><a id="sthref4793"></a>The PROPERTY command adds or deletes properties to the most recently defined or considered object (see the <a href="dml_commands_1.htm#i78513">DEFINE PROGRAM</a> and <a href="dml_commands_1.htm#i79169">CONSIDER</a> commands). A property is a named value that is associated with a given definition. You can assign one or more properties to any type of definition. For example, you can assign a property to an object so you know how many decimal places to use when preparing a report on the object.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4794"></a>Syntax</p>
<p class="synopsis">PROPERTY&nbsp;{ <span class="italic">name value</span> | DELETE {ALL | <span class="italic">name</span>} }</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4795"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>A text expression that contains the name of the property. The property name can be from 1 to 256 bytes long.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
Do not create your own properties with names that begin with a <code dir="ltr">$</code> (dollar sign). Properties with names beginning with a <code dir="ltr">$</code> (dollar sign) are reserved for Oracle OLAP to use as &#34;system&#34; properties that Oracle OLAP interprets in predetermined ways.</div>
<p>Property names have the <code dir="ltr">TEXT</code> data type, unless you include a Unicode escape sequence in the value you specify for the name, or unless you explicitly convert the value you specify to <code dir="ltr">NTEXT</code> (using the CONVERT or TO_NCHAR functions).</p>
</dd>
<dt><span class="italic">value</span></dt>
<dd>
<p>An expression that contains the value of the property. The property value can have one of the following data types: <code dir="ltr">NUMBER</code>, I<code dir="ltr">NTEGER</code>, <code dir="ltr">LONGINTEGER</code>, <code dir="ltr">DECIMAL</code>, <code dir="ltr">SHORTDECIMAL</code>, <code dir="ltr">TEXT,</code> <code dir="ltr">NTEXT</code>, <code dir="ltr">ID</code>, <code dir="ltr">BOOLEAN</code>, <code dir="ltr">DATE</code>, or <code dir="ltr">DATETIME</code>. Oracle OLAP determines the data type based on the value that you specify. For example, when you specify <code dir="ltr">YES</code>, then Oracle OLAP assumes a type of <code dir="ltr">BOOLEAN</code>. When you specify a date value that is stored in a variable of type <code dir="ltr">DATE</code>, then Oracle OLAP assumes a type of <code dir="ltr">DATE</code> for the property.</p>
</dd>
<dt>DELETE ALL</dt>
<dt>DELETE <span class="italic">name</span></dt>
<dd>
<p>Deletes either all of the properties of the object or only the property you specify for <span class="italic">name.</span> You can specify only one <span class="italic">name</span> at a time.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4796"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2652"></a>Triggering Program Execution When PROPERTY Executes</p>
<p>Using the TRIGGER command, you can make a PROPERTY statement an event that automatically executes an OLAP DML program. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information</p>
<p class="subhead2"><a id="OLADM2653"></a>Changing a Property Value</p>
<p>When you execute a PROPERTY statement that assigns a new value to an existing property name, then the new value overwrites the previous one.</p>
<p class="subhead2"><a id="OLADM2654"></a>Determining Property Values with OBJ</p>
<p>To use properties with OLAP DML statements, you must obtain the values by using the property-related keywords of the OBJ function. For example, suppose a property called <code dir="ltr">decplace</code> stores the number of decimal places to use when reporting an object. When you execute a REPORT statement, you can use the OBJ function with the PROPERTY keyword to obtain the value of the <code dir="ltr">decplace</code> property and use that value with the REPORT statement&#39;s DECIMAL attribute.</p>
<p class="subhead2"><a id="OLADM2655"></a>Listing Property Values with FULLDSC</p>
<p>You can list the properties of an object by using a FULLDSC statement. You can use the output from FULLDSC to create new objects. See the <a href="dml_commands_1.htm#i79541">FULLDSC</a> program for more information.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4797"></a>Examples</p>
<div id="OLADM2656" class="example">
<p class="titleinexample"><a id="sthref4798"></a>Example 10-83 Adding Properties to a Variable</p>
<p>The following statements add the properties <code dir="ltr">decplace</code> and <code dir="ltr">prgname</code> to the <code dir="ltr">actual</code> variable and assign the <code dir="ltr">decimal</code> <code dir="ltr">4</code> as the value for the <code dir="ltr">decplace</code> property and the text <code dir="ltr">repprg</code> as the value for the <code dir="ltr">prgname</code> property.</p>
<pre dir="ltr">CONSIDER actual
PROPERTY &#39;decplace&#39; 4
PROPERTY &#39;prgname&#39; &#39;repprg&#39;
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79633"></a>
<div id="OLADM884" class="refsect1">
<h2 class="refsect1">PUSH</h2>
<p><a id="sthref4799"></a><a id="sthref4800"></a><a id="sthref4801"></a>The PUSH command saves the current status of a dimension (including the NAME dimension), the status of a valueset, or the value of an option or single-cell variable. You can then restore these saved values and status at a later time with a POP statement.</p>
<p>PUSH and POP are commonly used within a program to make changes to options and dimension status that apply <span class="italic">only</span> during the program&#39;s execution. Afterward, the options and status are the same as they were before the execution of the program.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
P<a href="#i79603">POP</a>, <a href="#i79608">POPLEVEL</a>, <a href="#i79638">PUSHLEVEL</a>, and <a href="dml_commands_1.htm#i79174">CONTEXT command</a>s</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4802"></a>Syntax</p>
<p class="synopsis">PUSH&nbsp;<span class="italic">name1&nbsp;</span>[<span class="italic">name</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4803"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of a dimension, valueset, option, or variable whose status or value you want to save.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4804"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2657"></a>Effect of a MAINTAIN Statement on a Dimension&#39;s Pushed Status</p>
<p>Using a MAINTAIN statement with a dimension clears that dimension&#39;s pushed status lists. For example, suppose you have pushed the dimension <code dir="ltr">month</code> several times, with different limits each time. When you then use a MAINTAIN statement to perform any maintenance activity on the <code dir="ltr">month</code> dimension, Oracle OLAP resets the status of <code dir="ltr">month</code> to <code dir="ltr">ALL</code> (the default), and popping that dimension has no effect.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4805"></a>Examples</p>
<div id="OLADM2658" class="example">
<p class="titleinexample"><a id="CHDJHAFF"></a>Example 10-84 Saving and Restoring Values</p>
<p>The following program uses PUSH and POP to produce sales figures without decimal places for a specific selection of products, districts, and months, and then restores the status settings and the value of DECIMALS to what they were before the program was run.</p>
<pre dir="ltr">DEFINE report1 PROGRAM
PROGRAM
TRAP ON cleanup
PUSH DECIMALS product district month
 
DECIMALS = 0
LIMIT product TO &#39;Sportswear&#39; &#39;Footwear&#39;
LIMIT district TO &#39;Atlanta&#39; &#39;Dallas&#39;
LIMIT month TO &#39;Jan96&#39; TO &#39;Jun96&#39;
REPORT sales
 
cleanup:
POP DECIMALS product district month
END
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79638"></a>
<div id="OLADM885" class="refsect1">
<h2 class="refsect1">PUSHLEVEL</h2>
<p><a id="sthref4806"></a><a id="sthref4807"></a><a id="sthref4808"></a><a id="sthref4809"></a><a id="sthref4810"></a>The PUSHLEVEL command marks the start of a series of PUSH commands. You can then use a corresponding POPLEVEL statement to restore all the values saved by PUSH commands that are executed after PUSHLEVEL. POPLEVEL must specify the same marker as the PUSHLEVEL statement that starts the series. You can use PUSHLEVEL only within programs.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BAJFJADC">&#34;Considerations When Designing PUSHLEVEL and POPLEVEL Statements&#34;</a>, <a href="#i79603">POP</a>, <a href="#i79633">PUSH</a>, <a href="#i79608">POPLEVEL</a>, and <a href="dml_commands_1.htm#i79174">CONTEXT command</a>s</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4811"></a>Syntax</p>
<p class="synopsis">PUSHLEVEL&nbsp;<span class="italic">marker-expression</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4812"></a>Parameters</p>
<dl>
<dt><span class="italic">marker-expression</span></dt>
<dd>
<p>A text value to mark the start of a series of PUSH commands all of whose saved values are to be popped at once. A POPLEVEL statement that specifies the exact same <span class="italic">marker-expression</span> restores the whole series of saved values.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4813"></a>Usage Notes</p>
<p class="subhead2"><a id="BAJFJADC"></a><a id="OLADM2659"></a>Considerations When Designing PUSHLEVEL and POPLEVEL Statements</p>
<p>Keep the following points in mind when coding pushlevel statements:</p>
<ul>
<li>
<p>You can nest PUSHLEVEL/POPLEVEL pairs, if you specify a different marker for each pair, as illustrated in the following code.</p>
<pre dir="ltr">PUSHLEVEL &#39;firstlevel&#39;
PUSH PAGESIZE DECIMALS       &lt; saves values in FIRSTLEVEL
...
PUSHLEVEL &#39;secondlevel&#39;
PUSH month product           &lt; Saves values in SECONDLEVEL
...
POPLEVEL &#39;secondlevel&#39;       &lt; Restores values in SECONDLEVEL
...
POPLEVEL &#39;firstlevel&#39;        &lt; Restores values in FIRSTLEVEL
</pre>
<p>You do not normally need multiple levels in a single program. However, Oracle OLAP automatically creates nested levels when one program calls another program and each program contains a set of PUSHLEVEL and POPLEVEL commands.</p>
</li>
<li>
<p>When you specify the same marker for two or more PUSHLEVEL commands, a POPLEVEL statement specifying that same marker restores values that were saved only since the most recent PUSHLEVEL statement.</p>
</li>
<li>
<p>When you specify a different marker for two or more PUSHLEVEL commands, a POPLEVEL statement that specifies the marker of any PUSHLEVEL statement restores all the values that were saved since that statement, including values that were saved after later PUSHLEVEL commands.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4814"></a>Examples</p>
<div id="OLADM2660" class="example">
<p class="titleinexample"><a id="CHDGEDJB"></a><a id="i1016848"></a>Example 10-85 Creating Level Markers</p>
<p>You can use a PUSHLEVEL statement to establish a level marker called <code dir="ltr">firstlevel</code>, and then use PUSH to save the current values.</p>
<pre dir="ltr">PUSHLEVEL &#39;firstlevel&#39;
PUSH month DECIMALS ZSPELL
</pre>
<p>The level marker can be any text that is enclosed in single quotation marks. It can also be the name of a single-cell <code dir="ltr">ID</code> or <code dir="ltr">TEXT</code> variable, whose value becomes the name of the level marker. In the exit sections of the program, you can then use a POPLEVEL statement to restore all the values you saved since establishing the <code dir="ltr">firstlevel</code> marker.</p>
<pre dir="ltr">POPLEVEL &#39;firstlevel&#39;
</pre></div>
<!-- class="example" -->
<div id="OLADM2661" class="example">
<p class="titleinexample"><a id="CHDGJFIG"></a><a id="i1016849"></a>Example 10-86 Nesting PUSHLEVEL and POPLEVEL Commands</p>
<p><a id="sthref4815"></a><a id="sthref4816"></a>You can nest PUSHLEVEL and POP LEVEL commands to save certain groups of values in one place in a program and other groups of values in another place in a program. The next example shows two sets of nested PUSHLEVEL and POPLEVEL commands.</p>
<pre dir="ltr">PUSHLEVEL &#39;firstlevel&#39;
PUSH PAGESIZE DECIMALS &#34;Saves values in FIRSTLEVEL
        ...
PUSHLEVEL &#39;secondlevel&#39;
PUSH month product     &#34;Saves values in SECONDLEVEL
      ...
POPLEVEL &#39;secondlevel&#39; &#34;Restores values in SECONDLEVEL
       ...
POPLEVEL &#39;firstlevel&#39;  &#34;Restores values in FIRSTLEVEL
</pre>
<p>Normally, you do not use multiple sets of PUSHLEVEL and POPLEVEL commands in a single program. However, the nesting feature comes into play automatically when one program calls another program, and each program contains a set of PUSHLEVEL and POPLEVEL commands.</p>
</div>
<!-- class="example" -->
<div id="OLADM2662" class="example">
<p class="titleinexample"><a id="sthref4817"></a>Example 10-87 One-Step Restoration and Nested Levels</p>
<p>The following program uses <code dir="ltr">PUSHLEVEL</code> <code dir="ltr">&#39;rpt1&#39;</code> to mark for one-step restoration the original value of DECIMALS and the original status of <code dir="ltr">month</code>, <code dir="ltr">product</code>, and <code dir="ltr">district</code>, even though these are pushed separately in the program.</p>
<p>To demonstrate nesting, the program includes a nested PUSHLEVEL-POPLEVEL pair with <code dir="ltr">&#39;rpt2&#39;</code> as its marker and some STATUS commands at various points. You can compare the program&#39;s output with the program to see how the status is affected.</p>
<pre dir="ltr">DEFINE sales.RPT PROGRAM
PROGRAM
STATUS month product district
 
PUSHLEVEL &#39;rpt1&#39;
PUSH DECIMALS month
DECIMALS = 0
LIMIT month TO &#39;Jan96&#39;
REPORT WIDTH 8 DOWN district WIDTH 9 ACROSS product: expense
PUSH product
LIMIT product TO &#39;Racquets&#39; &#39;Sportswear&#39;
REPORT DOWN district ACROSS product: advertising
 
PUSHLEVEL &#39;rpt2&#39;
PUSH district
LIMIT district TO &#39;Atlanta&#39; &#39;Dallas&#39; &#39;Chicago&#39;
REPORT DOWN district ACROSS product: sales
BLANK
STATUS month product district
BLANK
 
POPLEVEL &#39;rpt2&#39;
STATUS month product district
BLANK
POPLEVEL &#39;rpt1&#39;
 
STATUS month product district
END
</pre>
<p>The <code dir="ltr">sales.rpt</code> program produces the following output.</p>
<pre dir="ltr">The current status of MONTH is:
ALL
The current status of PRODUCT is:
ALL
The current status of DISTRICT is:
ALL
MONTH: JAN96
         ---------------------EXPENSE---------------------
         ---------------------PRODUCT---------------------
DISTRICT   Tents    Canoes   Racquets  Sportswear  Footwear
-------- --------- --------- --------- ---------- ----------
Boston      31,299    67,527    52,942     49,668    80,565
Atlanta     41,139    53,186    57,159    108,047    99,758
Chicago     27,768    45,621    53,756     65,055    81,639
Dallas      47,063    34,072   118,807    113,629    19,785
Denver      33,177    42,975    89,144     63,380    36,960
Seattle     41,043    64,009    26,719     38,970    46,900
Month: JAN96
               -----ADVERTISING-----
               -------PRODUCT-------
DISTRICT        RAcquets  Sportswear
-------------- ---------- ----------
Boston              3,784      3,352
Atlanta             4,384      9,509
Chicago             3,351      5,283
Dallas              8,700      8,340
Denver              6,215      4,654
Seattle             2,344      3,726
MONTH: Jan96
               --------SALES--------
               -------PRODUCT-------
DISTRICT        Racquets  Sportswear
-------------- ---------- ----------
Atlanta            61,895    129,616
Dallas            125,880    128,115
Chicago            58,649     77,490
The current status of MONTH is:
JAN96
The current status of PRODUCT is:
RACQUETS, SPORTSWEAR
The current status of DISTRICT is:
ATLANTA, DALLAS, CHICAGO
 
The current status of MONTH is:
JAN96
The current status of PRODUCT is:
RACQUETS, SPORTSWEAR
The current status of DISTRICT is:
ALL
 
The current status of MONTH is:
ALL
The current status of PRODUCT is:
ALL
The current status of DISTRICT is:
ALL
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79462"></a>
<div id="OLADM886" class="refsect1">
<h2 class="refsect1">RECAP</h2>
<p><a id="sthref4818"></a><a id="sthref4819"></a>The RECAP command sends statements that were previously entered during the current session to the current outfile or to a file that you specify. The statements are copied from the command log, which is a list of up to 256 statements that you have entered most recently during the current session.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
RECAP statements are not included in the command log.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4820"></a>Syntax</p>
<p class="synopsis">RECAP&nbsp;[<span class="italic">number</span>|ALL]&nbsp;[&nbsp;&#39;<span class="italic">search-text</span>&#39;&nbsp;]&nbsp;[&nbsp;FILE&nbsp;<span class="italic">file-name&nbsp;</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4821"></a>Parameters</p>
<dl>
<dt><span class="italic">number</span></dt>
<dd>
<p>A positive <code dir="ltr">INTEGER</code> that indicates the number of statements to be provided. When you specify <span class="italic">search-text,</span> RECAP provides this number of statements from the subset that contains the <span class="italic">search-text</span> string. When you do not specify <span class="italic">search-text,</span> RECAP provides this number of statements from the most recently executed portion of the command log. The default number is 10.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>When you specify <span class="italic">search-text,</span> ALL requests every statement that meets the search requirements. When you do not specify <span class="italic">search-text,</span> ALL requests every statement in the command log.</p>
</dd>
<dt><span class="italic">search-text</span></dt>
<dd>
<p>A quoted text literal. When you specify this argument, RECAP searches the statements in the command log for the ones that contain <span class="italic">search-text.</span> The search is <span class="italic">not</span> case-sensitive. These statements then compose the subset from which RECAP provides <span class="italic">number</span> or ALL statements.</p>
</dd>
<dt>FILE <span class="italic">file-name</span></dt>
<dd>
<p>Writes the output of a RECAP statement to the specified file For <span class="italic">file-name</span> specify a text expression that is the name of the file to which output should be written. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use a CDA statement to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4822"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2663"></a>Order of <span class="italic">search-text</span> Parameter</p>
<p>When you use both the <span class="italic">search-text</span> and the ALL or <span class="italic">number</span> arguments, you must specify <span class="italic">search-text</span> second.</p>
<p class="subhead2"><a id="OLADM2664"></a>RECAP with No Parameter</p>
<p>When you specify RECAP without an argument, the ten most recent statements are provided.</p>
<p class="subhead2"><a id="OLADM2665"></a>Re-Executing Statements</p>
<p>You can use the output of RECAP to edit a previously executed statement with REEDIT, or reexecute a previously executed statement with REDO.</p>
<p class="subhead2"><a id="OLADM2666"></a>Identifying Files and Directories</p>
<p>When specifying files and directories in OLAP DML statements, it is good practice to always enclose them in single quotes.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4823"></a>Examples</p>
<div id="OLADM2667" class="example">
<p class="titleinexample"><a id="sthref4824"></a>Example 10-88 Obtaining the Last Three Statements Containing &#34;actual&#34;</p>
<p>The following RECAP statement requests the three most recent statements that included the text literal &#34;actual.&#34;</p>
<pre dir="ltr">RECAP 3 &#39;actual&#39;
</pre>
<p>This statement could produce the following output.</p>
<pre dir="ltr">       <span class="underline">COMMAND LOG</span>
    3: dsc actual
    5: report total(actual)
    8: report average(actual) 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79477"></a>
<div id="OLADM887" class="refsect1">
<h2 class="refsect1">REDO</h2>
<p><a id="sthref4825"></a><a id="sthref4826"></a>The REDO command re-executes a statement that you entered earlier in your session. The statement is retrieved from the command log, which is a list of up to 256 statements that you have entered most recently during the current session. REDO enables you to changes in the statement before it is re-executed.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
REDO statements themselves are not included in the command log; however, the statements re-executed by REDO are included.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4827"></a>Syntax</p>
<p class="synopsis">REDO&nbsp;[<span class="italic">number</span>|<span class="italic">index</span>]&nbsp;&#39;<span class="italic">original</span>&#39;&nbsp;&#39;<span class="italic">replacement</span>&#39;&nbsp;[<span class="italic">specifier</span>]&nbsp;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4828"></a>Parameters</p>
<dl>
<dt><span class="italic">number</span></dt>
<dd>
<p>A positive <code dir="ltr">INTEGER</code> that indicates the number of the statement to be re-executed. You can display the statements, with their numbers, using a RECAP statement.</p>
</dd>
<dt><span class="italic">index</span></dt>
<dd>
<p>A negative <code dir="ltr">INTEGER</code> or <code dir="ltr">0</code> (zero) that indicates the position of the statement to be re-executed relative to the end of the command log. The most recent statement is <code dir="ltr">0</code>, the one before that is <code dir="ltr">-1</code>, and so on. The default is <code dir="ltr">0</code>.</p>
</dd>
<dt><span class="italic">original</span></dt>
<dd>
<p>A text literal that is part of the statement to be re-executed.</p>
</dd>
<dt><span class="italic">replacement</span></dt>
<dd>
<p>A text literal that should replace <span class="italic">original</span> when the statement is re-executed.</p>
</dd>
<dt><span class="italic">specifier</span></dt>
<dd>
<p>A specifier listed in <a href="#i1021520">Table 10-2, &#34;Valid Values for REDO specifier&#34;</a>. Each specifier indicates where text replacement should occur in the re-executed statement.</p>
<div id="OLADM2668" class="tblformal">
<p class="titleintable"><a id="sthref4829"></a><a id="sthref4830"></a>Table 10-2 <a id="i1021520"></a><span class="bolditalic">Valid Values for REDO specifier</span></p>
<table class="cellalignment3618" title="Valid Values for REDO specifier" summary="This table outlines the valid values for the specifier argument of REDO." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t67">Specifier</th>
<th class="cellalignment3616" id="r1c2-t67">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t67" headers="r1c1-t67">
<p><code dir="ltr">FIRST</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t67 r1c2-t67">
<p>Indicates that only the first occurrence of <span class="italic">original</span> should be changed to <span class="italic">replacement.</span></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t67" headers="r1c1-t67">
<p><code dir="ltr">LAST</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t67 r1c2-t67">
<p>Indicates that only the last occurrence of <span class="italic">original</span> should be changed to <span class="italic">replacement.</span></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t67" headers="r1c1-t67">
<p><span class="syntaxinlineitalic">n</span></p>
</td>
<td class="cellalignment3617" headers="r4c1-t67 r1c2-t67">
<p>A number indicating which occurrence of <span class="italic">original</span> should be changed to <span class="italic">replacement.</span> For example, <code dir="ltr">3</code> indicates the third occurrence.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t67" headers="r1c1-t67">
<p><code dir="ltr">ALL</code></p>
</td>
<td class="cellalignment3617" headers="r5c1-t67 r1c2-t67">
<p>Indicates that all occurrences of <span class="italic">original</span> should be changed to <span class="italic">replacement</span></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t67" headers="r1c1-t67">
<p><code dir="ltr"><span class="codeinlinebold">*</span></code></p>
</td>
<td class="cellalignment3617" headers="r6c1-t67 r1c2-t67">
<p>Indicates that all occurrences of <span class="italic">original</span> should be changed to <span class="italic">replacement.</span></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>The default is ALL. When you do not provide a specifier, all occurrences of <span class="italic">original</span> are changed to <span class="italic">replacement.</span></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4831"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2669"></a>REDO with No Argument</p>
<p>When you type REDO without an argument, the most recent statement are re-executed.</p>
<p class="subhead2"><a id="OLADM2670"></a>Case-Sensitivity</p>
<p>When matching <span class="italic">original</span> with the text of the statement to be re-executed, REDO ignores case differences. For example, assume you specify <code dir="ltr">AT</code> as <span class="italic">original,</span> REDO matches it with <code dir="ltr">at</code>, <code dir="ltr">At</code>, <code dir="ltr">aT</code>, or <code dir="ltr">AT</code> in the statement.</p>
<p>When replacing <span class="italic">original</span> with <span class="italic">replacement</span>, REDO retains the case of all characters in <span class="italic">replacement.</span> For example, assume you specify <code dir="ltr">ShOw</code> as <span class="italic">replacement,</span> that is exactly how it appears in the re-executed statement.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4832"></a>Examples</p>
<div id="OLADM2671" class="example">
<p class="titleinexample"><a id="sthref4833"></a>Example 10-89 Redoing a Report</p>
<p>The following output is the result of <code dir="ltr">recap 2</code> statement.</p>
<pre dir="ltr">   COMMAND LOG
6: fetch w 20 down division total(actual)
7: listnames
</pre>
<p>The following REDO statement re-executes the FETCH statement with a different variable.</p>
<pre dir="ltr">REDO 6 &#39;actual&#39; &#39;budget&#39;
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79482"></a>
<div id="OLADM888" class="refsect1">
<h2 class="refsect1">REEDIT</h2>
<p><a id="sthref4834"></a><a id="sthref4835"></a><a id="sthref4836"></a>The REEDIT command edits a statement that you entered earlier in your session. The statement is retrieved from the command log, which is a list of up to 256 statements that you have entered most recently during the current session. REEDIT enables you to change the statement without executing it, so you can edit it sequentially.</p>
<p>The REDO command is similar to REEDIT, except that the statement is executed after you edit it.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
REEDIT statements themselves are not included in the command log; however the statements re-executed by REEDIT are included.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4837"></a>Syntax</p>
<p class="synopsis">REEDIT&nbsp;[<span class="italic">number</span>|index]&nbsp;&#39;<span class="italic">original</span>&#39;&nbsp;&#39;<span class="italic">replacement</span>&#39;&nbsp;[<span class="italic">specifier</span>]&nbsp;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4838"></a>Parameters</p>
<dl>
<dt><span class="italic">number</span></dt>
<dd>
<p>A positive <code dir="ltr">INTEGER</code> that indicates the number of the statement to be edited. You can display the statements, with their numbers, using a RECAP statement.</p>
</dd>
<dt><span class="italic">index</span></dt>
<dd>
<p>A negative <code dir="ltr">INTEGER</code> or <code dir="ltr">0</code> (zero) that indicates the position of the statement to be edited relative to the end of the command log. The most recent statement is <code dir="ltr">0</code>, the one before that is <code dir="ltr">-1</code>, and so on. The default is <code dir="ltr">0</code>.</p>
</dd>
<dt><span class="italic">original</span></dt>
<dd>
<p>A text literal that is part of the statement to be edited.</p>
</dd>
<dt><span class="italic">replacement</span></dt>
<dd>
<p>A text literal that should replace <span class="italic">original</span> when the statement is edited.</p>
</dd>
<dt><span class="italic">specifier</span></dt>
<dd>
<p>A specifier listed in <a href="#g1028346">Table 10-3, &#34;Valid Values for REEDIT specifier&#34;</a>. Each specifier indicates where text replacement should occur in the edited statement.</p>
<div id="OLADM2672" class="tblformal">
<p class="titleintable"><a id="sthref4839"></a><a id="g1028346"></a>Table 10-3 Valid Values for REEDIT specifier</p>
<table class="cellalignment3618" title="Valid Values for REEDIT specifier" summary="This table describes the valid values for the specifier argument for REEDIT." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t69">Specifier</th>
<th class="cellalignment3616" id="r1c2-t69">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t69" headers="r1c1-t69">
<p><code dir="ltr">FIRST</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t69 r1c2-t69">
<p>Indicates that only the first occurrence of <span class="italic">original</span> should be changed to <span class="italic">replacement.</span></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t69" headers="r1c1-t69">
<p><code dir="ltr">LAST</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t69 r1c2-t69">
<p>Indicates that only the last occurrence of <span class="italic">original</span> should be changed to <span class="italic">replacement.</span></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t69" headers="r1c1-t69">
<p><span class="syntaxinlineitalic">n</span></p>
</td>
<td class="cellalignment3617" headers="r4c1-t69 r1c2-t69">
<p>A number indicating which occurrence of <span class="italic">original</span> should be changed to <span class="italic">replacement.</span> For example, <code dir="ltr">3</code> indicates the third occurrence.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t69" headers="r1c1-t69">
<p><code dir="ltr">ALL</code></p>
</td>
<td class="cellalignment3617" headers="r5c1-t69 r1c2-t69">
<p>Indicates that all occurrences of <span class="italic">original</span> should be changed to <span class="italic">replacement</span></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t69" headers="r1c1-t69">
<p><code dir="ltr"><span class="codeinlinebold">*</span></code></p>
</td>
<td class="cellalignment3617" headers="r6c1-t69 r1c2-t69">
<p>Indicates that all occurrences of <span class="italic">original</span> should be changed to <span class="italic">replacement.</span></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>The default is ALL. When you do not provide a specifier, all occurrences of <span class="italic">original</span> are changed to <span class="italic">replacement.</span></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4840"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2673"></a>REEDIT with No <span class="italic">number</span> or <span class="italic">index Argument</span></p>
<p>When you type REEDIT without <span class="italic">number</span> or <span class="italic">index,</span> the most recent statement is edited.</p>
<p class="subhead2"><a id="OLADM2674"></a>Case-Sensitivity</p>
<p>When matching <span class="italic">original</span> with the text of the statement to be edited, REEDIT ignores case differences. For example, assume you specify <code dir="ltr">AT</code> as <span class="italic">original,</span> REEDIT matches it with <code dir="ltr">at</code>, <code dir="ltr">At</code>, <code dir="ltr">aT</code>, or <code dir="ltr">AT</code> in the statement.</p>
<p>When replacing <span class="italic">original</span> with <span class="italic">replacement,</span> REEDIT retains the case of all characters in <span class="italic">replacement.</span> For example, assume you specify <code dir="ltr">ShOw</code> as <span class="italic">replacement,</span> that is exactly how it appears in the edited statement.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4841"></a>Examples</p>
<div id="OLADM2675" class="example">
<p class="titleinexample"><a id="sthref4842"></a>Example 10-90 Editing Multiple Values in a LIMIT Command</p>
<p>The following example illustrates why it could be helpful to use a REEDIT statement to edit a statement several times before executing it. With REEDIT commands, you can edit multiple values in a LIMIT command before executing it. When you enter a REDO statement, the LIMIT command is executed.</p>
<p>The following output is the result of a <code dir="ltr">recap 1</code> statement.</p>
<pre dir="ltr">   <span class="underline">COMMAND LOG</span>
6: limit mydim to 1 to 10, 15 to 20, 24 to 28, 33 to 40
</pre>
<p>The statement</p>
<pre dir="ltr">REEDIT 6 &#39;1&#39; &#39;2&#39; FIRST
</pre>
<p>produces the following output.</p>
<pre dir="ltr">7: limit mydim to 2 to 10 , 15 to 20, 24 to 28, 33 to 40
</pre>
<p>The statement</p>
<pre dir="ltr">REEDIT 7 &#39;15&#39; &#39;18&#39;
</pre>
<p>produces the following output.</p>
<pre dir="ltr">8: limit mydim to 2 to 10 , 18 to 20, 24 to 28, 33 to 40
 
</pre>
<p>The statement</p>
<pre dir="ltr">REDO 8 &#39;40&#39; &#39;41&#39;
</pre>
<p>makes one more change and re-executes the LIMIT command with the new values. It also produces the following output.</p>
<pre dir="ltr">9: limit mydim to 2 to 10 , 18 to 20, 24 to 28, 33 to 41
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79487"></a>
<div id="OLADM889" class="refsect1">
<h2 class="refsect1">REGRESS</h2>
<p><a id="sthref4843"></a><a id="sthref4844"></a><a id="sthref4845"></a>The REGRESS command calculates a simple multiple linear regression. The optional WEIGHTBY keyword lets you calculate a weighted regression when some data points are more reliable than others.</p>
<p>You can then execute REGRESS.REPORT to produce a standard report of the regression. You can also use the INFO function to obtain portions of the results for use in your own customized reports or for further analysis.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
To performing more complex regression analysis use a forecasting context as discussed in <a href="dml_program.htm#i1017424">&#34;Forecasting Programs&#34;</a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4846"></a>Syntax</p>
<p class="synopsis">REGRESS&nbsp;[NOINTERCEPT]&nbsp;<span class="italic">dependent&nbsp;independent</span>...&nbsp;[WEIGHTBY&nbsp;<span class="italic">weight</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4847"></a>Parameters</p>
<dl>
<dt>NOINTERCEPT</dt>
<dd>
<p>Directs Oracle OLAP to suppress the constant term (intercept) in the regression equation. The default is to calculate a constant term.</p>
</dd>
<dt><span class="italic">dependent</span></dt>
<dd>
<p>An expression to be used as the dependent variable in the regression.</p>
<p>In calculating the results, REGRESS loops over all the dimensions of the dependent and independent variables.</p>
</dd>
<dt><span class="italic">independent</span></dt>
<dd>
<p>One or more expressions to be used as the independent variables (regressors) in the regression.</p>
</dd>
<dt>WEIGHTBY <span class="italic">weight</span></dt>
<dd>
<p>Specifies a weighted regression. The numeric expression <span class="italic">weight</span> supplies the weights for each data point (observation). Giving higher weights to more reliable observations results in a higher quality regression. WEIGHTBY must come last in the REGRESS command.</p>
<p>When <span class="italic">weight</span> is less than zero for any observation, an error occurs. When <span class="italic">weight</span> is equal to zero for any observation, that observation is ignored in the calculation. When WEIGHTBY is omitted, an unweighted regression is calculated.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4848"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2676"></a>Ignoring NA Values</p>
<p>In performing its calculations, the REGRESS command ignores any observation that has an <code dir="ltr">NA</code> value.</p>
<p class="subhead2"><a id="OLADM2677"></a>Producing a Standard Report</p>
<p>The standard report for a regression shows the coefficient, standard error, and T-ratio for each independent variable; and the R-square, F-Statistic, number of observations, and standard error of estimate for the regression. To produce this report, type the following.</p>
<pre dir="ltr">REGRESS.REPORT
</pre>
<p class="subhead2"><a id="OLADM2678"></a>Obtaining Results</p>
<p>For information on how to obtain portions of the results of REGRESS for your own reports or further analysis, use an INFO statement.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4849"></a>Examples</p>
<div id="OLADM2679" class="example">
<p class="titleinexample"><a id="CHDIFDHF"></a><a id="i1010607"></a>Example 10-91 Simple Regression</p>
<p>The following statements limit the <code dir="ltr">product</code> dimension to <code dir="ltr">Canoes</code>, then use regression to investigate the influence of advertising, price, and expense on the sales of canoes.</p>
<pre dir="ltr">LIMIT product TO &#39;Canoes&#39;
REGRESS NOINTERCEPT sales advertising price expense
</pre>
<p>You can now execute REGRESS.REPORT as illustrated in <a href="#CHDEEDDC">Example 10-93, &#34;Report for a Simple Regression&#34;</a> to see the results of the regression.</p>
</div>
<!-- class="example" -->
<div id="OLADM2680" class="example">
<p class="titleinexample"><a id="CHDBEHDC"></a><a id="i1010683"></a>Example 10-92 Weighted Regression</p>
<p>The following statements use a weighted regression, in which districts are weighted using a variable called <code dir="ltr">reliability</code> that has the following definition and values.</p>
<pre dir="ltr">DEFINE reliability VARIABLE DECIMAL &lt;district&gt;

DISTRICT       RELIABILITY
-------------- -----------
Boston                1.00
Atlanta               0.90
Chicago               1.00
Dallas                0.80
Denver                0.90
Seattle               0.60
</pre>
<p>The following statements perform the regression.</p>
<pre dir="ltr">REGRESS NOINTERCEPT sales advertising price expense -
WEIGHTBY reliability
</pre>
<p>You can now execute REGRESS.REPORT as illustrated in <a href="#CHDEEDDC">Example 10-93, &#34;Report for a Simple Regression&#34;</a> to see the results of the regression.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1010396"></a>
<div id="OLADM890" class="refsect1">
<h2 class="refsect1">REGRESS.REPORT</h2>
<p><code dir="ltr"><a id="sthref4850"></a>The REGRESS.REPORT</code> program produces a standard report of a regression performed using the REGRESS command.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4851"></a>Syntax</p>
<p class="synopsis">REGRESS.REPORT</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4852"></a>Examples</p>
<div id="OLADM2681" class="example">
<p class="titleinexample"><a id="CHDEEDDC"></a><a id="i1010495"></a>Example 10-93 Report for a Simple Regression</p>
<p>Assume that you have performed the simple regression illustrated in <a href="#CHDIFDHF">Example 10-91, &#34;Simple Regression&#34;</a> . You can now execute REGRESS.REPORT to see the results of the regression.</p>
<pre dir="ltr">                              Regression Analysis
                              ===================
 
       Dependent Variable: SALES
        WEIGHTBY Variable: NONE
 
Regressor                Coefficient      Std. Error     T-ratio
--------------------    ------------    ------------    --------
ADVERTISING                     0.36            0.16        2.24
PRICE                          -8.66            1.80       -4.82
EXPENSE                         1.05            0.01       79.69
 
      Corrected R-square                   1.00
      F-Statistic (2, 141)                   NA
      Number of observations                144
      Standard error of estimate       1,477.16
</pre></div>
<!-- class="example" -->
<div id="OLADM2682" class="example">
<p class="titleinexample"><a id="CHDBACDA"></a><a id="i1010547"></a>Example 10-94 Report for a Weighted Regression</p>
<p>Assume that you have performed the simple regression illustrated in <a href="#CHDBEHDC">Example 10-92, &#34;Weighted Regression&#34;</a> . You can now execute REGRESS.REPORT to see the results of the regression.</p>
<pre dir="ltr">                              Regression Analysis
                              ===================
 
       Dependent Variable: SALES
        WEIGHTBY Variable: RELIABILITY
 
Regressor                Coefficient      Std. Error     T-ratio
--------------------    ------------    ------------    --------
ADVERTISING                     0.44            0.17        2.64
PRICE                          -8.03            1.92       -4.19
EXPENSE                         1.04            0.01       76.45
 
      Corrected R-square                   1.00
      F-Statistic (2, 141)                   NA
      Number of observations                144
      Standard error of estimate       1,373.15
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACBJGDI"></a>
<div id="OLADM891" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">RELATION command</h2>
<p><a id="sthref4853"></a><a id="sthref4854"></a><a id="sthref4855"></a><a id="sthref4856"></a><a id="sthref4857"></a>The RELATION command identifies a relation as the default relation for a specified dimension of the current object; or removes the default relation information from the current object. For more information on default relations, see <a href="dml_expression.htm#BABFAJGI">&#34;Using Related Dimensions in Expressions&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not confuse the RELATION command with the RELATION statements in AGGMAP or ALLOCMAP.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4858"></a>Syntax</p>
<p class="synopsis">RELATION {<span class="italic">dimension-name</span> <span class="italic">relation-name</span> }| DELETE { ALL | <span class="italic">dimension-name</span>}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4859"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension-name</span></dt>
<dd>
<p>The name of a previously-defined dimension. The dimension specified by the <span class="italic">dimension-name</span> argument must be a dimension of the currently considered object for which you want to specify or delete a default relation.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The dimension specified by the <span class="italic">dimension-name</span> argument must be a dimension of the currently considered object. The current object is the object that has been most recently defined or considered during the current session. To make an object definition the current definition, use a CONSIDER statement.</div>
</dd>
<dt><span class="italic">relation-name</span></dt>
<dd>
<p>The name of a previously-defined relation that Oracle OLAP uses as the default relation for the dimension specified by <span class="italic">dimension-name</span>.</p>
</dd>
<dt>DELETE</dt>
<dd>
<p>Specifies removal of previously-specified default relation information.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>Removes all previously-defined default relation information.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4860"></a>Usage Notes</p>
<p class="subhead2"><a id="i1020453"></a><a id="OLADM2683"></a>How Oracle OLAP Chooses Between Multiple Relations</p>
<p>When there are multiple relations between the two dimensions and you attempt to perform calculation on one of those dimension based on related dimensions, Oracle OLAP chooses the relation to use when executing the statement as follows:</p>
<ol>
<li>
<p>Uses the relation specified in the statement, if any.</p>
</li>
<li>
<p>Uses the default relation for the dimension. Oracle OLAP determines the default relation as follows:</p>
<ol>
<li>
<p>When you have specified a default relation using the RELATION command, Oracle OLAP recognizes that relation as the default relation.</p>
</li>
<li>
<p>When you have <span class="italic">not</span> specified a default relation using the RELATION command, Oracle OLAP recognizes the first relation that you defined as the default relation.</p>
</li>
</ol>
</li>
</ol>
<p class="subhead2"><a id="OLADM2684"></a>Identifying Default Relations</p>
<p>Use the OBJ function with the RELATION keyword to identify the default relation information for an object.</p>
<p class="subhead2"><a id="OLADM2685"></a>Multiple RELATION Commands Against the Same Object</p>
<p>Unlike other statements that operate against the most recently considered object (for example, an LD statement), a new RELATION command does not replace previously-issued RELATION commands. Instead, issuing multiple RELATION commands against the same object has a cumulative effect.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4861"></a>Examples</p>
<div id="OLADM2686" class="example">
<p class="titleinexample"><a id="CACIAADF"></a>Example 10-95 Specifying a Default Relation Using the Relation Command</p>
<p>Assume that you defined the following analytic workspace objects (in the following order).</p>
<pre dir="ltr">DEFINE CITY DIMENSION TEXT
DEFINE DISTRICT DIMENSION TEXT
DEFINE CITY_DISTRICT RELATION DISTRICT &lt;CITY&gt;
DEFINE CITY_REDISTRICT_1 RELATION DISTRICT &lt;CITY&gt;

REPORT city_district
CITY                    CITY_DISTRICT
-------------------- --------------------
Annapolis            Southern
Bethesda             Southern
Charlotte            Southern
Gettysburg           Southern
Greensboro           Southern
Raleigh              Southern
Reston               Southern
Rochester            Southern
Virginia Beach       Southern
Washington           Capital
 
 
REPORT city_redistrict_1
CITY                  CITY_REDISTRICT_1
-------------------- --------------------
Annapolis            Capital
Bethesda             Capital
Charlotte            Southern
Gettysburg           Southern
Greensboro           Southern
Raleigh              Southern
Reston               Southern
Rochester            Southern
Virginia Beach       Capital
Washington           Capital
</pre>
<p>As the following OBJ statements illustrate, the <code dir="ltr">city_district</code> relation is the default relation between <code dir="ltr">city</code> and <code dir="ltr">district</code> because the <code dir="ltr">city_district</code> relation was the first relation defined between <code dir="ltr">city</code> and <code dir="ltr">district</code>t and a default relation has not been specified using a RELATION statement.</p>
<pre dir="ltr">SHOW OBJ (RELATION ACTUAL &#39;city&#39; &#39;district&#39;)
CITY_DISTRICT
 
SHOW OBJ (RELATION SPECIFIED &#39;city&#39; &#39;district&#39;)
NA
 
</pre>
<p>Assume that you now issue the following statements to limit district to <code dir="ltr">Washington</code> and make the <code dir="ltr">city_redistrict_1</code> relation the default relation.</p>
<pre dir="ltr"> 
LIMIT city TO district
CONSIDER city
RELATION city city_redistrict_1
 
</pre>
<p>As the following OBJ statements illustrate, now the <code dir="ltr">city_redistrict_1</code> relation that you specified with the RELATION statement is the default relation between <code dir="ltr">city</code> and <code dir="ltr">district</code>.</p>
<pre dir="ltr">SHOW OBJ (RELATION ACTUAL &#39;city&#39; &#39;district&#39;)
CITY_REDISTRICT_1
SHOW OBJ (RELATION SPECIFIED &#39;city&#39; &#39;district&#39;)
CITY_REDISTRICT_1
 
</pre>
<p>Also, as the following statements illustrate, when you limit city to district, you get the same results as limiting city to the city_redistrict_1 relation</p>
<pre dir="ltr">LIMIT city TO district
 
REPORT city
CITY
--------------------
Annapolis
Bethesda
Virginia Beach
Washington
 
 
LIMIT city to ALL
LIMIT city to city_redistrict_1
 
REPORT city
CITY
--------------------
Annapolis
Bethesda
Virginia Beach
Washington
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1016511"></a>
<div id="OLADM892" class="refsect1">
<h2 class="refsect1">RELEASE</h2>
<p><a id="sthref4862"></a>When an analytic workspace is attached in multiwriter mode, the RELEASE command changes the access mode of the specified variables, relations, valuesets, dimensions, or one or more partitions in a variable from read/write (acquired) access to read-only access.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
<a href="dml_commands_1.htm#BGEGDACB">&#34;Managing Analytic Workspaces Attached in Multiwriter Mode&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4863"></a>Syntax</p>
<p class="synopsis">RELEASE <span class="italic">objects</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4864"></a>Parameters</p>
<dl>
<dt><span class="italic">objects</span></dt>
<dd>
<p>One or more variables, relations, valuesets, dimension names, or analytic workspace names, separated by commas, that you want to release. To specify individual partitions of a partitioned variable, use the following syntax.</p>
<p class="synopsis"><span class="italic">variable_name</span> (PARTITION <span class="italic">partition_name</span> [, PARTITION <span class="italic">partition_name</span> ]...)</p>
<p>Precede each analytic workspace name with AW using the following syntax:</p>
<p><span class="syntaxinline">AW</span> <span class="syntaxinlineitalic">analytic workspace name</span></p>
<p>When you specify an analytic workspace in this list, all acquired objects in that analytic workspace are released after all pending changes are made to them. All changes made to the variables, relations, valuesets, or dimensions before a RELEASE statement executes are preserved as private changes after the release statement.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4865"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2687"></a>Releasing Non-Updated or Uncommitted Objects</p>
<p>Similarly to using an AW DETACH statement for analytic workspaces that has been updated. Using RELEASE for objects that have been updated does not allow others to acquire the object until you commit or roll back the transaction. It may still be useful to release an object that has been updated before a commit when one wants to make further what-if changes and later needs to use UPDATE to update all acquired variables.</p>
<p class="subhead2"><a id="OLADM2688"></a>Releasing a Dimension Causes the Dimension to Revert</p>
<p>When you release an acquired dimension, the dimension is automatically reverted (see the <a href="#i1010016">REVERT</a> command for an explanation of what it means to revert a dimension).</p>
<p>As the following code illustrates, releasing an acquired dimension causes an automatic revert.</p>
<p>User A issues the following OLAP DML statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE RESYNC time WAIT
MAINTAIN time ADD &#39;Y2002&#39;
actuals (time &#39;Y2002&#39;, ...) = 37
REPORT time --&gt; ..., &#39;Y2002&#39;
... report
SHOW actuals (time &#39;Y2002&#39;, ...) --&gt; 37
RELEASE time
REPORT time --&gt; ... (no &#39;Y2002&#39;)
AW ATTACH myworkspace MULTI
... report
ACQUIRE RESYNC actuals, time WAIT
MAINTAIN time ADD &#39;Y2002&#39;
actuals (time &#39;Y2002&#39;, ...) = 37
REPORT time --&gt; ..., &#39;Y2002&#39;
SHOW actuals (time &#39;Y2002&#39;, ...) --&gt; 37
... report
REVERT time
REPORT time --&gt; ... (no &#39;Y2002&#39;)
MAINTAIN time ADD &#39;Y2002&#39;
... report
REPORT time --&gt; ..., &#39;Y2002&#39;
SHOW actuals (time &#39;Y2002&#39;, ...) --&gt; NA
... report
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4866"></a>Examples</p>
<div id="OLADM2689" class="example">
<p class="titleinexample"><a id="sthref4867"></a>Example 10-96 Two Users Modifying Different Objects in the Same Analytic Workspace</p>
<p>A classic use of multiwriter attachment mode is to allow two users to modify two different objects in the same analytic workspace. For example, assume that an analytic workspace has two variables: <code dir="ltr">actuals</code> and <code dir="ltr">budget</code>. Assume also that one user (user A) wants to modify <code dir="ltr">actuals</code>, while another user (user B) wants to modify <code dir="ltr">budget</code>. In this case, after attaching the analytic workspace in the multiwriter mode, each user acquires the desired variable, performs the desired modification, updates, commits the changes, and then, either detaches the workspace or releases the acquired variable.</p>
<p>User A executes the following statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE actuals
... make modifications
UPDATE MULTI actuals
COMMIT
RELEASE actuals
AW DETACH myworkspace
</pre>
<p>While, at the same time, User B executes the following statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE budget
... make modifications
UPDATE MULTI budget
COMMIT
RELEASE budget
AW DETACH myworkspace
</pre></div>
<!-- class="example" -->
<div id="OLADM2690" class="example">
<p class="titleinexample"><a id="sthref4868"></a>Example 10-97 Using RELEASE After UPDATE But Before COMMIT</p>
<p>Using a RELEASE statement does not always allow other users to acquire the released variable. For example, when you have updated a variable but have not committed the changes, the execution of a RELEASE statement has no effect on other users until a commit occurs. However, when you use a simple UPDATE to update all acquired variables, it can be useful to release a variable after updating it but before committing it. When a variable is released after the first update, it is not be included in the list of updated variables for the second update. The following code illustrates situations where user B1 releases <code dir="ltr">budget</code> at different times.</p>
<p>Assume that User B1 issues the following statements</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE RESYNC budget WAIT
make changes C1
RELEASE budget
UPDATE
make changes C2
UPDATE
COMMIT
</pre>
<p>User B2 could issue the following statements</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE RESYNC budget WAIT
</pre>
<p>User B2 gets <code dir="ltr">budget</code> and sees no changes and issues the following statements.</p>
<pre dir="ltr">...
AW ATTACH myworkspace MULTI
ACQUIRE RESYNC budget WAIT
make changes C1
UPDATE
RELEASE budget
make changes C2
UPDATE
COMMIT
...
AW ATTACH myworkspace MULTI
ACQUIRE RESYNC budget WAIT
</pre>
<p>Alternatively, User B2 gets <code dir="ltr">budget</code> and sees changes C1 and issues the following statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE RESYNC budget WAIT
make changes C1
UPDATE
make changes C2
RELEASE budget
UPDATE
COMMIT
...
AW ATTACH myworkspace MULTI
ACQUIRE RESYNC budget WAIT
</pre>
<p>Or, as another alternative, User B2 gets <code dir="ltr">budget</code> and sees changes C1 and issues the following statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE RESYNC budget WAIT
make changes C1
UPDATE
make changes C2
UPDATE
COMMIT
RELEASE budget
...
AW ATTACH myworkspace MULTI
ACQUIRE RESYNC budget WAIT
</pre>
<p>At this point, User B2 gets <code dir="ltr">budget</code> and sees changes C2</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CCHJBDCB"></a>
<div id="OLADM2691" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">REMOVE_CUBE_MODEL</h2>
<p>Removes a <a href="dml_commands_1.htm#i1010068">MODEL (in an aggregation)</a> statement for a specified model that is a sub-object of the <a id="sthref4869"></a><a id="sthref4870"></a><a id="sthref4871"></a><a id="sthref4872"></a>cube dimension from the aggregation map of that cube dimension. The changes made when this program executes are not transactional; an automatic COMMIT is executed as part of the program.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use this program to modify a cube dimension if a materialized view exists for that cube dimension or any cube in which it participates.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4873"></a>Syntax</p>
<p class="synopsis">CALL REMOVE_CUBE_MODEL(<span class="italic">logical_cube</span>, <span class="italic">logical_dim</span>, <span class="italic">model_name</span>, <span class="italic">is_static_model</span>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4874"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because REMOVE_CUBE_MODEL is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="dml_commands_1.htm#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">logical_cube</span></dt>
<dd>
<p>A text expression that is the name of the cube as defined in the Oracle data dictionary.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_1.htm#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension being modified.</p>
</dd>
<dt><span class="italic">model_name</span></dt>
<dd>
<p>A text expression that is the name of the logical model that is associated with <span class="italic">logical_dim</span>.</p>
</dd>
<dt><span class="italic">is_static_model</span></dt>
<dd>
<p>A Boolean expression that specifies whether the MODEL statement to be removed is before or after the <a href="dml_commands_1.htm#i1017474">RELATION (for aggregation)</a> statements in the aggmap for <span class="italic">logical_cube</span>.</p>
<p>The default value is <code dir="ltr">TRUE</code> which means that MODEL statement to be removed is before the RELATION statements (that is, <span class="italic">model_name</span> is a static model).</p>
<p>Specify <code dir="ltr">FALSE</code> if the MODEL statement you want to remove is after the RELATION statements (that is, model_name is a dynamic model).</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CCHDJFHB"></a>
<div id="OLADM2692" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">REMOVE_DIMENSION_MEMBER</h2>
<p>The REMOVE_DIMENSION_MEMBER <a id="sthref4875"></a>program removes an <a id="sthref4876"></a><a id="sthref4877"></a>OLAP cube dimension member from one or more hierarchies, or entirely removes an OLAP cube dimension member from a cube dimension.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use this program to modify a cube dimension if a materialized view exists for that cube dimension or any cube in which it participates.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4878"></a>Syntax</p>
<p class="synopsis">CALL REMOVE_DIMENSION_MEMBER(<span class="italic">member_id</span>, <span class="italic">logical_dim</span>, <span class="italic">hier_list</span>, [ <span class="italic">auto_compile</span> ])</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4879"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because REMOVE_DIMENSION_MEMBER is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="dml_commands_1.htm#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">member_id</span></dt>
<dd>
<p>A text expression that is the member that you want to remove from the cube dimension hierarchies.</p>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension being modified.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_1.htm#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt><span class="italic">hier_list</span></dt>
<dd>
<p>A multi-line text expression consisting of the Oracle data dictionary names of all of the hierarchies from which you want to remove the cube dimension member. Specify one hierarchy name per line.</p>
<p>To entirely remove a member from the dimension, specify <code dir="ltr">NA</code>.</p>
</dd>
<dt><span class="italic">auto_compile</span></dt>
<dd>
<p>A Boolean expression that specifies whether or not you want related analytic workspace objects (for example, changes to the parent relation) to be updated immediately.</p>
<p>The default value is <code dir="ltr">TRUE</code> in which case all of the changes to the analytic workspace that are needed to remove the cube dimension member happen now.</p>
<p>Specify FALSE only when, for performance reasons, you want to make a bulk set of changes before issuing a compile. In this case, you need to explicitly compile the cube dimension before the values of the analytic workspace objects take effect as described in <a href="dml_commands_1.htm#BGEJCHAE">&#34;Explicitly Compiling a Cube Dimension&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Regardless of the value that you specify for this argument, the new member is always immediately removed from the dimension -- even when an error is signaled during compilation.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4880"></a>Examples</p>
<div id="OLADM2693" class="example">
<p class="titleinexample"><a id="CCHIGJDD"></a>Example 10-98 Removing OLAP Cube Dimension Members From a Hierarchy</p>
<ol>
<li>
<p>Execute the following SQL statement that reports on the values of the <code dir="ltr">my_time</code> cube dimension.</p>
<pre dir="ltr">select dim_key||&#39;  &#39;||level_name||&#39;  &#39;||parent 
   from my_time_lvl_hier_view 
   order by dim_key asc;
</pre>
<p>The values this statement returns are shown below.</p>
<pre dir="ltr">DIM_KEY||&#39;&#39;||LEVEL_NAME||&#39;&#39;||PARENT
-------------------------------------------------------------------------------
L1_0  L1
L1_1  L1
L1_2  L1
L2_1  L2  L1_1
L2_2  L2  L1_1
L2_3  L2  L1_2
L3_1  L3  L2_1
L3_2  L3  L2_1
L3_3  L3  L2_2
L3_4  L3  L2_2
L3_5  L3  L2_2
L3_6  L3  L2_3

12 rows selected.
 
</pre></li>
<li>
<p>Execute the following SQL statement that calls a user-written program named <code dir="ltr">remove_12_1</code> OLAP DML program.</p>
<pre dir="ltr">exec dbms_aw.execute(&#39;call my_util_aw!remove_l2_1&#39;);
</pre>
<p>The contents of the user-written <code dir="ltr">remove_12_1</code> program are shown below.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The program uses:
<ul>
<li>
<p>The <a href="dml_functions_2.htm#CHDFAIFC">OBJORG</a> function to specify the OLAP DML objects that physically implement the <code dir="ltr">my_time</code> cube dimension.</p>
</li>
<li>
<p>The REMOVE_DIMENSION_MEMBER program provided with the OLAP DML to remove L2_1 and its descendants from the <code dir="ltr">my_time</code> cube dimension.</p>
</li>
</ul>
</div>
<pre dir="ltr">DEFINE REMOVE_L2_1 PROGRAM
PROGRAM
 
  VARIABLE _aw_dim       text
  VARIABLE _parentrel    text
  VARIABLE _members      text
  VARIABLE _member       text
  VARIABLE _i            integer
 
  &#34; Removes L2_1 and descendants
  _aw_dim = OBJORG(DIM &#39;my_time&#39;)
  _parentrel = OBJORG(PARENTREL &#39;my_time&#39;)
 
  LIMIT &amp;_aw_dim TO &#39;L2_1&#39;
  LIMIT &amp;_aw_dim ADD DESCENDANTS USING &amp;_parentrel
  _members = VALUES(&amp;_aw_dim)
  _i = 1
  WHILE _i LE NUMLINES(_members)
  DO
    _member = EXTLINES(_members, _i, 1)
    _i = _i + 1
    CALL REMOVE_DIMENSION_MEMBER(_member, &#39;my_time&#39;, NA, NO)
  DOEND
 
  UPDATE
  COMMIT
END
 
</pre></li>
<li>
<p>Execute the following SQL statement (the same statement as in Step 1) that shows the values of the <code dir="ltr">my_time</code> cube dimension after removal.</p>
<pre dir="ltr">select dim_key||&#39;  &#39;||level_name||&#39;  &#39;||parent 
    from my_time_lvl_hier_view 
    order by dim_key asc;
</pre>
<p>The values after removal are shown below.</p>
<pre dir="ltr">DIM_KEY||&#39;&#39;||LEVEL_NAME||&#39;&#39;||PARENT
--------------------------------------------------------------------------------
L1_0  L1
L1_1  L1
L1_2  L1
L2_2  L2  L1_1
L2_3  L2  L1_2
L3_3  L3  L2_2
L3_4  L3  L2_2
L3_5  L3  L2_2
L3_6  L3  L2_3
 
9 rows selected.
</pre></li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CCHFFHHA"></a>
<div id="OLADM2694" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">REMOVE_MODEL_DIMENSION</h2>
<p>The REMOVE_MODEL_DIMENSION <a id="sthref4881"></a><a id="sthref4882"></a><a id="sthref4883"></a><a id="sthref4884"></a>program removes a<a href="#i80588">DIMENSION (in models)</a> statement from a cube dimension&#39;s model. The changes made when this program executes are not transactional; an automatic COMMIT is executed as part of the program.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4885"></a>Syntax</p>
<p>CALL REMOVE_MODEL_DIMENSION(<span class="italic">logical_dim</span>, <span class="italic">model_name</span>, <span class="italic">explicit_dim</span>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4886"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because REMOVE_MODEL_DIMENSION is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="dml_commands_1.htm#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension being modified.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_1.htm#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt><span class="italic">model_name</span></dt>
<dd>
<p>A text expression that is the name of the logical model that is associated with <span class="italic">logical_dim</span>.</p>
</dd>
<dt><span class="italic">explicit_dim</span></dt>
<dd>
<p>A text expression that is the identifier of the dimension that you want to remove from the cube dimension&#39;s model.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACCCIHD"></a>
<div id="OLADM893" class="refsect1">
<h2 class="refsect1">RENAME</h2>
<p><a id="sthref4887"></a><a id="sthref4888"></a><a id="sthref4889"></a><a id="sthref4890"></a>The RENAME command changes the name of an object in an analytical workspace.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4891"></a>Syntax</p>
<p class="synopsis">RENAME&nbsp;<span class="italic">oldname&nbsp;newname&nbsp;</span>[AW&nbsp;<span class="italic">workspace</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4892"></a>Parameters</p>
<dl>
<dt><span class="italic">oldname</span></dt>
<dd>
<p>The name of an existing object in an analytic workspace. You can specify a qualified object name to indicate the attached workspace in which the object resides. As an alternative, you can use the AW keyword to specify the workspace. Do not use both.</p>
<p>When you do not use a qualified object name or the AW keyword to specify an analytic workspace, the object is renamed in the current workspace.</p>
<p>For an unnamed composite, use the same syntax that was used to create it. See <a href="#i1004266">&#34;Naming an Unnamed Composite&#34;</a>.</p>
</dd>
<dt><span class="italic">newname</span></dt>
<dd>
<p>The new name. The new name of an analytic workspace object cannot duplicate any other name in the workspace in which the object exists. Choose a name according to the rules for naming analytic workspace objects (see the main entry for the <a href="dml_commands_1.htm#i78478">DEFINE</a> command. To change a named composite to an unnamed composite, use the SPARSE keyword as the <span class="italic">newname</span> argument. See <a href="#i87249">&#34;Unnaming a Named Composite&#34;</a>.</p>
</dd>
<dt>AW <span class="italic">workspace</span></dt>
<dd>
<p>The name of an attached workspace in which you want to rename the object. When you do not use a qualified object name or the AW keyword to specify an analytic workspace, the object is renamed in the current workspace.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4893"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2695"></a>Updating Associated Objects</p>
<p>When you change the name of a variable, objects that use that variable, such as formulas, are <span class="italic">not</span> automatically updated.</p>
<p>When you change the name of a dimension, the definitions of any objects that are dimensioned by that dimension are automatically updated. Additionally, any valuesets for the renamed dimension are automatically updated for the new name.</p>
<p class="subhead2"><a id="OLADM2696"></a>RENAME and PERMIT</p>
<p>You may not rename an object when a PERMIT statement denies you the right to change its permission. Renaming an object does not affect permission associated with it.</p>
<p class="subhead2"><a id="i1004266"></a><a id="OLADM2697"></a>Naming an Unnamed Composite</p>
<p>You can name an unnamed composite with a RENAME statement. The following example assigns the name <code dir="ltr">m.prod</code> to an unnamed composite that is dimensioned by <code dir="ltr">market</code> and <code dir="ltr">product</code>.</p>
<pre dir="ltr">RENAME SPARSE &lt;market product&gt; m.prod
</pre>
<p class="subhead2"><a id="i87249"></a><a id="OLADM2698"></a>Unnaming a Named Composite</p>
<p>You can change a named composite to an unnamed composite when the composite has no properties or permission restrictions and when there is at least one object dimensioned by it. In addition, there cannot be an unnamed composite with the same dimensions in the same order as the named composite, and the named composite cannot be used in the dimension list of any unnamed composite. To change a named composite to an unnamed composite, use the SPARSE keyword as the <span class="italic">newname</span> argument. The following example changes the named composite <code dir="ltr">m.prod</code> to an unnamed composite.</p>
<pre dir="ltr">RENAME m.prod SPARSE
</pre>
<p class="subhead2"><a id="OLADM2699"></a>Restrictions on Renaming Composites</p>
<p>You cannot rename a composite when it is a base dimension of an unnamed composite, or when one of its base dimensions is an unnamed composite.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4894"></a>Examples</p>
<div id="OLADM2700" class="example">
<p class="titleinexample"><a id="sthref4895"></a>Example 10-99 Renaming a Program</p>
<p>This statement changes the name of the program <code dir="ltr">testreport</code> to <code dir="ltr">sales.report</code>.</p>
<pre dir="ltr">RENAME testreport sales.report 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79557"></a>
<div id="OLADM894" class="refsect1">
<h2 class="refsect1">REPORT</h2>
<p><a id="sthref4896"></a><a id="sthref4897"></a><a id="sthref4898"></a><a id="sthref4899"></a><a id="sthref4900"></a>The REPORT command <a id="sthref4901"></a><a id="sthref4902"></a>produces a formatted report for one or more data expressions. REPORT automatically loops over the dimensions of the expression. REPORT sends the output to the current outfile.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4903"></a>Syntax</p>
<p class="synopsis">REPORT&nbsp;[NOHEAD]&nbsp;[GRANDTOTALS]&nbsp;[[SUBTOTALS] {GROUP&nbsp;<span class="italic">group-dimension</span>}...]&nbsp;-&nbsp;</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[SUBTOTALS]&nbsp;[<span class="italic">attributes</span>]&nbsp;DOWN&nbsp;<span class="italic">down-dimension</span>]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[ROWTOTALS] {&nbsp;ACROSS <span class="italic">across-dimension&nbsp;</span>[<span class="italic">limit-clause</span>]: }... ]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[SUBTOTALS]&nbsp;[<span class="italic">attributes</span>]&nbsp;<span class="italic">expression</span>(s)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4904"></a>Parameters</p>
<p>When you specify only the <span class="italic">expression</span> argument, REPORT produces a report with the layout described in <a href="#i87366">&#34;Default Layout&#34;</a>. When you specify some but not all of the dimensions of an expression in GROUP, DOWN, or ACROSS phrases, REPORT follows the default layout as closely as possible with the unspecified dimensions.</p>
<dl>
<dt>NOHEAD</dt>
<dd>
<p>Specifies that the report should contain no initial blank line and no headings. NOHEAD overrides any HEADING arguments you specify for the <span class="italic">attributes</span> argument and suppresses all headings that the REPORT command normally generates automatically.</p>
</dd>
<dt>GRANDTOTALS</dt>
<dd>
<p>Includes a grand total for each numeric column at the end of your report.</p>
</dd>
<dt>SUBTOTALS</dt>
<dd>
<p>Includes subtotals for numeric columns. A row of dashes precedes each row of subtotals. When you specify SUBTOTALS for an expression or DOWN phrase, you get subtotals for each GROUP dimension (or composite). When you specify SUBTOTALS for a GROUP phrase, you get subtotals for the specified dimension and for any slower-varying GROUP dimensions. The subtotals for a group appear at the bottom of the last slice in the group.</p>
</dd>
<dt>GROUP</dt>
<dd>
<p>Produces a separate <span class="italic">group</span>, or two-dimensional slice, of the data for each value of <span class="italic">group-dimension.</span> You can use the GROUP phrase more than once to specify multiple GROUP dimensions (or composites). In this case, you produce a separate slice for each combination of the values of the GROUP dimensions.</p>
</dd>
<dt><span class="italic">group-dimension</span></dt>
<dd>
<p>The name of a dimension or composite from which to retrieve the values to use as group labels, or one or more <code dir="ltr">TEXT</code> expressions that are the actual values you want to use as group labels:</p>
<ul>
<li>
<p>When <span class="italic">group-dimension</span> is the name of a composite or a conjoint dimension, Oracle OLAP creates a separate group for each base dimension.</p>
</li>
<li>
<p>When <span class="italic">group-dimension</span> is a <code dir="ltr">TEXT</code> expression, the expression must be dimensioned only by the desired GROUP dimension, and each value of the expression should be descriptive text that corresponds to its associated dimension value.</p>
</li>
</ul>
<p>The dimensions that you specify in a GROUP phrase are not required to be relevant to the data they loop over. See <a href="#i87385">&#34;Specifying Extra Dimensions&#34;</a>.</p>
</dd>
<dt>DOWN</dt>
<dd>
<p>Specifies that the report includes row labels (that is, one or more columns on the left side of your report that label the other values). You can have only one DOWN phrase.</p>
</dd>
<dt><span class="italic">down-dimension</span></dt>
<dd>
<p>The name of a dimension or composite from which to retrieve the values to use as row labels, or one or more <code dir="ltr">TEXT</code> expressions that are the actual values you want to use as row labels.</p>
<ul>
<li>
<p>When <span class="italic">down-dimension</span> is the name of a non-conjoint dimension, REPORT produces only one column of row labels.</p>
</li>
<li>
<p>When <span class="italic">down-dimension</span> is the name of a composite or a conjoint dimension, Oracle OLAP creates a separate column for each base dimension.</p>
</li>
<li>
<p>When <span class="italic">down-dimension</span> is a <code dir="ltr">TEXT</code> expression, the expression must be dimensioned only by the desired DOWN dimension, and each value of the expression must be descriptive text that corresponds to its associated dimension value.</p>
</li>
</ul>
<p>The dimensions that you specify in a DOWN phrase are not required to be relevant to the data they loop over. See <a href="#i87385">&#34;Specifying Extra Dimensions&#34;</a>.</p>
</dd>
<dt>ROWTOTALS</dt>
<dd>
<p>Includes a column headed &#34;TOTAL&#34; at the right side of the report with a total for each numeric row. Including a row total in your report does not imply either column subtotals or a grand total.</p>
</dd>
<dt>ACROSS</dt>
<dd>
<p>Produces a row of column headings across the top of your report, one for each value in <span class="italic">dimension.</span> Under each heading, REPORT produces a column of data for the data expression you specify. You can have multiple ACROSS phrases (or composites) in the report.</p>
</dd>
<dt><span class="italic">across-dimension</span></dt>
<dd>
<p>The name of a dimension or composite from which to retrieve the values to use as column headings, or one or more <code dir="ltr">TEXT</code> expressions that are the actual values you want to use as column headings.</p>
<ul>
<li>
<p>When <span class="italic">across-dimension</span> is the name of a composite or a conjoint dimension, Oracle OLAP creates a separate heading column for each base dimension.</p>
</li>
<li>
<p>When <span class="italic">across-dimension</span> is a TEXT expression, the expression must be dimensioned only by the desired across-dimension, and each value of the expression should be descriptive text that corresponds to its associated dimension value. For information on providing formatted labels for a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR, see <a href="#i87307">&#34;Formatting DAY, WEEK, MONTH, QUARTER, and YEAR Dimension Values&#34;</a>.</p>
</li>
</ul>
<p>The dimensions that you specify in an ACROSS phrase are not required to be relevant to the data they loop over. See <a href="#i87385">&#34;Specifying Extra Dimensions&#34;</a>.</p>
</dd>
<dt><span class="italic">limit-clause</span></dt>
<dd>
<p>When you specify a dimension in the ACROSS phrase, the temporary status of that dimension during the execution of the execution of the REPORT statement. (You cannot include a <span class="italic">limit-clause</span> argument when you specify a composite in the ACROSS phrase.)</p>
<p>The syntax of <span class="italic">limit-clause</span> is the same syntax as any of the <span class="italic">limit-clause</span> arguments in the various forms of the LIMIT command (that is, the syntax of the LIMIT command after the <span class="italic">limit-type</span> argument such as &#34;TO&#34;). For the syntax of these arguments, see <a href="#i1019733">LIMIT (using values) command</a>, <a href="#i1019738">LIMIT using LEVELREL command</a>, <a href="#i1019742">LIMIT (using parent relation)</a>, <a href="#i1019747">LIMIT (using related dimension) command</a>, <a href="#i1019753">LIMIT NOCONVERT command</a>, and <a href="#i1019757">LIMIT command (using POSLIST)</a>.</p>
<p>When the limits you specify result in an empty status for the dimension, an error occurs (regardless of the setting of the OKNULLSTATUS option). However, when you include the phrase IFNONE <span class="italic">label,</span> the error is suppressed and execution of your program branches to the specified label, where you can handle the error.</p>
</dd>
<dt><span class="italic">attributes</span></dt>
<dd>
<p>One or more format attributes from <a href="#CACCIFBJ">Table 10-4, &#34;Formal Attributes for Data Values in a Report&#34;</a> that specify how to format the data. For information on providing formatted labels for a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR, see <a href="#i87307">&#34;Formatting DAY, WEEK, MONTH, QUARTER, and YEAR Dimension Values&#34;</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
When a variable has a formatting property attached to its definition, you can use the OBJ function to obtain the value of that property and use it as the value of an attribute in a REPORT statement.</div>
<p>When you do not specify any attributes, Oracle OLAP formats the data values using the default format described in <a href="#i87366">&#34;Default Layout&#34;</a>. In this case, Oracle OLAP automatically determines the width of the columns, the number of decimal places, whether commas are used to mark thousands in numeric values, and so on.</p>
<div id="OLADM2701" class="tblformalwide">
<p class="titleintable"><a id="sthref4905"></a><a id="CACCIFBJ"></a>Table 10-4 Formal Attributes for Data Values in a Report</p>
<table class="cellalignment3615" title="Formal Attributes for Data Values in a Report" summary="This table lists valid values that you can specify to format data values in a report." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t85">Attribute</th>
<th class="cellalignment3616" id="r1c2-t85">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t85" headers="r1c1-t85">
<p>HEADING <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r2c1-t85 r1c2-t85">
<p>Specifies text to use instead of default column headings. When you use the HEADING attribute, the position of the heading you specify varies depending on how many expressions it must span in your report. Consequently, your heading may or may not replace a default heading. Also, when you use the HEADING attribute to specify a column title that is wider than the column width, the text of the title wraps within the width of its column.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t85" headers="r1c1-t85">
<p>WIDTH <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r3c1-t85 r1c2-t85">
<p>(Abbreviated: W.) Makes the column <span class="italic">n</span> spaces wide. The maximum width is 4,000 characters. Columns with a width of 0 (zero) are suppressed.(See also <a href="#CACFAIJC">&#34;Default Values for the Width Attribute&#34;</a>.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t85" headers="r1c1-t85">
<p>TRUNCATE</p>
</td>
<td class="cellalignment3617" headers="r4c1-t85 r1c2-t85">
<p>(Abbreviated: TRUNC.) Truncates a character value to the column width when it does not fit in the column.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t85" headers="r1c1-t85">
<p>NOTRUNCATE</p>
</td>
<td class="cellalignment3617" headers="r5c1-t85 r1c2-t85">
<p>(Abbreviated: NOTRUNC) Creates additional lines when the character value does not fit in the column. (Default.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t85" headers="r1c1-t85">
<p>CENTER</p>
</td>
<td class="cellalignment3617" headers="r6c1-t85 r1c2-t85">
<p>(Abbreviated: C.) Centers the value within its column.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t85" headers="r1c1-t85">
<p>LEFT</p>
</td>
<td class="cellalignment3617" headers="r7c1-t85 r1c2-t85">
<p>(Abbreviated: L.) Left-justifies the value within its column. (Default for text data.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t85" headers="r1c1-t85">
<p>RIGHT</p>
</td>
<td class="cellalignment3617" headers="r8c1-t85 r1c2-t85">
<p>(Abbreviated: R.) Right-justifies the value within its column. (Default for numeric and Boolean data.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t85" headers="r1c1-t85">
<p>SPACE <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r9c1-t85 r1c2-t85">
<p>(Abbreviated: SP.) Precedes the column with the specified number of spaces.</p>
<p>(By default, REPORT precedes the first column by 0 spaces, and other columns by 1 space.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r10c1-t85" headers="r1c1-t85">
<p>FILL <span class="italic">&#39;char&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r10c1-t85 r1c2-t85">
<p>Puts <span class="italic">char</span> into unused positions in the column. (The default fill character is a space.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r11c1-t85" headers="r1c1-t85">
<p>COMMA</p>
</td>
<td class="cellalignment3617" headers="r11c1-t85 r1c2-t85">
<p>Marks thousands and millions with commas or the character currently recorded in the THOUSANDSCHAR option. Overrides the setting of the COMMAS option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r12c1-t85" headers="r1c1-t85">
<p>NOCOMMA</p>
</td>
<td class="cellalignment3617" headers="r12c1-t85 r1c2-t85">
<p>Does not marks thousands and millions. Overrides the setting of the COMMAS option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r13c1-t85" headers="r1c1-t85">
<p>PAREN</p>
</td>
<td class="cellalignment3617" headers="r13c1-t85 r1c2-t85">
<p>Uses parentheses to indicate negative numbers. Overrides the setting of the PARENS option</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r14c1-t85" headers="r1c1-t85">
<p>NOPAREN</p>
</td>
<td class="cellalignment3617" headers="r14c1-t85 r1c2-t85">
<p>Uses the minus sign to indicate negative numbers. Overrides the setting of the PARENS option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r15c1-t85" headers="r1c1-t85">
<p>DECIMAL <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r15c1-t85 r1c2-t85">
<p>(Abbreviated: D<span class="italic">.</span>) Shows <span class="italic">n</span> decimal places. Decimal places are separated using the character currently recorded in the DECIMALCHAR option. Overrides the value of the DECIMALS option.</p>
<p><span class="bold">Note:</span> REPORT suppresses decimal places in row and column totals of integer data unless you specify the DECIMAL attribute for the totaled expression. Additionally, when you set the DECIMAL attribute to <code dir="ltr">0</code> and you use the NOLEADINGZERO keyword, any decimal values between <code dir="ltr">-1</code> and <code dir="ltr">1</code> that are rounded to <code dir="ltr">0</code> are not shown.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r16c1-t85" headers="r1c1-t85">
<p>MDECIMAL <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r16c1-t85 r1c2-t85">
<p>Shows <span class="italic">n</span> decimal places in numbers formatted with M-notation; <span class="italic">n</span> can be any number from 0 to 16, or 255.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r17c1-t85" headers="r1c1-t85">
<p>NODECIMAL</p>
</td>
<td class="cellalignment3617" headers="r17c1-t85 r1c2-t85">
<p>Shows the number of decimal places specified by the setting of the DECIMALS option. (Default.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r18c1-t85" headers="r1c1-t85">
<p>EDECIMAL <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r18c1-t85 r1c2-t85">
<p>Shows <span class="italic">n</span> decimal places in numbers formatted with E-notation; <span class="italic">n</span> can be any number from 0 to 16, or 255.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r19c1-t85" headers="r1c1-t85">
<p>ENOTATION</p>
</td>
<td class="cellalignment3617" headers="r19c1-t85 r1c2-t85">
<p>Always uses scientific notation, also called exponential notation or E-notation (appends &#34;E&#34;, and includes a sign before the exponent, for example, <code dir="ltr">.230E+2</code> or <code dir="ltr">.230E-2</code>).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r20c1-t85" headers="r1c1-t85">
<p>NOENOTATION</p>
</td>
<td class="cellalignment3617" headers="r20c1-t85 r1c2-t85">
<p>Does not use E-notation; instead, uses to conditional M-notation.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r21c1-t85" headers="r1c1-t85">
<p>CENOTATION</p>
</td>
<td class="cellalignment3617" headers="r21c1-t85 r1c2-t85">
<p>Conditionally uses E-notation, when needed to make a value fit in a column.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r22c1-t85" headers="r1c1-t85">
<p>MNOTATION</p>
</td>
<td class="cellalignment3617" headers="r22c1-t85 r1c2-t85">
<p>Always uses M-notation (divides values by one million and appends &#34;M&#34;).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r23c1-t85" headers="r1c1-t85">
<p>NOMNOTATION</p>
</td>
<td class="cellalignment3617" headers="r23c1-t85 r1c2-t85">
<p>Does not use M-notation; instead, uses asterisks for oversize values.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r24c1-t85" headers="r1c1-t85">
<p>CMNOTATION</p>
</td>
<td class="cellalignment3617" headers="r24c1-t85 r1c2-t85">
<p>Conditionally uses M-notation, when needed to make a value fit in a column. (Default.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r25c1-t85" headers="r1c1-t85">
<p>FOLDDOWN</p>
</td>
<td class="cellalignment3617" headers="r25c1-t85 r1c2-t85">
<p>For a multiline character value, places the first line on the row with the other values, and places additional lines below the rest of the row; also strips any leading or trailing spaces. (Default.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r26c1-t85" headers="r1c1-t85">
<p>FOLDUP</p>
</td>
<td class="cellalignment3617" headers="r26c1-t85 r1c2-t85">
<p>For a multiline character value, places all but the last line above the rest of the row, and the last line on the row with the other values; also strips any leading or trailing spaces.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r27c1-t85" headers="r1c1-t85">
<p>INDENT <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r27c1-t85 r1c2-t85">
<p>Indents the value <span class="italic">n</span> spaces within its column. The default is 0.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r28c1-t85" headers="r1c1-t85">
<p>LEADINGZERO</p>
</td>
<td class="cellalignment3617" headers="r28c1-t85 r1c2-t85">
<p>Puts a leading zero before decimal numbers between -1 and&nbsp;1.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r29c1-t85" headers="r1c1-t85">
<p>NOLEADINGZERO</p>
</td>
<td class="cellalignment3617" headers="r29c1-t85 r1c2-t85">
<p>Suppresses leading zeros before decimal numbers between -1 and&nbsp;1.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r30c1-t85" headers="r1c1-t85">
<p>CNLEADINGZERO</p>
</td>
<td class="cellalignment3617" headers="r30c1-t85 r1c2-t85">
<p>Puts a leading zero before decimal numbers between -1 and 1 when it does not cut off any significant digits. (Default.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r31c1-t85" headers="r1c1-t85">
<p>LSET <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r31c1-t85 r1c2-t85">
<p>Adds <span class="italic">text</span> to the left of the value. When you use LSET with an expression that contains <code dir="ltr">NA</code> values, the text you specify with LSET is not included to left of any <code dir="ltr">NA</code> value</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r32c1-t85" headers="r1c1-t85">
<p>NOLSET</p>
</td>
<td class="cellalignment3617" headers="r32c1-t85 r1c2-t85">
<p>Does not add anything to the left of the value. (Default.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r33c1-t85" headers="r1c1-t85">
<p>RSET <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r33c1-t85 r1c2-t85">
<p>Adds <span class="italic">text</span> to the right of the value. When you use RSET with an expression that contains <code dir="ltr">NA</code> values, the text you specify with RSET is not included to right of any <code dir="ltr">NA</code> value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r34c1-t85" headers="r1c1-t85">
<p>NORSET</p>
</td>
<td class="cellalignment3617" headers="r34c1-t85 r1c2-t85">
<p>Does not add anything to the right of the value. (Default.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r35c1-t85" headers="r1c1-t85">
<p>NASPELL <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r35c1-t85 r1c2-t85">
<p>Uses <span class="italic">text</span> instead of <code dir="ltr">NA</code> values. Overrides the setting of the NASPELL option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r36c1-t85" headers="r1c1-t85">
<p>NONASPELL</p>
</td>
<td class="cellalignment3617" headers="r36c1-t85 r1c2-t85">
<p>Spells <code dir="ltr">NA</code> values as indicated by the NASPELL option. (Default.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r37c1-t85" headers="r1c1-t85">
<p>YESSPELL <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r37c1-t85 r1c2-t85">
<p>Uses <span class="italic">text</span> for <code dir="ltr">TRUE</code> Boolean values. The default is recorded in the YESSPELL option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r38c1-t85" headers="r1c1-t85">
<p>NOSPELL <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r38c1-t85 r1c2-t85">
<p>Uses <span class="italic">text</span> for <code dir="ltr">FALSE</code> Boolean values. Overrides the setting of the NOSPELL option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r39c1-t85" headers="r1c1-t85">
<p>ZSPELL <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r39c1-t85 r1c2-t85">
<p>Uses <span class="italic">text</span> instead of zero numeric values. Overrides the setting of the ZSPELL option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r40c1-t85" headers="r1c1-t85">
<p>NOZSPELL</p>
</td>
<td class="cellalignment3617" headers="r40c1-t85 r1c2-t85">
<p>Spells zero numeric values as specified by the ZSPELL option. (Default.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r41c1-t85" headers="r1c1-t85">
<p>OVER <span class="italic">textexp</span></p>
</td>
<td class="cellalignment3617" headers="r41c1-t85 r1c2-t85">
<p>Overlines the value with the value of a character expression (<span class="italic">textexp</span>). When <span class="italic">textexp</span> is a literal value, it must be enclosed in single quotes. Useful literal values include: <code dir="ltr">&#39;-&#39;</code> to overline value or column, <code dir="ltr">&#39;=&#39;</code> to double overline value or column, and <code dir="ltr">&#39;&#39;</code> to indicate that a value or column is does not have an overline.</p>
<p>To overline only when a condition is met, for <span class="italic">textexp</span> use:</p>
<p><code dir="ltr">IF</code> <code dir="ltr"><span class="codeinlineitalic">boolean-expression</span></code> <code dir="ltr">THEN &#39;-&#39; ELSE &#39;&#39;</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r42c1-t85" headers="r1c1-t85">
<p>UNDER <span class="italic">textexp</span></p>
</td>
<td class="cellalignment3617" headers="r42c1-t85 r1c2-t85">
<p>Underlines the value with the value of a character expression (<span class="italic">textexp</span>). When <span class="italic">textexp</span> is a literal value, it must be enclosed in single quotes. Useful literal values include: <code dir="ltr">&#39;-&#39;</code> to underline value or column, <code dir="ltr">&#39;=&#39;</code> to double underline value or column, and <code dir="ltr">&#39;&#39;</code> to indicate that a value or column is not underlined.</p>
<p>To underline only when a condition is met, for <span class="italic">textexp</span> use: <code dir="ltr">IF</code> <code dir="ltr"><span class="codeinlineitalic">boolean-expression</span></code> <code dir="ltr">THEN &#39;-&#39; ELSE &#39;&#39;</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r43c1-t85" headers="r1c1-t85">
<p>VALONLY</p>
</td>
<td class="cellalignment3617" headers="r43c1-t85 r1c2-t85">
<p>Used with the UNDER and OVER attributes, underline or overline the value only.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r44c1-t85" headers="r1c1-t85">
<p>NOVALONLY</p>
</td>
<td class="cellalignment3617" headers="r44c1-t85 r1c2-t85">
<p>Used with the UNDER and OVER attributes, underlines or overlines the entire width of the column. (Default.)</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" --></dd>
<dt><span class="italic">expression&nbsp;</span>.&nbsp;.&nbsp;.</dt>
<dd>
<p>The data to be shown in the report. The way the data looks depends on its data type and the attributes you specify.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The REPORT command is not equipped to deal with NTEXT values. Do not include them in any part of a report.</div>
<p>You can specify multiple expressions and these expressions do not have to have the same dimensions:</p>
<ul>
<li>
<p>When you have several data expressions in your REPORT statement, you can specify different format attributes before each. When you want attributes to apply to two or more data expressions, enclose the expressions in angle brackets (<code dir="ltr">&lt;</code>&nbsp;<code dir="ltr">&gt;</code>).</p>
<p class="synopsis"><span class="italic">attributes</span>&nbsp;&lt;<span class="italic">expression1</span>,&nbsp;<span class="italic">expression2</span>&gt;</p>
</li>
<li>
<p>Attributes outside the brackets apply to all the expressions within the brackets. However, you can also specify attributes for only one expression (even an attribute that contradicts one that applies to the group) within the brackets by including them immediately before the expression.</p>
<p class="synopsis"><span class="italic">attributes0</span>&nbsp;&lt;<span class="italic">attributes1</span>&nbsp;<span class="italic">expression1</span>,&nbsp;<span class="italic">expression2</span>&gt;</p>
<p>In this case, <span class="italic">attributes0</span> applies to both <span class="italic">expression1</span> and <span class="italic">expression2</span>; while <span class="italic">attributes1</span> only applies to <span class="italic">expression1.</span></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
To create running totals, use the RUNTOTAL function.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4906"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2702"></a>Report Options</p>
<p>Several options effect reports created using the OLAP DML. These options are listed in <a href="dml_options.htm#CHDCCHHA">&#34;Report Options&#34;</a>.</p>
<p class="subhead2"><a id="i87366"></a><a id="OLADM2703"></a>Default Layout</p>
<p>When you do not specify any of the layout phrases (GROUP, DOWN, or ACROSS), REPORT tries to format its output compactly (typically, a two-dimensional report of the data with one dimension down the side and the others across the top, much like a spreadsheet). Any additional dimensions of the data form &#34;slices&#34; or separate two-dimensional segments, like a series of spreadsheets. By default, REPORT uses the following rules to determine the layout:</p>
<ul>
<li>
<p>The fastest-varying dimension in an expression (the one that appears first in the definition of that expression) goes across, the next fastest goes down, and any remaining dimensions become GROUP slices.</p>
</li>
<li>
<p>The order of dimensions in a list of two or more expressions is a simple combination of the dimensions that appear in the definitions of the component expressions. The original order is preserved as far as possible, subject to the rule that repeated mentions of the same dimension are dropped. For example, the dimensions of the combined variables <code dir="ltr">price</code> and <code dir="ltr">industry.sales</code>, where <code dir="ltr">price</code> has the dimensions <code dir="ltr">&lt;month&nbsp;product&gt;</code> and <code dir="ltr">industry.sales</code> has the dimensions <code dir="ltr">&lt;quarter&nbsp;product&nbsp;region</code>&gt;, are <code dir="ltr">&lt;month&nbsp;product&nbsp;quarter&nbsp;region&gt;</code>.</p>
</li>
</ul>
<p>When you produce a report of data for a variable dimensioned by a composite, REPORT automatically breaks out the data by the base dimensions of the composite that is used in the definition of the variable. When a particular combination of base dimension values does not exist in the composite, the report shows <code dir="ltr">NA</code> for the corresponding data cell. See <a href="#i87356">Example 10-104, &#34;Reporting Data Dimensioned by Composites&#34;</a>.</p>
<p class="subhead2"><a id="CACFAIJC"></a><a id="OLADM2704"></a>Default Values for the Width Attribute</p>
<p>When you omit the WIDTH attribute for an ACROSS phrase, the default width is the value of the COLWIDTH option (default is 10).</p>
<p>When you omit the WIDTH attribute for a DOWN phrase or when you specify a simple dimension in the DOWN phrase, the default width is the value of the LCOLWIDTH option (default is <code dir="ltr">14</code>).</p>
<p>When you omit the WIDTH attribute for a DOWN phrase that specifies a conjoint dimension or a composite, the default label width is the width of the COLWIDTH option and there is a separate column for each base dimension. You can provide a different width for each base dimension column by using the KEY function. You can produce a label column for each base dimension with the KEY function and use a separate WIDTH attribute for each column. For example, assume that <code dir="ltr">proddist</code> is a composite with the base dimensions <code dir="ltr">product</code> and <code dir="ltr">district</code>. In this case, you can use a statement similar to the following one.</p>
<pre dir="ltr">REPORT DOWN &lt; W 8 KEY(proddist, product) -
   W 12 KEY(proddist, district) &gt; . . .
</pre>
<p>When you use the default line width of 80 characters (determined by the LSIZE option) and the default column width settings (with a single label column of 14 characters) a line of output can accommodate the labels column and six data columns.</p>
<p>The combined width of all the columns of a report cannot be greater than 4,000 characters.</p>
<p>When a numeric value is too large to fit into a data column, REPORT rounds it off to the nearest million with the symbol M at the right side of the cell. When a value is still too large, REPORT replaces the value with a series of asterisks.</p>
<p class="subhead2"><a id="i87307"></a><a id="OLADM2705"></a>Formatting DAY, WEEK, MONTH, QUARTER, and YEAR Dimension Values</p>
<p>When you use a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR as the <span class="italic">dimension</span> in an ACROSS, DOWN, or GROUP phrase, you can use the CONVERT function to override the dimension&#39;s VNF (or the default VNF) and provide your own format for the dimension value names. To override the VNF, use the CONVERT function with a <span class="italic">vnf</span> argument instead of the <span class="italic">dimension</span> argument to the ACROSS, DOWN, or GROUP keyword. For example, in a report of <code dir="ltr">units</code> data, you can format the labels for the <code dir="ltr">month</code> dimension by using the following statement.</p>
<pre dir="ltr">REPORT HEADING &#39;Month&#39; DOWN -
   CONVERT(month TEXT &#39;&lt;mtextl&gt; &lt;yyyy&gt;&#39;) units
</pre>
<p class="subhead2"><a id="i87385"></a><a id="OLADM2706"></a>Specifying Extra Dimensions</p>
<p>The REPORT command uses whatever dimensions you specify in laying out the report, regardless of whether the expressions to be shown are dimensioned by these dimensions. When an expression is not dimensioned by one or more of the dimensions specified, the values of that expression are repeated for each value of the extra dimension. This fact is sometimes useful for comparisons. See <a href="#i87397">Example 10-103, &#34;Repeating Price Data&#34;</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4907"></a>Examples</p>
<div id="OLADM2707" class="example">
<p class="titleinexample"><a id="sthref4908"></a>Example 10-100 Creating a Default Report</p>
<p>This example shows how to look at product prices for the first three months of 1996. You can use REPORT in its simplest form, without changing the default layout</p>
<pre dir="ltr">LIMIT month TO &#39;Jan96&#39; TO &#39;Mar96&#39;
REPORT price
</pre>
<p>These statements produce the following output.</p>
<pre dir="ltr">                --------------PRICE-------------
                --------------MONTH-------------
PRODUCT           Jan96       Feb96      Mar96
--------------- ---------- ---------- ----------
Tents               165.50     165.75     165.13
Canoes              200.25     200.09     200.05
Racquets             55.02      55.03      55.00
Sportswear           50.03      50.02      50.00
Footwear             38.01      38.01      38.01
</pre></div>
<!-- class="example" -->
<div id="OLADM2708" class="example">
<p class="titleinexample"><a id="sthref4909"></a>Example 10-101 Including Column Totals</p>
<p>This example looks at unit sales for three districts for the first half of 1996, with <code dir="ltr">district</code> across the report and a subtotal for each column. (By default, months would be arranged across the report, because <code dir="ltr">month</code> is the fastest-varying dimension of <code dir="ltr">units</code>.) To make the report more compact, specify a smaller column width of <code dir="ltr">8&nbsp;</code>characters.</p>
<pre dir="ltr">LIMIT month TO &#39;Jan96&#39; TO &#39;Jun96&#39;
LIMIT district TO &#39;Boston&#39; &#39;Chicago&#39; &#39;Dallas&#39;
REPORT SUBTOTALS W 8 DOWN month -
   ACROSS district: W 8 units
</pre>
<p>These statements produce the following output.</p>
<pre dir="ltr">PRODUCT: TENTS
         ----------UNITS-----------
         ---------DISTRICT---------
MONTH    Boston   Chicago  Dallas
-------- -------- -------- --------
Jan96         307      189      308
Feb96         209      190      324
Mar96         277      257      436
Apr96         372      318      560
May96         525      433      744
Jun96         576      466      838
-------- -------- -------- --------
TOTAL       2,266    1,853    3,210
   ...
</pre>
<p>REPORT produces a similar slice for each product.</p>
</div>
<!-- class="example" -->
<div id="OLADM2709" class="example">
<p class="titleinexample"><a id="sthref4910"></a>Example 10-102 Comparing Two Variables</p>
<p>This example compares actual sportswear sales with the projected sales plan, looking only at whole-dollar figures. It reports the actual and planned values side-by-side for May and June, 1996, and provides a grand total of sales and planned sales for all districts.</p>
<pre dir="ltr">LIMIT product TO &#39;Sportswear&#39;
LIMIT month TO &#39;May96&#39; &#39;Jun96&#39;
LIMIT district TO ALL
REPORT GRANDTOTALS W 12 DOWN district ACROSS month: -
   DECIMAL 0 &lt;sales sales.plan&gt;
</pre>
<p>These statements produce the following output.</p>
<pre dir="ltr">PRODUCT: SPORTSWEAR
             -------------------MONTH-------------------
             --------May96-------- --------Jun96--------
DISTRICT       SALES    SALES.PLAN   SALES    SALES.PLAN
------------ ---------- ---------- ---------- ----------
Boston           72,617     69,623     79,630     73,569
Atlanta         161,537    148,823    177,967    157,939
Chicago         101,873     94,545    112,793     97,427
Dallas          170,939    165,449    175,066    164,192
Denver           89,971     91,880     97,237     94,729
Seattle          57,713     55,905     60,323     56,808
             ---------- ---------- ---------- ----------
                654,651    626,224    703,017    644,664
             ========== ========== ========== ==========
</pre></div>
<!-- class="example" -->
<div id="OLADM2710" class="example">
<p class="titleinexample"><a id="i87397"></a>Example 10-103 Repeating Price Data</p>
<p>This example compares sales across three districts, and it includes the unit price beside each sales figure for close comparison within each district. The REPORT statement specifies two expressions, <code dir="ltr">sales</code> and <code dir="ltr">price</code>. Because <code dir="ltr">sales</code> has three dimensions, <code dir="ltr">month</code>, <code dir="ltr">product</code>, and <code dir="ltr">district</code>, the report shows these three dimensions. However, <code dir="ltr">price</code> is not dimensioned by <code dir="ltr">district</code>. Therefore, the report repeats the values of <code dir="ltr">price</code> for each <code dir="ltr">district</code>. The report for January 1995 shown.</p>
<pre dir="ltr">LIMIT district TO FIRST 3
LIMIT product TO ALL
LIMIT month TO &#39;Jan95&#39;
REPORT GROUP month W 10 DOWN product ACROSS district: -
   &lt;W 9 sales W 6 price&gt;
</pre>
<p>These statements produce the following output.</p>
<pre dir="ltr">MONTH: Jan95
           -------------------DISTRICT------------------------
           -----Boston-----  ----Atlanta----- -----Chicago----
PRODUCT      SALES    PRICE   SALES    PRICE   SALES    PRICE 
---------- --------- ------  --------- ------ --------- ------
Tents      32,153.52 160.77  40,674.20 160.77 29,098.94 160.77
Canoes     66,013.92 190.24  49,462.88 190.24 45,277.56 190.24
Racquets   52,420.86  52.84  54,798.82  52.84 54,270.39  52.84
Sportswear 53,194.70  48.54 114,446.26  48.54 72,123.47  48.54
Footwear   91,406.82  36.10 100,540.28  36.10 90,287.70  36.10
</pre></div>
<!-- class="example" -->
<div id="OLADM2711" class="example">
<p class="titleinexample"><a id="CACGJEBD"></a><a id="i87356"></a>Example 10-104 Reporting Data Dimensioned by Composites</p>
<p>In this example, <code dir="ltr">d.sales</code> is a variable whose dimension list includes the dimension <code dir="ltr">month</code> and the unnamed composite <code dir="ltr">SPARSE</code>&nbsp;<code dir="ltr">&lt;product</code>&nbsp;<code dir="ltr">district&gt;</code>. The unnamed composite contains no values for the base dimension combinations for the <code dir="ltr">Boston</code> and <code dir="ltr">Chicago</code> districts and the <code dir="ltr">Tents</code>, <code dir="ltr">Racquets</code>, And <code dir="ltr">Footwear</code> products. When you use the default form of the REPORT command to produce a report of <code dir="ltr">d.sales</code> data, REPORT breaks out the report by <code dir="ltr">month</code> and by the base dimensions of the unnamed composite (<code dir="ltr">product</code> and <code dir="ltr">district</code>). For the combinations of base dimension values that do not exist in the composite, the report shows <code dir="ltr">NA</code> for the corresponding data cells.</p>
<pre dir="ltr">LIMIT month TO &#39;Jan96&#39; TO &#39;Mar96&#39;
LIMIT district TO &#39;Boston&#39; &#39;Chicago&#39;
REPORT d.sales
</pre>
<p>These statements produce the following output.</p>
<pre dir="ltr">DISTRICT: Boston
               ------------D.SALES-------------
               -------------MONTH--------------
PRODUCT          Jan96      Feb96      Mar96
-------------- ---------- ---------- ----------
Tents                  NA         NA         NA
Canoes             70,489     82,238     97,622
Racquets               NA         NA         NA
Sportswear         57,079     63,122     67,006
Footwear               NA         NA         NA
 
DISTRICT: Chicago
               ------------D.SALES-------------
               -------------MONTH--------------
PRODUCT          Jan96      Feb96      Mar96
-------------- ---------- ---------- ----------
Tents                  NA         NA         NA
Canoes             48,662     54,425     68,816
Racquets               NA         NA         NA
Sportswear         77,490     85,879     85,308
Footwear               NA         NA         NA
</pre>
<p>By specifying the composite in an ACROSS, DOWN, or GROUP phrase, you can override the default format of REPORT and break out the <code dir="ltr">d.sales</code> data by its composite. In this case, the report only includes the data cells for which the composite contains values.</p>
<pre dir="ltr">REPORT DOWN SPARSE &lt;product district&gt; d.sales
</pre>
<p>This statement produces the following report.</p>
<pre dir="ltr">                      ------------D.SALES-------------
                      -------------MONTH--------------
 PRODUCT    DISTRICT    Jan96      Feb96      Mar96
---------- ---------- ---------- ---------- ----------
Canoes     Boston         70,489     82,238     97,622
Sportswear Boston         57,079     63,122     67,006
Canoes     Chicago        48,662     54,425     68,816
Sportswear Chicago        77,490     85,879     85,308
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1010007"></a>
<div id="OLADM895" class="refsect1">
<h2 class="refsect1">RESYNC</h2>
<p><a id="sthref4911"></a>When an analytic workspace is attached in multiwriter mode, the RESYNC command drops private changes for the specified read-only objects and retrieves the data from the latest visible generations.</p>
<p>RESYNC resynthesized read-only objects. Use ACQUIRE to resynchronize acquired objects</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
<a href="dml_commands_1.htm#BGEGDACB">&#34;Managing Analytic Workspaces Attached in Multiwriter Mode&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4912"></a>Syntax</p>
<p class="synopsis">RESYNC <span class="italic">objects</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4913"></a>Parameters</p>
<dl>
<dt><span class="italic">objects</span></dt>
<dd>
<p>A list of one or more variables, relations, valuesets, or dimension names, separated by commas, that you want to resynchronize. Oracle OLAP ignores any acquired objects in this list.</p>
<p>Use <code dir="ltr">Name</code> as a value in <span class="italic">objects</span> to specify that you want to resynchronize the newest objects defined by other users.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4914"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2712"></a>Keeping Logical Relationship of Objects</p>
<p>When using RESYNC keep in mind the logical relationship of different objects to avoid losing the logical consistency of the data by promoting some objects, but not others to a new generation.</p>
<p class="subhead2"><a id="OLADM2713"></a>Resynchronizing Objects that Share a Composite Dimension</p>
<p>Objects that share a composite dimension can be resynchronized separately when all such objects that are <span class="italic">not</span> being resynchronized are either unchanged or acquired.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4915"></a>Examples</p>
<div id="OLADM2714" class="example">
<p class="titleinexample"><a id="sthref4916"></a>Example 10-105 Resynchronizing Objects</p>
<p>In this example, user A is periodically updating <code dir="ltr">actuals</code>, while user R needs to periodically check the latest view of the data. They could execute the following OLAP DML statements.</p>
<p>User A could execute the following OLAP DML statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE actuals
...make modifications
UPDATE MULTI actuals
COMMIT
...make modification
UPDATE MULTI actuals
COMMIT
</pre>
<p>At the same time, user R could execute the following OLAP DML statements.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
...
RESYNC actuals
...
RESYNC actuals
...
RESYNC actuals
...
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79191"></a>
<div id="OLADM896" class="refsect1">
<h2 class="refsect1">RETURN</h2>
<p><a id="sthref4917"></a><a id="sthref4918"></a><a id="sthref4919"></a><a id="sthref4920"></a><a id="sthref4921"></a>Within an OLAP DML program, the RETURN command terminates execution of a program before its last line. You can optionally specify a value that the program returns when the program is called as a function. The value should have the same data type or dimension that you specified when you defined the program.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_program.htm#i1020197">&#34;Creating User-Defined Functions&#34;</a> and the <a href="dml_commands_1.htm#i79082">ARGUMENT</a>, <a href="dml_commands_1.htm#i79175">CALL</a>, <a href="dml_commands_1.htm#i78513">DEFINE PROGRAM</a> commands</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4922"></a>Syntax</p>
<p class="synopsis">RETURN&nbsp;[<span class="italic">expression</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4923"></a>Parameters</p>
<dl>
<dt><span class="italic">expression</span></dt>
<dd>
<p>The expression to be returned to the calling program when the called program terminates.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4924"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2715"></a>Return Value Dimensionality</p>
<p>The value returned by a program is a single value, without any dimensions. However, within the context of the statement that calls a user-defined function, the function expression has the dimensions of its arguments. In this case, the program is called once for every combination of the dimension values of the function expression.</p>
<p class="subhead2"><a id="OLADM2716"></a>Return Value Data Type</p>
<p>When you specify a data type when you define a program, the return value has that data type. When you specify a dimension when you define a program, the return value is a single value in that dimension. When the expression in a RETURN statement does not match the declared data type or dimension, Oracle OLAP converts it to the declared data type.</p>
<p>When you do not specify a data type or dimension in the definition of a program, its return value is treated as worksheet data and Oracle OLAP converts any return value to the data type that is required by the calling context which may lead to unexpected results.</p>
<p class="subhead2"><a id="OLADM2717"></a>Dimension Location</p>
<p>When the program returns values of a dimension, the dimension must be declared in the same analytic workspace as the program. The program is in the output of the LISTBY program, and OBJ(ISBY) is <code dir="ltr">TRUE</code> for the dimension.</p>
<p class="subhead2"><a id="OLADM2718"></a>No Return Value</p>
<p>When a program has been invoked as a function, but it does not provide a return value, the value that is returned to the calling program is <code dir="ltr">NA</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4925"></a>Examples</p>
<div id="OLADM2719" class="example">
<p class="titleinexample"><a id="sthref4926"></a>Example 10-106 Terminating a Program Early</p>
<p>In this example, suppose you want a report program that produces a report only when a variable called <code dir="ltr">newfigures</code> is present in the current analytic workspace. In your program, you can use an IF statement to check whether <code dir="ltr">newfigures</code> exists and a RETURN to stop execution when it does not.</p>
<pre dir="ltr">DEFINE sales.report PROGRAM
PROGRAM
IF NOT EXISTS(&#39;newfigures&#39;)
   THEN DO
          SHOW &#39;The new data is not yet available.&#39;
          RETURN
        DOEND
PUSH month
TRAP ON cleanup
LIMIT month TO LAST 3
REPORT ACROSS month: newfigures
 
cleanup:
POP month
END
</pre>
<p>Now when you run the program without <code dir="ltr">newfigures</code> in the analytic workspace, the program produces a message and the RETURN statement terminates execution of the program at that point.</p>
</div>
<!-- class="example" -->
<div id="OLADM2720" class="example">
<p class="titleinexample"><a id="sthref4927"></a>Example 10-107 Returning a Value</p>
<p>The following program derives next year&#39;s budget figures from the <code dir="ltr">actual</code> variable. It is a temporary calculation. You could call this program in a REPORT statement, thus calculating and reporting the budget figures without storing them in an analytic workspace.</p>
<pre dir="ltr">DEFINE budget.growth PROGRAM DECIMAL
PROGRAM
VARIABLE growth DECIMAL
VARIABLE factor DECIMAL
growth = TOTAL(actual(year &#39;Yr97&#39;) year) - TOTAL(actual(year -
   &#39;Yr96&#39;) year)
factor = ( 1 + growth ) / TOTAL(actual(year &#39;Yr96&#39;) year)
RETURN TOTAL(actual(year &#39;Yr97&#39;) year) * (factor * factor/2)
END
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1010016"></a>
<div id="OLADM897" class="refsect1">
<h2 class="refsect1">REVERT</h2>
<p><a id="sthref4928"></a><a id="sthref4929"></a><a id="sthref4930"></a><a id="sthref4931"></a><a id="sthref4932"></a>The REVERT command drops all changes made to the specified objects since they were last updated, resynchronized (using a RESYNC statement), acquired using ACQUIRE with the RESYNC phrase, or since the analytic workspace was attached.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
<a href="dml_commands_1.htm#BGEGDACB">&#34;Managing Analytic Workspaces Attached in Multiwriter Mode&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4933"></a>Syntax</p>
<p class="synopsis">REVERT <span class="italic">objects</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4934"></a>Parameters</p>
<dl>
<dt><span class="italic">objects</span></dt>
<dd>
<p>A list of the names, separated by commas, of acquired variables, valuesets, relations, or dimensions in an analytic workspace attached in multiwriter mode or a list of variables, valuesets, relations, or dimensions in an analytic workspace attached in read-only mode.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4935"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2721"></a>Reverting a Dimension After Adding Dimension Values</p>
<p>Reverting a dimension after adding dimension values is not recommended because it can result in suboptimal space allocation for variables dimensioned by that dimension.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4936"></a>Examples</p>
<div id="OLADM2722" class="example">
<p class="titleinexample"><a id="sthref4937"></a>Example 10-108 Using REVERT to Undo Modifications</p>
<p>Assume that you have a variable named <code dir="ltr">budget</code> in an analytic workspace named <code dir="ltr">myworkspace</code>. Assume, also, that you must modify <code dir="ltr">budge</code>t in several steps but do not want to update the analytic workspace data until all steps are completed. For each step, you want to run several models to find the one that produces desired results. To perform this task, take the following steps:</p>
<ol>
<li>
<p>Attach the analytic workspace in multiwriter mode.</p>
</li>
<li>
<p>Acquire <code dir="ltr">budget</code>.</p>
</li>
<li>
<p>For each step:</p>
<ol>
<li>
<p>Run the appropriate models, performing revert operations between them until you finds the desired model</p>
</li>
<li>
<p>Update <code dir="ltr">budget</code>.</p>
</li>
</ol>
</li>
<li>
<p>Commit and release <code dir="ltr">budget</code>.</p>
</li>
</ol>
<p>The following code accomplishes these tasks.</p>
<pre dir="ltr">AW ATTACH myworkspace MULTI
ACQUIRE RESYNC budget
...try model 1a --&gt; not acceptable
REVERT budget
...try model 1b --&gt; ok. Done with Step 1
UPDATE MULTI budget
...try model 2a --&gt; not acceptable
REVERT budget
...try model 2b --&gt; not acceptable
REVERT budget
...try model 2c --&gt; ok. Done with Step 2
UPDATE MULTI budget
...try model 3a --&gt; ok. Done with Step 3. Done with all steps.
UPDATE MULTI budget
COMMIT
RELEASE budget
AW DETACH myworkspace
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79216"></a>
<div id="OLADM898" class="refsect1">
<h2 class="refsect1">ROW command</h2>
<p><a id="sthref4938"></a><a id="sthref4939"></a><a id="sthref4940"></a><a id="sthref4941"></a><a id="sthref4942"></a><a id="sthref4943"></a>The ROW command produces a single line of data in cells, one after another in a single row. A series of ROW commands that produce corresponding cells are often used to build up columns of data. For this reason, we normally speak of the ROW command as producing a line of columns. Output from the ROW command is sent to the current outfile.</p>
<p>The ROW command is typically used with other commands, functions, and options that you can think of collectively as <span class="italic">report-writing</span> statements</p>
<p>The ROW command itself consists of a series of column descriptions that specify the data to be produced and, optionally, the output format of the data.</p>
<p>In addition, ROW has a versatile capability for doing row and column arithmetic. It can perform calculations and include the calculation results in the output. It can use any kind of calculated expression in the column descriptions; and it can take advantage of row and column totaling functions (see <a href="#g1018061">Table 10-6, &#34;Row and Column Arithmetic&#34;</a>).</p>
<p>ROW is primarily used in report programs to produce the lines of the report. The maximum width of any row in a report is 4,000 characters.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
When you know ahead of time that you do not need the subtotaling capability of the ROW command, using a HEADING statement instead of ROW to produce the lines of your report can provide a time savings, because, in this case, Oracle OLAP does not keep track of subtotals.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_functions_2.htm#i79221">ROW function</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4944"></a>Syntax</p>
<p class="synopsis">ROW&nbsp;[<span class="italic">attributes</span>]&nbsp;[ACROSS&nbsp;<span class="italic">dimension&nbsp;</span>[<span class="italic">limit-clause</span>]:]&nbsp;{<span class="italic">exp1</span>|SKIP&nbsp;}&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="italic">attributes</span>]&nbsp;[ACROSS&nbsp;<span class="italic">dimension&nbsp;</span>[<span class="italic">limit-clause</span>]:]&nbsp;{<span class="italic">expn</span>|SKIP&nbsp;}]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4945"></a>Parameters</p>
<p>ROW with no arguments produces a blank line.</p>
<dl>
<dt><span class="italic">attributes</span></dt>
<dd>
<p>One or more attributes for a column. Attributes are format specifications that determine how the data value is formatted within the column. There is no limit to the number of attributes that you can use to describe a column format. (See <a href="#i1012189">Table 10-5, &#34;Column Attributes for ROW&#34;</a> for an explanation of each of the available attributes.) The default for some format attributes is determined by the current setting of Oracle OLAP options (see <a href="#g1017902">Table 10-7, &#34;Report-Related Options&#34;</a> for a list of these options).</p>
</dd>
<dt>ACROSS</dt>
<dd>
<p>An ACROSS phrase lets you include multiple values of a dimensioned expression in a single row by looping over one dimension (or composite) of the expression. Typically, ROW shows only the value that corresponds to the first dimension value within the current limits. With an ACROSS phrase, ROW produces one data column for each dimension value currently in the status.</p>
<p>You can apply a single ACROSS phrase to multiple data expressions, or you can use separate ACROSS phrases for different data expressions. See <a href="#i81608">&#34;Multiple Expressions&#34;</a> and <a href="#i81617">&#34;Separate ACROSS Phrases&#34;</a>.</p>
</dd>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of a dimension or composite over which the statement loops.</p>
<p>When you show data for a variable dimensioned by a composite and you do not include an ACROSS phrase, ROW shows output for all data cells that correspond to the base dimension values of the composite. When a particular combination of base dimension values does not exist in the composite, ROW shows <code dir="ltr">NA</code> for the corresponding data cell. Likewise, when you specify one composite&#39;s base dimension in an ACROSS phrase, ROW shows <code dir="ltr">NA</code> for a data cell for which the composite contains no value. However, when you specify a composite in the ACROSS phrase, ROW shows output only for data cells for which combinations of base dimension values exist in the composite which provides a more concise report that better reflects your data.</p>
<p>When the dimension specified in an ACROSS phrase has null status, ROW does not produce any data columns for that ACROSS phrase.</p>
</dd>
<dt><span class="italic">limit-clause</span></dt>
<dd>
<p>When you specify a dimension in the ACROSS phrase, a clause that enables you to temporarily change the status of that dimension during the execution of the ROW statement.</p>
<p>The syntax of <span class="italic">limit-clause</span> is the same syntax as any of the <span class="italic">limit-clause</span> arguments in the various forms of the LIMIT command (that is, the syntax of the LIMIT command after the <span class="italic">limit-type</span> argument such as &#34;TO&#34;). For the syntax of these arguments, see <a href="#i1019733">LIMIT (using values) command</a>, <a href="#i1019738">LIMIT using LEVELREL command</a>, <a href="#i1019742">LIMIT (using parent relation)</a>, <a href="#i1019747">LIMIT (using related dimension) command</a>, <a href="#i1019753">LIMIT NOCONVERT command</a>, and <a href="#i1019757">LIMIT command (using POSLIST)</a>.</p>
<p>The following example temporarily limits month to the last six values, no matter what the current status of month is.</p>
<pre dir="ltr">      ACROSS month LAST 6: units
</pre>
<p>When the limits you specify result in empty status for the dimension, an error occurs. However, when you include the phrase IFNONE <span class="italic">label,</span> the error is suppressed and execution of your program branches to the specified label where you can handle the error.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you specify a composite in the ACROSS phrase, you cannot include a <span class="italic">limit-clause</span> argument. You must limit the base dimensions of a composite to the desired values using a LIMIT command before you execute a ROW statement</div>
</dd>
<dt>SKIP</dt>
<dd>
<p>Used instead of an expression to indicate that the column is to be left blank.</p>
<div id="OLADM2723" class="tblruleformal">
<p class="titleintable"><a id="sthref4946"></a><a id="sthref4947"></a>Table 10-5 <a id="i1012189"></a><span class="bolditalic">Column Attributes for ROW</span></p>
<table class="cellalignment3615" title="Column Attributes for ROW" summary="This table describes the attributes that you can specify for a column in the ROW command." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t94">Attribute</th>
<th class="cellalignment3616" id="r1c2-t94">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t94" headers="r1c1-t94">
<p>WIDTH <span class="italic">n</span></p>
<p>(W <span class="italic">n</span>)</p>
</td>
<td class="cellalignment3617" headers="r2c1-t94 r1c2-t94">
<p>Makes the column <span class="italic">n</span> spaces wide. The default width for the first column is the value of the LCOLWIDTH option. For other columns, it is the value of the COLWIDTH option. The maximum width is 4,000 characters. Columns with a width of <code dir="ltr">0</code> are suppressed.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t94" headers="r1c1-t94">
<p>SPACE <span class="italic">n</span></p>
<p>(SP <span class="italic">n</span>)</p>
</td>
<td class="cellalignment3617" headers="r3c1-t94 r1c2-t94">
<p>Precedes the column with <span class="italic">n</span> spaces. The default for the first column is <code dir="ltr">0</code>; for other columns, <code dir="ltr">1</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t94" headers="r1c1-t94">
<p>INDENT <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r4c1-t94 r1c2-t94">
<p>Indents the value <span class="italic">n</span> spaces within its column. The default is 0.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t94" headers="r1c1-t94">
<p>LEFT</p>
<p>(L)</p>
</td>
<td class="cellalignment3617" headers="r5c1-t94 r1c2-t94">
<p>Left-justifies the value within its column. (The default for TEXT data.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t94" headers="r1c1-t94">
<p>RIGHT</p>
<p>(R)</p>
</td>
<td class="cellalignment3617" headers="r6c1-t94 r1c2-t94">
<p>Right-justifies the value within its column. (The default for numeric and Boolean data.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t94" headers="r1c1-t94">
<p>CENTER</p>
<p>(C)</p>
</td>
<td class="cellalignment3617" headers="r7c1-t94 r1c2-t94">
<p>Centers the value within its column.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t94" headers="r1c1-t94">
<p>LSET <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r8c1-t94 r1c2-t94">
<p>Adds <span class="italic">text</span> to the left of the value. When used with an expression that contains <code dir="ltr">NA</code> values, Oracle OLAP does not include the text you specify at the left of any <code dir="ltr">NA</code> values.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t94" headers="r1c1-t94">
<p><span class="underline">NOLSET</span></p>
</td>
<td class="cellalignment3617" headers="r9c1-t94 r1c2-t94">
<p>Does not add anything to the left of the value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r10c1-t94" headers="r1c1-t94">
<p>RSET <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r10c1-t94 r1c2-t94">
<p>Adds <span class="italic">text</span> to the right of the value. When used with an expression that contains <code dir="ltr">NA</code> values, Oracle OLAP does not include the text you specify at the right of any <code dir="ltr">NA</code> values</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r11c1-t94" headers="r1c1-t94">
<p><span class="underline">NORSET</span></p>
</td>
<td class="cellalignment3617" headers="r11c1-t94 r1c2-t94">
<p>Does not add anything to the right of the value.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r12c1-t94" headers="r1c1-t94">
<p>FILL <span class="italic">&#39;char&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r12c1-t94 r1c2-t94">
<p>Puts <span class="italic">char</span> into unused positions in the column. The default fill character is a space.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r13c1-t94" headers="r1c1-t94">
<p>DECIMAL <span class="italic">n</span></p>
<p>(D <span class="italic">n</span>)</p>
</td>
<td class="cellalignment3617" headers="r13c1-t94 r1c2-t94">
<p>Shows <span class="italic">n</span> decimal places. Decimal places are separated by the character currently specified by the DECIMALCHAR option. The default number of decimal places is controlled by the DECIMALS option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r14c1-t94" headers="r1c1-t94">
<p><span class="underline">NODECIMAL</span></p>
</td>
<td class="cellalignment3617" headers="r14c1-t94 r1c2-t94">
<p>Shows the number of decimal places indicated by the DECIMALS option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r15c1-t94" headers="r1c1-t94">
<p>COMMA</p>
</td>
<td class="cellalignment3617" headers="r15c1-t94 r1c2-t94">
<p>Marks thousands and millions with commas or the character currently recorded in the THOUSANDSCHAR option. The default is controlled by the COMMAS option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r16c1-t94" headers="r1c1-t94">
<p>NOCOMMA</p>
</td>
<td class="cellalignment3617" headers="r16c1-t94 r1c2-t94">
<p>Does not mark thousands and millions.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r17c1-t94" headers="r1c1-t94">
<p>PAREN</p>
</td>
<td class="cellalignment3617" headers="r17c1-t94 r1c2-t94">
<p>Uses parentheses to indicate negative numbers. The default is controlled by the PARENS option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r18c1-t94" headers="r1c1-t94">
<p>NOPAREN</p>
</td>
<td class="cellalignment3617" headers="r18c1-t94 r1c2-t94">
<p>Uses the minus sign to indicate negative numbers. The default is controlled by the PARENS option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r19c1-t94" headers="r1c1-t94">
<p>LEADINGZERO</p>
</td>
<td class="cellalignment3617" headers="r19c1-t94 r1c2-t94">
<p>Puts a leading zero before decimal numbers between <code dir="ltr">-1</code> and&nbsp;<code dir="ltr">1</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r20c1-t94" headers="r1c1-t94">
<p>NOLEADINGZERO</p>
</td>
<td class="cellalignment3617" headers="r20c1-t94 r1c2-t94">
<p>Suppresses leading zeros before decimal numbers between <code dir="ltr">-1</code> and&nbsp;<code dir="ltr">1</code>. (Note that when you set the DECIMAL attribute to <code dir="ltr">0</code> and you use the NOLEADINGZERO keyword, Oracle OLAP does not show any decimal values between <code dir="ltr">-1</code> and <code dir="ltr">1</code> that are rounded to 0.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r21c1-t94" headers="r1c1-t94">
<p><span class="underline">CNLEADINGZERO</span></p>
</td>
<td class="cellalignment3617" headers="r21c1-t94 r1c2-t94">
<p>Puts a leading zero before decimal numbers between <code dir="ltr">-1</code> and 1 when it does not cut off any significant digits.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r22c1-t94" headers="r1c1-t94">
<p>MNOTATION</p>
</td>
<td class="cellalignment3617" headers="r22c1-t94 r1c2-t94">
<p>Always uses M-notation (divides values by one million and appends <code dir="ltr">M</code>).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r23c1-t94" headers="r1c1-t94">
<p><span class="underline">CMNOTATION</span></p>
</td>
<td class="cellalignment3617" headers="r23c1-t94 r1c2-t94">
<p>Conditionally uses M-notation, when needed to make a value fit in a column.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r24c1-t94" headers="r1c1-t94">
<p>NOMNOTATION</p>
</td>
<td class="cellalignment3617" headers="r24c1-t94 r1c2-t94">
<p>Does not use M-notation (uses asterisks for oversize values).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r25c1-t94" headers="r1c1-t94">
<p>MDECIMAL <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r25c1-t94 r1c2-t94">
<p>Shows <span class="italic">n</span> decimal places in numbers formatted with M-notation; <span class="italic">n</span> can be any number from 0 to 16, or 255.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r26c1-t94" headers="r1c1-t94">
<p>ENOTATION</p>
</td>
<td class="cellalignment3617" headers="r26c1-t94 r1c2-t94">
<p>Always uses scientific notation, also called exponential notation or E-notation (appends <code dir="ltr">E</code>, and includes a sign before the exponent, for example, <code dir="ltr">.230E+2</code> or <code dir="ltr">.230E-2</code>).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r27c1-t94" headers="r1c1-t94">
<p>CENOTATION</p>
</td>
<td class="cellalignment3617" headers="r27c1-t94 r1c2-t94">
<p>Conditionally uses E-notation, when needed to make a value fit in a column.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r28c1-t94" headers="r1c1-t94">
<p>NOENOTATION</p>
</td>
<td class="cellalignment3617" headers="r28c1-t94 r1c2-t94">
<p>Does not use E-notation (defaults to conditional M-notation).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r29c1-t94" headers="r1c1-t94">
<p>EDECIMAL <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r29c1-t94 r1c2-t94">
<p>Shows <span class="italic">n</span> decimal places in numbers formatted with E-notation; <span class="italic">n</span> can be any number from 0 to 16, or 255.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r30c1-t94" headers="r1c1-t94">
<p>NASPELL <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r30c1-t94 r1c2-t94">
<p>Uses <span class="italic">text</span> instead of <code dir="ltr">NA</code> values. The default is controlled by the NASPELL option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r31c1-t94" headers="r1c1-t94">
<p><span class="underline">NONASPELL</span></p>
</td>
<td class="cellalignment3617" headers="r31c1-t94 r1c2-t94">
<p>Spells <code dir="ltr">NA</code> values as indicated by the NASPELL option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r32c1-t94" headers="r1c1-t94">
<p>ZSPELL <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r32c1-t94 r1c2-t94">
<p>Uses <span class="italic">text</span> instead of zero numeric values. The default is controlled by the ZSPELL option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r33c1-t94" headers="r1c1-t94">
<p><span class="underline">NOZSPELL</span></p>
</td>
<td class="cellalignment3617" headers="r33c1-t94 r1c2-t94">
<p>Spells zero values as indicated by the ZSPELL option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r34c1-t94" headers="r1c1-t94">
<p>YESSPELL <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r34c1-t94 r1c2-t94">
<p>Text used for <code dir="ltr">TRUE</code> Boolean values. The default is recorded in the YESSPELL option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r35c1-t94" headers="r1c1-t94">
<p>NOSPELL <span class="italic">&#39;text&#39;</span></p>
</td>
<td class="cellalignment3617" headers="r35c1-t94 r1c2-t94">
<p>Text used for <code dir="ltr">FALSE</code> Boolean values. The default is recorded in the NOSPELL option.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r36c1-t94" headers="r1c1-t94">
<p>TRUNCATE</p>
<p>(TRUNC)</p>
</td>
<td class="cellalignment3617" headers="r36c1-t94 r1c2-t94">
<p>Truncates a character value to the column width when it does not fit in the column.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r37c1-t94" headers="r1c1-t94">
<p><span class="underline">NOTRUNCATE</span></p>
<p><span class="underline">(NOTRUNC)</span></p>
</td>
<td class="cellalignment3617" headers="r37c1-t94 r1c2-t94">
<p>Creates additional lines when the character value does not fit in the column.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r38c1-t94" headers="r1c1-t94">
<p>FOLDUP</p>
</td>
<td class="cellalignment3617" headers="r38c1-t94 r1c2-t94">
<p>For a multiline character value, places all but the last line above the rest of the row, and the last line on the row with the other values; also strips any leading or trailing spaces.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r39c1-t94" headers="r1c1-t94">
<p><span class="underline">FOLDDOWN</span></p>
</td>
<td class="cellalignment3617" headers="r39c1-t94 r1c2-t94">
<p>For a multiline character value, places the first line on the row with the other values, and places additional lines below the rest of the row; also strips any leading or trailing spaces.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r40c1-t94" headers="r1c1-t94">
<p>VALONLY</p>
</td>
<td class="cellalignment3617" headers="r40c1-t94 r1c2-t94">
<p>Underlines or overlines the value only. (Used with UNDER and OVER.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r41c1-t94" headers="r1c1-t94">
<p><span class="underline">NOVALONLY</span></p>
</td>
<td class="cellalignment3617" headers="r41c1-t94 r1c2-t94">
<p>Underlines or overlines the entire width of the column. (Used with UNDER and OVER.)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r42c1-t94" headers="r1c1-t94">
<p>UNDER <span class="italic">textexp</span></p>
</td>
<td class="cellalignment3617" headers="r42c1-t94 r1c2-t94">
<p>Underlines the value or column with the value of a character expression (<span class="italic">textexp</span>). When <span class="italic">textexp</span> is a literal value, it must be enclosed in single quotes. Useful literal values include: <code dir="ltr">&#39;-&#39;</code> to underline value or column, <code dir="ltr">&#39;=&#39;</code> to double underline value or column, and <code dir="ltr">&#39;&#39;</code> to indicate that a value or column is not underlined.</p>
<p>To underline only when a condition is met, for <span class="italic">textexp</span> use</p>
<p><code dir="ltr">IF</code> <code dir="ltr"><span class="codeinlineitalic">boolean-expression</span></code> <code dir="ltr">THEN &#39;-&#39; ELSE &#39;&#39;</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r43c1-t94" headers="r1c1-t94">
<p>OVER <span class="italic">textexp</span></p>
</td>
<td class="cellalignment3617" headers="r43c1-t94 r1c2-t94">
<p>Overlines the value or column with the value of a character expression (<span class="italic">textexp</span>). When <span class="italic">textexp</span> is a literal value, it must be enclosed in single quotes. Useful literal values include: <code dir="ltr">&#39;-&#39;</code> to overline value or column, <code dir="ltr">&#39;=&#39;</code> to double overline value or column, and <code dir="ltr">&#39;&#39;</code> to indicate that a value or column is does not have an overline</p>
<p>To overline only when a condition is met, for <span class="italic">textexp</span> use</p>
<p><code dir="ltr">IF</code> <code dir="ltr"><span class="codeinlineitalic">boolean-expression</span></code> <code dir="ltr">THEN &#39;-&#39; ELSE &#39;&#39;</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<p>Use the functions that are listed in <a href="#g1018061">Table 10-6, &#34;Row and Column Arithmetic&#34;</a> to perform calculations on the values generated so far in a report.</p>
<div id="OLADM2724" class="tblformal">
<p class="titleintable"><a id="sthref4948"></a><a id="g1018061"></a>Table 10-6 Row and Column Arithmetic</p>
<table class="cellalignment3618" title="Row and Column Arithmetic" summary="This table describes the functions that you can use to perform calculates on the values generated in a report." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t95">Function</th>
<th class="cellalignment3616" id="r1c2-t95">Data Type</th>
<th class="cellalignment3616" id="r1c3-t95">Value Returned</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t95" headers="r1c1-t95">
<p>COLVAL(<span class="italic">n</span>)</p>
</td>
<td class="cellalignment3617" headers="r2c1-t95 r1c2-t95">
<p>DECIMAL</p>
</td>
<td class="cellalignment3617" headers="r2c1-t95 r1c3-t95">
<p>Value in the nth column of the current row. When <span class="italic">n&nbsp;</span>&gt;&nbsp;<code dir="ltr">0</code>, an absolute column number (from the left margin, moving to the right). When <span class="italic">n</span> &lt; <code dir="ltr">0</code>, a relative column number (from the current column, moving left).</p>
<p>&nbsp;</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t95" headers="r1c1-t95">
<p>RUNTOTAL(<span class="italic">n</span>)</p>
<p>where:</p>
<p><span class="italic">n</span> = 1,2, ...32</p>
</td>
<td class="cellalignment3617" headers="r3c1-t95 r1c2-t95">
<p>DECIMAL</p>
</td>
<td class="cellalignment3617" headers="r3c1-t95 r1c3-t95">
<p>Total of all numbers generated in the current column since the last SUBTOTAL or ZEROTOTAL for <span class="italic">n.</span> Does not reset total for <span class="italic">n</span>&nbsp;to&nbsp;<code dir="ltr">0</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t95" headers="r1c1-t95">
<p>SUBTOTAL(<span class="italic">n</span>)</p>
<p>where:</p>
<p><span class="italic">n</span> = 1,2, ...32</p>
</td>
<td class="cellalignment3617" headers="r4c1-t95 r1c2-t95">
<p>DECIMAL</p>
</td>
<td class="cellalignment3617" headers="r4c1-t95 r1c3-t95">
<p>Total of all numbers generated in the current column since the last SUBTOTAL or ZEROTOTAL for <span class="italic">n.</span> Resets total for <span class="italic">n</span> to <code dir="ltr">0</code>.</p>
<p>&nbsp;</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>The options that are listed in <a href="#g1017902">Table 10-7, &#34;Report-Related Options&#34;</a> affect the default format for a ROW command.</p>
<div id="OLADM2725" class="tblruleformal">
<p class="titleintable"><a id="sthref4949"></a><a id="g1017902"></a>Table 10-7 Report-Related Options</p>
<table class="cellalignment3615" title="Report-Related Options" summary="This table describes the options that you can set that affect the default format for a ROW command." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t96">Option</th>
<th class="cellalignment3616" id="r1c2-t96">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t96" headers="r1c1-t96">
<p>COLWIDTH</p>
</td>
<td class="cellalignment3617" headers="r2c1-t96 r1c2-t96">
<p>Column width for all but the first column when the WIDTH attribute is not used. The default is <code dir="ltr">10</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t96" headers="r1c1-t96">
<p>COMMAS</p>
</td>
<td class="cellalignment3617" headers="r3c1-t96 r1c2-t96">
<p>Specifies whether a thousands group separator is used when neither the COMMA attribute nor the NOCOMMA attribute is used. The default is <code dir="ltr">YES</code> (uses a separator).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t96" headers="r1c1-t96">
<p>DECIMALS</p>
</td>
<td class="cellalignment3617" headers="r4c1-t96 r1c2-t96">
<p>Number of decimal places when the DECIMAL attribute is not used. The default is <code dir="ltr">2</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t96" headers="r1c1-t96">
<p>LCOLWIDTH</p>
</td>
<td class="cellalignment3617" headers="r5c1-t96 r1c2-t96">
<p>Column width for the first column when the WIDTH attribute is not used. The default is <code dir="ltr">14</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t96" headers="r1c1-t96">
<p>LSIZE</p>
</td>
<td class="cellalignment3617" headers="r6c1-t96 r1c2-t96">
<p>Defines the line size within which the STDHDR program centers the standard header. The default is <code dir="ltr">80</code> characters.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t96" headers="r1c1-t96">
<p>NASPELL</p>
</td>
<td class="cellalignment3617" headers="r7c1-t96 r1c2-t96">
<p>Text used for <code dir="ltr">NA</code> values when the NASPELL attribute is not used. The default text is <code dir="ltr">NA</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t96" headers="r1c1-t96">
<p>NLS_LANGUAGE</p>
</td>
<td class="cellalignment3617" headers="r8c1-t96 r1c2-t96">
<p>Specifies the text used for <code dir="ltr">TRUE</code> and <code dir="ltr">FALSE</code> Boolean values. These values are reflected in the YESSPELL and NOSPELL options.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t96" headers="r1c1-t96">
<p>NLS_TERRITORY</p>
</td>
<td class="cellalignment3617" headers="r9c1-t96 r1c2-t96">
<p>Specifies the character used for the decimal marker and the thousands group separator. These values are reflected in the DECIMALCHAR and THOUSANDSCHAR options.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r10c1-t96" headers="r1c1-t96">
<p>PARENS</p>
</td>
<td class="cellalignment3617" headers="r10c1-t96 r1c2-t96">
<p>Parentheses usage for negative numbers when neither the PAREN attribute nor the NOPAREN attribute is used. The default is <code dir="ltr">NO</code> (does not use parentheses; uses a minus sign).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r11c1-t96" headers="r1c1-t96">
<p>ZEROROW</p>
</td>
<td class="cellalignment3617" headers="r11c1-t96 r1c2-t96">
<p>Controls generation or suppression of rows in which all numeric values are zero. The default is <code dir="ltr">NO</code> (generates zero rows).</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r12c1-t96" headers="r1c1-t96">
<p>ZSPELL</p>
</td>
<td class="cellalignment3617" headers="r12c1-t96 r1c2-t96">
<p>Text used for zero values when the ZSPELL attribute is not used. The default text is <code dir="ltr">OFF</code>, which shows a zero (<code dir="ltr">0</code>).&nbsp;</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<p>Use the statements that are listed in <a href="#g1017942">Table 10-8, &#34;OLAP DML Statements That Are Compatible with the ROW Command&#34;</a> with the ROW command.</p>
<div id="OLADM2726" class="tblruleformal">
<p class="titleintable"><a id="sthref4950"></a><a id="g1017942"></a>Table 10-8 OLAP DML Statements That Are Compatible with the ROW Command</p>
<table class="cellalignment3615" title="OLAP DML Statements That Are Compatible with the ROW Command" summary="This table outlines the OLAP DML statements that are compatible with the ROW command." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t97">Command</th>
<th class="cellalignment3616" id="r1c2-t97">Action</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t97" headers="r1c1-t97">
<p>BLANK <span class="italic">n</span></p>
</td>
<td class="cellalignment3617" headers="r2c1-t97 r1c2-t97">
<p>Produces <span class="italic">n</span> blank lines. The default is one line.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t97" headers="r1c1-t97">
<p>HEADING column-</p>
<p>description(s)</p>
</td>
<td class="cellalignment3617" headers="r3c1-t97 r1c2-t97">
<p>Produces titles and column headings for a report. Numeric values in headings are not added to column totals.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t97" headers="r1c1-t97">
<p>PAGE</p>
</td>
<td class="cellalignment3617" headers="r4c1-t97 r1c2-t97">
<p>Forces a page break in output when PAGING is set to <code dir="ltr">YES</code>.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t97" headers="r1c1-t97">
<p>ZEROTOTAL</p>
</td>
<td class="cellalignment3617" headers="r5c1-t97 r1c2-t97">
<p>Resets all 32 totals to <code dir="ltr">0</code> for all columns.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t97" headers="r1c1-t97">
<p>ZEROTOTAL ALL <span class="italic">col(s)</span></p>
</td>
<td class="cellalignment3617" headers="r6c1-t97 r1c2-t97">
<p>Resets all 32 totals to <code dir="ltr">0</code> for the specified columns, or for all columns when there are no column arguments.</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t97" headers="r1c1-t97">
<p>ZEROTOTAL <span class="italic">n col(s)</span></p>
</td>
<td class="cellalignment3617" headers="r7c1-t97 r1c2-t97">
<p>Resets the indicated total (<span class="italic">n</span>) to <code dir="ltr">0</code> for the specified columns, or for all columns when there are no column arguments.&nbsp;</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" --></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4951"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2727"></a>Report-Writing Commands</p>
<p>The ROW command and its associated options and commands are referred to collectively as <span class="italic">report-writing</span> statements<span class="italic">.</span> <a href="#g1018061">Table 10-6, &#34;Row and Column Arithmetic&#34;</a> lists functions you can use for performing row and column arithmetic in reports. <a href="#g1017902">Table 10-7, &#34;Report-Related Options&#34;</a> lists report-related options that determine the default format for ROW output. <a href="#g1017942">Table 10-8, &#34;OLAP DML Statements That Are Compatible with the ROW Command&#34;</a> lists additional statements that are used in combination with ROW to create reports.You can use the PAGING option and associated paging-related options to produce your report program in a page-oriented format.</p>
<p class="subhead2"><a id="OLADM2728"></a>Labels for Composites and Conjoint Dimensions</p>
<p>When you produce a report of data that has a composite or a conjoint dimension in its dimension list, you can produce a label column for each base dimension by using the KEY function. You can also provide a separate WIDTH attribute for each label column. For example, when <code dir="ltr">proddist</code> is a composite with the base dimensions <code dir="ltr">product</code> and <code dir="ltr">district</code>, you can use statements similar to the following ones.</p>
<pre dir="ltr">FOR proddist
   ROW W 12 KEY(proddist district) W 8 KEY(proddist product) ...
</pre>
<p class="subhead2"><a id="i81608"></a><a id="OLADM2729"></a>Multiple Expressions</p>
<p>When you want the same format attribute or ACROSS phrase to apply to multiple data expressions, you can enclose the expressions in angle brackets (<code dir="ltr">&lt;</code> <code dir="ltr">&gt;</code>) and place the common attributes or ACROSS phrase immediately before the bracketed expressions.</p>
<p class="synopsis"><span class="italic">attributes</span>&nbsp;&lt;<span class="italic">expression1</span>,&nbsp;<span class="italic">expression2</span>,&nbsp;...&gt;&nbsp;</p>
<p><span class="bolditalic">or</span></p>
<p class="synopsis">ACROSS&nbsp;<span class="italic">dimension</span>:&nbsp;&lt;<span class="italic">expression1</span>,&nbsp;<span class="italic">expression2</span>,&nbsp;...&gt;</p>
<p>When you have attributes that apply to only one expression within the brackets, place the specific attributes immediately before the expression.</p>
<p class="synopsis"><span class="italic">attributes1</span>&nbsp;&lt;<span class="italic">expression1</span>,&nbsp;<span class="italic">attributes2</span>&nbsp;<span class="italic">expression2</span>&gt;</p>
<p>When an attribute inside angle brackets (specific to a column) conflicts with an attribute outside the brackets (common to several columns), the specific attribute overrides the common attribute.</p>
<p>You can nest brackets to any depth, if you have an equal number of right and left brackets.</p>
<p class="subhead2"><a id="i81617"></a><a id="OLADM2730"></a>Separate ACROSS Phrases</p>
<p>For data generated with an ACROSS phrase, you can produce all the columns for one expression and then all the columns for additional expressions by using separate ACROSS phrases.</p>
<p class="synopsis">ACROSS&nbsp;<span class="italic">dim</span>:&nbsp;<span class="italic">expression1</span>,&nbsp;ACROSS&nbsp;<span class="italic">dim</span>:&nbsp;<span class="italic">expression2</span></p>
<p>You also can nest ACROSS phrases to show data columns for two or more dimensions of an expression across a row.</p>
<p class="synopsis">ACROSS&nbsp;<span class="italic">dim1</span>:&nbsp;ACROSS&nbsp;<span class="italic">dim2</span>:&nbsp;<span class="italic">expression</span></p>
<p class="subhead2"><a id="OLADM2731"></a>Row and Column Arithmetic</p>
<p>See <a href="#g1018061">Table 10-6, &#34;Row and Column Arithmetic&#34;</a> for a list of the functions available for row and column arithmetic. You can use these functions to perform calculations on the values already generated in a report. Oracle OLAP maintains 32 running totals for each column, so you can include up to 32 levels of subtotals in a report. Note that when a numeric value is too large to fit into a data cell, ROW rounds it off to the nearest million with the symbol M at the right side of the cell. When a value is still too large, ROW replaces the value with asterisks.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4952"></a>Examples</p>
<div id="OLADM2732" class="example">
<p class="titleinexample"><a id="sthref4953"></a>Example 10-109 Labeling Data Values</p>
<p>In this example, ROW produces a line of output that contains a value of <code dir="ltr">sales</code>, along with the corresponding dimension values for <code dir="ltr">district</code>, <code dir="ltr">month</code>, and <code dir="ltr">product</code> that identify it.</p>
<pre dir="ltr">ROW W 8 district month product sales
</pre>
<p>The preceding statement produces the following row of output.</p>
<pre dir="ltr">Boston        Jan95      Tents  32,153.52
</pre></div>
<!-- class="example" -->
<div id="OLADM2733" class="example">
<p class="titleinexample"><a id="sthref4954"></a>Example 10-110 Reporting Two Variables</p>
<p>The line of output produced by this ROW statement contains the current dimension value of <code dir="ltr">district</code>, followed by the values of <code dir="ltr">sales</code> and <code dir="ltr">sales.plan</code> for Sportswear for each of the first two months of 1996.&nbsp;</p>
<pre dir="ltr">LIMIT month TO &#39;Jan96&#39; &#39;Feb96&#39;
LIMIT product TO &#39;Sportswear&#39;
ROW W 8 district ACROSS month: &lt;sales sales.plan&gt;
</pre>
<p>These statements produce the following row of output.</p>
<pre dir="ltr">Boston    57,079.10  61,434.20  63,121.50  64,006.91
</pre></div>
<!-- class="example" -->
<div id="OLADM2734" class="example">
<p class="titleinexample"><a id="sthref4955"></a>Example 10-111 Formatting and Labeling the Output</p>
<p>In this ROW statement, you want to see the actual and planned sales of tents for June 1996. You want to limit the status of <code dir="ltr">month</code> only for this one ROW statement, so you include the value <code dir="ltr">Jun96</code> in the ACROSS phrase. You format the values as whole dollar amounts, and you also add a dollar sign to the values, along with individual labels that identify the actual and planned figures.</p>
<pre dir="ltr">LIMIT product TO &#39;Tents&#39;
ROW WIDTH 15 name.product ACROSS month &#39;Jun96&#39;: -
   DECIMAL 0 LSET &#39;$&#39; W 18 -
   &lt;RSET &#39; (actual)&#39; sales -
   RSET &#39; (plan)&#39; sales.plan&gt;
</pre>
<p>These statements produce the following row of output.</p>
<pre dir="ltr">3-Person Tents    $95,121 (actual)     $80,138 (plan)
</pre></div>
<!-- class="example" -->
<div id="OLADM2735" class="example">
<p class="titleinexample"><a id="sthref4956"></a>Example 10-112 Reporting on a Variable Dimensioned by a Composite</p>
<p>In this example, D.SALES is a variable whose dimension list includes the dimension <code dir="ltr">month</code> and the unnamed composite <code dir="ltr">SPARSE</code> <code dir="ltr">&lt;product</code> <code dir="ltr">district&gt;</code>. By specifying the composite in an ACROSS phrase of a ROW statement, you can produce a report that includes only the data cells for which the composite contains values.</p>
<pre dir="ltr">LIMIT product TO ALL
LIMIT district TO &#39;Atlanta&#39;
LIMIT month TO &#39;Jan96&#39;
ROW ACROSS SPARSE &lt;product district&gt;: d.sales
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHCEHEH"></a>
<div id="OLADM899" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">SET</h2>
<p><a id="sthref4957"></a><a id="sthref4958"></a><a id="sthref4959"></a>The SET command, <a id="sthref4960"></a>also called an assignment statement or the = command, assigns one or more values to a variable, option, relation, or dimension surrogate. When an object has one or more dimensions, the SET command loops over the values in status for each dimension of the target object and assigns a data value to the corresponding cell of the target object.</p>
<p>When the target is an object defined with a composite in its dimension list, Oracle OLAP automatically creates any missing target cells that are being assigned non-<code dir="ltr">NA</code> values. This step also adds to the composite all the dimension value combinations that correspond to those new cells. Thus, both the target object and the composite might be larger after an assignment. When you want to assign values only to cells that already exist in the target, use the ACROSS keyword.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can use UNRAVEL with SET to assign values of an expression into the cells of a variable when the dimensions of the expression are different from the dimensions of the variable</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4961"></a>Syntax</p>
<p class="synopsis">[SET]&nbsp;<span class="italic">target-name&nbsp;</span>[=]&nbsp;<span class="italic">expression&nbsp;</span>[ACROSS&nbsp;<span class="italic">composite</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4962"></a>Parameters</p>
<dl>
<dt>SET</dt>
<dd>
<p>SET is optional. It is an older command form of this functionality, and is included for compatibility.</p>
</dd>
<dt><span class="italic">target-name</span></dt>
<dd>
<p>The name of the target object where the data is assigned and stored. For a list of analytic workspace objects that can be a target object, see <a href="#g1042888">Table 10-9, &#34;Using Objects in Assignment Statements&#34;</a>.</p>
</dd>
<dt>=</dt>
<dd>
<p>The = (assignment or equal) operator assigns one or more values to a variable, option, or relation. See also <a href="dml_expression.htm#BABFDFEA">&#34;Assignment Operator&#34;</a>.</p>
</dd>
<dt><span class="italic">expression</span></dt>
<dd>
<p>The source of the data values to be assigned to the object, see <a href="#g1042888">Table 10-9, &#34;Using Objects in Assignment Statements&#34;</a></p>
</dd>
<dt>ACROSS <span class="italic">composite</span></dt>
<dd>
<p>When you are assigning data to a variable dimensioned by a composite the default behavior is to loop over all the values in status for each of the base dimensions of the object. Oracle OLAP automatically creates any missing target cells that are being assigned non-<code dir="ltr">NA</code> values, and it automatically adds the required dimension value combinations to the composite.</p>
<p>When you want to assign values only to existing cells of a variable defined with a composite, use the ACROSS keyword, which causes = to change the way it loops for those dimensions of the target that are part of the composite. Instead of looping over all possible combinations of the values in the status of those dimensions, = loops only over those combinations of the values in the status that already exist in the composite.</p>
<p>The ACROSS keyword is intended for specifying a composite. However, when you specify a base dimension of the composite instead, be aware that the assignment statement could add many values to your composite.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1064371"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2736"></a>Triggering Program Execution When an Assignment Statement Executes</p>
<p>Using the TRIGGER command, you can make a SET statement an event that automatically executes an OLAP DML program. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information</p>
<p class="subhead2"><a id="OLADM2737"></a>Dimensionality and Performance</p>
<p>When the target has multiple dimensions, the = statement&nbsp;loops over the dimension values in the order in which they were added, regardless of their logical order as reflected by the default status. In a multidimensional case, the looping is over the compound dimension. The first dimension listed in the definition varies the fastest. When you are setting the target to the values of an expression, Oracle OLAP performs much more efficiently when the source expression has the same dimensions, in the same order, as the target.</p>
<p class="subhead2"><a id="OLADM2738"></a>Differently Dimensioned Variables in an Expression</p>
<p>When an assignment statement involves several differently-dimensioned objects, the calculation can appear complicated. The following list outlines the process followed by a complicated assignment statement. When the statement is A&nbsp;=&nbsp;B<span class="italic">,</span> where A is the object being set to the expression B, Oracle OLAP first determines the dimensions of A. Then it determines the status of those dimensions. For each combination of dimension values in the status of those dimensions:</p>
<ol>
<li>
<p>Oracle OLAP determines which single value of A (sometimes called a cell) is going to be set.</p>
</li>
<li>
<p>For each component of the expression B (each variable, formula, function, qualified data reference, or literal), Oracle OLAP determines the single value that corresponds to the cell of A that is being set. When a component of the expression is not dimensioned or is a literal, Oracle OLAP simply uses its value. When a component of the expression has dimensions different from A, Oracle OLAP uses the first value in the status of these dimensions.</p>
</li>
<li>
<p>Oracle OLAP performs the specified calculation on the single values obtained in Step 2 and stores the result in the cell of A chosen in Step 1.</p>
</li>
</ol>
<p class="subhead2"><a id="i1015026"></a><a id="OLADM2739"></a>Using Objects in Assignment Statements</p>
<p><a href="#g1042888">Table 10-9, &#34;Using Objects in Assignment Statements&#34;</a> outlines the objects that you can use in assignment statements and indicates whether you can use them as a target or source expression.</p>
<div id="OLADM2740" class="tblformal">
<p class="titleintable"><a id="sthref4963"></a><a id="g1042888"></a>Table 10-9 Using Objects in Assignment Statements</p>
<table class="cellalignment3618" title="Using Objects in Assignment Statements" summary="This table outlines the objects that you can use in assignment statements and indicates whether you can use them as a target or source expression." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t99">Object</th>
<th class="cellalignment3616" id="r1c2-t99">Target</th>
<th class="cellalignment3616" id="r1c3-t99">Source</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t99" headers="r1c1-t99">
<p>Composite</p>
</td>
<td class="cellalignment3617" headers="r2c1-t99 r1c2-t99">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r2c1-t99 r1c3-t99">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t99" headers="r1c1-t99">
<p>Dimension</p>
</td>
<td class="cellalignment3617" headers="r3c1-t99 r1c2-t99">
<p>Only in models</p>
</td>
<td class="cellalignment3617" headers="r3c1-t99 r1c3-t99">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t99" headers="r1c1-t99">
<p>Formula</p>
</td>
<td class="cellalignment3617" headers="r4c1-t99 r1c2-t99">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r4c1-t99 r1c3-t99">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t99" headers="r1c1-t99">
<p>Function (including OLAP DML program as function)</p>
</td>
<td class="cellalignment3617" headers="r5c1-t99 r1c2-t99">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r5c1-t99 r1c3-t99">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t99" headers="r1c1-t99">
<p>Relation</p>
</td>
<td class="cellalignment3617" headers="r6c1-t99 r1c2-t99">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r6c1-t99 r1c3-t99">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t99" headers="r1c1-t99">
<p>Surrogate</p>
</td>
<td class="cellalignment3617" headers="r7c1-t99 r1c2-t99">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r7c1-t99 r1c3-t99">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t99" headers="r1c1-t99">
<p>Valueset</p>
</td>
<td class="cellalignment3617" headers="r8c1-t99 r1c2-t99">
<p>No</p>
</td>
<td class="cellalignment3617" headers="r8c1-t99 r1c3-t99">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t99" headers="r1c1-t99">
<p>Variable</p>
</td>
<td class="cellalignment3617" headers="r9c1-t99 r1c2-t99">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r9c1-t99 r1c3-t99">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r10c1-t99" headers="r1c1-t99">
<p>Worksheet</p>
</td>
<td class="cellalignment3617" headers="r10c1-t99 r1c2-t99">
<p>Yes</p>
</td>
<td class="cellalignment3617" headers="r10c1-t99 r1c3-t99">
<p>Yes</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CDFJFCDG">&#34;Assigning Values to Variables&#34;</a>, <a href="#CDFJEAEC">&#34;Assigning Values to Relations&#34;</a>, <a href="#i1027115">&#34;Rules for Equations in Models&#34;</a>, <a href="#CDFGJDHA">&#34;Expressions Dimensioned Conjoint Dimensions&#34;</a>, and <a href="#CDFJEIEC">&#34;Assigning Values to Dimension Surrogates&#34;</a></div>
<p class="subhead2"><a id="CDFJFCDG"></a><a id="OLADM2741"></a>Assigning Values to Variables</p>
<p>When you use an = (SET) statement to assign the value of a single-cell expression to a single cell, a single value is stored. However, when you use an = statement to assign the value of a single-cell expression to a target variable that has one or more dimensions, then the assignment loops over the values in status for each dimension of the target variable and assigns a data value to the corresponding cells of the variable.</p>
<p>When you assign a multiline value to a fixed-width text variable, then the variable is set to the first line only. To assign a multiline value to a fixed-width text variable, you use the JOINCHARS function to make the multiline value one line long. For example, suppose you have a non-fixed-width text variable called <code dir="ltr">textvar</code>. The statement</p>
<pre dir="ltr">SHOW textvar
</pre>
<p>produces the following output, in which each line of the value in <code dir="ltr">textvar</code> is shown as a separate line.</p>
<pre dir="ltr">This is a variable
that has a multiline
text value.
</pre>
<p>To assign this value to a variable called <code dir="ltr">fixedtext</code> with a fixed width of 60 bytes and show the value, you would use the following statements.</p>
<pre dir="ltr">fixedtext = JOINCHARS(textvar)
SHOW fixedtext
</pre>
<p>These statements produce the following output, in which the value of <code dir="ltr">textvar</code> is shown as a single line.</p>
<pre dir="ltr">This is a variable that has a multiline text value.
</pre>
<p>When the actual number of bytes in the <code dir="ltr">textvar</code> variable&#39;s value exceeds the width of the <code dir="ltr">fixedtext</code> variable, then the value of <code dir="ltr">textvar</code> is truncated when it is stored in <code dir="ltr">fixedtext</code>.</p>
<p class="subhead2"><a id="CDFJEAEC"></a><a id="OLADM2742"></a>Assigning Values to Relations</p>
<p><a id="sthref4964"></a>You can assign values to a relation using a SET statement as illustrated in <a href="#CIHDEBCJ">Example 10-114, &#34;Assigning Values to a Relation&#34;</a>. When executing the assignment statement, a loop is performed over the values in status for each dimension of the target relation and assigns a data value to the corresponding cell of the target relation.</p>
<p>You can assign values to a relation with a text dimension by assigning one of the following:</p>
<ul>
<li>
<p>A text value of the dimension.</p>
</li>
<li>
<p>An INTEGER that represents the position of the dimension value in the default status list of the dimension.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2743"></a>Assigning Values to Dimensions</p>
<p>The only time you use an = statement to assign a value to a dimension is when the result of a calculation in a model equation is numeric. In this situation, you can use the =&nbsp;operator to assign the results to a dimension value. However, equations (that is, expressions) in models differ in several ways from expressions used in other contexts. See <a href="#i1027115">&#34;Rules for Equations in Models&#34;</a> for information on using the assignment statement within models. See the <a href="#i1017721">MAINTAIN</a> command for information on how to add values to dimensions in all other cases.</p>
<p class="subhead2"><a id="CDFJEIEC"></a><a id="OLADM2744"></a>Assigning Values to Dimension Surrogates</p>
<p><a id="sthref4965"></a>You assign values to a dimension surrogate with an = (SET) statement. For example, the following statements define the dimension surrogate <code dir="ltr">storename</code>, which is a <code dir="ltr">TEXT</code> type surrogate for the <code dir="ltr">NUMBER</code> type dimension <code dir="ltr">store_id</code>, assign a value to the fourth position of <code dir="ltr">storename</code>, and then report the value of the surrogate for the fourth value of <code dir="ltr">store_id</code>, which is <code dir="ltr">100</code>.</p>
<pre dir="ltr">DEFINE storename SURROGATE store_id TEXT
storename(storename 4) = &#39;Molly\&#39;s Emporium&#39;
REPORT W 25 storename(store_id 100)
 
STORENAME(STORE_ID 100)
-------------------------
Molly&#39;s Emporium
</pre>
<p>For example, when you define the INTEGER dimension surrogate <code dir="ltr">intsurr</code> for a <code dir="ltr">NUMBER</code> dimension <code dir="ltr">numdim</code> that has five values, then a report of <code dir="ltr">intsurr</code> produces the following.</p>
<pre dir="ltr">INTSURR
-------
      1
      2
      3
      4
      5
</pre>
<p>Like a dimension, the values of a dimension surrogate must be unique. However, unlike a dimension, a dimension surrogate can have <code dir="ltr">NA</code> values, unless it is an INTEGER type. The same value can be a value of the dimension and of any of its surrogates.</p>
<p class="subhead2"><a id="OLADM2745"></a>Using QDRs with the Target of an Assignment Statement</p>
<p>You can use a QDR with the target of an = (SET) statement which lets you assign a value to specific cells in a variable or relation.</p>
<p>The following example assigns the value 10200 to the data cell of the <code dir="ltr">sales</code> variable that is specified in the qualified data reference. When the variable named <code dir="ltr">sales</code> does not already have a value in the cell associated with <code dir="ltr">Boston</code>, <code dir="ltr">Tents</code>, and <code dir="ltr">Jan99</code>, then the value is assigned to the cell and thus it is added to the variable. When a value already exists in the cell, the value 10200 overwrites the previous value.</p>
<pre dir="ltr">sales(market &#39;Boston&#39; product &#39;Tents&#39; month &#39;Jan99&#39;)= 1020
</pre>
<p class="subhead2"><a id="CDFGJDHA"></a><a id="OLADM2746"></a>Expressions Dimensioned Conjoint Dimensions</p>
<p>When an expression is dimensioned by a conjoint dimension, Oracle OLAP uses the dimension&#39;s relationship to its base dimension values to assign data to the correct cells. You can set the values of a variable dimensioned by a conjoint dimension to an expression dimensioned by one of its base dimensions. The converse is also true. See <a href="#i1014942">&#34;Compacting Your Data&#34;</a>.</p>
<p class="subhead2"><a id="i1027115"></a><a id="OLADM2747"></a>Rules for Equations in Models</p>
<p>The equations in a model use an OLAP DML assignment statement to assign values to variables or dimension values. Equations in models differ in several ways from equations used in other contexts in Oracle OLAP:</p>
<ul>
<li>
<p>In a model equation, you can use the name of a dimension value anywhere you would normally use the name of a variable. You can base calculations on a dimension value, and you can assign the results of a calculation to a dimension value. When an equation refers directly to one or more dimension values, it is called a dimension-based equation.</p>
</li>
<li>
<p>You cannot use ampersand substitution in model equations.</p>
</li>
<li>
<p>You can include a program as a component in a calculation only when it is used as a function.</p>
</li>
<li>
<p>Within a single dimension-based equation, all the dimension values must belong to the same dimension.</p>
</li>
<li>
<p>When you assign the results of a calculation to a dimension value, the results must be numeric.</p>
</li>
<li>
<p>Each dimension on which the model equations are based must be listed in a DIMENSION statement. When the model contains an INCLUDE statement, the appropriate DIMENSION statements must be inherited from the included model. When the model does not contain an INCLUDE statement, it must contain the appropriate DIMENSION statements. When you compile or run the model, Oracle OLAP searches through the dimensions listed in explicit or inherited DIMENSION statement to identify the dimension to which each dimension value belongs.</p>
</li>
</ul>
<p><a id="OLADM2748"></a><span class="subhead3">Dimension Status and Model Equations&nbsp;</span>When a model contains an assignment statement to assigns data to a dimension value, then the dimension is limited temporarily to that value, performs the calculation, and then restores the initial status of the dimension.</p>
<p><a id="OLADM2749"></a><span class="subhead3">Formatting Conjoint Dimension Values&nbsp;</span>A special format is required when dimension-based equations refer to values of a conjoint dimension:</p>
<ul>
<li>
<p>Enclose the entire dimension value specification in angle brackets and then enclose this entire specification in single quotes; do not enclose the individual values in single quotes.</p>
</li>
<li>
<p>Use the exact upper- and lowercase spellings for the base dimension values.</p>
</li>
<li>
<p>When the specification includes a text value with an embedded blank, you must separate the dimension values with commas.</p>
</li>
</ul>
<p>For example, assume that <code dir="ltr">item.org</code> is a conjoint dimension with base dimensions <code dir="ltr">item</code> and <code dir="ltr">org</code>. In this case, you use the following format to refer to values of <code dir="ltr">item.org</code>.</p>
<pre dir="ltr">&#39;&lt;Expenses, Direct Sales&gt;&#39;
</pre>
<p><a id="OLADM2750"></a><span class="subhead3">Formatting Text Dimension Values&nbsp;</span>When dimension-based equations refer to text dimension values with embedded blanks or mixed upper- and lowercase letters, enclose the dimension value in single quotes. Use the exact upper- and lowercase spelling for the value.</p>
<p>For example, assume that a text dimension named <code dir="ltr">lineitem</code> contains a value with an embedded blank. In this case, you use the following format.</p>
<pre dir="ltr">&#39;Software Revenue&#39;
</pre>
<p><a id="OLADM2751"></a><span class="subhead3">Specifying DAY, WEEK, MONTH, QUARTER, YEAR Values for a Model Equation&nbsp;</span>When a model equation is based on a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR, you must use the dimension&#39;s VNF (value name format), rather than a date format, to specify the dimension&#39;s values. In addition, the VNF must format dimension values as follows:</p>
<ul>
<li>
<p>The value must start with a letter.</p>
</li>
<li>
<p>The value can only contain letters, digits, underscores, and periods.</p>
</li>
</ul>
<p>When the WEEK, MONTH, QUARTER, YEAR dimension of type does not have a VNF assigned to it, you can use the default VNF for the dimension. The entry for the VNF command lists the default VNF for each of these dimension types, and it explains how to assign a VNF to a dimension.</p>
<p>The default VNF for DAY dimensions is not acceptable because it specifies a digit as the first character of each dimension value. For a DAY dimension, specify the dimension name and enclose the value in parentheses and single quotes.</p>
<p>For example, for a DAY dimension named <code dir="ltr">daydim</code>, you can use the following format.</p>
<pre dir="ltr">daydim(&#39;01jul97&#39;)
</pre>
<p><a id="BCFEHABC"></a><a id="OLADM2752"></a><span class="subhead3">Formatting INTEGER Dimension Values&nbsp;</span>When dimension-based equations refer to values of an INTEGER dimension, enclose the dimension value in single quotes.</p>
<p>For example, for an INTEGER dimension named <code dir="ltr">intdim</code>, use the following format to refer to the first dimension value.</p>
<pre dir="ltr">&#39;1&#39;
</pre>
<p>When the model is based on multiple dimensions, the model compiler might not be able to correctly identify the dimension to which a literal <code dir="ltr">INTEGER</code> value belongs. In this case, specify the name of the dimension and enclose the value in parentheses and single quotes as described in <a href="#i1027570">&#34;Formatting Ambiguous Dimension Values&#34;</a>.</p>
<p><a id="i1027570"></a><a id="OLADM2753"></a><span class="subhead3">Formatting Ambiguous Dimension Values&nbsp;</span>In some cases the model compiler might be unable to correctly identify the dimension to which a dimension value belongs. For instance, this can happen under the following circumstances:</p>
<ul>
<li>
<p>Two or more dimensions have a dimension value with the same name.</p>
</li>
<li>
<p>A DAY dimension uses the default VNF (which starts with a digit).</p>
</li>
<li>
<p>An <code dir="ltr">INTEGER</code> value could be interpreted either as a position within a dimension or as a literal <code dir="ltr">INTEGER</code> value of a dimension.</p>
</li>
</ul>
<p>In cases such as these, you can avoid ambiguity in model-based equations by following these rules:</p>
<ul>
<li>
<p>Enclose the dimension value in single quotes.</p>
</li>
<li>
<p>Enclose the quoted value in parentheses.</p>
</li>
<li>
<p>Precede the parentheses with the name of the dimension.</p>
</li>
</ul>
<p>For example, for an INTEGER dimension named <code dir="ltr">intdim</code>, use the following format to refer to the first dimension value.</p>
<pre dir="ltr">intdim(&#39;1&#39;)
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1064445"></a>Examples</p>
<div id="OLADM2754" class="example">
<p class="titleinexample"><a id="sthref4966"></a>Example 10-113 Assigning Values to a Variable</p>
<p>For the first example, suppose you have defined two variables, <code dir="ltr">units</code> and <code dir="ltr">price</code>, that are both dimensioned by <code dir="ltr">product</code>. The following example calculates dollar sales (<code dir="ltr">units</code> times <code dir="ltr">price</code>) for each value in the <code dir="ltr">product</code> dimension. Using an assignment statement, it stores the result in the variable <code dir="ltr">sales</code>, which is also dimensioned by <code dir="ltr">product</code>.</p>
<pre dir="ltr">sales = units*price
</pre>
<p>For another example, assume the <code dir="ltr">choicedesc</code> variable is dimensioned by <code dir="ltr">choice</code>. Before you enter data for the variable, the cells of the variable contain only NA values.</p>
<pre dir="ltr">CHOICE           CHOICEDESC
-------------- --------------------
Report         NA
Graph          NA
Analyze        NA
Data           NA
Quit           NA
</pre>
<p>Suppose you initialize the <code dir="ltr">choicedesc</code> variable using the following statement.</p>
<pre dir="ltr">choicedesc =  JOINCHARS (&#39;Description for &#39; choice)
</pre>
<p>Now all of the <code dir="ltr">choicedesc</code> cells of the variable contain the appropriate values.</p>
<pre dir="ltr">CHOICE             CHOICEDESC
-------------- -------------------------
Report         Description for Report
Graph          Description for Graph
Analyze        Description for Analyze
Data           Description for Data
Quit           Description for Quit
</pre>
<p>The next example shows an expression that is dimensioned by <code dir="ltr">time</code>, <code dir="ltr">product</code>, and <code dir="ltr">district</code> and is assigned to a new variable. The expression calculates a 2002 sales plan based on unit sales in 2001.</p>
<pre dir="ltr">DEFINE units.plan INTEGER &lt;month product district&gt;
LIMIT month TO &#39;DEC02&#39;
units.plan = LAG(units 12 month) * 1.15
</pre></div>
<!-- class="example" -->
<div id="OLADM2755" class="example">
<p class="titleinexample"><a id="CIHDEBCJ"></a>Example 10-114 Assigning Values to a Relation</p>
<p><a id="sthref4967"></a>Assume that your analytic workspace contains the following definitions for a hierarchical dimension for Geography named <code dir="ltr">geog</code> and a relation named <code dir="ltr">geog_parentrel</code> that contains values that represent the child-parent relationships in the Geography hierarchy.</p>
<pre dir="ltr">DEFINE geog DIMENSION TEXT
DEFINE geog_parentrel RELATION geog &lt;geog&gt;
 
</pre>
<p>You can use the following MAINTAIN ADD statements to populate the hierarchical dimension.</p>
<pre dir="ltr">&#34; Populate the geog dimension with values for all levels
MAINTAIN geog ADD &#39;North America&#39; &#39;Europe&#39; &#39;United States&#39; &#39;Canada&#39; &#39;France&#39; &#39;Germany&#39;
MAINTAIN geog ADD &#39;Massachusetts&#39; &#39;California&#39; &#39;Quebec&#39; &#39;Ontario&#39; 
MAINTAIN geog ADD &#39;Boston&#39;&#39;Springfield&#39; &#39;San Francisco&#39;&#39;Los Angeles&#39; &#39;Toronto&#39; &#39;Ottawa&#39; 
MAINTAIN geog ADD &#39;Montreal&#39;&#39;Quebec City&#39; &#39;Paris&#39; &#39;Marseilles&#39; &#39;Bonn&#39; &#39;Berlin&#39;
 
</pre>
<p>You can use the following assignments statements to populate <code dir="ltr">geog_parentrel</code>. Note that you must limit <code dir="ltr">geog</code> to the appropriate values before you assign values to <code dir="ltr">geog_parentrel</code>.</p>
<pre dir="ltr">&#34;  Limit geog (and therefore geog_parentrel) to countries and assign 
&#34;   parent value (continent name) to those countries in geog_parentrel
LIMIT geog to &#39;United States&#39; &#39;Canada&#39;
geog_parentrel = &#39;North America&#39;
LIMIT geog to ALL
LIMIT geog to &#39;France&#39; &#39;Germany&#39;
geog_parentrel = &#39;Europe&#39;
 
&#34;  Limit geog (and therefore geog_parentrel) to states or provinces and assign 
&#34;   parent value (country name) to those states or provinces in geog_parentrel
LIMIT geog to ALL
LIMIT geog to &#39;Massachusetts&#39; &#39;California&#39;
geog_parentrel = &#39;United States&#39;
LIMIT geog to ALL
LIMIT geog to &#39;Quebec&#39; &#39;Ontario&#39;
geog_<a href="dml_commands_1.htm#BGEEAEAB">Chapter 9, &#34;OLAP DML Commands: A-G&#34;</a> = &#39;Canada&#39;
 
&#34;  Limit geog (and therefore geog_parentrel) to cities and assign
&#34;   parent value (state, province, or country) to those cities in geog_parentrel
LIMIT geog to ALL
LIMIT geog to &#39;Boston&#39; &#39;Springfield&#39; 
geog_parentrel = &#39;Massachusetts&#39;
LIMIT geog to ALL
LIMIT geog to &#39;San Francisco&#39; &#39;Los Angeles&#39; 
geog_parentrel = &#39;California&#39;
LIMIT geog to ALL
LIMIT geog to &#39;Montreal&#39; &#39;Quebec City&#39;
geog_parentrel = &#39;Quebec&#39;
LIMIT geog to ALL
LIMIT geog to &#39;Toronto&#39; &#39;Ottawa&#39; 
geog_parentrel = &#39;Ontario&#39;
LIMIT geog to ALL
LIMIT geog to &#39;Paris&#39; &#39;Marseilles&#39; 
geog_parentrel = &#39;France&#39;
LIMIT geog to ALL
LIMIT geog to &#39;Bonn&#39; &#39;Berlin&#39;
geog_parentrel = &#39;Germany&#39;
LIMIT geog to ALL
 
</pre>
<p>A report of <code dir="ltr">geog_parentrel</code> shows the values have been assigned.</p>
<pre dir="ltr">COLWIDTH = 20
REPORT geog_parentrel
REPORT geog_parentrel
 
GEOG                GEOG_PARENTREL
---------------- --------------------
North America    NA
Europe           NA
United States    North America
Canada           North America
France           Europe
Germany          Europe
Massachusetts    United States
California       United States
Quebec           Canada
Ontario          Canada
Boston           Massachusetts
Springfield      Massachusetts
San Francisco    California
Los Angeles      California
Toronto          Ontario
Ottawa           Ontario
Montreal         Quebec
Quebec City      Quebec
Paris            France
Marseilles       France
Bonn             Germany
Berlin           Germany
</pre></div>
<!-- class="example" -->
<div id="OLADM2756" class="example">
<p class="titleinexample"><a id="sthref4968"></a>Example 10-115 Using a Qualified Data Reference</p>
<p>This example uses an assignment statement with a qualified data reference to assign values to the variable <code dir="ltr">budget</code>. The values assigned to one budget line item (<code dir="ltr">Net.Income</code>) are calculated as the difference between two other line items (<code dir="ltr">Opr.Income</code> and <code dir="ltr">Taxes</code>), so you have to use a qualified data reference to obtain the correct data values.</p>
<pre dir="ltr">budget(line Net.Income)= budget(line Opr.Income) - budget(line Taxes)
</pre></div>
<!-- class="example" -->
<div id="OLADM2757" class="example">
<p class="titleinexample"><a id="sthref4969"></a>Example 10-116 Assigning Values to Variables with Composites</p>
<p>To have data assigned from <code dir="ltr">sales</code> only into existing data cells of <code dir="ltr">sparse_sales</code>, whose associated dimension values are in status, use the following statement.</p>
<pre dir="ltr">sparse_sales = sales ACROSS SPARSE&lt;product market&gt;
</pre>
<pre dir="ltr"></pre>
<p>The <code dir="ltr">ACROSS</code> keyword is particularly helpful when the source expression is a single value. When there are no limits on the dimensions of <code dir="ltr">sparse_sales</code>, then an assignment statement like the following creates cells for every combination of dimension values because there are no cases where the source expression is NA.</p>
<pre dir="ltr">sparse_sales = 0
</pre>
<pre dir="ltr"></pre>
<p>This defeats the purpose of a dimensioning a variable with a composite.</p>
<p>In contrast, the following statement sets only existing cells of <code dir="ltr">sparse_sales</code> to 0 (zero).</p>
<pre dir="ltr">sparse_sales = 0 ACROSS SPARSE&lt;product market&gt;
</pre></div>
<!-- class="example" -->
<div id="OLADM2758" class="example">
<p class="titleinexample"><a id="i1014942"></a>Example 10-117 Compacting Your Data</p>
<p>Suppose you only sell some of your products in each district. You currently have a variable <code dir="ltr">sales</code> that has data for certain combinations of districts and products and <code dir="ltr">NA</code> values for the rest. You can create a dense array of <code dir="ltr">sales</code> data by defining a composite or a conjoint dimension and using it as a dimension of a new variable. Use an assignment statement to assign the data directly to the new variable. When the values of the composite or conjoint dimension include all the combinations with data, you can then delete the original variable and save space in the analytic workspace.</p>
<pre dir="ltr">DEFINE proddist DIMENSION &lt;product district&gt;
MAINTAIN proddist ADD &lt;&#39;Tents&#39; &#39;Boston&#39;&gt; &lt;&#39;Canoes&#39; &#39;Seattle&#39;&gt; -
   &lt;&#39;Sportswear&#39; &#39;Atlanta&#39;&gt;
DEFINE sales.dense DECIMAL &lt;month proddist&gt;
sales.dense = sales
LIMIT month TO FIRST 4
</pre>
<p>Issuing a <code dir="ltr">REPORT</code> <code dir="ltr">sales.dense</code> statement produces the following output.</p>
<pre dir="ltr">                    ----------------SALES.DENSE----------------
-----PRODDIST------ -------------------MONTH-------------------
PRODUCT    DISTRICT   Jan95      Feb95      Mar95      Apr95
-------- ---------- ---------- ---------- ---------- ----------
Tents      Boston    32,153.52  32,536.30  43,062.75  57,608.39
Canoes     Seattle   64,111.50  71,899.23  83,943.86  14,383.90
Sportswear Atlanta  114,446.26 123,164.92 138,601.64 141,365.66
</pre>
<p>An alternative method would be to use a composite instead of a conjoint dimension. In this case, you could use the following statements.</p>
<pre dir="ltr">DEFINE sales.compact DECIMAL &lt;month SPARSE &lt;product district&gt;&gt;
sales.compact = sales
</pre>
<p>Oracle OLAP automatically creates the unnamed composite when you define <code dir="ltr">sales.compact</code>, and it automatically adds dimension value combinations to the composite when you use an assignment statement. Oracle OLAP creates dimension value combinations only for the non-<code dir="ltr">NA</code> values of <code dir="ltr">sales</code>.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHBHFFD"></a>
<div id="OLADM900" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">SET1</h2>
<p><a id="sthref4970"></a>The SET1 command assigns a single value to a variable, option, relation, or dimension surrogate. When an object has one or more dimensions, the SET1 command assigns the value to the object cell that is in current status.</p>
<p>Because the SET1 command does not loop through a dimensioned object, you can use it in Assign trigger programs to assign a value to an object.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4971"></a>Syntax</p>
<p class="synopsis">SET1&nbsp;<span class="italic">target-name&nbsp;</span>=&nbsp;<span class="italic">expression&nbsp;</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4972"></a>Parameters</p>
<dl>
<dt><span class="italic">target-name</span></dt>
<dd>
<p>The name of the target object where the data is assigned and stored. For a list of analytic workspace objects that can be a target object, see <a href="#g1042888">Table 10-9, &#34;Using Objects in Assignment Statements&#34;</a>.</p>
</dd>
<dt><span class="italic">expression</span></dt>
<dd>
<p>The source of the data values to be assigned to the object, see <a href="#g1042888">Table 10-9, &#34;Using Objects in Assignment Statements&#34;</a></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4973"></a>Examples</p>
<p>For an example of using SET1, see <a href="#CEGCBJHI">Example 10-164, &#34;Setting Values in an ASSIGN Trigger Program&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CCHIFGHD"></a>
<div id="OLADM2759" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">SET_INCLUDED_MODEL</h2>
<p>The SET_INCLUDED_MODEL <a id="sthref4974"></a><a id="sthref4975"></a><a id="sthref4976"></a><a id="sthref4977"></a><a id="sthref4978"></a>program adds an <a href="#i78931">INCLUDE</a> model statement to a previously-defined cube dimension&#39;s model, or deletes an <a href="#i78931">INCLUDE</a> model statement from a previously-defined cube dimension&#39;s model. The changes made when this program executes are not transactional; an automatic COMMIT is executed as part of the program.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4979"></a>Syntax</p>
<p class="synopsis">CALL SET_INCLUDED_MODEL(<span class="italic">logical_dim</span>, <span class="italic">model_name</span>, <span class="italic">custom_model</span>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4980"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because SET_INCLUDED_MODEL is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="dml_commands_1.htm#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension being modified.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_1.htm#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt><span class="italic">model_name</span></dt>
<dd>
<p>A text expression that is the name of the logical model that is associated with the cube dimension.</p>
</dd>
<dt><span class="italic">custom_model</span></dt>
<dd>
<p>A text expression that is the OLAP DML-created model for which you want to add an INCLUDE statement.</p>
<div class="infoboxnotealso">
<p class="notep1">See:</p>
<a href="dml_commands_1.htm#BGEECJFD">CREATE_LOGICAL_MODEL</a></div>
<p>To remove an INCLUDE statement, specify <code dir="ltr">NA</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4981"></a>Examples</p>
<div id="OLADM2760" class="example">
<p class="titleinexample"><a id="CCHGBEDG"></a>Example 10-118 Creating Static and Dynamic Models for an OLAP Cube</p>
<p>Assume that you have created an OLAP cube dimension named <code dir="ltr">my_time</code> that dimensions an OLAP cube named <code dir="ltr">my_cube</code>. Within <code dir="ltr">my_cube</code> there are two measures: sales and moving_sales. Now you want to create static and dynamic models for <code dir="ltr">my_cube</code>.</p>
<ol>
<li>
<p>To create a static model, execute the following PL/SQL statement that executes a user-written OLAP DML program named <code dir="ltr">setup_pre_model</code>.</p>
<pre dir="ltr">exec dbms_aw.execute(&#39;call my_util_aw!setup_pre_model&#39;);
</pre>
<p>As you can see from the following definition of the setup_pre_model program, the model is actually defined using the SET_INCLUDED_MODEL program and added using the ADD_CUBE_MODEL program, both of which are provided with the OLAP DML.</p>
<pre dir="ltr">DEFINE SETUP_PRE_MODEL PROGRAM
PROGRAM
 
  VARIABLE _pre_model    text
  VARIABLE _aw_dim       text
 
  _pre_model = &#39;my_aw!my_pre_model&#39;
  _aw_dim = OBJORG(DIM &#39;my_time&#39;)
 
  DEFINE &amp;_pre_model model
  CONSIDER &amp;_pre_model
  MODEL JOINLINES(JOINCHARS(&#39;dimension &#39; _aw_dim) -
                  JOINCHARS(_aw_dim &#39;(\&#39;L3_3\&#39;)=10&#39;) -
                  &#39;end&#39;)
 
  CALL SET_INCLUDED_MODEL(&#39;my_time&#39;, &#39;pre_model&#39;, _pre_model)
  CALL ADD_CUBE_MODEL(&#39;my_cube&#39;, &#39;my_time&#39;, &#39;pre_model&#39;, YES)
END
</pre></li>
<li>
<p>Load the <code dir="ltr">my_time</code> dimension and load and solve <code dir="ltr">my_cube</code> by executing the following the PL/SQL statement.</p>
<pre dir="ltr">exec dbms_cube.build(&#39;MY_CUBE&#39;);
</pre></li>
<li>
<p>You can now report on the initial values of sales and moving sales with the static model by issuing the following statement.</p>
<pre dir="ltr">select my_time||&#39;  &#39;||lpad(sales, 2)||&#39;  &#39;||lpad(moving_sales, 2)
from my_cube_view
order by my_time asc;
 
MY_TIME||&#39;&#39;||LPAD(SALES,2)||&#39;&#39;||LPAD(MOVING_SALES,2)
--------------------------------------------------------------------
L1_1  14  14
L2_1  12  12
L2_2   2  14
L3_1   1   1
L3_2   1   2
L3_3  10  11
L3_4   1  11
L3_5   1   2
 
8 rows selected.
 
</pre></li>
<li>
<p>To create a dynamic model where L1_2 = (L2_2&#39; * 2) execute the following PL/SQL statement that calls a user-written OLAP DML program named SETUP_POST_MODEL.</p>
<pre dir="ltr">exec dbms_aw.execute(&#39;call my_util_aw!setup_post_model&#39;);
 
</pre>
<p>As you can see from the definition of the user-written <code dir="ltr">setup_post_model</code> program shown below, the model is actually defined using the SET_INCLUDED_MODEL program and added using the <a href="dml_commands_1.htm#BGEEHCEG">ADD_CUBE_MODEL</a> program, both of which are provided with the OLAP DML.</p>
<pre dir="ltr">DEFINE SETUP_POST_MODEL PROGRAM
PROGRAM
 
  VARIABLE _post_model   text
  VARIABLE _aw_dim       text
  VARIABLE _start_date   text
  VARIABLE _timespan     text
  VARIABLE _member       text
 
  _post_model = &#39;my_aw!my_post_model&#39;
  _aw_dim = OBJORG(DIM &#39;my_time&#39;)
  _start_date = OBJORG(ATTRIBUTE &#39;my_time&#39; &#39;start_date&#39;)
  _timespan = OBJORG(ATTRIBUTE &#39;my_time&#39; &#39;timespan&#39;)
  _member = &#39;L1_0&#39;
 
  DEFINE &amp;_post_model model
  CONSIDER &amp;_post_model
  MODEL JOINLINES( -
           JOINCHARS(&#39;dimension &#39; _aw_dim) -
           JOINCHARS(_aw_dim &#39;(\&#39;&#39; _member &#39;\&#39;)=&#39; _aw_dim &#39;(\&#39;L2_2\&#39;)*2&#39;) -
           &#39;end&#39;)
 
  CALL SET_INCLUDED_MODEL(&#39;my_time&#39;, &#39;post_model&#39;, _post_model)
  CALL ADD_CUBE_MODEL(&#39;my_cube&#39;, &#39;my_time&#39;, &#39;post_model&#39;, NO)
 
  &#34; Add _member to the dimension
  CALL ADD_DIMENSION_MEMBER(_member, &#39;my_time&#39;, NA, &#39;L1&#39;, NA, NO)
  CALL UPDATE_ATTRIBUTE_VALEU(_member, &#39;my_time&#39;, &#39;start_date&#39;, -
                              &amp;_start_date(&amp;_aw_dim &#39;L1_1&#39;)-365, NO)
  CALL UPDATE_ATTRIBUTE_VALUE(_member, &#39;my_time&#39;, &#39;timespan&#39;, -
                              &amp;_timespan(&amp;_aw_dim &#39;L1_1&#39;))
  UPDATE
  COMMIT
END
 
</pre></li>
<li>
<p>Execute the following statement to report on the new values of <code dir="ltr">my_time</code>, <code dir="ltr">sales</code> and <code dir="ltr">moving_sales</code>.</p>
<pre dir="ltr"> 
select my_time||&#39;  &#39;||lpad(sales, 2)||&#39;  &#39;||lpad(moving_sales, 2)
    from my_cube_view
    order by my_time asc;

MY_TIME||&#39;&#39;||LPAD(SALES,2)||&#39;&#39;||LPAD(MOVING_SALES,2)
--------------------------------------------------------------------
L1_0   4   4
L1_1  14  18
L2_1  12  12
L2_2   2  14
L3_1   1   1
L3_2   1   2
L3_3  10  11
L3_4   1  11
L3_5   1   2
 
9 rows selected.
</pre></li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CCHIEIFE"></a>
<div id="OLADM2761" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">SET_PROPERTY</h2>
<p>The SET_PROPERTY program <a id="sthref4982"></a><a id="sthref4983"></a><a id="sthref4984"></a>modifies the values of the <a href="dml_properties.htm#BABHHFCB">$LOOP_DENSE</a> or <a href="dml_properties.htm#BABJIJAF">$LOOP_VAR</a> properties of a derived measure of a cube as defined in the Oracle data dictionary. The changes made when this program executes are not transactional; an automatic COMMIT is executed as part of the program.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4985"></a>Syntax</p>
<p class="synopsis">CALL SET_PROPERTY(<span class="italic">property_name</span>, <span class="italic">logical_cube</span>, <span class="italic">meas_name</span>, <span class="italic">property_value</span>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4986"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because SET_PROPERTY is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="dml_commands_1.htm#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">property_name</span></dt>
<dd>
<p>A text expression that is either $LOOP_VAR or $LOOP_DENSE.</p>
</dd>
<dt><span class="italic">logical_cube</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube that contains <span class="italic">meas_name</span>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_1.htm#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt>meas_name</dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the derived measure for which you want to modify the value of either the $LOOP_VAR or $LOOP_DENSE property.</p>
</dd>
<dt><span class="italic">property_value</span></dt>
<dd>
<p>A text expression that is a valid value for the property you specified in <span class="italic">property_name</span>. For valid values, see <a href="dml_properties.htm#BABHHFCB">$LOOP_DENSE</a> or <a href="dml_properties.htm#BABJIJAF">$LOOP_VAR</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79246"></a>
<div id="OLADM901" class="refsect1">
<h2 class="refsect1">SHOW</h2>
<p><a id="sthref4987"></a><a id="sthref4988"></a><a id="sthref4989"></a><a id="sthref4990"></a><a id="sthref4991"></a>The SHOW command shows a single value of an expression. Normally, you would use SHOW to show the value of a single-cell variable or to show a message. SHOW is useful in programs when you want to generate an error-like message without creating an error condition. The output from SHOW is sent to the current outfile.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4992"></a>Syntax</p>
<p class="synopsis">SHOW&nbsp;<span class="italic">expression&nbsp;</span>[NONL]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4993"></a>Parameters</p>
<dl>
<dt><span class="italic">expression</span></dt>
<dd>
<p>The value you want to show. When <span class="italic">expression</span> is dimensioned, only the first value of the expression is shown, based on the current status of its dimensions. When you are showing a text literal, you must enclose the value in single quotes.</p>
</dd>
<dt>NONL</dt>
<dd>
<p>Indicates that a new line sequence should not be appended to the end of the value. By default, SHOW appends a new line sequence.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4994"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2762"></a>Concatenating Output Lines</p>
<p>The NONL argument to SHOW is useful in programs. Using this argument you can concatenate several values into a single line of output. To accomplish this, include one or more SHOW commands with the NONL argument, followed by a single SHOW statement without the NONL argument. The values from all the SHOW commands are concatenated into a single output value, in the order specified. Depending on the length of the line, this value might actually produce multiple lines of output.</p>
<p class="subhead2"><a id="OLADM2763"></a>Generating Error Messages</p>
<p>SHOW can be used as an alternative to SIGNAL when you want to generate an error message from a program. Unlike SIGNAL, SHOW produces a message without signaling an error condition and thus halting execution of the program. Your error message may be most useful when you send it to a debugging file. When you use a DBGOUTFILE statement to direct messages to a debugging file, the output from SHOW is sent to the debugging file and to your current outfile.</p>
<p class="subhead2"><a id="OLADM2764"></a>Showing Values of Composites</p>
<p>When SHOW is used with a named or unnamed composite, an <code dir="ltr">NA</code> value is shown when the composite does not have a value that corresponds to the first values in the status for its base dimensions. For example, the statement</p>
<pre dir="ltr">SHOW SPARSE &lt;market product&gt;
</pre>
<p>produces an <code dir="ltr">NA</code> value when the combination of the current values of <code dir="ltr">market</code> and <code dir="ltr">product</code> does not exist in the composite.</p>
<p class="subhead2"><a id="OLADM2765"></a>Breaking Lines of Text</p>
<p>To break a text expression into two or more lines of output text, insert newline delimiters (\n) at the appropriate places in the text.</p>
<p class="subhead2"><a id="OLADM2766"></a>Using SHOW With NTEXT Values</p>
<p>The SHOW command converts NTEXT values to the character set of the outfile. When an NTEXT value cannot be represented in the outfile character set, the character is not displayed correctly.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4995"></a>Examples</p>
<div id="OLADM2767" class="example">
<p class="titleinexample"><a id="CDFGEFEE"></a>Example 10-119 Showing the Value of an Option</p>
<p>This example uses SHOW to report the current value of the DECIMALS option. The OLAP DML statement</p>
<pre dir="ltr">SHOW DECIMALS
</pre>
<p>produces the following output.</p>
<pre dir="ltr">2
</pre></div>
<!-- class="example" -->
<div id="OLADM2768" class="example">
<p class="titleinexample"><a id="sthref4996"></a>Example 10-120 Showing a Data Value</p>
<p>When you use SHOW to report the value of a dimensioned variable, only the first value of the variable, based on the current status of its dimensions, is shown. The OLAP DML statement</p>
<pre dir="ltr">SHOW JOINCHARS(&#39;Actual = &#39; actual)
</pre>
<p>produces the following output.</p>
<pre dir="ltr">Actual = 533,362,88 
</pre></div>
<!-- class="example" -->
<div id="OLADM2769" class="example">
<p class="titleinexample"><a id="CHDDCAAA"></a><a id="CDFICCHH"></a>Example 10-121 Creating Error Messages Using SHOW</p>
<pre dir="ltr"></pre>
<p>When you want to produce a warning message without branching to an error label, then you can use a <code dir="ltr">SHOW</code> statement.</p>
<pre dir="ltr">select:
LIMIT month TO nummonths
IF STATLEN(month) GT 9
   THEN DO
     SHOW &#39;You can select no more than 9 months.&#39;
     GOTO finish
     DOEND
REPORT DOWN district W 6 units
finish:
POP month
RETURN
</pre></div>
<!-- class="example" -->
<div id="OLADM2770" class="example">
<p class="titleinexample"><a id="sthref4997"></a>Example 10-122 Showing the Values of a Valueset</p>
<p>Suppose an analytic workspace contains a valueset called <code dir="ltr">monthset</code> that has the values <code dir="ltr">Jan95</code>, <code dir="ltr">May95</code>, and <code dir="ltr">Dec95</code>. You can use SHOW to list the values in that valueset.</p>
<pre dir="ltr">SHOW monthset
Jan95
May95
Dec95
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i1010075"></a>
<div id="OLADM902" class="refsect1">
<h2 class="refsect1">SIGNAL</h2>
<p><a id="sthref4998"></a><a id="sthref4999"></a><a id="sthref5000"></a>The SIGNAL command produces a user-defined error message from within a program. When Oracle OLAP executes a SIGNAL statement when TRAP is ON, execution branches to the trap label. Any statements following the trap label in the program are then executed.When the program contains an active trap label, execution branches to the label. Without a trap label, execution of the program terminates and, when the program was called by another program, execution control returns to the calling program.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5001"></a>Syntax</p>
<p class="synopsis">SIGNAL&nbsp;{<span class="italic">errname&nbsp;</span>[<span class="italic">message</span>]|STOP}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5002"></a>Parameters</p>
<dl>
<dt><span class="italic">errname</span></dt>
<dd>
<p>A TEXT expression that indicates the name of the error message to be produced. When Oracle OLAP executes a SIGNAL statement, it stores the <span class="italic">errname</span> in the ERRORNAME option. Normally, the name of the error does not appear in the error message. However, when you omit <span class="italic">message,</span> the error name (<span class="italic">errname</span>) appears along with a stock message as described in the <span class="italic">message</span> argument.</p>
<p>You can use the special name <code dir="ltr">PRGERR</code> to communicate to a calling program that an error has occurred. The statement <code dir="ltr">SIGNAL</code> <code dir="ltr">PRGERR</code> sets ERRORNAME to a blank value and passes an error condition to the calling program without causing another error message to be displayed. For a complete explanation of how to use SIGNAL to pass an error up a chain of nested programs, see the <a href="#g1037686">TRAP</a> command.</p>
</dd>
<dt><span class="italic">message</span></dt>
<dd>
<p>A TEXT expression that specifies the error message to be produced. When you supply a long line as your error message, you must add your own line breaks to format the text. Type the newline escape sequence (\n) where you want each line to end. You can type up to a limit of 6 lines or 4,000 characters, whichever you reach first. An error occurs when you try to supply a single line longer than 4,000 characters.</p>
<p>When you omit this argument, SIGNAL produces the following message.</p>
<pre dir="ltr">ERROR: (errname) Please contact the administrator of your
   Oracle Oracle OLAP application.
</pre>
<p>When Oracle OLAP executes a SIGNAL statement, it stores <span class="italic">message</span> in the ERRORTEXT option.</p>
</dd>
<dt>STOP</dt>
<dd>
<p>Immediately stops execution of all currently running programs. No error message is produced. The error condition is not trapped by an active TRAP label.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5003"></a>Examples</p>
<div id="OLADM2771" class="example">
<p class="titleinexample"><a id="CHDCDDAI"></a><a id="CDFDHIEB"></a>Example 10-123 Signaling an Error</p>
<p>Suppose you have written a program that requires one argument. When no argument is supplied, there is no purpose in running the program. Therefore, the first thing the program does is check if an argument has been passed. When it has not, the program terminates after sending an error message to the current outfile.</p>
<p>The following program lines check for the argument and signal an error when it is not found.</p>
<pre dir="ltr">IF ARGS EQ &#39;&#39;
THEN SIGNAL msg1 &#39;You must supply an argument.&#39;
</pre>
<p>SIGNAL sends the following message to the current outfile.</p>
<pre dir="ltr">ERROR: You must supply an argument.
</pre></div>
<!-- class="example" -->
<div id="OLADM2772" class="example">
<p class="titleinexample"><a id="i1010245"></a>Example 10-124 Signaling an Error When an Argument Value is Invalid</p>
<p>Suppose your program produces a report that can present from one to nine months of data. You can signal an error when the program is called with an argument value greater than nine. In this example, <code dir="ltr">nummonths</code> is the name of the argument that must be no greater than nine.</p>
<pre dir="ltr">select:
TRAP ON error
PUSH month
LIMIT month TO nummonths
IF STATLEN(month) GT 9
   THEN SIGNAL toomany -
     &#39;You can specify no more than 9 months.&#39;
REPORT DOWN district W 6 units
finish:
POP month
RETURN
error:
POP month
IF ERRORNAME EQ &#39;TOOMANY&#39;
   THEN SHOW &#39;No report produced&#39;
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79266"></a>
<div id="OLADM903" class="refsect1">
<h2 class="refsect1">SLEEP</h2>
<p><a id="sthref5004"></a><a id="sthref5005"></a>Within an OLAP DML program, the SLEEP command suspends the program execution for at least the specified number of seconds.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
SLEEP is rarely used in Oracle OLAP programs, because there is seldom a need to suspend program execution.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5006"></a>Syntax</p>
<p class="synopsis">SLEEP&nbsp;<span class="italic">n</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5007"></a>Parameters</p>
<dl>
<dt><span class="italic">n</span></dt>
<dd>
<p>A numeric expression that specifies the number of seconds for Oracle OLAP to &#34;sleep.&#34; Program execution is suspended for at least this number of seconds.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5008"></a>Examples</p>
<div id="OLADM2773" class="example">
<p class="titleinexample"><a id="sthref5009"></a>Example 10-125 Suspending Program Execution</p>
<p>In a program, suppose you execute a statement that might take 10 seconds to complete. You can follow that statement with this SLEEP statement, which suspends program execution for 10 seconds.</p>
<pre dir="ltr">SLEEP 10
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79281"></a>
<div id="OLADM904" class="refsect1">
<h2 class="refsect1">SORT command</h2>
<p><a id="sthref5010"></a><a id="sthref5011"></a><a id="sthref5012"></a><a id="sthref5013"></a><a id="sthref5014"></a><a id="sthref5015"></a>The SORT command arranges the order of values in the current status list of a dimension or a dimension surrogate, or in a valueset.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_functions_2.htm#CDFJDJEI">SORT function</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5016"></a>Syntax</p>
<p class="synopsis">SORT&nbsp;<span class="italic">dimension&nbsp;</span>[<span class="italic">byhierarchy</span>] [<span class="italic">bycriterion</span>...]</p>
<p>where:</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">byhierarchy</span> is an optional phrase that uses a parent relation to arrange the order of values in the current status list of a hierarchical dimension or its dimension surrogate, or to assign values to a valueset, based on family relationships within the hierarchy. You can include only one <span class="syntaxinlineitalic">byhierarchy</span> phrase in a SORT statement. It must be the first phrase in a SORT statement.</p>
<p><span class="syntaxinline">HIERARCHY</span> <span class="syntaxinlineitalic">parent-relation</span> <span class="syntaxinline">[INVERT] [DEPTH</span> <span class="syntaxinlineitalic">n</span><span class="syntaxinline">] [SORTORPHANS]</span></p>
</li>
<li>
<p><span class="syntaxinlineitalic">bycriterion</span> uses an explicit criterion to arrange the order of values in the current status list of a dimension or its dimension surrogate, or to assign values to a valueset. You can include as many <span class="syntaxinlineitalic">bycriterion</span> phrases as you want in a SORT statement.</p>
<p><span class="syntaxinline">{A|D} [NAFIRST]&nbsp;</span><span class="syntaxinlineitalic">criterion</span></p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5017"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>A text expression whose value is the name of a dimension, a dimension surrogate, or a valueset.</p>
</dd>
<dt>HIERARCHY</dt>
<dd>
<p>Specifies that Oracle OLAP is to sort <span class="italic">dimension</span> values based on the values position in <span class="italic">parentrel</span>.</p>
</dd>
<dt><span class="italic">parent-relation</span></dt>
<dd>
<p>Specifies the name of a child-parent self-relation for <span class="italic">dimension</span>. For each dimension value, the relation holds another value of the dimension which is its parent dimension value (the one immediately above it in a given hierarchy). This parent relation can have multiple dimensions.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
You can specify a QDR of <span class="italic">parent-relation</span> to specify a single value.</div>
</dd>
<dt>INVERT</dt>
<dd>
<p>Indicates that Oracle OLAP places the children in the hierarchy before their parents. (By default, children are placed after their parents.)</p>
</dd>
<dt>DEPTH <span class="italic">n</span></dt>
<dd>
<p>Specifies the number of generations down from the top of the hierarchy that Oracle OLAP should place into status and. there, for the values that are included in the result. The default value of <span class="italic">n</span> is 99. When you do not want any values in the result (that is, when you want a <code dir="ltr">NULL</code> status), specify <code dir="ltr">-1</code> for <span class="italic">n</span>. When you only want the top of the hierarchy in status (that is, those dimension values that do not have parents), specify <code dir="ltr">0</code> (zero).</p>
</dd>
<dt>SORTORPHANS</dt>
<dd>
<p>Specifies that all first cousins whose parents are not in status are sorted together. By default, Oracle OLAP preserves the hierarchical structure when sorting children even when their parents are not in status.</p>
</dd>
<dt>A</dt>
<dt>D</dt>
<dd>
<p>The order in which the values are to be sorted. <code dir="ltr">A</code> means ascending order (alphabetical when the sorting criterion is TEXT, ID, or a relation), and <code dir="ltr">D</code> means descending order (reverse alphabetical when the sorting criterion is TEXT, ID or a relation).</p>
</dd>
<dt>NAFIRST</dt>
<dd>
<p>Specifies that <code dir="ltr">NA</code> values are to placed first in the sort rather than last.</p>
</dd>
<dt><span class="italic">criterion</span></dt>
<dd>
<p>The expression to be used as a sorting criterion. Each <span class="italic">criterion</span> must be dimensioned by <span class="italic">dimension.</span> The first expression is the major sorting criterion. When the expression is multidimensional, SORT uses the first value in status for all dimensions other than the dimension being sorted. You cannot use a valueset as the sorting criterion.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5018"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2774"></a>Sorting a Dimension and a Valueset</p>
<p>When Oracle OLAP sorts a dimension, it sorts the temporary status list of a dimension, not the data dimensioned by it. Because many OLAP DML statements operate on data according to the current status of its dimensions, sorting a dimension <span class="italic">appears</span> to have the effect of sorting data. A dimension and any dimension surrogates for it share the same status. Therefore, a SORT statement on a dimension or any of its surrogates sorts them all.</p>
<p>When Oracle OLAP sorts a valueset, it sorts the actual values within the valueset. When you execute UPDATE and COMMIT commands after sorting a valueset, the values in the valueset are stored in that sorted order.</p>
<p class="subhead2"><a id="OLADM2775"></a>Sorting Alphabetically</p>
<p>To sort a TEXT or ID dimension or its valueset in alphabetical order, use the dimension itself as the sorting criterion.</p>
<pre dir="ltr">SORT district A district
</pre>
<p class="subhead2"><a id="OLADM2776"></a>Sort Order for Textual Data</p>
<p>The sort order for textual data in an alphabetical sort is controlled by the NLS_SORT option.</p>
<p class="subhead2"><a id="OLADM2777"></a>Sorting a Time Dimension</p>
<p>The values of dimensions of type DAY, WEEK, MONTH, QUARTER, and YEAR are stored internally as numbers. Therefore, when you sort a dimensions of type DAY, WEEK, MONTH, QUARTER, and YEAR dimension or its valueset in ascending order, with the dimension itself as the sorting criterion, then the values in the status list or valueset are placed in chronological order. When you sort a dimensions of type DAY, WEEK, MONTH, QUARTER, and YEAR dimension or its valueset in descending order, then the values are placed in reverse chronological order.</p>
<p class="subhead2"><a id="OLADM2778"></a>Sorting Using a Relation as a Criterion</p>
<p>When you use a relation as your sorting criterion, then the sorting is done alphabetically; that is, the dimension or valueset is sorted according to an alphabetical list of the related dimension values. To use a relation as the sorting criterion and keep the related dimension values in their original order, you must use the following expression as your sorting criterion.</p>
<pre dir="ltr">CONVERT(relation, INTEGER)
</pre>
<p>See <a href="#i81668">Example 10-126, &#34;Sorting Using a Relation as the Criterion&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2779"></a>Sorting Conjoint Dimensions</p>
<p>You can sort a conjoint dimension or its valueset by criteria dimensioned by either the conjoint dimension itself or by one of its base dimensions.</p>
<p class="subhead2"><a id="OLADM2780"></a>Sorting Concat Dimensions</p>
<p>You can sort a concat dimension or its valueset by criteria dimensioned by either the concat dimension itself or by one of its component dimensions. See <a href="#i81678">Example 10-127, &#34;Sorting Based on a Concat&#34;</a> and <a href="#i81685">Example 10-128, &#34;Sorting Based on a Component&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2781"></a>Sorting a Worksheet</p>
<p>You cannot use a worksheet as a sort criterion. You must first use CONVERT to specify the data type to which values of the worksheet should be converted.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5019"></a>Examples</p>
<div id="OLADM2782" class="example">
<p class="titleinexample"><a id="i81668"></a>Example 10-126 Sorting Using a Relation as the Criterion</p>
<p>This example sorts districts according to their unit sales of tents for July&nbsp;1996. They are sorted first by the region to which they belong and then in descending order of dollar sales. Notice that in the following SORT statement, a relation is used as the primary sorting criterion. Consequently, the districts are sorted by regions listed alphabetically.</p>
<pre dir="ltr">LIMIT month TO &#39;Jul96&#39;
LIMIT product TO &#39;Tents&#39;
SORT district A Region.District D sales
</pre>
<p>Assume you issue the following REPORT statement.</p>
<pre dir="ltr">REPORT DOWN district HEADING &#39;Region&#39; region.district sales
</pre>
<p>The preceding statement produces the following report that reflects the work of the SORT statement.</p>
<pre dir="ltr">PRODUCT: Tents
               --------MONTH--------
               --------JUL96--------
DISTRICT         Region     SALES
-------------- ---------- ----------
Dallas         Central    154,914.23
Chicago        Central     79,934.42
Atlanta        East       140,711.00
Boston         East        93,972.49
Seattle        West       123,700.17
Denver         West       100,413.49
</pre>
<p>In the following SORT statement, CONVERT is used to keep the regions in their original order.</p>
<pre dir="ltr">SORT district A CONVERT(region.district INTEGER) D sales
</pre>
<p>Assume that you issue the following REPORT statement.</p>
<pre dir="ltr">REPORT DOWN district HEADING &#39;Region&#39; region.district sales
</pre>
<p>The preceding statement produces the following report that reflects the work of the last SORT statement.</p>
<pre dir="ltr">PRODUCT: Tents
               --------MONTH--------
               --------JUL96--------
DISTRICT         Region     SALES
-------------- ---------- ----------
Atlanta        East       140,711.00
Boston         East        93,972.49
Dallas         Central    154,914.23
Chicago        Central     79,934.42
Seattle        West       123,700.17
Denver         West       100,413.49
</pre>
<p>When you want the dimension to keep the sorted order of its values permanently, use a MAINTAIN statement after you sort the dimension.</p>
<pre dir="ltr">SORT district A district
MAINTAIN district MOVE STATUS FIRST
</pre></div>
<!-- class="example" -->
<div id="OLADM2783" class="example">
<p class="titleinexample"><a id="i81678"></a>Example 10-127 Sorting Based on a Concat</p>
<p>The following statements sort the concat dimension <code dir="ltr">reg.dist.ccdim</code> in ascending order based on all of its values and report the result.</p>
<pre dir="ltr">sort reg.dist.ccdim d reg.dist.ccdim
report reg.dist.ccdim
</pre>
<p>The preceding statement produces the following results.</p>
<pre dir="ltr">REG.DIST.CCDIM
--------------------
&lt;Region: West&gt;
&lt;Region: East&gt;
&lt;Region: Central&gt;
&lt;District: Seattle&gt;
&lt;District: Denver&gt;
&lt;District: Dallas&gt;
&lt;District: Chicago&gt;
&lt;District: Boston&gt;
&lt;District: Atlanta&gt;
</pre>
<p>The following statements sort the concat dimension <code dir="ltr">reg.dist.ccdim</code> in ascending order based on all of its values and report the result.</p>
<pre dir="ltr">SORT reg.dist.ccdim A reg.dist.ccdim
REPORT reg.dist.ccdim
</pre>
<p>The preceding statement produces the following results.</p>
<pre dir="ltr">REG.DIST.CCDIM
--------------------
&lt;District: Atlanta&gt;
&lt;District: Boston&gt;
&lt;District: Chicago&gt;
&lt;District: Dallas&gt;
&lt;District: Denver&gt;
&lt;District: Seattle&gt;
&lt;Region: Central&gt;
&lt;Region: East&gt;
&lt;Region: West&gt;
</pre></div>
<!-- class="example" -->
<div id="OLADM2784" class="example">
<p class="titleinexample"><a id="i81685"></a>Example 10-128 Sorting Based on a Component</p>
<p>The following statements sort the concat dimension <code dir="ltr">reg.dist.ccdim</code> in ascending order based on the values of one of its base dimensions and in descending order based on the values of its other base dimension, and report the result.</p>
<pre dir="ltr">SORT reg.dist.ccdim A region D district
REPORT reg.dist.ccdim
</pre>
<p>The preceding statement produces the following results.</p>
<pre dir="ltr">REG.DIST.CCDIM
--------------------
&lt;REGION: CENTRAL&gt;
&lt;REGION: EAST&gt;
&lt;REGION: WEST&gt;
&lt;DISTRICT: SEATTLE&gt;
&lt;DISTRICT: DENVER&gt;
&lt;DISTRICT: DALLAS&gt;
&lt;DISTRICT: CHICAGO&gt;
&lt;DISTRICT: BOSTON&gt;
&lt;DISTRICT: ATLANTA&gt; 
</pre></div>
<!-- class="example" -->
<div id="OLADM2785" class="example">
<p class="titleinexample"><a id="CDFEEGHB"></a>Example 10-129 Sorting by Hierarchy</p>
<p>Assume that your analytic workspace has two dimensions (<code dir="ltr">geog</code> and <code dir="ltr">time</code>), one relation (<code dir="ltr">geogparent</code>) and one variable (<code dir="ltr">sales</code>) with the following definitions.</p>
<pre dir="ltr">DEFINE GEOG DIMENSION TEXT
DEFINE TIME DIMENSION TEXT
DEFINE GEOGPARENT RELATION GEOG &lt;GEOG&gt;
DEFINE SALES VARIABLE INTEGER &lt;TIME GEOG&gt;
 
</pre>
<p>If you issue a REPORT statement for <code dir="ltr">sales</code> when all of the values of <code dir="ltr">geog</code> are in status, Oracle OLAP produces the following report. This report displays the values for <code dir="ltr">geog</code> in the order in which they were added to the analytic workspace.</p>
<pre dir="ltr">REPORT sales
               --------SALES--------
               --------TIME---------
GEOG              2004       2005
-------------- ---------- ----------
USA                 1,300         NA
Massachusetts       3,881         NA
Florida             3,479         NA
Boston              2,644         NA
Orlando             4,398         NA
Miami               3,294         NA
Pembroke            4,268         NA
California          1,899         NA
Texas               2,115         NA
Los Angeles         2,394         NA
San Francisco       1,334         NA
Dallas                839         NA
Houston               997         NA
 
</pre>
<p>However, assume that you issue a SORT statement to sort the values of <code dir="ltr">geog</code> by (1) <code dir="ltr">geogparent</code> and (2) descending by <code dir="ltr">sales</code>. After this sort if you issue a REPORT statement for <code dir="ltr">sales</code>, Oracle OLAP produces the following report. This report displays the values for <code dir="ltr">geog</code> with the states in descending order by <code dir="ltr">sales</code>, but with the cities of each state under the appropriate state.</p>
<pre dir="ltr">SORT geog HIERARCHY geogparent D sales
REPORT SALES
 
               --------SALES--------
               --------TIME---------
GEOG              2004       2005
-------------- ---------- ----------
USA                 1,300         NA
Massachusetts       3,881         NA
Pembroke            4,268         NA
Boston              2,644         NA
Florida             3,479         NA
Orlando             4,398         NA
Miami               3,294         NA
Texas               2,115         NA
Houston               997         NA
Dallas                839         NA
California          1,899         NA
Los Angeles         2,394         NA
San Francisco       1,334         NA
 
</pre></div>
<!-- class="example" -->
<div id="OLADM2786" class="example">
<p class="titleinexample"><a id="sthref5020"></a>Example 10-130 Sorting Orphans of a Hierarchy</p>
<p>Assume that you have the same objects described in <a href="#CDFEEGHB">Example 10-129, &#34;Sorting by Hierarchy&#34;</a>. Assume also that the states of Florida and Massachusetts are not in status.</p>
<p>When you include the SORTORPHANS keyword in your SORT statement, the cities in Massachusetts and Florida are sorted together.</p>
<pre dir="ltr">SORT geog HIERARCHY geogparent SORTORPHANS D sales
REPORT sales
               ------------------SALES------------------
               ------------------TIME-------------------
GEOG                   2004                 2005
-------------- -------------------- --------------------
USA                           1,300                   NA
Orlando                       4,398                   NA
Pembroke                      4,268                   NA
Miami                         3,294                   NA
Boston                        2,644                   NA
Texas                         2,115                   NA
Houston                         997                   NA
Dallas                          839                   NA
California                    1,899                   NA
Los Angeles                   2,394                   NA
San Francisco                 1,334                   NA
 
</pre>
<p>However, if you exclude the SORTORPHANS keyword, Massachusetts cities and Florida cities are sorted separately.</p>
<pre dir="ltr">LIMIT geog COMPLEMENT &#39;Florida&#39; &#39;Massachusetts&#39;
SORT geog HIERARCHY geogparent D sales
REPORT SALES
 
              --------SALES--------
               --------TIME---------
GEOG              2004       2005
-------------- ---------- ----------
USA                 1,300         NA
Pembroke            4,268         NA
Boston              2,644         NA
Orlando             4,398         NA
Miami               3,294         NA
Texas               2,115         NA
Houston               997         NA
Dallas                839         NA
California          1,899         NA
Los Angeles         2,394         NA
San Francisco       1,334         NA
 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="g1037371"></a>
<div id="OLADM905" class="refsect1">
<h2 class="refsect1">SQL</h2>
<p><a id="ABC1072431"></a><a id="ABC1072431SRI1"></a>The SQL command passes instructions written in Structured Query Language (SQL) to the relational manager from Oracle OLAP. Using the SQL command, you can insert and update data in relational tables, retrieve data from relational tables into analytic workspace objects, and execute stored procedures.</p>
<p>To use the SQL command, you must be familiar with SQL syntax and with the data structures in your relational database, and have the appropriate access rights to the relational tables that you want to use.</p>
<p>This entry describes the OLAP DML SQL command in general, and subsequent entries discuss the use of the OLAP DML SQL command for specific SQL statements:</p>
<ul>
<li>
<p><a href="#i78701">SQL CLEANUP</a></p>
</li>
<li>
<p><a href="#i78697">SQL CLOSE</a></p>
</li>
<li>
<p><a href="#i78681">SQL DECLARE CURSOR</a></p>
</li>
<li>
<p><a href="#i1001016">SQL EXECUTE</a></p>
</li>
<li>
<p><a href="#i78689">SQL FETCH</a></p>
</li>
<li>
<p><a href="#i78693">SQL IMPORT</a></p>
</li>
<li>
<p><a href="#i78685">SQL OPEN</a></p>
</li>
<li>
<p><a href="#i78976">SQL PREPARE</a></p>
</li>
<li>
<p><a href="#BJEIJDAD">SQL PROCEDURE</a></p>
</li>
<li>
<p><a href="#i78599">SQL SELECT</a></p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5021"></a>Syntax</p>
<p class="synopsis">SQL <span class="italic">sql-statement</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5022"></a>Parameters</p>
<dl>
<dt><span class="italic">sql-statement</span></dt>
<dd>
<p>For <span class="italic">sql-statement</span> you can specify most SQL statements that can be executed dynamically and also several associated non-dynamic statements. You can also specify PROCEDURE for a stored procedure as described in SQL PROCEDURE. A SQL statement cannot exceed 128K bytes including the values of all non-textual OLAP DML input expressions.</p>
<p>You can<span class="italic">not</span> specify the following SQL statements for <span class="italic">sql-statement</span>:</p>
<ul>
<li>
<p><code dir="ltr">COMMIT</code> -- To commit your changes, issue the OLAP DML COMMIT statement.</p>
</li>
<li>
<p><code dir="ltr">ROLLBACK</code> -- You cannot rollback using the OLAP DML. When you specify SQL <code dir="ltr">ROLLBACK</code>, you receive an error message stating that <code dir="ltr">ROLLBACK</code> is not supported as an argument to an OLAP DML SQL statement.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
When you use an OLAP DML SQL statement to request a rollback in some other fashion (for example, using SQL EXECUTE), Oracle OLAP issues a system error message, abnormally terminates the OLAP DML program that issued the statement. Oracle OLAP also detaches, in an indeterminate state, the analytic workspace that contains the OLAP DML program that made the rollback request and any other attached analytic workspaces with uncommitted updates.</div>
</li>
</ul>
<p>Oracle OLAP evaluates some SQL statements before sending them to the relational manager. For example, Oracle OLAP evaluates SQL PREPARE and SQL EXECUTE, and SQL statements that copy data from relational tables into analytic workspace objects (See <a href="#i79314">&#34;Copying Relational Data into Analytic Workspace Objects&#34;</a> for a list of these statements).</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5023"></a>Usage Notes</p>
<p class="subhead2"><a id="i79314"></a><a id="OLADM2787"></a>Copying Relational Data into Analytic Workspace Objects</p>
<p><a id="sthref5024"></a>You can copy relational data into analytic workspace objects using either an implicit cursor or an explicit cursor:</p>
<ul>
<li>
<p>To copy data from relational tables into analytic workspace objects using an implicit cursor, use a SQL SELECT statement. You can use this OLAP DML statement interactively in the OLAP Worksheet or within an OLAP DML program.</p>
</li>
<li>
<p>To copy data from relational tables into analytic workspace objects using an explicit cursor, use the following commands within an OLAP DML program in the order indicated:</p>
<ol>
<li>
<p><a href="#i78681">SQL DECLARE CURSOR</a> to define a SQL cursor by associating it with a SELECT statement or procedure.</p>
</li>
<li>
<p><a href="#i78685">SQL OPEN</a> to activate a SQL cursor.</p>
</li>
<li>
<p><a href="#i78689">SQL FETCH</a> or <a href="#i78693">SQL IMPORT</a> to retrieve and process data specified by a cursor.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
SQL FETCH offers the most functionality; while SQL IMPORT offers improved performance when copying large amounts of data from relational tables into analytic workspace object.</div>
</li>
<li>
<p><a href="#i78697">SQL CLOSE</a> to close a SQL cursor.</p>
</li>
<li>
<p><a href="#i78701">SQL CLEANUP</a> to cancel all SQL cursor declarations and free the memory resources of an SQL cursor.</p>
</li>
</ol>
</li>
</ul>
<p>Oracle OLAP evaluates all of these statements before sending them to the relational manager.</p>
<p>For the syntax of these statements, see the individual topics. For the syntax of other SQL statements, refer to <span class="italic">Oracle Database SQL Language Reference</span>.</p>
<p class="subhead2"><a id="OLADM2788"></a>Inserting Data into a Relational Table</p>
<p><a id="sthref5025"></a>You can insert analytic workspace data into a relational table using SQL PREPARE statement for a SQL INSERT statement (typically with DIRECT= YES), and then executing the statement using SQL EXECUTE.</p>
<p class="subhead2"><a id="OLADM2789"></a>Options Related to the OLAP DML SQL Statements</p>
<p>Several options are available to you when embedding SQL into the OLAP DML. These options are listed in <a href="dml_options.htm#CHDCDDAB">&#34;SQL Embed Options&#34;</a>.</p>
<p class="subhead2"><a id="BJEHBHBI"></a><a id="OLADM2790"></a>Using OLAP DML Expressions in OLAP DML SQL Statements</p>
<p>You can use OLAP DML expressions (for example, OLAP DML variables) as arguments in many OLAP DML SQL statements. OLAP DML input expressions are values supplied by Oracle OLAP as parameters to a SQL statement. They specify the data to be selected or provide values for data that is being modified. You can use OLAP DML input expressions in SQL <code dir="ltr">WHERE</code> clauses, parameter list for procedures, <code dir="ltr">UPDATE</code> statements, and the value clause of <code dir="ltr">INSERT</code>.</p>
<p>Keep the following points in mind when using an OLAP DML expression in an OLAP DML SQL statement:</p>
<ul>
<li>
<p>OLAP DML expressions must be preceded by a colon (for example, <code dir="ltr">:myvar</code>).</p>
</li>
<li>
<p>When you specify a dimension or a dimensioned variable as an OLAP DML input expression, the first value in status is used; no implicit looping occurs, although you can use a FOR or an ACROSS statement to loop through all of the values. An OLAP DML input expression can be any expression with an appropriate data type. The value of an OLAP DML input expression is taken when a cursor is opened, not when it is declared. See <a href="#i79325">Example 10-131, &#34;Inserting Data in a Table&#34;</a>.</p>
</li>
<li>
<p>To update or insert data in a relational table that has either the CLOB and NCLOB data type, you use <code dir="ltr">WIDE</code> in the OLAP DML input expression as described in <a href="#BJEIFAHJ">&#34;Inserting Large Text Values into a CLOB or NCLOB Column&#34;</a> .</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2791"></a>Error Checking</p>
<p>Oracle OLAP can detect some syntax errors in the arguments to the SQL statement, but most errors are detected by the Oracle RDBMS. Error codes and messages are returned to Oracle OLAP. Check the value of SQLCODE after each SQL statement to determine when it resulted in an error. When it does cause an error (that is when <code dir="ltr">SQLCODE EQ -1</code>), check the value of SQLERRM for information about the cause of the error.</p>
<p class="subhead2"><a id="OLADM2792"></a>Converting Oracle RDBMS Data Types into Oracle OLAP DML Data Types</p>
<p><a href="#g1017647">Table 10-10, &#34;RDBMS Data Type Conversion to OLAP DML Data Types&#34;</a> shows which Oracle RDBMS data types can be automatically converted into Oracle OLAP DML data types. You must explicitly convert or cast other data types in the SELECT statement within a SQL DECLARE CURSOR statement.</p>
<div id="OLADM2793" class="tblformal">
<p class="titleintable"><a id="sthref5026"></a><a id="g1017647"></a>Table 10-10 RDBMS Data Type Conversion to OLAP DML Data Types</p>
<table class="cellalignment3618" title="RDBMS Data Type Conversion to OLAP DML Data Types" summary="This table outlines how Oracle OLAP converts RDBMS table data types into OLAP DML data types." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t111">Oracle RDBMS Data Type</th>
<th class="cellalignment3616" id="r1c2-t111">OLAP DML Dimension Type</th>
<th class="cellalignment3616" id="r1c3-t111">OLAP DML Variable Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t111" headers="r1c1-t111">
<p><code dir="ltr">CHAR,</code> <code dir="ltr">NCHAR</code>, <code dir="ltr">NVARCHAR2</code>, <code dir="ltr">VARCHAR2</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t111 r1c2-t111">
<p><code dir="ltr">TEXT [WIDTH</code> <code dir="ltr"><span class="codeinlineitalic">n</span></code><code dir="ltr">]</code>, <code dir="ltr">ID,</code> <code dir="ltr">NTEXT</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t111 r1c3-t111">
<p><code dir="ltr">TEXT</code>, <code dir="ltr">NTEXT</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t111" headers="r1c1-t111">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t111 r1c2-t111">
<p><code dir="ltr">NUMBER</code>, <code dir="ltr">INTEGER</code>, <code dir="ltr">SHORTINTEGER</code>, <code dir="ltr">LONGINTEGER</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t111 r1c3-t111">
<p><code dir="ltr">NUMBER</code>, <code dir="ltr">INTEGER</code>, <code dir="ltr">BOOLEAN</code>, <code dir="ltr">SHORTINTEGER</code>, <code dir="ltr">LONGINTEGER</code>, <code dir="ltr">DECIMAL</code>, <code dir="ltr">SHORTDECIMAL</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t111" headers="r1c1-t111">
<p><code dir="ltr">CLOB</code> (only within SQL FETCH and SQL SELECT statements)</p>
</td>
<td class="cellalignment3617" headers="r4c1-t111 r1c2-t111">
<p><code dir="ltr">TEXT</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t111 r1c3-t111">
<p><code dir="ltr">TEXT</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t111" headers="r1c1-t111">
<p><code dir="ltr">NCLOB</code> (only within SQL FETCH and SQL SELECT statements)</p>
</td>
<td class="cellalignment3617" headers="r5c1-t111 r1c2-t111">
<p><code dir="ltr">NTEXT</code></p>
</td>
<td class="cellalignment3617" headers="r5c1-t111 r1c3-t111">
<p><code dir="ltr">NTEXT</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t111" headers="r1c1-t111">
<p><code dir="ltr">DATE</code></p>
</td>
<td class="cellalignment3617" headers="r6c1-t111 r1c2-t111">
<p>-</p>
</td>
<td class="cellalignment3617" headers="r6c1-t111 r1c3-t111">
<p><code dir="ltr">DATE</code>, <code dir="ltr">DATETIME</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="OLADM2794"></a>SQL UPDATE Statements</p>
<p><code dir="ltr">SQL</code> <code dir="ltr">UPDATE</code> statements can contain a <code dir="ltr">WHERE</code> clause, which specifies a particular search condition. In addition to the search conditions typically used in SQL, the phrase <code dir="ltr">WHERE</code> <code dir="ltr">CURRENT</code> <code dir="ltr">OF</code> <code dir="ltr"><span class="codeinlineitalic">cursor</span></code> is supported for single tables and views that include columns from only one table. The cursor must have been defined with the <code dir="ltr">FOR</code> <code dir="ltr">UPDATE</code> clause as described in SQL DECLARE CURSOR.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5027"></a>Examples</p>
<div id="OLADM2795" class="example">
<p class="titleinexample"><a id="i79325"></a>Example 10-131 Inserting Data in a Table</p>
<p>You can use SQL statements such as the following to create a table and add rows to that table. The SQL INSERT statement adds a row to the <code dir="ltr">sales</code> table using values from the dimension <code dir="ltr">salesperson</code> and the variable <code dir="ltr">dollars</code>. It adds one row using the first value of <code dir="ltr">salesperson</code> that is in status.</p>
<pre dir="ltr">SQL CREATE TABLE sales (name CHAR(12), dollars INTEGER)
SQL INSERT INTO sales VALUES (:salesperson, :dollars)
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" -->
<div id="OLADM906" class="refsect2"><a id="i78701"></a>
<h3 class="refsect2">SQL CLEANUP</h3>
<p><a id="i1010705"></a><a id="sthref5028"></a>The SQL CLEANUP command cancels all SQL cursor declarations and frees the memory resources for all SQL cursors. You use the SQL CLEANUP command in combination with other SQL commands to copy data from relational tables into analytic workspace objects as outlined in <a href="#i79314">&#34;Copying Relational Data into Analytic Workspace Objects&#34;</a></p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5029"></a>Syntax</p>
<p class="synopsis">SQL&nbsp;CLEANUP</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5030"></a>Examples</p>
<p>For an example of the use of SQL CLEANUP, see <a href="#CHDIJEAB">Example 10-141, &#34;Fetching Data into a Concat Dimension&#34;</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM907" class="refsect2"><a id="i78697"></a>
<h3 class="refsect2">SQL CLOSE</h3>
<p><a id="sthref5031"></a><a id="sthref5032"></a><a id="sthref5033"></a>The SQL CLOSE command closes a SQL cursor. You use the SQL OPEN command in combination with other SQL commands to copy data from relational tables into analytic workspace objects as outlined in <a href="#i79314">&#34;Copying Relational Data into Analytic Workspace Objects&#34;</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5034"></a>Syntax</p>
<p class="synopsis">SQL&nbsp;CLOSE&nbsp;<span class="italic">cursor</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5035"></a>Parameters</p>
<dl>
<dt><span class="italic">cursor</span></dt>
<dd>
<p>The name of a cursor previously opened with a SQL OPEN statement.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5036"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2796"></a>Redefining the Result Set</p>
<p>You can change the result set associated with a cursor by closing the cursor, setting the value of an OLAP DML input expression, and issuing a new SQL OPEN statement. You do not have to free the cursor and redeclare it.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM908" class="refsect2"><a id="i78681"></a>
<h3 class="refsect2">SQL DECLARE CURSOR</h3>
<p><a id="sthref5037"></a><a id="sthref5038"></a><a id="sthref5039"></a>The SQL DECLARE CURSOR <a id="sthref5040"></a><a id="sthref5041"></a><a id="sthref5042"></a>command defines an explicit SQL cursor by associating it with a <code dir="ltr">SELECT</code> statement or procedure. The <code dir="ltr">SELECT</code> statement specifies the scope of the data (the rows and columns) selected by the cursor. You use the SQL DECLARE CURSOR command in combination with other SQL commands to use an explicit cursor to copy data from relational tables into analytic workspace objects as outlined in <a href="#i79314">&#34;Copying Relational Data into Analytic Workspace Objects&#34;</a>.</p>
<p>Two pseudo procedures, <code dir="ltr">SQLTABLES</code> and <code dir="ltr">SQLCOLUMNS</code>, allow you to obtain information about tables and columns.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5043"></a>Syntax</p>
<p class="synopsis">SQL&nbsp;DECLARE&nbsp;<span class="italic">cursor&nbsp;</span>CURSOR&nbsp;FOR&nbsp;{<span class="italic">select-statement</span> [FOR UPDATE]|<span class="italic">table-info</span>}</p>
<p>where <span class="syntaxinlineitalic">table-info</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinline">PROCEDURE&nbsp;SQLTABLES&nbsp;[</span><span class="syntaxinlineitalic">owner</span><span class="syntaxinline">,&nbsp;</span><span class="syntaxinlineitalic">table</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">PROCEDURE&nbsp;SQLCOLUMNS&nbsp;[</span><span class="syntaxinlineitalic">owner</span><span class="syntaxinline">,&nbsp;</span><span class="syntaxinlineitalic">table</span><span class="syntaxinline">,&nbsp;</span><span class="syntaxinlineitalic">column</span><span class="syntaxinline">]</span></dd>
</dl>
<div class="infobox-note">
<p class="notep1">Note:</p>
You specify <span class="syntaxinlineitalic">table-info</span> only to declare a cursor when <span class="italic">select-statement</span> is a SQL FETCH statement.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5044"></a>Parameters</p>
<dl>
<dt><span class="italic">cursor</span></dt>
<dd>
<p>The name of the cursor you are defining. Cursor names can consist of 1 to 18 alphanumeric characters or the symbols <code dir="ltr">@</code>, <code dir="ltr">_</code>, <code dir="ltr">$</code>, or <code dir="ltr">#</code>. A name that contains symbols <code dir="ltr">@</code>, <code dir="ltr">$</code>, or <code dir="ltr">#</code> must be enclosed in single quotes. The first character cannot be a number or an underscore. Cursor names are internal to Oracle OLAP. Unless you have issued a SQL CLEANUP statement, when you try to declare a cursor with the same name as a previously declared cursor, but with a different SQL <code dir="ltr">SELECT</code> statement, an error is signaled.</p>
</dd>
<dt><span class="italic">select-statement</span></dt>
<dd>
<p>A SQL SELECT statement that identifies the data you want to associate with the cursor. For the syntax of an SQL SELECT statement, refer to <span class="italic">Oracle Database SQL Language Reference.</span></p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Because both OLAP DML syntax and SQL syntax allow you to use AND and OR, construct the clause clearly so that Oracle OLAP can identify the end of an OLAP DML input expression. Use parenthesis to clarify the syntax in these situations and when using a SQL operator that is unknown in Oracle OLAP.</div>
</dd>
<dt>FOR UPDATE</dt>
<dd>
<p>Indicates that SQL FETCH is used to write data to the table. This clause is required when the cursor is used in an <code dir="ltr">UPDATE</code> statement with a <code dir="ltr">WHERE</code> <code dir="ltr">CURRENT</code> <code dir="ltr">OF</code> <code dir="ltr"><span class="codeinlineitalic">cursor</span></code> clause. The names of the columns to be updated can be listed in an <code dir="ltr">OF</code> clause (for example, <code dir="ltr">FOR</code>&nbsp;<code dir="ltr">UPDATE</code>&nbsp;<code dir="ltr">OF</code>&nbsp;<code dir="ltr">COL1,</code>&nbsp;<code dir="ltr">COL2,</code>&nbsp;<code dir="ltr">COL3</code>).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The FOR UPDATE clause is ignored by SQL IMPORT and SQL SELECT.</div>
</dd>
<dt>PROCEDURE SQLTABLES</dt>
<dd>
<p>When declaring a cursor for use by SQL FETCH, calls the pseudo procedure <code dir="ltr">SQLTABLES</code>, which returns the following values for each table that matches the search criterion as illustrated in <a href="#i79412">Example 10-133, &#34;Discovering Information About Relational Tables&#34;</a>:</p>
<ul>
<li>
<p><span class="italic">tableowner</span> -- A text value identifying the owner of the table.</p>
</li>
<li>
<p><span class="italic">tablename</span> -- A text value identifying the name of the table.</p>
</li>
<li>
<p><span class="italic">tabletype</span> -- A text value identifying the type of table using one of the following: TABLE, VIEW, SYSTEM TABLE, ALIAS, SYNONYM, LOCAL TEMPORARY, GLOBAL TEMPORARY, or NA (indicating an unrecognized type).</p>
</li>
</ul>
<p>When declaring a cursor for use by SQL IMPORT, you cannot use this clause.</p>
</dd>
<dt>PROCEDURE SQLCOLUMNS</dt>
<dd>
<p>When declaring a cursor for use by SQL FETCH, calls the pseudo procedure <code dir="ltr">SQLCOLUMNS</code>, which returns the following values for each column that matches the search criterion as illustrated in <a href="#i79422">Example 10-134, &#34;Discovering Information About the Columns of a Relational Table&#34;</a>:</p>
<ul>
<li>
<p><span class="italic">tableowner</span> -- A text value identifying the owner of the table.</p>
</li>
<li>
<p><span class="italic">tablename</span> -- A text value identifying the name of the table.</p>
</li>
<li>
<p><span class="italic">colname</span> -- A text value identifying the name of the column.</p>
</li>
<li>
<p><span class="italic">coltype</span> -- A text value identifying the data type of the column.</p>
</li>
<li>
<p><span class="italic">olaptype</span> -- A text value identifying the data type that most closely matches <span class="italic">coltype.</span></p>
</li>
<li>
<p><span class="italic">length</span> -- An <code dir="ltr">INTEGER</code> value identifying the length of column values.</p>
</li>
<li>
<p><span class="italic">precision</span> -- An <code dir="ltr">INTEGER</code> value identifying the precision of numeric column values.</p>
</li>
<li>
<p><span class="italic">scale</span> -- An <code dir="ltr">INTEGER</code> value identifying the scale of column values.</p>
</li>
<li>
<p><span class="italic">nullable</span> -- A text value of <code dir="ltr">Y</code> or <code dir="ltr">N</code> indicating whether the column can contain null values.</p>
</li>
</ul>
<p>When declaring a cursor for use by SQL IMPORT, you cannot use the PROCEDURE SQLCOLUMNS clause.</p>
</dd>
<dt><span class="italic">owner</span></dt>
<dd>
<p>Literal text or the name of an OLAP DML variable whose value specifies one or more owners. This expression acts as a filter to limit the results to only tables belonging to the specified owners. The keyword NULL or an OLAP DML variable with an <code dir="ltr">NA</code> value causes all table owners to be included in the results.</p>
<p>The expression can be specific, such as <code dir="ltr">&#39;SCOTT&#39;</code>, or it can contain wildcard characters such as <code dir="ltr">&#39;S%T&#39;</code> (all owners whose name begins with <code dir="ltr">S</code> and ends with <code dir="ltr">T</code>). The value retains its case when it is passed to the database, so be sure to enter the value with the appropriate use of upper- and lowercase letters. For example, Oracle relational databases by default store all values in uppercase and do not match <code dir="ltr">&#39;scott&#39;</code> or <code dir="ltr">&#39;Scott&#39;</code> with <code dir="ltr">&#39;SCOTT&#39;</code>.</p>
</dd>
<dt><span class="italic">table</span></dt>
<dd>
<p>Literal text or the name of an OLAP DML variable whose value specifies one or more tables. This expression acts as a filter to limit the results to only tables with the specified names. The keyword NULL or an OLAP DML variable with an <code dir="ltr">NA</code> value causes all tables to be included in the results.</p>
<p>The expression can be specific, such as <code dir="ltr">&#39;PAYROLL&#39;,</code> or it can contain wildcard characters such as <code dir="ltr">&#39;%ROLL&#39;</code> (all tables whose name ends with <code dir="ltr">ROLL</code>). The value retains its case when it is passed to the database, so be sure to enter the value with the appropriate use of upper- and lowercase letters. For example, Oracle relational databases by default store all values in uppercase and do not match <code dir="ltr">&#39;payroll&#39;</code> or <code dir="ltr">&#39;Payroll&#39;</code> with <code dir="ltr">&#39;PAYROLL&#39;</code>.</p>
</dd>
<dt><span class="italic">column</span></dt>
<dd>
<p>Literal text or the name of an OLAP DML variable whose value specifies one or more columns. This expression acts as a filter to limit the results to only columns with the specified names. The keyword <code dir="ltr">NULL</code> or an OLAP DML variable with an NA value causes all tables to be included in the results.</p>
<p>The expression can be specific, such as <code dir="ltr">&#39;SALARY&#39;</code>, or it can contain wildcard characters such as <code dir="ltr">&#39;SAL%&#39;</code> (all columns whose name begins with <code dir="ltr">SAL</code>). The value retains its case when it is passed to the database, so be sure to enter the value with the appropriate use of upper- and lowercase letters. For example, Oracle relational databases by default store all values in uppercase and do not match <code dir="ltr">&#39;salary&#39;</code> or <code dir="ltr">&#39;Salary&#39;</code> with <code dir="ltr">&#39;SALARY&#39;</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5045"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2797"></a>General Restrictions that Apply to SQL DECLARE CURSOR</p>
<p>The following restrictions apply to the SQL DECLARE CURSOR command:</p>
<ul>
<li>
<p>You can use it only in a program.</p>
</li>
<li>
<p>It cannot contain ampersand substitution.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2798"></a>Restrictions when Declaring a Cursor for Use by SQL IMPORT</p>
<p>When declaring a cursor to be used by a SQL IMPORT statement, you can only use the following simplified syntax.</p>
<p class="synopsis">SQL&nbsp;DECLARE&nbsp;<span class="italic">cursor&nbsp;</span>CURSOR&nbsp;FOR&nbsp;<span class="italic">select-statement</span></p>
<p>where <span class="italic">select-statement</span> is a SQL <code dir="ltr">SELECT</code> statement that identifies the data you want to associate with the cursor. You cannot use the <code dir="ltr">FOR</code> <code dir="ltr">UPDATE</code> clause or the <code dir="ltr"><span class="codeinlineitalic">table-info</span></code> clause.</p>
<p class="subhead2"><a id="OLADM2799"></a>Cursor&#39;s Result Set</p>
<p>A cursor&#39;s result set is determined at the time it is opened, and it is not updated later. Therefore, when you change the value of an OLAP DML input expression after you open its cursor, the change does not affect the cursor&#39;s result set. A cursor remains open until a SQL CLOSE statement is executed for that cursor or until a SQL CLEANUP statement closes all cursors. A cursor is not automatically closed at the termination of the program in which it was opened.</p>
<p class="subhead2"><a id="OLADM2800"></a>Optimizing Fetches</p>
<p>When fetching values into a multidimensional input variable, list the columns that correspond to the dimensions in an ORDER BY clause in the <span class="italic">select-statement</span> argument of a SQL DECLARE CURSOR statement, with the slowest-varying dimension first which optimizes performance.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5046"></a>Examples</p>
<div id="OLADM2801" class="example">
<p class="titleinexample"><a id="sthref5047"></a>Example 10-132 Testing for the Value of SQLCODE</p>
<p>Cursor <code dir="ltr">c1</code> is declared for three columns in the table <code dir="ltr">mkt</code>, which is owned by user <code dir="ltr">sqldba</code>. Values from the three columns are fetched into three analytic workspace objects. The first OLAP DML object is the <code dir="ltr">market</code> dimension, which is temporarily limited to the retrieved value. Because of the temporary status of <code dir="ltr">market</code>, the other column values are assigned to the appropriate cells of the other OLAP DML objects.</p>
<p>This example tests the value of SQLCODE in two places. A more complete program would do more error checking.</p>
<pre dir="ltr">DEFINE market DIMENSION TEXT
DEFINE mkt.desc TEXT &lt;market&gt;
DEFINE mkt.abbrev ID &lt;market&gt;
DEFINE sql.market PROGRAM
PROGRAM
TRAP ON ERROR
SQL DECLARE c1 cursor FOR -
   SELECT mktcode, mktabbrev, mktdesc FROM sqldba.mkt
SQL OPEN c1
IF SQLCODE NE 0
   THEN SIGNAL SQLERR &#39;open cursor failed.&#39;
WHILE SQLCODE EQ 0
   SQL FETCH c1 INTO :APPEND market, :mkt.abbrev, :mkt.desc
SQL CLOSE c1
   ...
RETURN
error:
   ...
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2802" class="example">
<p class="titleinexample"><a id="i79412"></a>Example 10-133 Discovering Information About Relational Tables</p>
<p>The following program fetches information about all tables owned by <code dir="ltr">Scott</code>. Notice that the value of the <span class="italic">ownername</span> variable is set after the SQL DECLARE cursor statement; it can be set any time before the SQL OPEN statement. The <span class="italic">tablename</span> variable is not set, but is initialized automatically to <code dir="ltr">NA</code>, which is passed as a null value.</p>
<pre dir="ltr">DEFINE ownername TEXT     &#34;Search criteria
DEFINE tablename TEXT     &#34;Search criteria
DEFINE tblowner TEXT      &#34;Search results
DEFINE tblname TEXT       &#34;Search results
DEFINE tbltype TEXT       &#34;Search results
 
SQL DECLARE c1 CURSOR FOR PROCEDURE sqltables(:ownername, :tablename)
ownername = &#39;Scott&#39;
SQL OPEN c1
WHILE SQLCODE EQ 0
   DO
   SQL FETCH c1 INTO :tblowner, :tblname, :tbltype
      ...     &#34;Process fetched values
   DOEND
</pre></div>
<!-- class="example" -->
<div id="OLADM2803" class="example">
<p class="titleinexample"><a id="i79422"></a>Example 10-134 Discovering Information About the Columns of a Relational Table</p>
<p>The following program fetches information about all columns in the <code dir="ltr">employee</code> table owned by <code dir="ltr">Scott</code>. Notice that <code dir="ltr">NULL</code> (and not <code dir="ltr">NA</code>) is used for the value of the third argument to <code dir="ltr">SQLCOLUMNS</code> because it is processed by the relational manager, not Oracle OLAP.</p>
<pre dir="ltr">DEFINE tblname TEXT             &#34;Search results
DEFINE tblowner TEXT            &#34;Search results
DEFINE colname TEXT             &#34;Search results
DEFINE coltype TEXT             &#34;Search results
DEFINE olaptype TEXT            &#34;Search results
DEFINE length INTEGER           &#34;Search results
DEFINE precision INTEGER        &#34;Search results
DEFINE scale INTEGER            &#34;Search results
DEFINE nullable TEXT            &#34;Search results
 
SQL DECLARE c1 CURSOR FOR PROCEDURE sqlcolumns(&#39;Scott&#39;, -
   &#39;Employee&#39;, NULL)
SQL OPEN c1
WHILE SQLCODE EQ 0
   DO
   SQL FETCH c1 INTO :tblowner, :tblname, :colname, :coltype, -
   :olaptype, :length, :precision, :scale, :nullable
      ...  &#34;Process fetched values
    DOEND 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM909" class="refsect2"><a id="i1001016"></a>
<h3 class="refsect2">SQL EXECUTE</h3>
<p><a id="i1010706"></a>The <a id="sthref5048"></a>SQL EXECUTE command executes SQL statements that have been compiled using SQL PREPARE. Typically, the SQL statements that you precompile are statements that are executed repeatedly, particularly those involving OLAP DML input expressions, such as <code dir="ltr">INSERT</code>, <code dir="ltr">UPDATE</code>, and <code dir="ltr">DELETE</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The SQL PREPARE and SQL EXECUTE commands can only be used within the same DML program.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5049"></a>Syntax</p>
<p class="synopsis">SQL&nbsp;EXECUTE&nbsp;<span class="italic">statement-name</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5050"></a>Parameters</p>
<dl>
<dt><span class="italic">statement-name</span></dt>
<dd>
<p>The name that you assigned to the executable code when you prepared it using SQL PREPARE.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5051"></a>Examples</p>
<div id="OLADM2804" class="example">
<p class="titleinexample"><a id="sthref5052"></a>Example 10-135 Updating a Relational Table Using Analytic Workspace Data</p>
<p>The next example shows a simple update of a table using data stored in Oracle OLAP. The market dimension is limited to one value at a time in the FOR loop. The SQL phrase <code dir="ltr">WHERE s.market=:market</code> specifies that the sales value in the row for that market is the value that is changed.</p>
<pre dir="ltr">FOR market
   SQL UPDATE mkt SET sales=:mkt.sales WHERE s.market=:market
</pre>
<p>An UPDATE statement should be used in a SQL PREPARE statement and executed in a FOR loop.</p>
<pre dir="ltr">SQL PREPARE s2 FROM UPDATE mkt -
   SET sales=:mkt.sales WHERE s.market=:market
FOR market
   DO
      SQL EXECUTE s2
      IF SQLCODE NE 0
      THEN BREAK
   DOEND
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM910" class="refsect2"><a id="i78689"></a>
<h3 class="refsect2">SQL FETCH</h3>
<p><a id="sthref5053"></a><a id="sthref5054"></a>The SQL FETCH command <a id="sthref5055"></a>retrieves and processes data specified by a named SQL cursor. SQL FETCH assigns the retrieved data to OLAP objects. You use the SQL FETCH command in combination with other SQL commands to copy data from relational tables into analytic workspace objects as outlined in <a href="#i79314">&#34;Copying Relational Data into Analytic Workspace Objects&#34;</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5056"></a>Syntax</p>
<p class="synopsis">SQL&nbsp;FETCH&nbsp;<span class="italic">cursor&nbsp;</span>[LOOP&nbsp;[<span class="italic">loopcount</span>]]&nbsp;-</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;INTO&nbsp;:<span class="italic">targets.</span>..&nbsp;[THEN&nbsp;<span class="italic">action-statements</span>...]</p>
<p>where:</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">targets</span> is one or more of the following:</p>
<dl>
<dd><span class="syntaxinline">[MATCH]</span>&nbsp;<span class="syntaxinlineitalic">dimension|surrogate</span></dd>
<dd><span class="syntaxinline">APPEND&nbsp;[</span><span class="syntaxinlineitalic">position</span><span class="syntaxinline">]&nbsp;</span><span class="syntaxinlineitalic">dimension</span></dd>
<dd><span class="syntaxinline">ASSIGN&nbsp;</span><span class="syntaxinlineitalic">surrogate</span></dd>
<dd><span class="syntaxinlineitalic">variable</span> <span class="syntaxinline">|</span> <span class="syntaxinlineitalic">qualified&nbsp;data&nbsp;reference</span> <span class="syntaxinline">|</span> <span class="syntaxinlineitalic">relation</span> <span class="syntaxinline">|</span> <span class="syntaxinlineitalic">composite</span></dd>
</dl>
</li>
<li>
<p><span class="syntaxinlineitalic">position</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinline">AFTER&nbsp;</span><span class="syntaxinlineitalic">dimension-value</span></dd>
<dd><span class="syntaxinline">BEFORE&nbsp;</span><span class="syntaxinlineitalic">dimension-value</span></dd>
<dd><span class="syntaxinline">FIRST</span></dd>
<dd><span class="syntaxinline">LAST</span></dd>
</dl>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5057"></a>Parameters</p>
<dl>
<dt><span class="italic">cursor</span></dt>
<dd>
<p>The name of a declared and opened cursor.</p>
</dd>
<dt>LOOP</dt>
<dd>
<p><a id="sthref5058"></a>Specifies that Oracle OLAP should implicitly loop over the rows obtained from a relational table. For each row, Oracle OLAP copies the data in individual fields to objects specified as target analytic workspace objects. When you include a LOOP clause, SQL FETCH continues processing rows until it reaches the end of the active set specified by the cursor, or an error occurs, or <span class="italic">loopcount</span> is satisfied. In most cases, use the LOOP clause to improve the performance of SQL&nbsp;FETCH.</p>
<p>When you do not specify a LOOP clause and the cursor contains multiple rows in its active set, you must code the SQL FETCH statement within a WHILE loop. This loop must be based on the value of the SQLCODE option, which returns a nonzero value to indicate the end of the data or an error.</p>
</dd>
<dt><span class="italic">loopcount</span></dt>
<dd>
<p>Optional <code dir="ltr">INTEGER</code> argument to the LOOP keyword. <span class="italic">Loopcount</span> controls how SQL&nbsp;FETCH loops over the rows from a relational table. <span class="italic">Loopcount</span> can be a literal value, an OLAP DML variable, or <code dir="ltr">NA</code>. When <span class="italic">loopcount</span> is less than or equal to zero, no looping occurs and no data is fetched.</p>
<p>When you specify a LOOP clause without a value for <span class="italic">loopcount</span>, SQL&nbsp;FETCH continues reading rows and copying their contents to target analytic workspace objects until there are no more rows or an error occurs. Internally, each row is processed until SQLCODE is nonzero.</p>
<p>When you specify a literal value for <span class="italic">loopcount</span>, SQL FETCH processes the number of rows specified by <span class="italic">loopcount</span> or until SQLCODE is nonzero.</p>
<p>When you specify a variable for <span class="italic">loopcount</span>, it must be in the form of an OLAP DML variable (preceded by a colon). This variable acts as both an input and an output variable. The initial value of <span class="italic">loopcount</span> specifies the number of rows that SQL&nbsp;FETCH attempts to process. Upon completion of the SQL FETCH, <span class="italic">loopcount</span> contains the number of rows actually processed.</p>
<p>When you specify <code dir="ltr">NA</code> for <span class="italic">loopcount</span>, SQL FETCH processes rows until SQLCODE is nonzero. However, upon completion of the SQL FETCH, <span class="italic">loopcount</span> contains the number of rows actually processed.</p>
</dd>
<dt><span class="italic">targets</span></dt>
<dd>
<p>Identifies the analytic workspace objects in which you want to store data that is retrieved from a relational table. This list of target analytic workspace objects must correspond in number and data type with the list of table columns specified in the <span class="italic">select-statement</span> argument of the SQL DECLARE CURSOR command that declared <span class="italic">cursor</span>. A target can be a variable, a qualified data reference, a relation, a dimension, a composite, or a conjoint.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
The order in which you specify the target analytic workspace objects affects dimension status. For each dimension value, Oracle OLAP temporarily limits the status of the dimension to the fetched value. Values are assigned to subsequent analytic workspace objects according to this temporary status. See <a href="#i79465">&#34;Conjoints as Target Analytic Workspace Objects&#34;</a> and <a href="#i79472">&#34;Composites as Target Analytic Workspace Objects&#34;</a>.</div>
<p>A target must be preceded by a colon. When the target is a dimension, it can include the MATCH and APPEND keywords to specify dimension handling; in this case, the colon precedes the keywords.</p>
</dd>
<dt>[MATCH] {<span class="italic">dimension</span>|<span class="italic">surrogate</span>}</dt>
<dd>
<p>(Default) Oracle OLAP does not perform dimension maintenance on the <span class="italic">target</span> dimension or surrogate. It uses the incoming values to align data that is being fetched into dimensioned objects. When a value from the relational database does not match any value in the dimension or surrogate, an error is signaled.</p>
</dd>
<dt>APPEND [<span class="italic">position</span>] <span class="italic">dimension</span></dt>
<dd>
<p>Oracle OLAP performs dimension maintenance on the <span class="italic">target</span> dimension, adding new values to the dimension. It uses both old and new dimension values to align data being fetched into dimensioned objects. By default, new values are added to the end of a dimension or surrogate.</p>
<p><span class="italic">position</span> is one of the following:</p>
<ul>
<li>
<p><span class="syntaxinline">AFTER&nbsp;</span><span class="syntaxinlineitalic">dimension-value</span></p>
<p>Any new values are added after <span class="italic">dimension-value</span> in the status list.</p>
</li>
<li>
<p><span class="syntaxinline">BEFORE&nbsp;</span><span class="syntaxinlineitalic">dimension-value</span></p>
<p>Any new values are added immediately before <span class="italic">dimension-value</span> in the status list.</p>
</li>
<li>
<p><span class="syntaxinline">FIRST</span></p>
<p>Any new values are added to the beginning of the status list.</p>
</li>
<li>
<p><span class="syntaxinline">LAST</span></p>
<p>Any new values are added to the end of the status list.</p>
</li>
</ul>
<p>The <span class="italic">position</span> can also be used to control how dimension values are processed in action statements.</p>
</dd>
<dt>ASSIGN <span class="italic">surrogate</span></dt>
<dd>
<p>Assigns the values to the specified surrogate.</p>
</dd>
<dt>THEN <span class="italic">action-statements</span>...</dt>
<dd>
<p>Specifies any number of <span class="italic">action-statements</span> to be performed each time a row of data is fetched and assigned to target analytic workspace objects. An <span class="italic">action-statement</span> can be one of the following:</p>
<p class="synopsis"><span class="syntaxinlineitalic">assignment-statement</span></p>
<p class="synopsis">IF <span class="italic">statement</span></p>
<p class="synopsis">SELECT-<span class="italic">statement</span></p>
<p class="synopsis">ACROSS <span class="italic">statement</span>: <span class="italic">action-statement</span></p>
<p class="synopsis">&lt;<span class="italic">action-statement-group</span>&gt;</p>
<p>Refer to the SQL IMPORT command for a complete description of the syntax of <span class="italic">action-statements</span>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5059"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2805"></a>Effect of Order SQL FETCH Targets on Dimension Status</p>
<p>For each dimension value, Oracle OLAP temporarily limits the status of the dimension to the fetched value. Values are assigned to subsequent analytic workspace objects according to this temporary status.</p>
<p class="subhead2"><a id="i79465"></a><a id="OLADM2806"></a>Conjoints as Target Analytic Workspace Objects</p>
<p>You can use a conjoint dimension as a target analytic workspace object, but you must ensure that you select the same number of columns from the relational table as there are simple base dimensions. When Oracle OLAP executes a SQL FETCH statement for a target that is a conjoint dimension, it uses the dimension order that was specified when the conjoint was defined.</p>
<p class="subhead2"><a id="i79472"></a><a id="OLADM2807"></a>Composites as Target Analytic Workspace Objects</p>
<p>You can specify analytic workspace objects for composites just as you would for dimensioned variables. For example, to fetch data into a variable <code dir="ltr">var1</code> dimensioned by <code dir="ltr">dim1</code> and <code dir="ltr">dim2</code>, you would specify the following list of target analytic workspace objects.</p>
<pre dir="ltr">:dim1 :dim2 :var1
</pre>
<p>To fetch data into a variable <code dir="ltr">var2</code> dimensioned by a composite whose dimensions are <code dir="ltr">dim1</code> and <code dir="ltr">dim2</code>, you would specify the following list of target analytic workspace objects.</p>
<pre dir="ltr">:dim1 :dim2 :var2
</pre>
<p class="subhead2"><a id="OLADM2808"></a>Null Values</p>
<p>A null value in SQL is equivalent to an <code dir="ltr">NA</code> value in Oracle OLAP, so null values fetched into target analytic workspace objects are given <code dir="ltr">NA</code> values. Because Oracle OLAP handles null values in this way, the SQL command does not support <code dir="ltr">INDICATOR</code> variables in the INTO clause of a SQL FETCH statement. When fetching null values into a dimension, however, Oracle OLAP discards the values for the entire row.</p>
<p class="subhead2"><a id="OLADM2809"></a>Working with Boolean Variables as Input and Target Objects</p>
<p>You can use Boolean variables as input and target analytic workspace objects for OLAP SQL commands. In OLAP DML input expressions, Oracle OLAP treats Boolean values as <code dir="ltr">INTEGER</code> values with a value of <code dir="ltr">1</code> (<code dir="ltr">TRUE</code>) or <code dir="ltr">0</code> (<code dir="ltr">FALSE</code>).</p>
<p>As target analytic workspace objects, Boolean variables can receive values from any numeric (or bit) column in a relational table.</p>
<p class="subhead2"><a id="OLADM2810"></a>Fetching Text Data into DATE Variables</p>
<p>When fetching text data into a DATE variable, the current setting of the DATEORDER option is used to interpret the value. For example, a text value of <code dir="ltr">12-08-96</code> could be interpreted as December 8, 1996, or August 12, 1996, depending on the setting of DATEORDER.</p>
<p class="subhead2"><a id="OLADM2811"></a>Untransferable Data Types</p>
<p>You cannot transfer data with the following data types: LONG RAW, ROWID, UROWID, BLOB, and BFILE.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5060"></a>Examples</p>
<div id="OLADM2812" class="example">
<p class="titleinexample"><a id="i1009361"></a>Example 10-136 Fetching Data From Relational Tables -- A Simple SQL FETCH</p>
<p>he following program fragment shows the basic steps of declaring and opening a cursor, and fetching the data. Relational data from the <code dir="ltr">Prod_ID</code> and <code dir="ltr">Prod_Name</code> columns of the <code dir="ltr">Products</code> table are fetched into the <code dir="ltr">prod</code> dimension and <code dir="ltr">prod_label</code> variable. The variable <code dir="ltr">prod_label</code> is dimensioned by <code dir="ltr">prod</code>. Notice that the SQL FETCH statement in this example does not include a LOOP clause; it therefore retrieves a single row of data each time it is called.</p>
<pre dir="ltr">VARIABLE set_price SHORT
set_price = 20
     ...
SQL DECLARE highprice CURSOR FOR SELECT Prod_ID, Prod_Name -
   FROM Products WHERE suggested_price &gt; :set_price
SQL OPEN highprice
WHILE SQLCODE EQ 0
     SQL FETCH highprice INTO :prod, :prod_label
</pre></div>
<!-- class="example" -->
<div id="OLADM2813" class="example">
<p class="titleinexample"><a id="sthref5061"></a>Example 10-137 Fetching Data From Relational Tables with a THEN Clause</p>
<p>The following program fragment shows the SQL FETCH statement from the previous example with the addition of the LOOP keyword and a THEN clause. Because of the LOOP keyword, this SQL FETCH statement does not have to run within a WHILE loop. The action statement following the THEN keyword copies any product names stored in <code dir="ltr">prod_label</code> that start with the letter <code dir="ltr">A</code> into a multiline text variable called <code dir="ltr">a_product</code>.</p>
<pre dir="ltr">SQL FETCH highprice LOOP INTO :prod, :prod_label -
   THEN IF UPCASE(EXTCHARS(prod_label, 1, 1)) EQ &#39;a&#39; -
      THEN a_product = JOINLINES(a_product prod_label)
</pre></div>
<!-- class="example" -->
<div id="OLADM2814" class="example">
<p class="titleinexample"><a id="sthref5062"></a>Example 10-138 Populating with Relational Data While Maintaining a Conjoint Dimension</p>
<p>In this example, a conjoint dimension (named <code dir="ltr">mpt</code>) is used as a target analytic workspace object. To populate a conjoint dimension, you must select values from the relational database for each of its base dimensions. Here, the three base dimensions are <code dir="ltr">market</code>, <code dir="ltr">product</code>, and <code dir="ltr">time</code>. Therefore, the <code dir="ltr">SELECT</code> statement specifies the three corresponding columns (<code dir="ltr">Mktcode</code>, <code dir="ltr">Prdcode</code>, and <code dir="ltr">Percode</code>). The program assumes that the <code dir="ltr">market</code>, <code dir="ltr">product</code>, and <code dir="ltr">time</code> dimensions are already populated with up-to-date values; Oracle OLAP does not update the base dimensions unless you explicitly specify them as target analytic workspace objects.</p>
<pre dir="ltr">DEFINE mpt DIMENSION &lt;market product time&gt;
DEFINE sql.mpt PROGRAM
PROGRAM
   ...
SQL DECLARE c1 CURSOR FOR -
   SELECT Mktcode, Prdcode, Percode FROM Sqldba.Data
IF SQLCODE NE 0
   THEN SIGNAL sqlerrm
SQL OPEN c1
SQL FETCH c1 LOOP INTO :append mpt
SQL CLOSE c1
   ...
END
</pre></div>
<!-- class="example" -->
<div id="OLADM2815" class="example">
<p class="titleinexample"><a id="sthref5063"></a>Example 10-139 Populating Data While Maintaining Base and Conjoint Dimensions</p>
<p>To retrieve current values for the base and conjoint dimensions, or to retrieve the values for the first time, you can fetch the values for the base dimensions immediately before you fetch the values for the conjoint dimension. In the following example, the SQL DECLARE CURSOR and SQL FETCH commands have been edited to fetch both base and conjoint dimension values. Notice that the number of columns selected from the relational table must match the number of <span class="italic">base</span> dimensions fetched. There are six column specifications in the SELECT statement. The first three match the three base dimensions, and the last three match the conjoint dimension itself.</p>
<pre dir="ltr">SQL DECLARE c1 CURSOR FOR -
   SELECT Mktcode, Prdcode, Percode, Mktcode,  -
      Prdcode, Percode FROM Sqldba.Data
   ...
  SQL FETCH c1 LOOP INTO :APPEND market, :APPEND product, -
   :APPEND time, :APPEND mpt
</pre></div>
<!-- class="example" -->
<div id="OLADM2816" class="example">
<p class="titleinexample"><a id="sthref5064"></a>Example 10-140 Populating Variables with Relational Table Data while Maintaining Dimensions</p>
<p>In the next example, variable <code dir="ltr">dollars.mpt</code> is dimensioned by the conjoint <code dir="ltr">mpt</code>, and its values are populated in the same SQL FETCH statement with the dimension values. The SQL DECLARE CURSOR and SQL FETCH commands have been edited again with the new column and target analytic workspace object added.</p>
<pre dir="ltr">DEFINE dollars.mpt DECIMAL &lt;mpt&gt;
SQL DECLARE c1 CURSOR FOR -
   SELECT Mktcode, Prdcode, Percode, Mktcode, Prdcode, -
      Percode, Dollars FROM Sqldba.Data
   ...
SQL FETCH c1 LOOP INTO :APPEND market, :APPEND product, -
   :APPEND time, :APPEND mpt, :DOLLARS.mpt 
</pre></div>
<!-- class="example" -->
<div id="OLADM2817" class="example">
<p class="titleinexample"><a id="CHDIJEAB"></a><a id="i1009978"></a>Example 10-141 Fetching Data into a Concat Dimension</p>
<p>Assume that a relational table has four columns of product data and that you decide to create a Product hierarchy with four levels in your analytic workspace to hold this data. The levels in the hierarchy (<code dir="ltr">prod_id</code>, <code dir="ltr">prod_subcategory</code>, <code dir="ltr">prod_category</code>, and <code dir="ltr">products_all</code>) map to columns in the <code dir="ltr">products</code> tables. The lowest level of the hierarchy is <code dir="ltr">prod_id</code> and the highest level is <code dir="ltr">products_all</code>. There is also a column with supplier information in the table.</p>
<p>To hold the data in the analytic workspace you define a dimension was defined for each level of the Product hierarchy, a concat dimension for the hierarchy itself, and a child-parent relation between the values in the hierarchy. You also define a dimension for the supplier data and a relation that holds the relationship between suppliers and products with the following definitions.</p>
<pre dir="ltr">DEFINE aw_prod_id DIMENSION NUMBER (6)
DEFINE aw_prod_subcategory DIMENSION TEXT
DEFINE aw_prod_category DIMENSION TEXT
DEFINE aw_products_all DIMENSION TEXT
DEFINE aw_products DIMENSION CONCAT (aw_products_all -
                                  aw_prod_category -
                                  aw_prod_subcategory -
                                  aw_prod_id)
DEFINE aw_products.parents RELATION aw_products &lt;aw_products&gt;
DEFINE aw_supplier_id DIMENSION NUMBER (6)
DEFINE aw_prod_id.aw_supplier_id RELATION aw_supplier_id &lt;aw_prod_id&gt;
</pre>
<p>Assume that you write a program named <code dir="ltr">get_products_hier</code> that consists of the following code.</p>
<pre dir="ltr">&#39; get_products_hier Program
ALLSTAT
&#34; Fetch values into the products hierarchy
SQL DECLARE grabprods CURSOR FOR SELECT prod_total, -
                                        prod_category, -
                                        prod_subcategory, -
                                        prod_id -
                                   FROM sh.products
SQL OPEN grabprods
SQL IMPORT grabprods INTO :APPEND aw_products_all -
                              :APPEND aw_prod_category -
                              :APPEND aw_prod_subcategory -
                              :APPEND aw_prod_id 
                         
SQL CLOSE grabprods 
SQL CLEANUP
&#34; Update the analytic workspace and make the updates permanent
UPDATE
COMMIT
&#34; Fetch values into supplier_id
SQL DECLARE grabsupid CURSOR FOR SELECT supplier_id -
                                 FROM sh.products
SQL OPEN grabsupid
SQL IMPORT grabsupid INTO :APPEND aw_supplier_id 
SQL CLOSE grabsupid 
SQL CLEANUP
&#34; Update the analytic workspace and make the updates permanent
UPDATE
COMMIT

&#34; Populate self-relation for concat dimension
&#34; and relation between aw_prod_id and aw_supplier_id
SQL DECLARE makerels CURSOR FOR SELECT prod_total, -
                                       prod_category, -
                                       prod_subcategory, -
                                       prod_id, -
                                       supplier_id -
                                 FROM sh.products
SQL OPEN makerels
SQL FETCH makerels LOOP INTO :MATCH aw_products_all -
                             :MATCH aw_prod_category -
                             :MATCH aw_prod_subcategory -
                             :MATCH aw_prod_id -
                             :MATCH aw_supplier_id -
            THEN aw_products.parents(aw_products aw_prod_id) -
                = aw_products(aw_prod_subcategory aw_prod_subcategory) -
            aw_products.parents(aw_products aw_prod_subcategory) -
               = aw_products(aw_prod_category aw_prod_category) -
            aw_products.parents(aw_products aw_prod_category) -
               = aw_products(aw_products_all aw_products_all) -
            aw_prod_id.aw_supplier_id = aw_supplier_id         
SQL CLOSE makerels 
SQL CLEANUP
&#34; Update the analytic workspace and make the updates permanent
UPDATE
COMMIT
</pre></div>
<!-- class="example" -->
<p>The <code dir="ltr">get_products_hier</code> program copies the data from the dimension tables into the base dimensions of the <code dir="ltr">aw_products</code> concat dimension using <code dir="ltr">SQL FETCH</code> commands with the <code dir="ltr">APPEND</code> keyword. As the base dimensions of <code dir="ltr">aw_products</code> are populated, Oracle OLAP automatically populates <code dir="ltr">aw_products</code>, itself. As the <code dir="ltr">THEN</code> clause of the <code dir="ltr">SQL FETCH</code> statement executes, Oracle OLAP fetches data into the child-parent self-relation for <code dir="ltr">aw_products</code>. This program also populates the <code dir="ltr">aw_supplier_id</code> dimension and its relation.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM911" class="refsect2"><a id="i78693"></a>
<h3 class="refsect2">SQL IMPORT</h3>
<p><a id="sthref5065"></a><a id="sthref5066"></a>The SQL IMPORT command retrieves and processes data specified by an explicit SQL cursor. SQL IMPORT assigns the retrieved data to OLAP objects. You use the SQL IMPORT command in combination with other SQL commands to copy data from relational tables into analytic workspace objects as outlined in <a href="#i79314">&#34;Copying Relational Data into Analytic Workspace Objects&#34;</a>. SQL IMPORT is particularly effective in copying fact data from relational tables into analytic workspace variables.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot transfer data with the following data types: LONG, BLOB, and BFILE.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5067"></a>Syntax</p>
<p class="synopsis">SQL IMPORT <span class="italic">cursor</span> [:<span class="italic">var-num-of-rows</span> |<span class="italic">num-of-rows</span>[:<span class="italic">var-num-of-processed-rows</span>]]-</p>
<p class="synopsis">INTO :<span class="italic">targets</span>... [THEN <span class="italic">action-statements</span>...]</p>
<p>where:</p>
<ul>
<li>
<p><span class="syntaxinlineitalic">targets</span> is one or more of the following:</p>
<dl>
<dd><span class="syntaxinline">MATCH | MATCHSKIPERR [</span><span class="syntaxinlineitalic">position</span><span class="syntaxinline">]&nbsp;{</span><span class="syntaxinlineitalic">dimension</span> <span class="syntaxinline">|</span> <span class="syntaxinlineitalic">surrogate</span> <span class="syntaxinline">|</span> <span class="syntaxinlineitalic">valueset</span> <span class="syntaxinline">|</span> <span class="syntaxinlineitalic">relation</span><span class="syntaxinline">}</span></dd>
<dd><span class="syntaxinline">APPEND</span>&nbsp;<span class="syntaxinlineitalic">dimension</span></dd>
<dd><span class="syntaxinline">ASSIGN</span>&nbsp;<span class="syntaxinlineitalic">surrogate</span></dd>
<dd><span class="syntaxinlineitalic">variable</span> <span class="syntaxinline">|</span> <span class="syntaxinlineitalic">relation</span> <span class="syntaxinline">|</span> <span class="syntaxinlineitalic">qualified&nbsp;data&nbsp;reference</span></dd>
</dl>
</li>
<li>
<p><span class="syntaxinlineitalic">action-statements</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinlineitalic">assignment-statement</span></dd>
<dd><span class="syntaxinlineitalic">IF-statement</span></dd>
<dd><span class="syntaxinlineitalic">SELECT-statement</span></dd>
<dd><span class="syntaxinlineitalic">ACROSS-statement</span><span class="syntaxinline">:</span> <span class="syntaxinlineitalic">action-statement</span></dd>
<dd><span class="syntaxinline">&lt;</span><span class="syntaxinlineitalic">action-statement-group</span><span class="syntaxinline">&gt;</span></dd>
</dl>
</li>
</ul>
<p class="synopsis"></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5068"></a>Parameters</p>
<dl>
<dt><span class="italic">cursor</span></dt>
<dd>
<p>The name of a declared cursor.</p>
</dd>
<dt><span class="italic">var-num-of-rows</span></dt>
<dd>
<p>The name of a variable that specifies the number of rows that you want SQL IMPORT to attempt to import.</p>
</dd>
<dt><span class="italic">num-of-rows</span></dt>
<dd>
<p>A numeric constant that specifies the number of rows that you want SQL IMPORT to attempt to import.</p>
</dd>
<dt><span class="italic">var-num-of-processed-rows</span></dt>
<dd>
<p>When you include the MATCHSKIPERR keyword in the <span class="italic">targets</span> parameter, the name of a variable that specifies the actual number of rows that you want SQL IMPORT to import into analytic workspace objects.</p>
</dd>
<dt><span class="italic">targets</span></dt>
<dd>
<p>Identifies the analytic workspace objects in which you want to store data that is retrieved from a relational table. This list of target analytic workspace objects must correspond in number and data type with the list of table columns specified in the <span class="italic">select-statement</span> argument of the SQL DECLARE CURSOR command that declared <span class="italic">cursor</span>. A target can be a variable, a qualified data reference, a relation, a dimension, or a composite.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
The order in which you specify the analytic workspace objects affects dimension status. For each dimension value, Oracle OLAP temporarily limits the status of the dimension to the fetched value. Values are assigned to subsequent analytic workspace objects according to this temporary status.</div>
</dd>
<dt>MATCH</dt>
<dd>
<p>(Default) Oracle OLAP does not copy values from the corresponding relational table column into the <span class="italic">target</span> dimension or surrogate. It only uses the values to align data that is being fetched into dimensioned objects. When a value from the relational database does not match any value in the dimension, an error is signaled.</p>
</dd>
<dt>MATCHSKIPERR</dt>
<dd>
<p>Oracle OLAP does not copy values from the corresponding relational table column into the <span class="italic">target</span> dimension or surrogate. It only uses the values to align data that is being fetched into dimensioned objects. When a value from the relational database does not match any value in the dimension, the value is ignored and processing continues without signaling an error.</p>
</dd>
<dt><span class="italic">position</span></dt>
<dd>
<p>The one-based logical position of the value.</p>
</dd>
<dt>APPEND</dt>
<dd>
<p>Oracle OLAP performs dimension maintenance on the <span class="italic">target</span> dimension, adding new values from the corresponding relational table column to the dimension. It uses both old and new dimension values to align data being fetched into dimensioned objects. New values are added to the end of a dimension.</p>
</dd>
<dt>ASSIGN</dt>
<dd>
<p>Oracle OLAP assigns the corresponding relational value to the specified surrogate.</p>
</dd>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>The name of the analytic workspace dimension.</p>
</dd>
<dt><span class="italic">surrogate</span></dt>
<dd>
<p>The name of an analytic workspace surrogate.</p>
</dd>
<dt><span class="italic">valueset</span></dt>
<dd>
<p>The name of the analytic valueset.</p>
</dd>
<dt><span class="italic">relation</span></dt>
<dd>
<p>The name of the analytic workspace relation.</p>
</dd>
<dt><span class="italic">variable</span></dt>
<dd>
<p>The name of a variable.</p>
</dd>
<dt><span class="italic">qualified_data_reference</span></dt>
<dd>
<p>A QDR is a qualifier that limits one or more of the dimensions of a variable or a relation to a single value. Oracle OLAP evaluates QDRs in a SQL IMPORT statement, as follows:</p>
<ul>
<li>
<p>When the QDR includes an expression, the expression is evaluated only once before the data is retrieved. In other words, the expression is, in essence, a constant.</p>
</li>
<li>
<p>When the QDR is specified as a relation name, the values of the QDR vary depending on the status of the dimensions of that relation.</p>
</li>
</ul>
</dd>
<dt>THEN <span class="italic">action-statements</span>...</dt>
<dd>
<p>Specifies any number of <span class="italic">action-statements</span> to be performed each time a row of data is imported and assigned to analytic workspace objects. Action statements may contain simple assignment statements, conditional assignment statements, and assignments across dimensions.</p>
<p>Action statements allow you to examine and manipulate the fetched data on a row-by-row basis. For example, you may want to specify temporary objects as analytic workspace objects and only update your permanent objects once you have performed certain actions on the row of fetched data. However, action statements do not have to reference the imported data. For example, one of your action statements might be an assignment statement that executes a user-defined function (that is, a program) that performs complex processing and then simply increments a counter.</p>
<p>A THEN clause can improve SQL loading performance by eliminating the need for postprocessing upon completion of a SQL IMPORT.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The syntax of an action statement within SQL IMPORT is essentially the same as the syntax of an action statement within FILEREAD. Exceptions are in the syntax of an assignment statement and the use of the VALUE keyword. In SQL IMPORT action statements, assignments must be explicit; they must include a source, target, and equal sign. In FILEREAD action statements, assignments may be implicit and specify only the target. The VALUE keyword is supported in FILEREAD action statements, but not in SQL IMPORT action statements. When you have already specified action statements for use with FILEREAD, you can reuse the code with SQL IMPORT by simply adjusting the assignment statements and eliminating the VALUE keyword (if necessary). Most of the attributes listed in FILEREAD (except for the attributes that control dimension processing) are not meaningful for SQL loading and are ignored when executing within SQL IMPORT.
<p>For best performance, within a THEN clause reference only the data within the imported row.</p>
</div>
<p>In your list of action statements, <span class="italic">be sure to process dimensions before variables</span>. Oracle OLAP processes each action statement from left to right for each row in the relational table. When an action statement performs dimension processing, the resulting status remains in effect for subsequent action statements. When you do not first specify action statements that limit a variable&#39;s dimensions, Oracle OLAP uses the first value in status to target a cell in the variable. Unless you specify an ACROSS phrase, Oracle OLAP assigns a single value from a row to a single cell in an Oracle OLAP variable. By default, Oracle OLAP does <span class="italic">not</span> loop over a variable&#39;s dimensions when assigning data to the variable.</p>
</dd>
<dt><span class="italic">assignment-statement</span></dt>
<dd>
<p>An assignment statement (SET) that assigns a value that is the result of an expression to an Oracle OLAP object.</p>
</dd>
<dt><span class="italic">IF-statement</span></dt>
<dd>
<p>An IF...THEN...ELSE command that performs some action depending on whether a Boolean expression is <code dir="ltr">TRUE</code> or <code dir="ltr">FALSE</code>.</p>
</dd>
<dt><span class="italic">SELECT-statement</span></dt>
<dd>
<p>A SQL SELECT statement lets you perform some action based on the value of an expression. A SELECT statement has the following form.</p>
<dl>
<dd><span class="syntaxinline">SELECT</span> <span class="syntaxinlineitalic">select-expression</span></dd>
<dd><span class="syntaxinline">[WHEN</span> <span class="syntaxinlineitalic">expression1 action</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinline">[WHEN</span> <span class="syntaxinlineitalic">expression2 action</span> <span class="syntaxinline">. . .]</span></dd>
<dd><span class="syntaxinline">[ELSE</span> <span class="syntaxinlineitalic">action</span><span class="syntaxinline">]</span></dd>
</dl>
<p>SELECT evaluates the SELECT expression and then sequentially compares the result with the WHEN expressions. When the first match is found, the associated <span class="italic">action</span> occurs. When no match is found, the ELSE <span class="italic">action</span> (if specified) occurs.</p>
</dd>
<dt><span class="syntaxinlineitalic">ACROSS-statement</span>: <span class="italic">action-statement</span></dt>
<dd>
<p>An ACROSS statement causes the following action statement to execute once for every value in status of the ACROSS dimension. When you want the looping to apply to multiple action statements, enclose the action statements in angle brackets. An ACROSS statement has the following form.</p>
<p class="synopsis">ACROSS <span class="italic">dimension</span> [<span class="italic">limit</span>]:</p>
<p class="synopsis"><span class="italic">action-statement</span></p>
<p>In an ACROSS statement, <span class="italic">limit</span> temporarily change the status of <span class="italic">dimension</span>, if it is not in a FOR loop over <span class="italic">dimension</span>. The new status is in effect only for the duration of the SQL FETCH statement. The format of <span class="italic">limit</span> is as follows.</p>
<p class="synopsis">[ADD|COMPLEMENT|KEEP|REMOVE|<span class="underline">TO</span>] <span class="italic">limit-clause</span></p>
<p>To specify the temporary status, insert any of the LIMIT command keywords (the default is TO) along with an appropriate list of dimension values or related dimensions. You can use any valid limit clause (see the <a href="#i78802">LIMIT command</a> for further information). The following example limits <code dir="ltr">month</code> to the last six values, no matter what the current status of <code dir="ltr">month</code> is.</p>
<pre dir="ltr">   ACROSS month last 6: units
</pre></dd>
<dt>&lt;<span class="italic">action-statement-group</span>&gt;</dt>
<dd>
<p>You can group several action statements by enclosing them in angle brackets. An <span class="italic">action-statement-group</span> has the following form.</p>
<p class="synopsis">&lt;<span class="italic">action-statement1</span> -</p>
<p class="synopsis">[<span class="italic">action-statement2</span> . . .]&gt;</p>
<p>A typical use for action statement groups is after an ACROSS statement. With the angle bracket syntax, you can cause multiple action statements to execute for every value in status of the ACROSS dimension.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5069"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2818"></a>Effect of Order of SQL SELECT Targets on Dimension Status</p>
<p>For each dimension value, Oracle OLAP temporarily limits the status of the dimension to the fetched value. Values are assigned to subsequent analytic workspace objects according to this temporary status.</p>
<p class="subhead2"><a id="OLADM2819"></a>Working with Boolean Data Variables</p>
<p>You can use Boolean variables as input and target analytic workspace objects for OLAP SQL commands. In OLAP DML input expressions, Oracle OLAP treats Boolean values as <code dir="ltr">INTEGER</code> values with a value of <code dir="ltr">1</code> (TRUE) or <code dir="ltr">0</code> (FALSE).</p>
<p>As target analytic workspace objects, Boolean variables can receive values from any numeric (or bit) column in a relational table.</p>
<p class="subhead2"><a id="OLADM2820"></a>Importing Text Data into a DATE Variable</p>
<p>When importing text data into a DATE variable, the current setting of the DATEORDER option is used to interpret the value. For example, a text value of 12-08-96 could be interpreted as December 8, 1996, or August 12, 1996, depending on the setting of DATEORDER.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5070"></a>Examples</p>
<div id="OLADM2821" class="example">
<p class="titleinexample"><a id="sthref5071"></a>Example 10-142 Simple Import</p>
<p>The following program fragment shows the basic steps of declaring a cursor and importing the data. Values from the <code dir="ltr">Prod_ID</code> and <code dir="ltr">Prod_Name</code> columns of the <code dir="ltr">Products</code> relational table in the Sales -History (<code dir="ltr">sh</code>) database are fetched into the <code dir="ltr">prod_id</code> dimension and <code dir="ltr">prod_label</code> analytic workspace variable. The <code dir="ltr">prod_label</code> variable is dimensioned by <code dir="ltr">prod_id</code>.</p>
<pre dir="ltr">SQL DECLARE productcur CURSOR FOR SELECT Prod_ID, Prod_Name FROM sh.Products
SQL OPEN productdur
SQL IMPORT productcur INTO :prod_id, :prod_label
SQL CLOSE productcur
SQL CLEANUP 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM912" class="refsect2"><a id="i78685"></a>
<h3 class="refsect2">SQL OPEN</h3>
<p><a id="sthref5072"></a>The SQL OPEN command activates an explicitly-declared SQL cursor. When the cursor is opened, SQL examines any OLAP DML input expressions used in the definition of the specified cursor, determines the cursor&#39;s result set, and leaves the cursor in the open state for use by SQL FETCH or SQL IMPORT. The cursor is positioned before the first row of the result set.</p>
<p>You use the SQL OPEN command in combination with other SQL commands to copy data from relational tables into analytic workspace objects as outlined in <a href="#i79314">&#34;Copying Relational Data into Analytic Workspace Objects&#34;</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5073"></a>Syntax</p>
<p class="synopsis">SQL&nbsp;OPEN&nbsp;<span class="italic">cursor</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5074"></a>Parameters</p>
<dl>
<dt><span class="italic">cursor</span></dt>
<dd>
<p>The name of a cursor previously declared in the same program. You cannot use ampersand substitution.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5075"></a>Examples</p>
<div id="OLADM2822" class="example">
<p class="titleinexample"><a id="sthref5076"></a>Example 10-143 Opening a Cursor Using SQL OPEN</p>
<p>The following program fragment declares and opens a cursor named <code dir="ltr">geolabels</code>.</p>
<pre dir="ltr">SQL DECLARE geolabels CURSOR FOR -
   SELECT Store_ID, Store_Name, City FROM Stores
IF SQLCODE NE 0
   THEN SIGNAL dclerror &#39;SQLERRM&#39;
SQL OPEN geolabels
IF SQLCODE NE 0
   THEN SIGNAL operror &#39;SQLERRM&#39; 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM913" class="refsect2"><a id="i78976"></a>
<h3 class="refsect2">SQL PREPARE</h3>
<p><a id="sthref5077"></a><a id="sthref5078"></a><a id="sthref5079"></a>Within a program, the SQL PREPARE command precompiles a SQL statement for later execution, in the same program using SQL EXECUTE. Typically, you use SQL PREPARE in programs to optimize the processing of SQL statements that are executed repeatedly, particularly those involving OLAP DML input expressions, such as INSERT, UPDATE, and DELETE.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5080"></a>Syntax</p>
<p class="synopsis">SQL&nbsp;PREPARE&nbsp;<span class="italic">statement-name&nbsp;</span>FROM&nbsp;<span class="italic">sql-statement</span> [<span class="italic">insert-options</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5081"></a>Parameters</p>
<dl>
<dt><span class="italic">statement-name</span></dt>
<dd>
<p>A name that you assign to the executable code produced from <span class="italic">sql-statement.</span> You can redefine <span class="italic">statement-name</span> just by issuing another SQL PREPARE statement.</p>
</dd>
<dt><span class="italic">sql-statement</span></dt>
<dd>
<p>The SQL statement that you want to precompile for more efficient execution. It cannot contain ampersand substitution or variables that are undefined when the program is compiled.</p>
</dd>
<dt><span class="italic">insert-options</span></dt>
<dd>
<p>The following options are optional when <span class="italic">sql-statement</span> is an <code dir="ltr">INSERT</code> statement:</p>
<p><span class="syntaxinlinebold">DIRECT=YES|NO</span> specifies if the insert is a direct-path <code dir="ltr">INSERT</code>. This option must be the first option specified right aver the <span class="italic">values</span> phrase of the <code dir="ltr">INSERT</code> statement.</p>
<p>Setting this option to <code dir="ltr">YES</code> specifies that the insert is a direct-path <code dir="ltr">INSERT</code>. Direct-path <code dir="ltr">INSERT</code> enhances performance during <code dir="ltr">INSERT</code> operations and is similar to the functionality of Oracle&#39;s direct-path loader utility, SQL*Loader.&nbsp;</p>
<p>The default value is <code dir="ltr">NO</code> which specifies a normal <code dir="ltr">INSERT</code>.</p>
<p><span class="syntaxinlinebold">NOLOG=YES|NO</span> specifies if logging occurs. Setting this option to <code dir="ltr">YES</code> specifies that the redo information is not recorded in the redo log files which makes load-time faster. The default value is <code dir="ltr">NO</code> which specifies logging mode.</p>
<p><span class="syntaxinlinebold">PARTITION=</span><span class="syntaxinlineboldital">(sub)partition-name</span> specifies that only the segments related to the named partition or subpartition are locked.<a id="sthref5082"></a><a id="sthref5083"></a> When you specify this option, another session can insert data to unrelated segments in the same table. When you do not specify this option (the default), other sessions cannot insert data into the same table.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5084"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2823"></a>Using Direct-Path INSERT</p>
<p>When performing a direct-path <code dir="ltr">INSERT</code>, data is written directly into data files, bypassing the buffer cache, free space in the existing data is not reused, and the inserted data is appended after existing data in the table.</p>
<p><a id="OLADM2824"></a><span class="subhead3">Restrictions When Using Direct-Path INSERT&nbsp;</span>Direct-path <code dir="ltr">INSERT</code> is subject to several restrictions. When executing a direct-path <code dir="ltr">INSERT</code> using the OLAP DML, transactions in the session issuing the direct-path <code dir="ltr">INSERT</code> must be committed for the <code dir="ltr">INSERT</code> to execute successfully. (You can use the SQL or OLAP DML COMMIT to commit transactions.)</p>
<p>Additionally, the general restrictions that apply to using direct-path <code dir="ltr">INSERT</code> in SQL apply to preparing a direct-path<code dir="ltr">INSERT</code> using OLAP DML PREPARE statements:</p>
<ul>
<li>
<p>The target table cannot be index organized or clustered.</p>
</li>
<li>
<p>The target table cannot contain object type or LOB columns.</p>
</li>
<li>
<p>The target table cannot have any triggers or referential integrity constraints defined on it.</p>
</li>
</ul>
<p>For more information on restrictions when using a direct-path INSERT, see the discussion of the <code dir="ltr">INSERT</code> statement in <span class="italic">Oracle Database SQL Language Reference</span>.</p>
<p><a id="OLADM2825"></a><span class="subhead3">Data Type Conversions During Direct-Path Insertion&nbsp;</span><a href="#CHDGDEFD">Table 10-11, &#34;Automatic Data Type Conversion During Direct-Path Insertion&#34;</a> shows the automatic data type conversion performed during direct-path insertion.</p>
<div id="OLADM2826" class="tblformal">
<p class="titleintable"><a id="sthref5085"></a><a id="CHDGDEFD"></a>Table 10-11 Automatic Data Type Conversion During Direct-Path Insertion</p>
<table class="cellalignment3618" title="Automatic Data Type Conversion During Direct-Path Insertion" summary="This table outlines how Oracle OLAP automatically converts data types in the RDBMS to OLAP DML data types." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t120">Oracle RDBMS</th>
<th class="cellalignment3616" id="r1c2-t120">Oracle OLAP DML</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t120" headers="r1c1-t120">
<p>CHAR(<span class="italic">n</span>), VARCHAR(<span class="italic">n</span>)</p>
</td>
<td class="cellalignment3617" headers="r2c1-t120 r1c2-t120">
<p>TEXT</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t120" headers="r1c1-t120">
<p>LONG</p>
</td>
<td class="cellalignment3617" headers="r3c1-t120 r1c2-t120">
<p>TEXT with WIDE option</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t120" headers="r1c1-t120">
<p>CHAR(8), VARCHAR(8)</p>
</td>
<td class="cellalignment3617" headers="r4c1-t120 r1c2-t120">
<p>ID</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t120" headers="r1c1-t120">
<p>DATE</p>
</td>
<td class="cellalignment3617" headers="r5c1-t120 r1c2-t120">
<p>DATE</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t120" headers="r1c1-t120">
<p>NUMBER(<span class="italic">x</span>,<span class="italic">x</span>)</p>
</td>
<td class="cellalignment3617" headers="r6c1-t120 r1c2-t120">
<p>DECIMAL (SHORTDECIMAL)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t120" headers="r1c1-t120">
<p>INTEGER (or NUMBER(38)</p>
</td>
<td class="cellalignment3617" headers="r7c1-t120 r1c2-t120">
<p>INTEGER (SHORTINTEGER)</p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t120" headers="r1c1-t120">
<p>NUMBER(1)</p>
</td>
<td class="cellalignment3617" headers="r8c1-t120 r1c2-t120">
<p>BOOLEAN</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p><a id="OLADM2827"></a><span class="subhead3">Inserting OLAP Text Data into a Column with a DATE Data Type&nbsp;</span>When inserting text data from Oracle OLAP into a column with a DATE data type, you must use the default date format of <code dir="ltr">DD</code> <code dir="ltr">MMM</code> <code dir="ltr">YY</code>. You can use slashes (<code dir="ltr">/</code>), hyphens (<code dir="ltr">-</code>), or spaces as separators. When the data is in a different format, you can use the Oracle <code dir="ltr">TO_DATE</code> function in a SQL <code dir="ltr">INSERT</code> statement.</p>
<p><a id="BJEIFAHJ"></a><a id="OLADM2828"></a><span class="subhead3">Inserting Large Text Values into a CLOB or NCLOB Column&nbsp;</span>To insert more than 2K bytes of text data from an analytic workspace into a CLOB or NCLOB column, use the WIDE keyword before the name of the OLAP DML input expression. When the data type of the OLAP DML input expression is <code dir="ltr">TEXT</code>, then the target data type is CLOB. When the data type of the input expression is NTEXT, then the target data type is NCLOB.</p>
<p>The following is the syntax of an OLAP DML input expression with the WIDE keyword. See <a href="#BJEEDEEH">Example 10-146, &#34;Using the WIDE Keyword&#34;</a> for an example.</p>
<pre dir="ltr">:WIDE input-expression
</pre>
<p>See <a href="#BJEEDEEH">Example 10-146, &#34;Using the WIDE Keyword&#34;</a> for an example.</p>
<p>Note that the target table must conform to these guidelines:</p>
<ul>
<li>
<p>Any number and combination of CLOB and NCLOB columns</p>
</li>
<li>
<p>No LONG columns</p>
</li>
</ul>
<p>The RDBMS imposes some restrictions on large data types. Oracle OLAP does not signal an error when you violate these restrictions. However, you might get unexpected results. Refer to the <span class="italic">Oracle Application Developer&#39;s Guide</span> for restrictions on large data types.</p>
<p class="subhead2"><a id="OLADM2829"></a>Calculating the Number of Characters</p>
<p>You can calculate the number of characters that are sent to a database table from an Oracle OLAP variable by using the following formula.</p>
<pre dir="ltr">NUMCHARS(variable) + 2 * (NUMLINES(variable) - 1)
</pre>
<p>This formula counts the extra carriage return and line feed characters that Oracle OLAP inserts between lines when passing the text to the database.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5086"></a>Examples</p>
<div id="OLADM2830" class="example">
<p class="titleinexample"><a id="sthref5087"></a>Example 10-144 Preparing a FOR Loop</p>
<p>To automatically add all the sales people from the <code dir="ltr">salesperson</code> dimension to the relational table, you could write a program and put the SQL <code dir="ltr">INSERT</code> statement in a FOR loop.</p>
<pre dir="ltr">FOR salesperson
   SQL INSERT INTO Sales VALUES (:Salesperson, :Dollars) DIRECT=YES
</pre>
<p>When a statement includes OLAP DML input expressions and are executed repeatedly, such as in a FOR loop, you can make the statements more efficient by &#34;preparing&#34; the SQL statement first. The INSERT statement becomes part of a PREPARE statement.</p>
<pre dir="ltr">SQL PREPARE s1 FROM INSERT INTO Sales VALUES -
   (:Salesperson, :Dollars) DIRECT=YES
FOR Salesperson
   DO
      SQL EXECUTE s1
      IF SQLCODE NE 0
      THEN BREAK
   DOEND
</pre></div>
<!-- class="example" -->
<div id="OLADM2831" class="example">
<p class="titleinexample"><a id="sthref5088"></a>Example 10-145 Updating a Table</p>
<p>The next example shows a simple update of a table using data stored in an analytic workspace. The <code dir="ltr">market</code> dimension is limited to one value at a time in the FOR loop. The SQL phrase <code dir="ltr">WHERE S.Market=:market</code> specifies that the sales value in the row for that market is the value that is changed.</p>
<pre dir="ltr">FOR market
   SQL UPDATE Mkt SET Sales=:Mkt.Sales WHERE S.Market=:market
</pre>
<p>Like the INSERT statement in the previous example, an <code dir="ltr">UPDATE</code> statement should be used in a PREPARE statement and executed in an ACROSS statement or FOR loop.</p>
<pre dir="ltr">SQL PREPARE s2 FROM UPDATE mkt -
   SET Sales=:mkt.sales WHERE s.market=:market
ACROSS market DO &#39;SQL EXECUTE s1&#39;
</pre></div>
<!-- class="example" -->
<div id="OLADM2832" class="example">
<p class="titleinexample"><a id="BJEEDEEH"></a>Example 10-146 Using the WIDE Keyword</p>
<p>In both of the following statements, <code dir="ltr">WIDE</code> indicates that the target value is <code dir="ltr">CLOB</code> when <code dir="ltr">var1</code> is <code dir="ltr">TEXT</code>, or <code dir="ltr">NCLOB</code> when <code dir="ltr">var1</code> is <code dir="ltr">NTEXT</code>.</p>
<pre dir="ltr">SQL INSERT INTO CLOB_TEST values (:dim1 :WIDE var1)
SQL UPDATE CLOB_TEXT SET clob_col = :WIDE var1 WHERE key = 1
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM914" class="refsect2"><a id="BJEIJDAD"></a>
<h3 class="refsect2">SQL PROCEDURE</h3>
<p><a id="sthref5089"></a><a id="ABC1072349"></a>The SQL PROCEDURE command executes procedures stored in the RDBMS.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also create SQL stored procedures using the OLAP DML. See:
<ul>
<li>
<p><a href="#BJEHEAAH">&#34;Creating SQL Procedures using the OLAP DML&#34;</a></p>
</li>
<li>
<p><a href="#BJEFBHEA">Example 10-147, &#34;Creating a Stored Procedure&#34;</a></p>
</li>
</ul>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5090"></a>Syntax</p>
<p class="synopsis">SQL PROCEDURE <span class="italic">procedure-name</span> (<span class="italic">parameters</span>)</p>
<p>where <span class="syntaxinlineitalic">parameters</span> is one or more of the following, separated by commas:</p>
<dl>
<dd><span class="syntaxinlineitalic">sql-parameter</span></dd>
<dd><span class="syntaxinline">:</span><span class="syntaxinlineitalic">dml-parameter</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5091"></a>Parameters</p>
<dl>
<dt><span class="italic">procedure-name</span></dt>
<dd>
<p>The name of the SQL stored procedure.</p>
</dd>
<dt><span class="italic">sql-parameter</span></dt>
<dd>
<p>The name of a variable in the RDBMS.</p>
</dd>
<dt>:<span class="italic">dml-parameter</span></dt>
<dd>
<p>An OLAP DML expressions such as an OLAP DML variable. See <a href="#BJEHBHBI">&#34;Using OLAP DML Expressions in OLAP DML SQL Statements&#34;</a> for more information on using OLAP DML expressions in OLAP DML SQL statements.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5092"></a>Usage Notes</p>
<p class="subhead2"><a id="BJEHEAAH"></a><a id="OLADM2833"></a>Creating SQL Procedures using the OLAP DML</p>
<p>To create a stored procedure using the OLAP DML, issue an OLAP DML SQL statement with a SQL <code dir="ltr">CREATE PROCEDURE</code> statement as its argument. The syntax for coding <code dir="ltr">CREATE PROCEDURE</code> as an argument within an OLAP DML SQL statement is slightly different than the syntax for coding <code dir="ltr">CREATE PROCEDURE</code> in SQL proper. When coded as an arguments to an OLAP DML statements, use a tilde (<code dir="ltr">~</code>) instead of a semicolon as a terminator, and two colons instead of one in an assignment statement. See <a href="#BJEFBHEA">Example 10-147, &#34;Creating a Stored Procedure&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2834"></a>Restrictions When Calling SQL Procedures using the OLAP DML</p>
<p>A stored procedure called using an OLAP DML SQL PROCEDURE statement cannot contain output variables or transactions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5093"></a>Examples</p>
<div id="OLADM2835" class="example">
<p class="titleinexample"><a id="BJEFBHEA"></a><a id="i79336"></a>Example 10-147 Creating a Stored Procedure</p>
<p><a id="sthref5094"></a><a id="sthref5095"></a>The following example shows the syntax for creating a procedure named <code dir="ltr">new_products</code>.</p>
<pre dir="ltr">SQL CREATE OR REPLACE PROCEDURE new_products -
   (id CHAR, name CHAR, cost NUMBER) AS -
      price NUMBER~ -
   BEGIN -
      price ::= cost * 2.5~ -
      INSERT INTO products -
         VALUES(id, name, price)~ -
   END~
</pre></div>
<!-- class="example" -->
<div id="OLADM2836" class="example">
<p class="titleinexample"><a id="i79346"></a>Example 10-148 Executing a Stored Procedure</p>
<p><a id="sthref5096"></a>The following FOR loop executes a SQL stored procedure named <code dir="ltr">new_products</code> and inserts data stored in dimensions and variables into a relational table. In this example, <code dir="ltr">prod</code> is an Oracle OLAP dimension, and <code dir="ltr">labels.p</code> and <code dir="ltr">cost.p</code> are variables dimensioned by <code dir="ltr">prod<a id="sthref5097"></a></code>.</p>
<pre dir="ltr">FOR prod
   DO
      SQL PROCEDURE new_products(:prod, :labels.p, :cost.p)
      IF SQLCODE NE 0
         THEN BREAK
   DOEND 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM915" class="refsect2"><a id="i78599"></a>
<h3 class="refsect2">SQL SELECT</h3>
<p><a id="sthref5098"></a>The SQL SELECT command<a id="sthref5099"></a><a id="sthref5100"></a><a id="sthref5101"></a> uses an implicit cursor to copy data from relational tables into analytic workspace objects. You use the SQL SELECT command to copy data from relational tables into analytic workspace objects using an implicit cursor. You can also use copy the data using an explicit cursor using the OLAP DML commands outlined in <a href="#i79314">&#34;Copying Relational Data into Analytic Workspace Objects&#34;</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5102"></a>Syntax</p>
<p class="synopsis">SQL&nbsp;SELECT <span class="italic">expressions</span> FROM <span class="italic">tables</span>&nbsp;-</p>
<p class="synopsis">[WHERE <span class="italic">predicates</span>] [GROUP BY <span class="italic">expressions</span>] -</p>
<p class="synopsis">[ORDER BY <span class="italic">expressions</span>] [HAVING <span class="italic">predicates</span>] -</p>
<p class="synopsis">INTO&nbsp;:<span class="italic">targets.</span>..&nbsp;[THEN&nbsp;<span class="italic">action-statements</span>...]</p>
<p>where <span class="syntaxinlineitalic">targets</span> is one or more of the following:</p>
<dl>
<dd><span class="syntaxinline">[MATCH]&nbsp;</span><span class="syntaxinlineitalic">dimension</span><span class="syntaxinline">|</span><span class="syntaxinlineitalic">surrogate</span></dd>
<dd><span class="syntaxinline">APPEND&nbsp;[</span><span class="syntaxinlineitalic">position</span><span class="syntaxinline">]&nbsp;</span><span class="syntaxinlineitalic">dimension</span></dd>
<dd><span class="syntaxinline">ASSIGN&nbsp;</span><span class="syntaxinlineitalic">surrogate</span></dd>
<dd><span class="syntaxinlineitalic">variable</span><span class="syntaxinline">|</span><span class="syntaxinlineitalic">qualified&nbsp;data&nbsp;reference</span><span class="syntaxinline">|</span><span class="syntaxinlineitalic">relation</span><span class="syntaxinline">|</span><span class="syntaxinlineitalic">composite</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5103"></a>Parameters</p>
<dl>
<dt>SELECT <span class="italic">expressions</span> FROM <span class="italic">tables-</span></dt>
<dt>&nbsp;[WHERE <span class="italic">predicates</span>] [GROUP BY <span class="italic">expressions</span>] -</dt>
<dt>[ORDER BY <span class="italic">expressions</span>] [HAVING <span class="italic">predicates</span>]</dt>
<dd>
<p>A SQL SELECT statement that identifies the data you want to associate with the cursor. For the syntax of an SQL SELECT statement, refer to <span class="italic">Oracle Database SQL Language Reference.</span></p>
</dd>
<dt><span class="italic">targets</span></dt>
<dd>
<p>Identifies the analytic workspace objects in which you want to store data that is retrieved from a relational table. This list of target analytic workspace objects must correspond in number and data type with the list of table columns specified in the SELECT statement. A target can be a variable, a qualified data reference, a relation, a dimension, or a composite.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
The order in which you specify the analytic workspace objects affects dimension status. For each dimension value, Oracle OLAP temporarily limits the status of the dimension to the fetched value. Values are assigned to subsequent analytic workspace objects according to this temporary status. See <a href="#i79465">&#34;Conjoints as Target Analytic Workspace Objects&#34;</a> and <a href="#i79472">&#34;Composites as Target Analytic Workspace Objects&#34;</a>.</div>
<p>A target must be preceded by a colon. When the target is a dimension, it can include the MATCH and APPEND keywords to specify dimension handling; in this case, the colon precedes the keywords.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Because both OLAP DML syntax and SQL WHERE clauses allow you to use AND and OR, construct the targets clause clearly so that Oracle OLAP can identify the end of an OLAP DML input expression.</div>
</dd>
<dt>[MATCH] {<span class="italic">dimension</span>|<span class="italic">surrogate</span>}</dt>
<dd>
<p>(Default) Oracle OLAP does not perform dimension maintenance on the <span class="italic">target</span> dimension or surrogate. It uses the incoming values to align data that is being fetched into dimensioned objects. When a value from the relational database does not match any value in the dimension or surrogate, an error is signaled.</p>
</dd>
<dt>APPEND [<span class="italic">position</span>] <span class="italic">dimension</span></dt>
<dd>
<p>Oracle OLAP performs dimension maintenance on the <span class="italic">target</span> dimension, adding new values to the dimension. It uses both old and new dimension values to align data being fetched into dimensioned objects. By default, new values are added to the end of a dimension or surrogate. The <span class="italic">position</span> can also be used to control how dimension values are processed in action statements.</p>
</dd>
<dt>ASSIGN <span class="italic">surrogate</span></dt>
<dd>
<p>Assigns the values to the specified surrogate.</p>
</dd>
<dt>THEN <span class="italic">action-statements</span></dt>
<dd>
<p>You may optionally include a THEN clause to specify any number of <span class="italic">action-statements</span> to be performed each time a row of data is fetched and assigned to analytic workspace objects. An <span class="italic">action-statement</span> can be one of the following:</p>
</dd>
</dl>
<dl>
<dd><span class="syntaxinlineitalic">assignment-statement</span></dd>
<dd><span class="syntaxinlineitalic">IF-statement</span></dd>
<dd><span class="syntaxinlineitalic">SELECT-statement</span></dd>
<dd><span class="syntaxinlineitalic">ACROSS-statement</span><span class="syntaxinlineitalic">action-statement</span></dd>
<dd><span class="syntaxinline">&lt;</span><span class="syntaxinlineitalic">action-statement-group</span><span class="syntaxinline">&gt;</span></dd>
</dl>
<p>Refer to the SQL IMPORT command for a complete description of the syntax of <span class="italic">action-statement</span>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5104"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2837"></a>General Restrictions that APPLY to SQL SELECT</p>
<p>An SQL SELECT statement cannot contain ampersand substitution.</p>
<p class="subhead2"><a id="OLADM2838"></a>Optimizing Copies</p>
<p>When copying values from relational tables into a multidimensional input variable, list the columns that correspond to the dimensions in an ORDER BY clause in the <span class="italic">select-statement</span> argument of the SQL SELECT statement, with the slowest-varying dimension first which optimizes performance.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5105"></a>Examples</p>
<div id="OLADM2839" class="example">
<p class="titleinexample"><a id="sthref5106"></a>Example 10-149 Simple select</p>
<p>For example, assume that there is a relational table named <code dir="ltr">sales</code> with the following description.</p>
<pre dir="ltr">PROD_ID                     NOT NULL NUMBER(6)
CUST_ID                     NOT NULL NUMBER
TIME_ID                     NOT NULL DATE
CHANNEL_ID                  NOT NULL CHAR(1)
PROMO_ID                    NOT NULL NUMBER(6)
QUANTITY_SOLD               NOT NULL NUMBER(3)
AMOUNT_SOLD                 NOT NULL NUMBER(10,2)
</pre>
<p>Assume also that your analytic workspace contains the following definitions for corresponding analytic workspace objects.</p>
<pre dir="ltr">DEFINE aw_prod_id DIMENSION NUMBER (6)
DEFINE aw_cust_id DIMENSION NUMBER (6) 
DEFINE aw_date DIMENSION TEXT
DEFINE aw_channel_id DIMENSION TEXT
DEFINE aw_promo_id DIMENSION NUMBER (6)
DEFINE aw_sales_dims COMPOSITE &lt;aw_prod_id aw_cust_id -
     aw_channel_id aw_promo_id&gt;
DEFINE aw_sales_quantity_sold VARIABLE NUMBER (3) &lt;aw_date aw_sales_dims -
     &lt;aw_prod_id aw_cust_id aw_date aw_channel_id aw_promo_id&gt;&gt;
DEFINE aw_sales_amount_sold VARIABLE NUMBER (10,2) &lt;aw_date aw_sales_dims -
     &lt;aw_prod_id aw_cust_id aw_date aw_channel_id aw_promo_id&gt;&gt;
</pre>
<p>To copy the data for product 415 from the <code dir="ltr">sales</code> table into the analytic workspace objects, you execute the following statement in the OLAP worksheet.<a id="sthref5107"></a><a id="sthref5108"></a></p>
<pre dir="ltr">SQL SELECT prod_id cust_id time_id channel_id promo_id quantity_sold -
</pre>
<pre dir="ltr">amount_sold WHERE prod_id = 415 -
INTO :aw_prod_id, :aw_cust_id, :aw_date,  -
:aw_channel_id, :aw_promo_id, :aw_sales_quantity_sold, :aw_sales_amount_sold 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i78669"></a>
<div id="OLADM916" class="refsect1">
<h2 class="refsect1">STATUS</h2>
<p><a id="sthref5109"></a><a id="sthref5110"></a><a id="sthref5111"></a><a id="sthref5112"></a>The STATUS program sends to the current outfile the status of one or more dimensions, dimension surrogates, or valuesets, or the status of all dimensions in an analytic workspace.</p>
<p>When you specify one or more dimension, dimension surrogate, or valueset names, Oracle OLAP produces the status of only those objects. When you use the AW keyword and specify the name of an attached analytic workspace, Oracle OLAP produces the status of every dimension in that analytic workspace. When you do not specify any argument, STATUS produces the current status of all the dimensions (not dimension surrogates or valuesets) in the current analytic workspace. However, STATUS does not display the status of the NAME dimension unless you specify <code dir="ltr">STATUS</code>&nbsp;<code dir="ltr">NAME</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Use STATLIST rather than STATUS when you want to control the width or placement of the display.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5113"></a>Return Value</p>
<p>TEXT</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5114"></a>Syntax</p>
<p class="synopsis">STATUS <span class="italic">name</span>... | AW&nbsp;[<span class="italic">workspace-name</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5115"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name of a dimension or valueset in the analytic workspace. You can also specify the name of a dimensioned analytic workspace object, such as a variable, formula, relation, or named composite. In this case, the status of each dimension of <span class="italic">name</span> is produced, unless the dimension is included in an unnamed composite.</p>
</dd>
<dt>AW [<span class="italic">workspace-name</span>]</dt>
<dd>
<p>Specifies that STATUS should produce the status of every dimension in <span class="italic">workspace-</span>name; <span class="italic">workspace-name</span> is the name of an analytic workspace.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5116"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2840"></a>STATUS Output</p>
<p>When all values of a dimension are in the current status or in a valueset, in the original order, STATUS displays <code dir="ltr">ALL</code>. STATUS shortens any series of three or more values in their original order to <span class="syntaxinlineitalic">value-1</span> <span class="syntaxinline">TO</span> <span class="syntaxinlineitalic">value-n</span>. In the case of the dimension NAME, however, STATUS does not shorten a series of three or more values.</p>
<p class="subhead2"><a id="OLADM2841"></a>Status When an Object Has No Values</p>
<p>When a dimension, dimension surrogate, or valueset has no values (for example, a recently defined object for which you have not yet supplied values), STATUS produces <code dir="ltr">NULL</code> for that dimension, dimension surrogate, or valueset. When you are in an analytic workspace in which no objects have been defined, STATUS produces the message, <code dir="ltr">There</code> <code dir="ltr">are</code> <code dir="ltr">no</code> <code dir="ltr">dimensions</code> <code dir="ltr">in</code> <code dir="ltr">your</code> <code dir="ltr">current</code> <code dir="ltr">analytic</code> <code dir="ltr">workspace</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5117"></a>Examples</p>
<div id="OLADM2842" class="example">
<p class="titleinexample"><a id="sthref5118"></a>Example 10-150 Discovering the Current Status of Certain Dimensions</p>
<p>Use STATUS to produce the current status of the dimensions <code dir="ltr">month</code> and <code dir="ltr">district</code>.</p>
<p>The following statement</p>
<pre dir="ltr">STATUS month district
</pre>
<p>produces this output.</p>
<pre dir="ltr">The current status of MONTH is:
Jan95 TO Dec96
The current status of DISTRICT is:
Boston, Chicago, Denver
</pre></div>
<!-- class="example" -->
<div id="OLADM2843" class="example">
<p class="titleinexample"><a id="sthref5119"></a>Example 10-151 Discovering the Status of the Dimensions of a Variable</p>
<p>Use STATUS to produce the current status of all the dimensions of the variable <code dir="ltr">sales</code>.</p>
<p>The following statement</p>
<pre dir="ltr">STATUS sales
</pre>
<p>produces this output.</p>
<pre dir="ltr">The current status of MONTH is:
Jan95 TO Dec96
The current status of PRODUCT is:
ALL
The current status of DISTRICT is:
Boston, Chicago, Denver 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78568"></a>
<div id="OLADM917" class="refsect1">
<h2 class="refsect1">STDHDR</h2>
<p><a id="sthref5120"></a><a id="sthref5121"></a><a id="sthref5122"></a>The STDHDR program generates the standard Oracle OLAP heading at the top of every page of report output.</p>
<p>The standard running page heading consists of two lines. The first line includes the date and time on the left and the page number on the right. The second line is blank.</p>
<p>The heading output is sent to the current outfile.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5123"></a>Syntax</p>
<p class="synopsis">STDHDR</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5124"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2844"></a>Setting LSIZE</p>
<p>LSIZE must be set to a value of at least <code dir="ltr">29</code> before you use STDHDR. Otherwise the heading does not look right. A value less than <code dir="ltr">26</code> produces an error. The default for LSIZE is <code dir="ltr">80</code>.</p>
<p class="subhead2"><a id="OLADM2845"></a>Creating a Custom Heading</p>
<p>When PAGING is set to <code dir="ltr">YES</code>, Oracle OLAP automatically inserts the standard heading at the top of each page of output. To get a different heading you must write a program that produces the heading and set the PAGEPRG option to the name of that program. To return to the standard heading, set PAGEPRG to <code dir="ltr">&#39;STDHDR&#39;</code>. (See the <a href="dml_options.htm#i79558">PAGEPRG</a> option for more information.)</p>
<p class="subhead2"><a id="OLADM2846"></a>Using STDHDR in a Heading Program</p>
<p>When you use PAGEPRG to specify a heading program, you can still use the standard heading in your custom heading by executing STDHDR as part of your program. Generally, you place STDHDR before the statements that produce your customized heading. See <a href="#i79168">Example 10-152, &#34;Creating a Custom Heading for a Report&#34;</a>.</p>
<p class="subhead2"><a id="OLADM2847"></a>The STDHDR Program</p>
<p>The STDHDR program uses the HEADING and CONVERT commands, as follows.</p>
<pre dir="ltr">HEADING L W 8 &lt;CONVERT(TODAY, TEXT,&#39;&lt;DD&gt;&lt;MTXTL&gt;&lt;YY&gt;&#39;) TOD&gt; -
        R W LSIZE-25 &#39;Page &#39; L W 6 D 0 PAGENUM
BLANK
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5125"></a>Examples</p>
<div id="OLADM2848" class="example">
<p class="titleinexample"><a id="i79168"></a>Example 10-152 Creating a Custom Heading for a Report</p>
<p>Suppose you would like each page of your report to include the standard header and also the customized title &#34;Annual Sales Report.&#34; To accomplish this, define a small PAGEPRG program called report.head.</p>
<pre dir="ltr">DEFINE report.head PROGRAM
PROGRAM
CALL STDHDR
HEADING WIDTH LSIZE CENTER &#39;Annual Sales Report&#39;
BLANK
END
</pre>
<p>In your report program, set PAGING to <code dir="ltr">YES</code>, and specify the preceding program to execute after every page break by setting the PAGEPRG option to <code dir="ltr">&#39;REPORT.HEAD&#39;</code> (see the <a href="dml_options.htm#i79558">PAGEPRG</a> option for further information). When you run the report, each page contains the following combination of the standard heading and your custom heading.</p>
<pre dir="ltr">18Jan97  15:05:16                                   PAGE 1
 
                   Annual Sales Report
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78578"></a>
<div id="OLADM918" class="refsect1">
<h2 class="refsect1">SWITCH command</h2>
<p><a id="sthref5126"></a><a id="sthref5127"></a><a id="sthref5128"></a><a id="sthref5129"></a><a id="sthref5130"></a><a id="sthref5131"></a>The SWITCH command provides a multipath branch in a program. The specific path taken during program execution depends on the value of the control expression that is specified with SWITCH. You can use a SWITCH statement only within programs.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not confuse the use of a single SWITCH command with the use of SWTICH as a conditional operator in an expression. See <a href="dml_expression.htm#BABDADAA">&#34;SWITCH Expressions&#34;</a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5132"></a>Syntax</p>
<p class="synopsis">SWITCH&nbsp;<span class="italic">control-expression</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;DO</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class="italic">case-expression1</span>:</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement&nbsp;</span>1.1</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement&nbsp;</span>1.<span class="italic">n</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BREAK</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class="italic">case-expression2</span>:</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement&nbsp;</span>2.1</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement&nbsp;</span>2.<span class="italic">n</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BREAK</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[DEFAULT:</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement&nbsp;n</span>.1</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement&nbsp;n</span>.<span class="italic">n</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BREAK]</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;DOEND</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5133"></a>Parameters</p>
<dl>
<dt><span class="italic">control-expression</span></dt>
<dd>
<p>The <span class="italic">control-expression</span> argument determines the case label to which program control is transferred by the SWITCH statement. When the SWITCH statement is executed, <span class="italic">control-expression</span> is evaluated and compared with each of the CASE label expressions in the program. When a match is found, control is transferred to that case label. When no match is found, control transfers to the DEFAULT label (if present) or to the statement following the DOEND for SWITCH.</p>
</dd>
<dt>CASE <span class="italic">case-expression1</span>, CASE <span class="italic">case-expression2</span>, ...</dt>
<dd>
<p>The CASE labels whose expressions (<span class="italic">case-expression1</span>, <span class="italic">case-expression2</span>, ...) specify the different cases you want to handle. When <span class="italic">control-expression</span> matches <span class="italic">case-expression,</span> program control is transferred to that CASE label. The CASE label expressions are evaluated at the time the program is run, in the order they appear, until a match is found.</p>
<p>The DEFAULT label is optional. It identifies a special case to which control should be transferred when none of the <span class="italic">case-expressions</span> matches the <span class="italic">control-expression.</span> When you omit DEFAULT, and no match is found, control is transferred to the statement that follows the DOEND for SWITCH.</p>
<p>All the CASE labels (including DEFAULT) for a SWITCH statement must be included within a DO/DOEND bracket immediately following the SWITCH statement. Because <span class="italic">case-expression</span> is a label, it must be followed by a colon&nbsp;(:). The statements to be executed in a given case must follow the label. Normally, the last statement in a case should be BREAK, which transfers control from SWITCH to the statement that follows the DOEND for SWITCH.</p>
<p>When you omit BREAK (or RETURN, SIGNAL, and so on) at the end of a case, the program goes on to execute the statements for the next case as well. Normally, you do not want this to happen. However, when you plan to execute the same statements for two cases, you can use this to your advantage by placing both CASE labels before the statements.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5134"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2849"></a>Control and Case Expressions</p>
<p>The SWITCH <span class="italic">control-expression</span> can have any data type, as can the <span class="italic">case-expressions.</span> The various <span class="italic">case-expressions</span> can have different data types. When you specify the name of a dimension (as a literal, non-quoted text expression) as the <span class="italic">control-expression</span> or <span class="italic">case-expression</span>, Oracle OLAP uses the first value in the dimension&#39;s current status list, not the dimension name, as it searches for a match. When the dimension has no values in the status list, Oracle OLAP uses the value <code dir="ltr">NA</code>. An <code dir="ltr">NA</code> <span class="italic">control-expression</span> matches the first <code dir="ltr">NA</code> <span class="italic">case-expression.</span></p>
<p class="subhead2"><a id="OLADM2850"></a>Do Not Use Ampersand Substitution with SWITCH</p>
<p>Avoid using ampersand substitution in a SWITCH <span class="italic">control-expression</span> or in a CASE label <span class="italic">case-expression.</span> Ampersands produce unpredictable, and usually undesirable, results.</p>
<p class="subhead2"><a id="OLADM2851"></a>Multiple SWITCH Commands</p>
<p>You can include multiple SWITCH statements in a program. You can also nest SWITCH commands. When a program contains multiple SWITCH commands, each can have its own DEFAULT label, even when the SWITCH commands are nested.</p>
<p class="subhead2"><a id="OLADM2852"></a>Transferring Control</p>
<p>While BREAK is commonly used to transfer program control within a SWITCH statement, it is not the only such statement you can use. You can also use statements such as <a href="dml_commands_1.htm#i1007920">CONTINUE</a>, <a href="dml_commands_1.htm#i78866">GOTO</a>, <a href="#i79191">RETURN</a>, and <a href="#i1010075">SIGNAL</a>. Keep in mind that you can use CONTINUE only when the SWITCH statement is within a FOR or WHILE loop. See also the entries for these statements and for <a href="dml_commands_1.htm#i80451">DO ... DOEND</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5135"></a>Examples</p>
<div id="OLADM2853" class="example">
<p class="titleinexample"><a id="sthref5136"></a>Example 10-153 Multipath Branching Using SWITCH in a Program</p>
<p>The following program lines produce one of several types of reports. Before the SWITCH statement, the program determines which type of report the user wants and places the value <code dir="ltr">Market</code> or <code dir="ltr">Finance</code> in the variable <code dir="ltr">userchoice</code>. The program switches to the case label that matches that name and produces the report. When the report finishes, the BREAK statement transfers control to the cleanup section after the DOEND.</p>
<pre dir="ltr">SWITCH userchoice
    DO
         CASE &#39;Market&#39;:
            ...
            BREAK
         CASE &#39;Finance&#39;:
            ...
            BREAK
         DEFAULT:
            ...
            BREAK
    DOEND
cleanup:
...
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78618"></a>
<div id="OLADM919" class="refsect1">
<h2 class="refsect1">TEMPSTAT</h2>
<p><a id="sthref5137"></a><a id="sthref5138"></a><a id="sthref5139"></a><a id="sthref5140"></a>The TEMPSTAT command limits the dimension you are looping over, inside a FOR loop or inside a loop that is generated by a REPORT statement. Status is restored after the statement following TEMPSTAT. When a DO ... DOEND phrase follows TEMPSTAT, status is restored when the matched DOEND or a BREAK or GOTO statement is encountered. You can use TEMPSTAT only within programs.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5141"></a>Syntax</p>
<p class="synopsis">TEMPSTAT&nbsp;<span class="italic">dimension</span>...</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement&nbsp;block</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5142"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span>(s)</dt>
<dd>
<p>One or more dimensions whose status you would like to temporarily change inside a FOR loop or an automatic loop that is generated by the REPORT statement.</p>
</dd>
<dt><span class="italic">statement block</span></dt>
<dd>
<p>One or more statements that change the status of the dimension. To execute multiple statements under the temporary status, enclose them between DO ... DOEND brackets.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5143"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2854"></a>Nesting TEMPSTATE Statements</p>
<p>You can nest TEMPSTAT commands, one within another, and you can repeat the same dimension within the nested TEMPSTAT commands.</p>
<p class="subhead2"><a id="OLADM2855"></a>Placement of TEMPSTAT</p>
<p>When you want to be able to change the status of a dimension while REPORT is looping over it, you must place a TEMPSTAT statement inside that REPORT loop rather than before the REPORT statement. For example, suppose you have written a user-defined function called <code dir="ltr">monthly_sales</code>, which changes the status of <code dir="ltr">month</code>, and <code dir="ltr">monthly_sales</code> is part of a REPORT statement that is looping over <code dir="ltr">month</code>. In this case a TEMPSTAT statement must be inside the <code dir="ltr">monthly_sales</code> function in order for a status change to take place. (TEMPSTATE must be inside of monthly_sales even when the REPORT statement is given within TEMPSTAT DO/DOEND brackets within a FOR loop over MONTH.)</p>
<p class="subhead2"><a id="OLADM2856"></a>POP and POPLEVEL Commands</p>
<p>Within the DO/DOEND brackets of a TEMPSTAT statement block, you cannot use a POP statement to pop a dimension that is protected by TEMPSTAT on the block -- unless the matching PUSH statement is also within the block.</p>
<p>Similarly, within the DO/DOEND brackets of a TEMPSTAT statement block, you cannot use a POPLEVEL statement to pop a dimension that is protected by TEMPSTAT on the block -- unless one of two conditions is met: the matching PUSHLEVEL statement is also within the block, or the only pushes on the dimension since the PUSHLEVEL statement was given are also within the block.</p>
<p class="subhead2"><a id="OLADM2857"></a>Use Only LIMIT and CONTEXT Commands</p>
<p>Within the DO/DOEND brackets of a TEMPSTAT statement, the only way to change the status of a dimension within a loop over that dimension is with the LIMIT or CONTEXT APPLY commands. (See the <a href="#i78802">LIMIT command</a> and the <a href="dml_commands_1.htm#i79174">CONTEXT command</a> for details.) You cannot change the status of the dimension using POP or POPLEVEL. You also cannot perform any operations that would add values to the dimension, because adding values also changes the status of the dimension to ALL. For example, MAINTAIN ADD, FILEREAD APPEND, and IMPORT (with new values in the EIF file) add values to a dimension.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5144"></a>Examples</p>
<p class="subhead2"><a id="OLADM2858"></a>TEMPSTAT in a FOR Loop</p>
<p>The following program excerpt uses a TEMPSTAT statement to limit the <code dir="ltr">market</code> dimension within the <code dir="ltr">FOR</code> <code dir="ltr">market</code> loop.</p>
<pre dir="ltr">FOR market
DO
 TEMPSTAT market
  DO
   LIMIT market TO CHILDREN USING market.market
   REPORT market
  DOEND
DOEND
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CCHCFEDC"></a>
<div id="OLADM2859" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">TRACE</h2>
<p>The TRACE command specifies <a id="sthref5145"></a><a id="sthref5146"></a><a id="sthref5147"></a><a id="sthref5148"></a><a id="sthref5149"></a><a id="sthref5150"></a>whether or not informatio<a id="sthref5151"></a>n about the entry, exit, and execution of individual programs, models, and formulas is recorded in the current outfile during execution:</p>
<ul>
<li>
<p>For programs and and models, it traces the entry, exit, and execution of individual lines of code and produces output similar to the output produced when the <a href="dml_options.htm#i79618">PRGTRACE</a> or <a href="dml_options.htm#i78646">MODTRACE</a> option is set to <code dir="ltr">YES</code>.</p>
</li>
<li>
<p>For formulas, it outputs the name and dimension value on entry and the return value on exit.</p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5152"></a>Syntax</p>
<p class="synopsis">TRACE [?|{object-name|*} [OFF] [<span class="italic">begin-arguments</span>] [<span class="italic">end-arguments</span>] [ <span class="underline">TRACELINES</span> | NOTRACELINES]]</p>
<p class="synopsis">where:</p>
<p class="synopsis"><span class="italic">begin-arguments</span> requires the following syntax:</p>
<p class="synopsis">IN [ARGS | NOARGS]</p>
<p class="synopsis"><span class="italic">end-arguments</span> requires the following syntax:</p>
<p class="synopsis">OUT [VALUE | NOVALUE]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5153"></a>Parameters</p>
<dl>
<dt>?</dt>
<dd>
<p>A ? (question mark) displays the current TRACE list, which includes the name of each program, model, and formula that will be traced when executed. In addition, if there is a global trace, TRACE ALL is listed. For each program, model, and formula, and for TRACE ALL, the list displays the current TRACE settings (the values of <span class="italic">begin-arguments</span> and <span class="italic">end-arguments</span>).</p>
</dd>
<dt><span class="italic">object_name</span></dt>
<dd>
<p>The unqualified name of the program, model, or formula that you want to trace. You can specify the name of a program, model, or formula even if it does not exist in an attached database. Without the OFF keyword, this argument turns on an object-specific trace, in which TRACE traces the execution of the named program, model, or formula whenever you run it. In order to change the TRACE settings of a program, model, or formula, you can turn on its object-specific trace several times. With the OFF keyword, this argument turns off the object-specific trace.</p>
</dd>
<dt>*[OFF]</dt>
<dd>
<p>An* (asterisk) is only used with programs and models:</p>
<ul>
<li>
<p>Without the OFF keyword, an * (asterisk) adds TRACE ALL to the TRACE list and turns on a global trace. This means that TRACe traces the execution of every program and model that you run, including programs such as LISTNAMES that are part of express.db. If you have both an object-specific trace and a global trace specified, the settings for the object-specific trace take precedence when you run the given program or model.</p>
</li>
<li>
<p>With the OFF keyword, an * (asterisk), turns off the gloabl trace by deleting all program names, model names, and TRACE ALL from the TRACE list, leaving the list empty.</p>
</li>
</ul>
</dd>
<dt><span class="underline">ARGS</span></dt>
<dt>NOARGS</dt>
<dd>
<p>ARGS and NOARGS are used only with programs and formulas. These keywords indicate whether TRACE should display the values of arguments when entering a program or the dimension values of formulas. The default is ARGS.</p>
</dd>
<dt><span class="underline">VALUE</span></dt>
<dt>NOVALUE</dt>
<dd>
<p>VALUE and NOVALUE are used only with programs. These keywords indicate whether the return value of the program is displayed after executing its last line. If the program does not have a return value, no value is displayed. The default is VALUE.</p>
</dd>
<dt><span class="underline">TRACELINES</span></dt>
<dt>NOTRACELINES</dt>
<dd>
<p>TRACELINES and NOTRACELINES are used only with programs and models. These keywords indicate whether the program or model lines are printed. The default is TRACELINES.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5154"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2860"></a>Nested Programs and Models</p>
<p>If you execute nested programs (in which one program calls another), and if you trace all the nested programs, TRACE will keep track of the nested levels. If one of the programs calls a model, you can also trace the model, and TRACE will keep track of the model within the stack of nested programs.</p>
<p class="subhead2"><a id="OLADM2861"></a>Changing TRACE Settings</p>
<p>You can change a TRACE setting for a program or model by executing a new TRACE command. If you only change one of the settings, the others remain set to the values they had before.</p>
<p class="subhead2"><a id="OLADM2862"></a>Tracing a Model</p>
<p>If a block of simultaneous equations in a model cannot be solved within a specified number of iterations, an error occurs. The value of the <a href="dml_options.htm#i1004528">MODERROR</a> option determines the action that TRACE takes in this event.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i78678"></a>
<div id="OLADM920" class="refsect1">
<h2 class="refsect1">TRACKPRG</h2>
<p><a id="sthref5155"></a><a id="sthref5156"></a><a id="sthref5157"></a><a id="sthref5158"></a><a id="sthref5159"></a><a id="sthref5160"></a>The TRACKPRG command tracks the performance cost of every program that runs while you have tracking turned on. To get meaningful information from TRACKPRG, your session must be the only one running in Oracle OLAP. Furthermore, the accuracy of the results of TRACKPRG decreases as more processes are started on the host computer.</p>
<p>You turn TRACKPRG on, run the programs you want to track, and use TRACKPRG again to obtain the results. Each time each program is executed, TRACKPRG stores its cost data as one entry in its tracking list. When you execute another program, a new entry is added to the list, which is maintained in Oracle OLAP memory (free storage).</p>
<p>A program or line of code is considered to have a high performance cost when it takes a long time to execute. Use TRACKPRG to identify programs that have relatively high costs and then use a MONITOR statement to identify the time-consuming lines within those programs. When you want, you can use both commands simultaneously.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5161"></a>Syntax</p>
<p class="synopsis">TRACKPRG&nbsp;{ON|OFF|<span class="italic">file|</span>INIT}</p>
<p>where <span class="syntaxinlineitalic">file</span> has the following syntax:</p>
<dl>
<dd><span class="syntaxinline">FILE&nbsp;[APPEND]&nbsp;[</span><span class="syntaxinlineitalic">file-name</span>]</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5162"></a>Parameters</p>
<dl>
<dt>ON</dt>
<dd>
<p>Starts looking for programs to be run so it can gather their timing data in a tracking list. (Continues the current tracking process without interruption when tracking is already on, or resumes with a gap when tracking is off.)</p>
</dd>
<dt>OFF</dt>
<dd>
<p>Stops tracking programs and freezes any timing data currently in the tracking list which allows you to send the list to the current outfile or to a text file either immediately, or later in your session.</p>
</dd>
<dt>FILE</dt>
<dd>
<p>Specifies where to send the tracking list. TRACKPRG FILE has no effect on the tracking list, so you can send the same list repeatedly to different destinations.</p>
</dd>
<dt>APPEND</dt>
<dd>
<p>Specifies that Oracle OLAP adds the tracking list to the contents of the file indicated by <span class="italic">file-name</span> instead of replacing it.</p>
</dd>
<dt><span class="italic">file-name</span></dt>
<dd>
<p>A text expression to which Oracle OLAP sends the data. Unless the file is in the current directory, you must include the name of the directory object in the name of the file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use a CDA statement to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
<p>When you omit <span class="italic">file-name</span>, Oracle OLAP sends the timing data currently in the tracking list to the current outfile</p>
</dd>
<dt>INIT</dt>
<dd>
<p>Discards the timing data in the current tracking list and releases the Oracle OLAP memory that was used for that list (useful when you want the memory for other purposes). Also, when tracking is on, resumes waiting for you to run programs so it can gather their data into a completely new tracking list.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5163"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2863"></a>Single Execution</p>
<p>Each entry (that is, line) in the tracking list focuses on a single execution of a single program.</p>
<p class="subhead2"><a id="OLADM2864"></a>Depth of the Call</p>
<p>Each entry records the depth of the call, if any, to the current program; that is, how many program calls it has taken to get to the program reported on the current line. In TRACKPRG output, the depth of the call is indicated by the indentation of the program name. For each indented program, TRACKPRG also records the name of the program that called it at the end of the entry.</p>
<p class="subhead2"><a id="OLADM2865"></a>Types of Timing Data</p>
<p>In each entry, TRACKPRG records two types of timing data:</p>
<ul>
<li>
<p>Exclusive cost -- The time spent in this program, excluding the time spent on any programs that are called by this one.</p>
</li>
<li>
<p>Inclusive cost -- The time spent in this program, including the time spent on any programs that are called by this one.</p>
</li>
</ul>
<p>This gives you the option of generating a report on both types of cost.</p>
<p class="subhead2"><a id="OLADM2866"></a>Entry Sections</p>
<p>In TRACKPRG output, each entry (line) is divided into the following four sections:</p>
<ul>
<li>
<p>Program name, in character columns 1 through 38</p>
</li>
<li>
<p>Exclusive time, in columns 39 through 49</p>
</li>
<li>
<p>Inclusive time, in columns 50 through 60</p>
</li>
<li>
<p>Name of calling program, in columns 61 through 77</p>
</li>
</ul>
<p>Here is a sample of TRACKPRG output (for the MAIN program) with column numbers included for reference.</p>
<pre dir="ltr">1234567890123456789012345678901234567890123456789012345678901234567890
 
MAIN                                  39.6198425 225.551453
 COMM                                  43.793808  185.93161 MAIN
  _C.SYS.INFO                         .112533569 .112533569 COMM
  _C.SYS.INFO                         .087173462 .087173462 COMM
  _C.MAIN                             61.414505  141.938095 COMM
   _C.CON                             66.7147064 80.5235901 _C.MAIN
    _C.SYS.DORETURN                   .032287598 .032287598 _C.CON
</pre>
<p class="subhead2"><a id="OLADM2867"></a>TRACKREPORT Program</p>
<p><a id="sthref5164"></a>When you want to use Oracle OLAP reporting capabilities to produce a report from the timing data in the text file that is created by TRACKPRG, you can use the TRACKREPORT program. It has the following syntax.</p>
<p class="synopsis">TRACKREPORT<span class="italic">&nbsp;textfile-name</span></p>
<p>The <span class="italic">textfile-name</span> argument is the file name of the text file created by TRACKPRG from which you want to generate a report. TRACKREPORT uses a FILEREAD statement to read the data into an Oracle OLAP variable, and then it uses Oracle OLAP reporting capabilities to produce a report like the following sample.</p>
<pre dir="ltr">                     Exclusive  Inclusive  Number of 
    Program name        cost       cost      calls   
____________________ __________ __________ __________
 
COMM                 43.793808   185.93161          1
MAIN                 39.6198425 225.551453          1
_C.CON               66.7147064 80.5235901          1
_C.ENV.PUTOPTS       1.15296936 1.15296936          1
_C.ENV.XLATEIN       6.32765198 6.32765198          1
_C.MAIN               61.414505 141.938095          1
_C.SYS.DORETURN      .032287598 .032287598          1
_C.SYS.INFO          .289932251 .289932251          3
_C.SYS.NOF10         .038269043 .038269043          1
_CONNECT              5.3609314 6.16748047          1
_CONNNONE            .806549072 .806549072          1
</pre>
<p>When you want to further process the data from a TRACKPRG file, you can write your own program using the <code dir="ltr">TRACKREPORT</code> program as a model.</p>
<p class="subhead2"><a id="OLADM2868"></a>Excluded Subprograms</p>
<p>When you do not want separate performance data on all the subprograms called by the program you are timing, you can, within the overall program, turn tracking off before calling any subprograms you want to exclude and then turn it back on before calling any you want to include. You can do this repeatedly. Remember, however, that the time taken by any excluded subprograms is assigned to the total &#34;exclusive&#34; time for the overall program and to its &#34;inclusive&#34; time, because TRACKPRG has not individually tracked the excluded subprograms.</p>
<p class="subhead2"><a id="OLADM2869"></a>Using TRACKPRG with Very Small Programs</p>
<p>You might not be able to reproduce the results exactly for very small programs. When the CPU interrupts processing to do other tasks, that time is a greater percentage of the total execution time.</p>
<p class="subhead2"><a id="OLADM2870"></a>Unit of Measure for TRACKPRG</p>
<p>The MONITOR and TRACKPRG commands use milliseconds as the unit for recording execution time. The execution time does not include time spent on I/O and time spent waiting for the next statement.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5165"></a>Examples</p>
<div id="OLADM2871" class="example">
<p class="titleinexample"><a id="sthref5166"></a>Example 10-154 Collecting Timing Data USING TRCKPRG</p>
<p>In this example, timing data on the <code dir="ltr">mybjt</code> program and all the programs it calls is collected in a file called <code dir="ltr">mybjttim.dat</code>.</p>
<pre dir="ltr">TRACKPRG ON
mybjt
TRACKPRG OFF
TRACKPRG FILE mybjttim.dat
TRACKPRG INIT
TRACKREPORT mybjttim.dat
</pre></div>
<!-- class="example" -->
<div id="OLADM2872" class="example">
<p class="titleinexample"><a id="sthref5167"></a>Example 10-155 Using the INIT Keyword and TRACKREPORT</p>
<p>In this example, tracking is turned on to collect timing data about the execution of <code dir="ltr">prog1</code> and the data is sent to a file named <code dir="ltr">prog1.trk</code>. Then, the INIT keyword is used to discard the existing tracking list so the data for a second program can be collected and sent to a file. Throughout the procedure, tracking remains on. Finally, after tracking is turned off and the INIT keyword is used to release the memory that was used for the tracking list, the <code dir="ltr">TRACKREPORT</code> program is called to produce two reports generated from the data stored in the two files.</p>
<pre dir="ltr">TRACKPRG ON
prog1
TRACKPRG FILE prog1.trk
TRACKPRG INIT
prog2
TRACKPRG FILE prog2.trk
TRACKPRG OFF
TRACKPRG INIT
TRACKREPORT prog1.trk
TRACKREPORT prog2.trk
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="g1037686"></a>
<div id="OLADM921" class="refsect1">
<h2 class="refsect1">TRAP</h2>
<p><a id="sthref5168"></a><a id="sthref5169"></a><a id="sthref5170"></a><a id="sthref5171"></a><a id="sthref5172"></a>Within an OLAP DML program, the TRAP command causes program execution to branch to a label when an error occurs in a program or when the user interrupts the program. When execution branches to the trap label, that label is deactivated.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_1.htm#CACBHAFG">&#34;Declarative Errors&#34;</a> for a discussion of how Oracle OLAP handles declarative errors in programs and models</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5173"></a>Syntax</p>
<p class="synopsis">TRAP&nbsp;{OFF|ON&nbsp;<span class="italic">errorlabel&nbsp;</span>[NOPRINT|<span class="underline">PRINT</span>]}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5174"></a>Parameters</p>
<dl>
<dt>OFF</dt>
<dd>
<p>Deactivates the trap label. Because only one trap label can be active at a time, you do not supply <span class="italic">errorlabel</span> when setting <code dir="ltr">TRAP</code>&nbsp;<code dir="ltr">OFF</code>. When you try to include a label with OFF, an error occurs.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When an error occurs in a program that contains a trap label, execution branches to the label and the trap is deactivated. You do not have to execute an explicit <code dir="ltr">TRAP</code>&nbsp;<code dir="ltr">OFF</code>&nbsp; statement. Thus, an error occurring after execution has branched to the label does not cause execution to branch to the same label again.</div>
</dd>
<dt>ON <span class="italic">errorlabel</span></dt>
<dd>
<p>Activates the trap label (<span class="italic">errorlabel</span>). When TRAP is active, any error in the program causes execution to branch to <span class="italic">errorlabel.</span></p>
</dd>
<dt><span class="italic">errorlabel</span></dt>
<dd>
<p>The name of a label elsewhere in the program constructed following the <a href="dml_commands_1.htm#i1009483">&#34;Guidelines for Constructing a Label&#34;</a>. Execution of the program branches to the line directly following the specified label.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Note that <span class="italic">errorlabel,</span> as specified in ON, must <span class="italic">not</span> be followed by a colon. However, the actual label elsewhere in the program must end with a colon.
<p>When an actual trap label that corresponds to <span class="italic">errorlabel</span> does not exist elsewhere in the same program, execution stops with an error</p>
</div>
</dd>
<dt>NOPRINT</dt>
<dt>PRINT</dt>
<dd>
<p>Indicates whether to suppress output of the error message. NOPRINT suppresses the message. PRINT (default) means that the error message is sent to the current outfile before execution branches to the trap label. With the OFF keyword, NOPRINT and PRINT are meaningless and produce an error.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1036385"></a>Examples</p>
<div id="OLADM2873" class="example">
<p class="titleinexample"><a id="sthref5175"></a>Example 10-156 Trapping a Program Error</p>
<p>The following program fragment uses a TRAP statement to direct control to a label where options and dimension status are set back to the values they had before the program was executed and an error is signaled.</p>
<pre dir="ltr">PUSH month DECIMALS LSIZE PAGESIZE
TRAP ON haderror NOPRINT
LIMIT month TO LAST 1
   ...
POP month DECIMALS LSIZE PAGESIZE
RETURN
 
haderror:
POP month DECIMALS LSIZE PAGESIZE
SIGNAL ERRORNAME ERRORTEXT
</pre></div>
<!-- class="example" -->
<div id="OLADM2874" class="example">
<p class="titleinexample"><a id="CHDBJGHD"></a><a id="i1009717"></a>Example 10-157 Producing a Program Error Message Immediately</p>
<p><a id="sthref5176"></a><a id="sthref5177"></a><a id="sthref5178"></a>To produce the error message immediately, use a TRAP statement in each nested program, but do not use the NOPRINT keyword. When an error occurs, an error message is produced immediately, and execution branches to the trap label.</p>
<p>At the trap label, perform whatever error-handling commands you want and restore the environment. Then execute a SIGNAL statement that includes the PRGERR keyword.</p>
<pre dir="ltr">SIGNAL PRGERR
</pre>
<p>When you use the PRGERR keyword in the SIGNAL statement, no error message is produced, and the name PRGERR is not stored in ERRORNAME. The SIGNAL&nbsp; statement signals an error condition that is passed up to the program from which the current program was run. When the calling program contains a trap label, then execution branches to that label.</p>
<p>When each program in a chain of nested programs uses the TRAP and SIGNAL commands in this way, you can pass the error condition up through the entire chain. Each program has commands like these.</p>
<pre dir="ltr">TRAP ON error
   ...       &#34;Body of program and normal exit commands
RETURN 
error:
   ...       &#34;Error-handling and exit commands
SIGNAL PRGERR
</pre></div>
<!-- class="example" -->
<div id="OLADM2875" class="example">
<p class="titleinexample"><a id="CHDDHFCC"></a><a id="i1009718"></a>Example 10-158 Producing a Program Error Message at the End of the Chain</p>
<p><a id="sthref5179"></a><a id="sthref5180"></a><a id="sthref5181"></a>To produce the error message at the end of a chain of nested programs, use a TRAP statement that includes the NOPRINT keyword. When an error occurs in a nested program, execution branches to the trap label, but the error message is suppressed.</p>
<p>At the trap label, perform whatever error-handling commands you want and restore the environment. Then execute the following SIGNAL statement.</p>
<pre dir="ltr">SIGNAL ERRORNAME ERRORTEXT
</pre>
<p>The preceding SIGNAL statement contains includes ERRORNAME and ERRORTEXT within it. The ERRORNAME option contains the name of the original error, and the ERRORTEXT option contains the error message for the original error. When the calling program contains a trap label, then execution branches to that label.Consequently, the SIGNAL statement passes the original error name and error text to the calling program.</p>
<p>When each program in a chain of nested programs uses the TRAP and SIGNAL commands in this way, the original error message is produced at the end of the chain. Each program has commands like the following.</p>
<pre dir="ltr">TRAP ON error NOPRINT
   ...       &#34;Body of program and normal exit commands
RETURN
error:
   ...       &#34;Error-handling and exit commands
SIGNAL ERRORNAME ERRORTEXT
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABGJHJH"></a>
<div id="OLADM922" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">TRIGGER command</h2>
<p><a id="sthref5182"></a>The TRIGGER command <a id="ABC1415668"></a>associates a previously-created program to an object and identifies the object event that automatically executes the program; or disassociates a trigger program from the object.</p>
<p>To assign a trigger program to an object, the object must be the one most recently defined or considered during the current session. When it is not, you must first use a CONSIDER statement to make it the current definition.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> and the <a href="dml_functions_2.htm#BABCJEAD">TRIGGER function</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5183"></a>Syntax</p>
<p class="synopsis">TRIGGER {<span class="italic">event-name</span> [<span class="italic">program-name</span>] }... | {DELETE <span class="italic">event-name</span>}... | DELETE ALL</p>
<p>where <span class="syntaxinlineitalic">event-name</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinline">MAINTAIN</span></dd>
<dd><span class="syntaxinline">DELETE</span></dd>
<dd><span class="syntaxinline">PROPERTY</span></dd>
<dd><span class="syntaxinline">ASSIGN</span></dd>
<dd><span class="syntaxinline">BEFORE_UPDATE</span></dd>
<dd><span class="syntaxinline">AFTER_UPDATE</span></dd>
</dl>
<p>You can use the same keyword many times in a single TRIGGER statement; however, in this case, Oracle OLAP ignores all but the last occurrence of the keyword. See <a href="#BABBAAHG">&#34;Multiple Occurrences of the Same Keyword&#34;</a>, for details.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5184"></a>Parameters</p>
<dl>
<dt>MAINTAIN</dt>
<dd>
<p><a id="sthref5185"></a><a id="sthref5186"></a><a id="sthref5187"></a><a id="sthref5188"></a><a id="sthref5189"></a><a id="sthref5190"></a><a id="sthref5191"></a><a id="sthref5192"></a><a id="sthref5193"></a><a id="sthref5194"></a>Specifies that the trigger for the program is a Maintain event. A Maintain event is the execution of the MAINTAIN statement. As outlined in <a href="dml_functions_2.htm#CEGFGHBF">Table 8-19, &#34;Subevents for the MAINTAIN Event&#34;</a>, the Maintain event has several subevents that correspond to the major keywords of the MAINTAIN command. Exactly when a program triggered by a Maintain event is executed is dependent on the Maintain subevent that triggered the program and the object type for which the Maintain event is defined:.</p>
<ul>
<li>
<p>Programs triggered by Maintain Add and Maintain Merge events on dimensions and composites are executed <span class="italic">after</span> the entire MAINTAIN statement executes.</p>
</li>
<li>
<p>Programs triggered by Maintain Add and Maintain Merge events on dimension surrogates are executed multiple times&shy;&mdash;once <span class="italic">after</span> each value is added or merged.</p>
</li>
<li>
<p>Programs triggered by other Maintain subevents are executed <span class="italic">before</span> the MAINTAIN statement is executed.</p>
</li>
</ul>
</dd>
<dt>DELETE</dt>
<dd>
<p><a id="sthref5195"></a><a id="sthref5196"></a><a id="sthref5197"></a><a id="sthref5198"></a><a id="sthref5199"></a><a id="sthref5200"></a><a id="sthref5201"></a><a id="sthref5202"></a><a id="sthref5203"></a><a id="sthref5204"></a>Specifies that the trigger for the program is a Delete event. A Delete event is a DELETE statement for the object. Oracle OLAP executes the specified program immediately before a DELETE statement deletes the object.</p>
</dd>
<dt>PROPERTY</dt>
<dd>
<p><a id="sthref5205"></a><a id="sthref5206"></a><a id="sthref5207"></a><a id="sthref5208"></a><a id="sthref5209"></a><a id="sthref5210"></a><a id="sthref5211"></a><a id="sthref5212"></a><a id="sthref5213"></a><a id="sthref5214"></a>Specifies that Oracle OLAP executes the specified program in response to a Property event. A Property event is the execution of a PROPERTY statement to create, modify, or delete an object property. A program that is triggered by a Property event is executed before the statement that triggered it.</p>
</dd>
<dt>ASSIGN</dt>
<dd>
<p><a id="sthref5215"></a><a id="sthref5216"></a><a id="sthref5217"></a><a id="sthref5218"></a><a id="sthref5219"></a><a id="sthref5220"></a><a id="sthref5221"></a><a id="sthref5222"></a><a id="sthref5223"></a><a id="sthref5224"></a><a id="sthref5225"></a><a id="sthref5226"></a><a id="sthref5227"></a><a id="sthref5228"></a>Specifies that Oracle OLAP executes the specified program in response to an Assign event. An Assign event is executed when SET assigns values to variable, relation, worksheet object, or a formula. A program that is triggered by SET is executed each time Oracle OLAP assigns a value to the object for which the event was defined. Thus, a program triggered by an Assign event is often executed over and over again as the assignment statements loops through an object assigning values.</p>
</dd>
<dt>UPDATE</dt>
<dd>
<p><a id="sthref5229"></a><a id="sthref5230"></a><a id="sthref5231"></a><a id="sthref5232"></a><a id="sthref5233"></a>When the object has been acquired using ACQUIRE in an analytic workspace that is attached in multiwriter mode, specifies that Oracle OLAP executes the specified program immediately after the object is updated.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
To specify processing when the entire analytic workspace is updated, create a TRIGGER_AFTER_UPDATE or TRIGGER_BEFORE_UPDATE program.</div>
</dd>
<dt><span class="italic">program-name</span></dt>
<dd>
<p>The name of the trigger program. When omitted for an event, the event does not trigger an action.</p>
</dd>
<dt>DELETE <span class="italic">event-name</span></dt>
<dd>
<p><a id="sthref5234"></a><a id="sthref5235"></a><a id="sthref5236"></a><a id="sthref5237"></a><a id="sthref5238"></a><a id="sthref5239"></a><a id="sthref5240"></a><a id="sthref5241"></a><a id="sthref5242"></a>Deletes the triggers for the specified object events. Oracle OLAP disassociates the trigger program from the specified object event.</p>
</dd>
<dt>DELETE ALL</dt>
<dd>
<p>Deletes all of the triggers for the specified object. Oracle OLAP disassociates the trigger program from all events for object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5243"></a>Usage Notes</p>
<p class="subhead2"><a id="BABBAAHG"></a><a id="OLADM2876"></a>Multiple Occurrences of the Same Keyword</p>
<p>You can use all of the keywords in a single TRIGGER statement. However, if you use the same keyword twice in a TRIGGER statement, then Oracle OLAP recognized the last occurrence of the keyword; other occurrences are ignored.</p>
<p>For example, assume that you code the following TRIGGER statement.</p>
<pre dir="ltr">TRIGGER PROPERTY progname1 PROPERTY progname2 PROPERTY progname3
</pre>
<p>When executing this TRIGGER statement, Oracle OLAP executes <code dir="ltr">progname3</code> immediately before a property of the object is created, modified, or deleted; Oracle OLAP does <span class="italic">not</span> execute <code dir="ltr">progname1</code> or <code dir="ltr">progname2</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5244"></a>Examples</p>
<div id="OLADM2877" class="example">
<p class="titleinexample"><a id="CEGHACAG"></a>Example 10-159 Creating Triggers</p>
<p>Assume that your analytic workspace contains a <code dir="ltr">TEXT</code> dimension named <code dir="ltr">city</code> and that you want to create programs that automatically execute when a MAINTAIN statement executes against <code dir="ltr">city</code> or when a property is created or deleted for city. To create these triggers, you issue the following statements.</p>
<pre dir="ltr">&#34;Define the trigger programs
DEFINE trigger_maintain_move_city PROGRAM BOOLEAN
DEFINE trigger_property_city PROGRAM BOOLEAN
&#34;Associate the trigger programs to events for the city dimension
CONSIDER city
TRIGGER PROPERTY trigger_property_city
TRIGGER MAINTAIN trigger_maintain_move_city
</pre></div>
<!-- class="example" -->
<div id="OLADM2878" class="example">
<p class="titleinexample"><a id="CEGCHEAH"></a>Example 10-160 Describing Triggers</p>
<p>Assume that you have created the triggers for <code dir="ltr">city</code> as described in <a href="#CEGHACAG">Example 10-159, &#34;Creating Triggers&#34;</a> . Later you want to see the description of the triggers, to do so you cannot issue a DESCRIBE statement for your analytic workspace. Instead, you must issue a FULLDSC statement.</p>
<pre dir="ltr">DEFINE CITY DIMENSION TEXT
TRIGGER MAINTAIN TRIGGER_MAINTAIN_MOVE_CITY -
        PROPERTY TRIGGER_PROPERTY_CITY
 
DEFINE TRIGGER_MAINTAIN_MOVE_CITY PROGRAM BOOLEAN
 
DEFINE TRIGGER_PROPERTY_CITY PROGRAM BOOLEAN
</pre></div>
<!-- class="example" -->
<div id="OLADM2879" class="example">
<p class="titleinexample"><a id="sthref5245"></a>Example 10-161 Deleting Triggers</p>
<p>Assume that you have created the triggers described in <a href="#CEGHACAG">Example 10-159, &#34;Creating Triggers&#34;</a> . Now you want to delete the MAINTAIN trigger for <code dir="ltr">city</code>. To delete this trigger you issue the following statements.</p>
<pre dir="ltr">CONSIDER city
TRIGGER DELETE MAINTAIN
 
</pre>
<p>When you issue a FULLDSC statement, you confirm that the MAINTAIN trigger for <code dir="ltr">city</code> has been deleted although the <code dir="ltr">trigger_maintain_move_city</code> program remains.</p>
<pre dir="ltr">DEFINE CITY DIMENSION TEXT
TRIGGER PROPERTY TRIGGER_PROPERTY_CITY
 
DEFINE TRIGGER_MAINTAIN_MOVE_CITY PROGRAM BOOLEAN
 
DEFINE TRIGGER_PROPERTY_CITY PROGRAM BOOLEAN
</pre>
<p>To actually delete the <code dir="ltr">trigger_maintain_move_city</code> program you must issue the following statement.</p>
<pre dir="ltr">DELETE TRIGGER_MAINTAIN_MOVE_CITY 
</pre></div>
<!-- class="example" -->
<div id="OLADM2880" class="example">
<p class="titleinexample"><a id="CEGHCAHC"></a>Example 10-162 A MAINTAIN Trigger Program</p>
<p>Assume that you have a dimension with the following definition in your analytic workspace.</p>
<pre dir="ltr">DEFINE CITY DIMENSION TEXT
 
</pre>
<p>To create a Maintain trigger for city, you take the following steps:</p>
<ol>
<li>
<p>Define the trigger program as a user-defined function. It can have any name that you want. The following statement defines a program named <code dir="ltr">trigger_maintain_city</code>.</p>
<pre dir="ltr">DEFINE trigger_maintain_city PROGRAM BOOLEAN
 
</pre></li>
<li>
<p>Specify the content of the program.</p>
<pre dir="ltr">PROGRAM
SHOW JOINCHARS (&#39;calltype = &#39; CALLTYPE)
SHOW JOINCHARS (&#39;triggering event = &#39; TRIGGER(EVENT))
SHOW JOINCHARS (&#39;triggering subevent = &#39; TRIGGER(SUBEVENT))
RETURN TRUE
END
 
</pre></li>
<li>
<p>Issue a TRIGGER statement to associate the trigger program with the <code dir="ltr">city</code> dimension as a program to be executed when a Maintain event occurs. Remember to use a CONSIDER statement to make the definition for <code dir="ltr">city</code> the current definition.</p>
<pre dir="ltr">CONSIDER city
TRIGGER MAINTAIN TRIGGER_MAINTAIN_CITY
</pre></li>
</ol>
<p>When you issue a FULLDSC statement to see a full description of your analytic workspace, you can see the definition of <code dir="ltr">city</code> (including its Maintain trigger) and the <code dir="ltr">trigger_maintain_city</code> program.</p>
<pre dir="ltr">DEFINE CITY DIMENSION TEXT
TRIGGER MAINTAIN TRIGGER_MAINTAIN_CITY
 
DEFINE TRIGGER_MAINTAIN_CITY PROGRAM BOOLEAN
PROGRAM
SHOW JOINCHARS (&#39;calltype = &#39; CALLTYPE)
SHOW JOINCHARS (&#39;triggering event = &#39; TRIGGER(EVENT))
SHOW JOINCHARS (&#39;triggering subevent = &#39; TRIGGER(SUBEVENT))
RETURN TRUE
END
 
</pre>
<p>As illustrated in the following statements and output, when you issue MAINTAIN statements for city, the <code dir="ltr">trigger_maintain_city</code> program executes.</p>
<pre dir="ltr">MAINTAIN city ADD &#39;Boston&#39; &#39;Houston&#39; &#39;Dallas&#39;

calltype = TRIGGER
triggering event = MAINTAIN
triggering subevent = ADD
 
REPORT city
 
CITY
--------------
Boston
Houston
Dallas
 
MAINTAIN city MOVE &#39;Dallas&#39; to 2

calltype = TRIGGER
triggering event = MAINTAIN
triggering subevent = MOVE
 
REPORT city
 
CITY
--------------
Boston
Dallas
Houston
</pre></div>
<!-- class="example" -->
<div id="OLADM2881" class="example">
<p class="titleinexample"><a id="CEGCIIGC"></a>Example 10-163 An ASSIGN Trigger on a Variable</p>
<p>Assume that your analytic workspace contains objects with the following definitions.</p>
<pre dir="ltr">DEFINE geog DIMENSION TEXT
DEFINE sales VARIABLE DECIMAL &lt;geog&gt;
DEFINE percent_sales VARIABLE INTEGER &lt;geog&gt;
 
</pre>
<p>The <code dir="ltr">sales</code> variable contains the following values.</p>
<pre dir="ltr">GEOG             SALES
-------------- ----------
North America        0.59
Europe               9.35
Asia                   NA
</pre>
<p>The <code dir="ltr">percent_sales</code> variable is empty.</p>
<p>Assume that you want specialized processing of values when you assign values to <code dir="ltr">percent_sales</code>. To handle this processing automatically, you can create an Assign trigger program for <code dir="ltr">percent_sales</code> by taking the following steps:</p>
<ol>
<li>
<p>Create a trigger program that executes each time you assign values to <code dir="ltr">percent_sales</code>.</p>
<pre dir="ltr">DEFINE TRIGGER_EQ PROGRAM BOOLEAN
PROGRAM
ARGUMENT datavalue WORKSHEET
show &#39;description of triggering object = &#39; 
FULLDESCRIBE &amp;TRIGGER(NAME)
SHOW JOINCHARS (&#39;calltype = &#39; CALLTYPE)
SHOW JOINCHARS (&#39;triggering event = &#39; TRIGGER(EVENT))
SHOW JOINCHARS (&#39;triggering subevent = &#39; TRIGGER(SUBEVENT))
SHOW JOINCHARS (&#39;value being assigned = &#39; datavalue)
SHOW &#39;  &#39;
END
 
</pre></li>
<li>
<p>Add an assign trigger to <code dir="ltr">percent_sales</code> using a TRIGGER statement. Remember to first issue a CONSIDER statement to make the definition for the <code dir="ltr">percent_sales</code> variable the current definition.</p>
<pre dir="ltr">CONSIDER percent_sales
TRIGGER ASSIGN TRIGGER_EQ
</pre></li>
<li>
<p>Assign values to <code dir="ltr">percent_sales</code>.</p>
<pre dir="ltr">percent_sales = (sales/TOTAL(sales))*100
</pre>
<p>Assigning values to <code dir="ltr">percent_sales</code> triggers the execution of the <code dir="ltr">trigger_eq</code> program and produces the following output lines.</p>
<pre dir="ltr">description of triggering object = 
DEFINE PERCENT_SALES VARIABLE INTEGER &lt;GEOG&gt;
TRIGGER ASSIGN TRIGGER_EQ
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value being assigned = 6

description of triggering object = 
DEFINE PERCENT_SALES VARIABLE INTEGER &lt;GEOG&gt;
TRIGGER ASSIGN TRIGGER_EQ
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value being assigned = 94

description of triggering object = 
DEFINE PERCENT_SALES VARIABLE INTEGER &lt;GEOG&gt;
TRIGGER ASSIGN TRIGGER_EQ
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value being assigned = 
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
From the output you can see that Oracle OLAP called the <code dir="ltr">trigger_eq</code> program three times&mdash;each time it assigned a value to <code dir="ltr">percent_sales</code>.</div>
</li>
<li>
<p>When you issue REPORT commands for <code dir="ltr">sales</code> and <code dir="ltr">percent_sales</code> you can see the result of the calculations. The <code dir="ltr">percent_sales</code> variable contains values that are the percent of sales for each continent.</p>
<pre dir="ltr">GEOG                  SALES
-------------- --------------------
North America                  0.59
Europe                         9.35
Asia                             NA
 
GEOG              PERCENT_SALES
-------------- --------------------
North America                     6
Europe                           94
Asia                             NA
</pre></li>
</ol>
</div>
<!-- class="example" -->
<div id="OLADM2882" class="example">
<p class="titleinexample"><a id="CEGCBJHI"></a>Example 10-164 Setting Values in an ASSIGN Trigger Program</p>
<p>Assume that you have the following objects in your analytic workspace.</p>
<pre dir="ltr">DEFINE GEOGRAPHY DIMENSION TEXT WIDTH 12
LD Geography Dimension Values
 
DEFINE PRODUCT DIMENSION TEXT WIDTH 12
LD Product Dimension Values
 
DEFINE TIME DIMENSION TEXT WIDTH 12
LD Time Dimension Values
 
DEFINE CHANNEL DIMENSION TEXT WIDTH 12
LD Channel Dimension Values
 
DEFINE F.MARGIN FORMULA DECIMAL &lt;CHANNEL GEOGRAPHY PRODUCT TIME&gt;
LD Margin
EQ f.sales-f.costs
 
 
DEFINE F.COSTS VARIABLE SHORT &lt;GEOGRAPHY PRODUCT CHANNEL TIME&gt;
LD Costs
 
DEFINE F.SALES VARIABLE SHORT &lt;GEOGRAPHY PRODUCT CHANNEL TIME&gt;
LD Sales
 
</pre>
<p>Note that <code dir="ltr">f.costs</code>, <code dir="ltr">f.sales</code>, and <code dir="ltr">f.margin</code> all have the same dimensions.</p>
<p>Now you add an Assign trigger to <code dir="ltr">f.margin</code> that executes a program named <code dir="ltr">t.margin</code>. The definition of <code dir="ltr">f.margin</code> is modified to the following definition.</p>
<pre dir="ltr">DEFINE F.MARGIN FORMULA DECIMAL &lt;CHANNEL GEOGRAPHY PRODUCT TIME&gt;
LD Margin
TRIGGER ASSIGN T.MARGIN
EQ f.sales-f.costs
</pre>
<p>Now you actually write the t.margin program. When an expression is assigned to the <code dir="ltr">f.margin</code> formula, the program uses this value to compute new values for <code dir="ltr">f.costs</code> and <code dir="ltr">f.sales</code>.</p>
<pre dir="ltr">DEFINE T.MARGIN PROGRAM
PROGRAM
ARG newVal DECIMAL       &#34; The value passed to the program by the Assign trigger
VARIABLE t.valDiff DECIMAL     &#34; Difference between newVal and old value
VARIABLE t.costInc DECIMAL     &#34; Amount the difference makes to costs
&#34;show the value of newVal
SHOW &#39;newVal = &#39; NONL
SHOW newVal
&#34; Compute the difference between the current value and the new one
t.valDiff = newVal - f.margin
&#34; Now increase costs proportional to their existing amounts
t.costInc = (newVal - f.margin) * (f.costs/f.sales)
&#34; Adjust the values of sales and costs to get the new value
SET1 f.costs = f.costs + t.costInc
 
SET1 f.sales =  f.sales + t.valDiff + t.costInc
 
SHOW geography NONL
SHOW &#39; &#39; NONL
SHOW product NONL
SHOW &#39; &#39; NONL
SHOW channel NONL
SHOW &#39; &#39; NONL
SHOW time NONL
SHOW &#39; f.costs = &#39;NONL
SHOW f.costs NONL
SHOW &#39; f.sales = &#39;NONL
SHOW f.sales
END
 
</pre>
<p>Now assume that you issue the following LIMIT statements to identify a subset of data and issue a REPORT statement to report on the values of f.margin.</p>
<pre dir="ltr">LIMIT t0.hierdim TO &#39;STANDARD&#39;
LIMIT time TO t0.levelrel EQ &#39;L2&#39;
LIMIT geography TO FIRST 1
LIMIT channel TO FIRST 1
LIMIT product TO FIRST 5
REPORT DOWN time ACROSS product: f.margin
 
GEOGRAPHY: WORLD
CHANNEL: TOTALCHANNEL
               -----------------------F.MARGIN-----------------------
               -----------------------PRODUCT------------------------
TIME           TOTALPROD   AUDIODIV  PORTAUDIO    PORTCD     PORTST
-------------- ---------- ---------- ---------- ---------- ----------
Q1.96          54,713,974 29,603,546  5,379,661  2,480,914  1,615,708
Q2.96          63,919,784 34,594,087  6,331,848  2,869,265  1,931,785
Q3.96          58,303,490 31,543,152  5,792,725  2,616,515  1,795,701
Q4.96          71,197,892 38,383,878  7,059,581  3,163,804  2,232,880
Q1.97          55,489,723 29,989,262  5,368,237  2,491,475  1,607,344
Q2.97          41,687,908 22,532,979  4,070,725  1,855,992  1,245,161
 
</pre>
<p>Now you issue the following assignment statement that increase the value of <code dir="ltr">f.margin</code> by 10% and report it</p>
<pre dir="ltr">f.margin = f.margin * 1.1
</pre>
<p>The execution of this assignment statement triggers the execution of the Assign trigger program named <code dir="ltr">t.margin</code>. The output of that program follows.</p>
<pre dir="ltr">newVal = 60,185,371.40
WORLD TOTALPROD TOTALCHANNEL Q1.96 f.costs = 1,298,474.00 f.sales = 61,483,840.00
newVal = 32,563,900.67
WORLD AUDIODIV TOTALCHANNEL Q1.96 f.costs = 664,226.90 f.sales = 33,228,130.00
newVal = 5,917,626.67
WORLD PORTAUDIO TOTALCHANNEL Q1.96 f.costs = 97,976.04 f.sales = 6,015,603.00
newVal = 2,729,005.43
WORLD PORTCD TOTALCHANNEL Q1.96 f.costs = 34,301.53 f.sales = 2,763,307.00
newVal = 1,777,278.95
WORLD PORTST TOTALCHANNEL Q1.96 f.costs = 25,160.72 f.sales = 1,802,440.00
newVal = 70,311,762.13
WORLD TOTALPROD TOTALCHANNEL Q2.96 f.costs = 1,504,051.00 f.sales = 71,815,820.00
newVal = 38,053,495.70
WORLD AUDIODIV TOTALCHANNEL Q2.96 f.costs = 768,788.10 f.sales = 38,822,280.00
newVal = 6,965,032.86
WORLD PORTAUDIO TOTALCHANNEL Q2.96 f.costs = 114,558.20 f.sales = 7,079,591.00
newVal = 3,156,191.20
WORLD PORTCD TOTALCHANNEL Q2.96 f.costs = 39,256.88 f.sales = 3,195,448.00
newVal = 2,124,963.02
WORLD PORTST TOTALCHANNEL Q2.96 f.costs = 29,780.54 f.sales = 2,154,744.00
newVal = 64,133,838.86
WORLD TOTALPROD TOTALCHANNEL Q3.96 f.costs = 1,350,733.00 f.sales = 65,484,570.00
newVal = 34,697,467.06
WORLD AUDIODIV TOTALCHANNEL Q3.96 f.costs = 691,887.10 f.sales = 35,389,360.00
newVal = 6,371,997.63
WORLD PORTAUDIO TOTALCHANNEL Q3.96 f.costs = 103,203.70 f.sales = 6,475,202.00
newVal = 2,878,166.40
WORLD PORTCD TOTALCHANNEL Q3.96 f.costs = 35,358.18 f.sales = 2,913,525.00
newVal = 1,975,270.68
WORLD PORTST TOTALCHANNEL Q3.96 f.costs = 27,339.77 f.sales = 2,002,611.00
newVal = 78,317,681.06
WORLD TOTALPROD TOTALCHANNEL Q4.96 f.costs = 1,618,915.00 f.sales = 79,936,590.00
newVal = 42,222,265.94
WORLD AUDIODIV TOTALCHANNEL Q4.96 f.costs = 826,923.40 f.sales = 43,049,190.00
newVal = 7,765,539.34
WORLD PORTAUDIO TOTALCHANNEL Q4.96 f.costs = 123,269.50 f.sales = 7,888,809.00
newVal = 3,480,184.35
WORLD PORTCD TOTALCHANNEL Q4.96 f.costs = 41,998.90 f.sales = 3,522,183.00
newVal = 2,456,168.00
WORLD PORTST TOTALCHANNEL Q4.96 f.costs = 33,357.19 f.sales = 2,489,525.00
newVal = 61,038,695.03
WORLD TOTALPROD TOTALCHANNEL Q1.97 f.costs = 1,423,963.00 f.sales = 62,462,660.00
newVal = 32,988,187.65
WORLD AUDIODIV TOTALCHANNEL Q1.97 f.costs = 679,477.80 f.sales = 33,667,660.00
newVal = 5,905,060.56
WORLD PORTAUDIO TOTALCHANNEL Q1.97 f.costs = 158,854.40 f.sales = 6,063,915.00
newVal = 2,740,622.56
WORLD PORTCD TOTALCHANNEL Q1.97 f.costs = 53,144.41 f.sales = 2,793,767.00
newVal = 1,768,078.14
WORLD PORTST TOTALCHANNEL Q1.97 f.costs = 40,784.62 f.sales = 1,808,863.00
newVal = 45,856,698.46
WORLD TOTALPROD TOTALCHANNEL Q2.97 f.costs = 1,070,465.00 f.sales = 46,927,160.00
newVal = 24,786,276.35
WORLD AUDIODIV TOTALCHANNEL Q2.97 f.costs = 512,435.60 f.sales = 25,298,710.00
newVal = 4,477,797.64
WORLD PORTAUDIO TOTALCHANNEL Q2.97 f.costs = 118,791.70 f.sales = 4,596,590.00
newVal = 2,041,591.56
WORLD PORTCD TOTALCHANNEL Q2.97 f.costs = 39,287.77 f.sales = 2,080,879.00
newVal = 1,369,677.57
WORLD PORTST TOTALCHANNEL Q2.97 f.costs = 30,038.08 f.sales = 1,399,716.00
</pre></div>
<!-- class="example" -->
<div id="OLADM2883" class="example">
<p class="titleinexample"><a id="CEGCIBAE"></a>Example 10-165 An ASSIGN Trigger on a Formula</p>
<p>The way Oracle OLAP handles assigning values to a formula varies depending on whether or not the formula has an Assign trigger as part of its definition.</p>
<p>Assume your analytic workspace contains objects with the following definitions and values.</p>
<pre dir="ltr">DEFINE geog.d DIMENSION TEXT
DEFINE time.d DIMENSION TEXT
DEFINE sales VARIABLE DECIMAL &lt;time.d geog.d&gt;
DEFINE f_modified_sales FORMULA DECIMAL &lt;time.d geog.d&gt;
  EQ sales+20
 
</pre>
<p>A report of <code dir="ltr">sales</code>, shows the base values.</p>
<pre dir="ltr">               -------------------SALES-------------------
               ------------------TIME.D-------------------
GEOG.D          Jan2004    Feb2004    Mar2004      2004
-------------- ---------- ---------- ---------- ----------
Boston               4.00       4.66       5.91       NA
Medford              4.37       5.80       4.45       NA
San Diego            4.97       5.95       4.75       NA
Sunnydale            5.85       5.26       4.08       NA
</pre>
<p>A report of <code dir="ltr">f_modified_sales</code> formula displays the following report that contains the values computed by the formula.</p>
<pre dir="ltr">               -------------F_MODIFIED_SALES--------------
               ------------------TIME.D-------------------
GEOG.D          Jan2004    Feb2004    Mar2004      2004
-------------- ---------- ---------- ---------- ----------
Boston              24.00      24.66      25.91         NA
Medford             24.37      25.80      24.45         NA
San Diego           24.97      25.95      24.75         NA
Sunnydale           25.85      25.26      24.08         NA
</pre>
<p>The <code dir="ltr">f_modified_sales</code> formula does not presently have an Assign trigger on it. Consequently, as illustrated in the following code, any attempt to assign values to <code dir="ltr">f_modified_sales</code> results in an error.</p>
<pre dir="ltr">f_modified_sales = 3
ORA-34142: You cannot assign values to a FORMULA.
</pre>
<p>To create an Assign trigger on <code dir="ltr">f_modified_sales</code> take the following steps:</p>
<ol>
<li>
<p>Define the trigger program</p>
<pre dir="ltr">DEFINE TRIGGER_ASSIGN_MODIFIED_SALES PROGRAM
PROGRAM
ARGUMENT datavalue NUMBER
SHOW &#39;description of triggering object = &#39;
DESCRIBE &amp;TRIGGER(NAME)
SHOW JOINCHARS (&#39;calltype = &#39; CALLTYPE)
SHOW JOINCHARS (&#39;triggering event = &#39; TRIGGER(EVENT))
SHOW JOINCHARS (&#39;value being assigned = &#39; datavalue)
SHOW &#39;  &#39;
END
 
</pre></li>
<li>
<p>Add the Assign trigger to the definition of the formula using the following statements.</p>
<pre dir="ltr">CONSIDER f_modified_sales
TRIGGER ASSIGN trigger_assign_modified_sales
 
</pre>
<p>Issuing a <code dir="ltr">FULLDSC f_modified_sales</code> statement displays the new complete definition for <code dir="ltr">f_modified_sales</code>.</p>
<pre dir="ltr">DEFINE F_MODIFIED_SALES FORMULA DECIMAL &lt;TIME.D GEOG.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
EQ sales+20
</pre></li>
<li>
<p>Now when you issue the following statement to assign a value to <code dir="ltr">f_modified_sales</code>, an error does not occur. Instead, the <code dir="ltr">trigger_assign_modified_sales</code> trigger program executes 16 times, once for each dimension value of <code dir="ltr">sales</code>.</p>
<pre dir="ltr">f_modified_sales = 3
 
description of triggering object = 
DEFINE F_MODIFIED_SALES FORMULA DECIMAL &lt;TIME.D GEOG.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
EQ sales+20
calltype = TRIGGER
triggering event = ASSIGN
value being assigned = 3.00
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
... 
description of triggering object = 
...
 
</pre></li>
<li>
<p>However, as issuing a REPORT statement for <code dir="ltr">f_modified_sales</code> illustrates, the values calculated by a simple execution of the formula have not changed.</p>
<pre dir="ltr">report f_modified_sales

               -------------F_MODIFIED_SALES--------------
               ------------------TIME.D-------------------
GEOG.D          Jan2004    Feb2004    Mar2004      2004
-------------- ---------- ---------- ---------- ----------
Boston              24.00      24.66      25.91         NA
Medford             24.37      25.80      24.45         NA
San Diego           24.97      25.95      24.75         NA
Sunnydale           25.85      25.26      24.08         NA
</pre></li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABHJHHI"></a>
<div id="OLADM923" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">TRIGGERASSIGN</h2>
<p><a id="sthref5246"></a><a id="sthref5247"></a><a id="sthref5248"></a><a id="sthref5249"></a><a id="sthref5250"></a><a id="sthref5251"></a><a id="sthref5252"></a><a id="sthref5253"></a>Within a program triggered by an Assign event for an object, assigns a value to the triggering object.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <a href="dml_options.htm#BABHEIJA">USETRIGGERS</a> option must be set to its default value of <code dir="ltr">TRUE</code> for a TRIGGERASSIGN to execute</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5254"></a>Data Type</p>
<p>The data type of the object to which Oracle OLAP assigns the value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5255"></a>Syntax</p>
<p class="synopsis">TRIGGERASSIGN <span class="italic">value</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5256"></a>Parameters</p>
<dl>
<dt><span class="italic">value</span></dt>
<dd>
<p>The value that you want assigned.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5257"></a>Examples</p>
<div id="OLADM2884" class="example">
<p class="titleinexample"><a id="CEGEFJCJ"></a>Example 10-166 Assigning an Alternative Value using an Assign Trigger</p>
<p>Assume that you have objects with the following descriptions in your analytic workspace.</p>
<pre dir="ltr">DEFINE GEOG.D DIMENSION TEXT
DEFINE TIME.D DIMENSION TEXT
DEFINE TIME.PARENTREL RELATION TIME.D &lt;TIME.D&gt;
DEFINE SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
</pre>
<p>Assume also that you have populated the <code dir="ltr">sales</code> variable with the values shown in the following report, but that you have not yet populated the <code dir="ltr">modified_sales</code> variable.</p>
<pre dir="ltr">             -----------------------SALES-----------------------
             ----------------------GEOG.D-----------------------
TIME.D          Boston      Medford     San Diego    Sunnydale
------------ ------------ ------------ ------------ ------------
Jan76            1,000.00     2,000.00     3,000.00     4,000.00
Feb76            2,000.00     4,000.00     6,000.00     8,000.00
Mar76            3,000.00     6,000.00     9,000.00    12,000.00
76Q1                   NA           NA           NA           NA
 
</pre>
<p>Now you want to assign values to the <code dir="ltr">modified_sales</code> variable using various expressions, however, you want to ensure that the values never are less than or equal to 1,000. You can assure this processing by taking the following steps:</p>
<ol>
<li>
<p>Create the following program that checks for values less than or equal to 1000 condition.</p>
<pre dir="ltr">DEFINE TRIGGER_ASSIGN_MODIFIED_SALES PROGRAM
PROGRAM
ARGUMENT datavalue DECIMAL
IF datavalue LE 1000
 THEN TRIGGERASSIGN 1000
show &#39;description of triggering object = &#39;
DESCRIBE &amp;TRIGGER(NAME)
SHOW JOINCHARS (&#39;calltype = &#39; CALLTYPE)
SHOW JOINCHARS (&#39;triggering event = &#39; TRIGGER(EVENT))
SHOW JOINCHARS (&#39;triggering subevent = &#39; TRIGGER(SUBEVENT))
SHOW JOINCHARS (&#39;value passed to program = &#39; datavalue)
SHOW &#39;  &#39;
END
 
</pre></li>
<li>
<p>Issue the following statements to add an Assign trigger to the <code dir="ltr">modified_sales</code> variable. The <code dir="ltr">trigger_assign_modified_sales</code> program is the trigger program.</p>
<pre dir="ltr">CONSIDER modified_sales
TRIGGER ASSIGN trigger_assign_modified_sales
</pre></li>
<li>
<p>Assign values to <code dir="ltr">modified_sales</code>.</p>
<pre dir="ltr">modified_sales = sales - 1000
</pre></li>
<li>
<p>This statement triggers the execution of the <code dir="ltr">trigger_assign_modified_sales</code> program for each value that Oracle OLAP assigns.</p>
<pre dir="ltr">description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 0.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 1,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 2,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 3,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 1,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 3,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 5,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 7,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 2,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 5,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 8,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 11,000.00
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 
  
description of triggering object = 
DEFINE MODIFIED_SALES VARIABLE DECIMAL &lt;GEOG.D TIME.D&gt;
TRIGGER ASSIGN TRIGGER_ASSIGN_MODIFIED_SALES
calltype = TRIGGER
triggering event = ASSIGN
triggering subevent = 
value passed to program = 
</pre></li>
<li>
<p><a id="sthref5258"></a>The following report of <code dir="ltr">modified_sales</code> shows that all values are at least 1,000.</p>
<pre dir="ltr"> 
             ------------------MODIFIED_SALES-------------------
             ----------------------GEOG.D-----------------------
TIME.D          Boston      Medford     San Diego    Sunnydale
------------ ------------ ------------ ------------ ------------
Jan76            1,000.00     1,000.00     2,000.00     3,000.00
Feb76            1,000.00     3,000.00     5,000.00     7,000.00
Mar76            2,000.00     5,000.00     8,000.00    11,000.00
76Q1                   NA           NA           NA           NA
</pre></li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABEJDHB"></a>
<div id="OLADM924" class="refsect1">
<h2 class="refsect1">UNHIDE</h2>
<p><a id="sthref5259"></a><a id="sthref5260"></a>The UNHIDE command makes visible the text of a program that has been made invisible by a HIDE statement. To use UNHIDE, you must know the seed expression that was used with the HIDE statement when the program was hidden.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The HIDE command performs simple encoding. For information on using secure encryption and other security features in Oracle, see <a class="olink DBSEG" href="../DBSEG/toc.htm"><span class="italic">Oracle Database Security Guide</span></a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5261"></a>Syntax</p>
<p class="synopsis">UNHIDE&nbsp;<span class="italic">prog-name&nbsp;seed-exp</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5262"></a>Parameters</p>
<dl>
<dt><span class="italic">prog-name</span></dt>
<dd>
<p>The name of a program whose text has been made invisible by using the HIDE statement. Do not enclose the program name in quotes.</p>
</dd>
<dt><span class="italic">seed-exp</span></dt>
<dd>
<p>The single-line text expression that was used in the HIDE statement when &#34;prog-name&#34; was hidden. The seed expression must be byte-for-byte the same value as you used in the HIDE statement. Also, because the seed expression is case-sensitive, specify uppercase and lowercase characters carefully.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5263"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2885"></a>Forgetting the Seed Expression</p>
<p>When you want to use an UNHIDE statement on a program but you have forgotten the seed expression, you can call Oracle OLAP Products Technical Support for help in solving your problem. Before calling, make a connection to Oracle OLAP from OLAP Worksheet, and in Oracle OLAP, attach the analytic workspace that contains the hidden program.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5264"></a>Examples</p>
<div id="OLADM2886" class="example">
<p class="titleinexample"><a id="sthref5265"></a>Example 10-167 Unhiding Program Text</p>
<p>The following example makes visible the text of a program called <code dir="ltr">sales_rpt</code>. The seed expression <code dir="ltr">crystal</code> was used when the program was hidden using HIDE.</p>
<pre dir="ltr">UNHIDE sales_rpt &#39;crystal&#39;
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79209"></a>
<div id="OLADM925" class="refsect1">
<h2 class="refsect1">UPDATE</h2>
<p><a id="sthref5266"></a><a id="sthref5267"></a>The UPDATE command moves analytic workspace changes from a temporary area to the database table in which the workspace is stored. Typically, you use an UPDATE statement when you are finished making changes in an analytic workspace; however, you can also specify UPDATE commands periodically as you go along.</p>
<p>Your changes are not saved until you execute a COMMIT statement, either from Oracle OLAP or from SQL. When you do not use the UPDATE and COMMIT commands, changes made to an analytic workspace during your session are discarded when you end your Oracle session.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can detach and reattach an analytic workspace without losing updated changes, even though they are not committed because the detaching and reattaching occur within a single database session</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5268"></a>Syntax</p>
<p class="synopsis">UPDATE [MULTI [<span class="italic">acquired_objects</span>]] [<span class="italic">analytic_workspaces</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5269"></a>Parameters</p>
<p>When you do not specify any parameters, the command updates all analytic workspaces that are attached in read/write non-exclusive and read/write exclusive modes and all acquired objects (that is, all acquired variables, relations, valuesets, and dimensions) in all analytic workspaces that are attached in multiwriter mode.</p>
<dl>
<dt><span class="italic">acquired_objects</span></dt>
<dd>
<p>A list of the names of acquired objects, separated by commas, in analytic workspaces attached in multiwriter mode. These objects can be any object that you have acquired using an ACQUIRE statement.</p>
<p>To specify individual partitions of a partitioned variable, use the following syntax.</p>
<p class="synopsis"><span class="italic">variable_name</span> (PARTITION <span class="italic">partition_name</span> [, PARTITION <span class="italic">partition_name</span> ]...)</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
you cannot update an object when it is dimensioned by an acquired and maintained dimension unless you update that dimension first.</div>
</dd>
<dt><span class="italic">workspaces</span></dt>
<dd>
<p>A list of names, separated by commas. of one or more workspaces attached in read/write or multiwriter mode.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5270"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2887"></a>Automatic COMMIT</p>
<p>Many users execute DML statements using SQL*Plus or OLAP Worksheet. Both of these tools automatically execute a COMMIT statement when you end your session.</p>
<p class="subhead2"><a id="OLADM2888"></a>Triggering Program Execution When UPDATE Executes</p>
<p>Using the TRIGGER command, you can make an UPDATE statement an event that automatically executes an OLAP DML program. See <a href="dml_program.htm#CHDBDIIH">&#34;Trigger Programs&#34;</a> for more information</p>
<p class="subhead2"><a id="OLADM2889"></a>Shared Workspaces</p>
<p>When you have attached a shared workspace and another user has read/write access, that user&#39;s UPDATE and COMMIT commands do not affect your view of the workspace. Your view of the data remains the same as when you attached the workspace. When you want access to the changes, you can detach the workspace and reattach it.</p>
<p class="subhead2"><a id="OLADM2890"></a>Effect of a ROLLBACK Statement</p>
<p>The OLAP DML does not provide a way to issue a SQL <code dir="ltr">ROLLBACK</code> statement; however, you could execute one in your session from outside Oracle OLAP (for example, through PL/SQL). When a <code dir="ltr">ROLLBACK</code> statement is executed in your session, Oracle OLAP checks to see whether there are uncommitted updates in an attached workspace.</p>
<ul>
<li>
<p>When there are uncommitted updates (that is, you have made changes and executed an UPDATE statement, but you have not subsequently executed a COMMIT statement), then Oracle OLAP discards your changes and detaches the workspace.</p>
</li>
<li>
<p>When you have no uncommitted updates, then Oracle OLAP takes no action in response to a <code dir="ltr">ROLLBACK</code> statement. Consequently, when you have not issued an UPDATE statement since your last COMMIT statement, Oracle OLAP takes no action and all your changes remain in the workspace during your session.</p>
</li>
</ul>
<p>When you rollback to a savepoint and there are uncommitted updates that occurred after the savepoint, Oracle OLAP discards those updates and detaches the workspace. Uncommitted updates that occurred before the savepoint remain in the workspace, and you can see them when you reattach the workspace in the same session.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5271"></a>Examples</p>
<div id="OLADM2891" class="example">
<p class="titleinexample"><a id="sthref5272"></a>Example 10-168 Saving Analytic Workspace Changes</p>
<p>The following statement moves changes in the current workspace session to the database table in which the workspace is stored.</p>
<pre dir="ltr">UPDATE
</pre>
<p>To save the changes in the database, the UPDATE statement must be followed by a COMMIT statement.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CCHBIGEG"></a>
<div id="OLADM2892" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">UPDATE_ATTRIBUTE_VALUE</h2>
<p>The UPDATE_ATTRIBUTE_VALUE <a id="sthref5273"></a>program modifies the attributes of an OLAP cube dimension member.</p>
<p>This program is especially useful when updating the following kinds of attributes:</p>
<ul>
<li>
<p>For attributes with an underlying relation or indexed dimension, you need only to provide the dimension member and value. The indexed dimension is maintained along with setting the value in the relation.</p>
</li>
<li>
<p>For spread attributes, if you set an attribute value on an attribute spanning all levels, then the values are spread down to lower levels on compile.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use this program to modify a cube dimension if a materialized view exists for that cube dimension or any cube in which it participates.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5274"></a>Syntax</p>
<p class="synopsis">CALL UPDATE_ATTRIBUTE_MEMBER(<span class="italic">dim_member_id</span>, <span class="italic">attribute_name</span>, <span class="italic">attribute_value</span> -</p>
<p class="synopsis">[, <span class="italic">auto_compile</span> ])</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5275"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because UPDATE_ATTRIBUTE_VALUE is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="dml_commands_1.htm#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">dim_member_id</span></dt>
<dd>
<p>A text expression that is the value of the cube dimension member that you want to modify the attributes of.</p>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension of which <span class="italic">dim_member_id</span> is a member.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_1.htm#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt><span class="italic">attribute_name</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the attribute.</p>
</dd>
<dt><span class="italic">attribute_value</span></dt>
<dd>
<p>A text expression that specifies the value of <span class="italic">attribute_name</span>.</p>
</dd>
<dt><span class="italic">auto_compile</span></dt>
<dd>
<p>A Boolean expression that specifies whether or not you want related analytic workspace objects to be updated immediately.</p>
<p>The default value is <code dir="ltr">TRUE</code> in which case all of the changes to the analytic workspace that are needed to update the attribute of the cube dimension member happen now.</p>
<p>Specify FALSE only when, for performance reasons, you want to make a bulk set of changes before issuing a compile. In this case, you need to explicitly compile the cube dimension before the values of the analytic workspace objects take effect as described in <a href="dml_commands_1.htm#BGEJCHAE">&#34;Explicitly Compiling a Cube Dimension&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Regardless of the value that you specify for this argument, the attribute of the dimension member is always immediately updated -- even when an error is signaled during compilation.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5276"></a>Examples</p>
<div id="OLADM2893" class="example">
<p class="titleinexample"><a id="CCHDFBCB"></a>Example 10-169 Updating the Attributes of an OLAP Cube Dimension</p>
<p>This example uses the UPDATE_ATTRIBUTE_VALUE program provided with the OLAP DML to update attributes of the <code dir="ltr">my_time</code> cube dimension for the L1-2 and the descendants of L1-2. The calls to the UPDATE_ATTRIBUTE_VALUE program provided with the OLAP DML are within a user-written OLAP DML program named <code dir="ltr">ADD_L1_2_DATE</code>.</p>
<ol>
<li>
<p>Issue the following PL/SQL statement to execute the user-written OLAP DML program named <code dir="ltr">ADD_L1_2_DATE</code> to set <code dir="ltr">time</code> attribute values for <code dir="ltr">L1_2</code> and its descendants</p>
<pre dir="ltr">exec dbms_aw.execute(&#39;call my_util_aw!add_l1_2_dates&#39;);
</pre>
<p>The definition of the user-written <code dir="ltr">ADD_L1_2_DATE</code> OLAP DML program is shown below. Notice the calls to the UPDATE_ATTRIBUTE_VALUE program provided with the OLAP DML.</p>
<pre dir="ltr">DEFINE ADD_L1_2_DATES PROGRAM
PROGRAM
  VARIABLE _aw_dim       text
  VARIABLE _start_date   text
  VARIABLE _timespan     text

  _aw_dim = OBJORG(DIM &#39;my_time&#39;)
  _start_date = OBJORG(ATTRIBUTE &#39;my_time&#39; &#39;start_date&#39;)
  _timespan = OBJORG(ATTRIBUTE &#39;MY_TIME&#39; &#39;timespan&#39;)

  &#34; Updates the time attribute of L1_2, L2_3, L3_6, but does not compile
  CALL UPDATE_ATTRIBUTE_VALUE(&#39;L1_2&#39;, &#39;my_time&#39;, &#39;start_date&#39;, -
                              &amp;_start_date(&amp;_aw_dim &#39;L1_1&#39;)+365, NO)
  CALL UPDATE_ATTRIBUTE_VALUE(&#39;L1_2&#39;, &#39;my_time&#39;, &#39;timespan&#39;, -
                              &amp;_timespan(&amp;_aw_dim &#39;L1_1&#39;), NO)

  CALL UPDATE_ATTRIBUTE_VALUE(&#39;L2_3&#39;, &#39;my_time&#39;, &#39;start_date&#39;, -
                              &amp;_start_date(&amp;_aw_dim &#39;L1_2&#39;), NO)
  CALL UPDATE_ATTRIBUTE_VALUE(&#39;L2_3&#39;, &#39;my_time&#39;, &#39;timespan&#39;, -
                              &amp;_timespan(&amp;_aw_dim &#39;L2_1&#39;), NO)

  CALL UPDATE_ATTRIBUTE_VALUE(&#39;L3_6&#39;, &#39;my_time&#39;, &#39;start_date&#39;, -
                              &amp;_start_date(&amp;_aw_dim &#39;L1_2&#39;), NO)
  CALL UPDATE_ATTRIBUTE_VALUE(&#39;L3_6&#39;, &#39;my_time&#39;, &#39;timespan&#39;, -
                              &amp;_timespan(&amp;_aw_dim &#39;L3_1&#39;), NO)
  UPDATE
  COMMIT
END
</pre></li>
<li>
<p>Issue the following SQL statement to see what the attributes of the <code dir="ltr">my_time</code> cube dimension are.</p>
<pre dir="ltr">select dim_key||&#39;  &#39;||start_date||&#39;  &#39;||lpad(timespan, 3) 
    from my_time_view 
    order by dim_key asc;


DIM_KEY||&#39;&#39;||START_DATE||&#39;&#39;||LPAD(TIMESPAN,3)
----------------------------------------------------------------------------
L1_0  01-JAN-09  365
L1_1  01-JAN-10  365
L1_2  01-JAN-11  365
L2_1  01-JAN-10   90
L2_2  01-APR-10   61
L2_3  01-JAN-11   90
L3_1  01-JAN-10   31
L3_2  01-FEB-10   28
L3_3  01-MAR-10   31
L3_4  01-APR-10   30
L3_5  01-MAY-10   31
L3_6  01-JAN-11   31

12 rows selected.
</pre></li>
<li>
<p>Issue the following SQL statement to report the values of the <code dir="ltr">sales</code> and <code dir="ltr">moving_sales</code> measures <span class="italic">before</span> the <code dir="ltr">my_time</code> cube dimension is compiled. Note that the calculation for the measures does not consider the new attributes of the <code dir="ltr">my_time</code> cube dimension.</p>
<pre dir="ltr">select my_time||&#39;  &#39;||lpad(sales, 2)||&#39;  &#39;||lpad(moving_sales, 2)
from my_cube_view
order by my_time asc;

MY_TIME||&#39;&#39;||LPAD(SALES,2)||&#39;&#39;||LPAD(MOVING_SALES,2)
--------------------------------------------------------------------
L1_0  24  27
L1_1  14  38
L1_2   3   3
L2_1   2   5
L2_2  12  14
L2_3   3   3
L3_1   1   4
L3_2   1   2
L3_3  10  11
L3_4   1  11
L3_5   1   2
L3_6   3   3

12 rows selected.
</pre></li>
<li>
<p>Issue the following SQL statement to compile the <code dir="ltr">my_time</code> cube dimension.</p>
<pre dir="ltr">exec dbms_cube.build(&#39;MY_TIME USING (COMPILE)&#39;);
</pre></li>
<li>
<p>Issue the following SQL statement to report the values of the <code dir="ltr">sales</code> and <code dir="ltr">moving_sales</code> measures <span class="italic">after</span> the <code dir="ltr">my_time</code> cube dimension is compiled. Note that now the calculation for the measures considers the new attributes of the <code dir="ltr">my_time</code> cube dimension</p>
<pre dir="ltr">select my_time||&#39;  &#39;||lpad(sales, 2)||&#39;  &#39;||lpad(moving_sales, 2)
       from my_cube_view
       order by my_time asc;

MY_TIME||&#39;&#39;||LPAD(SALES,2)||&#39;&#39;||LPAD(MOVING_SALES,2)
--------------------------------------------------------------------
L1_0  24  24
L1_1  14  38
L1_2   3  17
L2_1   2   2
L2_2  12  14
L2_3   3  15
L3_1   1   1
L3_2   1   2
L3_3  10  11
L3_4   1  11
L3_5   1   2
L3_6   3   4

12 rows selected.
</pre></li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CCHEJECB"></a>
<div id="OLADM2894" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">UPDATE_DIMENSION_MEMBER</h2>
<p>The UPDATE_DIMENSION_MEMBER <a id="sthref5277"></a>program sets the level and the parent of an <a id="sthref5278"></a>OLAP cube dimension member in one or more hierarchies.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use this program to modify a cube dimension if a materialized view exists for that cube dimension or any cube in which it participates.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_basics.htm#BABDDIBI">&#34;Cube-Aware OLAP DML Statements&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5279"></a>Syntax</p>
<p class="synopsis">CALL UPDATE_DIMENSION_MEMBER(<span class="italic">member_id</span>, <span class="italic">logical_dim</span>, <span class="italic">hier_list</span>, l<span class="italic">evel_name</span>, -</p>
<p class="synopsis"><span class="italic">parent-member_id</span> [, <span class="italic">auto_compile</span> ])</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5280"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because UPDATE_DIMENSION_MEMBER is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="dml_commands_1.htm#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">member_id</span></dt>
<dd>
<p>A text expression that is the member for which you want to set the level and parent information.</p>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension being modified.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_1.htm#BGECJJGA">&#34;Guidelines for Specifying Values for the Names of Logical OLAP Objects&#34;</a></div>
</dd>
<dt><span class="italic">hier_list</span></dt>
<dd>
<p>A multi-line text expression consisting of the Oracle data dictionary names of all of the hierarchies that you want to set the level and parent for the dimension member. Specify one hierarchy name per line.</p>
<p>When you want to specify information for the member in all hierarchies of the cube dimension, specify <code dir="ltr">NA</code>.</p>
</dd>
<dt><span class="italic">level_name</span></dt>
<dd>
<p>For level hierarchies, a text value that specifies the hierarchy level at which the program will set the member of the cube dimension. For level hierarchies, the value you specify for <span class="italic">level_name</span> must be:</p>
<ul>
<li>
<p>Compatible with the value you specify for <span class="italic">parent_member_id</span></p>
</li>
<li>
<p>At the same hierarchy level as the existing cube dimension member because a cube dimension member cannot be in two different levels across hierarchies.</p>
</li>
</ul>
<p>When the member participates in a value hierarchy (that is, when there are no levels), specify <code dir="ltr">NA</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_1.htm#BGEDFFDG">&#34;Invalid Level Names in Cube-Aware OLAP DML Statements&#34;</a></div>
</dd>
<dt><span class="italic">parent_member_id</span></dt>
<dd>
<p>A text expression that specifies the value of the member which is the parent of the dimension member that you want to add to the hierarchy of the cube dimension. Specify <code dir="ltr">NA</code> when you want to add the dimension member as the top member.</p>
</dd>
<dt><span class="italic">auto_compile</span></dt>
<dd>
<p>A Boolean expression that specifies whether or not you want your changes to take effect immediately. The default value is <code dir="ltr">TRUE</code> in which case all of the changes to the analytic workspace that are needed to add the cube dimension member happen now. Specify FALSE only when, for performance reasons, you want to make a bulk set of changes before issuing a compile. In this case, you need to explicitly compile the cube dimension before the values of the analytic workspace objects take effect (for example, before attribute values are spread down or for time dimension valuesets to be updated), as described in <a href="dml_commands_1.htm#BGEJCHAE">&#34;Explicitly Compiling a Cube Dimension&#34;</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5281"></a>Examples</p>
<div id="OLADM2895" class="example">
<p class="titleinexample"><a id="sthref5282"></a>Example 10-170 Changing the Hierarchy of an OLAP Cube Dimension</p>
<p>Assume that you have a hierarchical cube dimension named <code dir="ltr">my_time</code> and you want to change its hierarchy by moving the value L3_2 from the top-level to being a child of L2_2.</p>
<ol>
<li>
<p>Execute the following SQL statement to report on the values of the <code dir="ltr">my_time</code> cube dimension before the move.</p>
<pre dir="ltr">select dim_key||&#39;  &#39;||level_name||&#39;  &#39;||parent
    from my_time_lvl_hier_view
    order by dim_key asc;
 
DIM_KEY||&#39;&#39;||LEVEL_NAME||&#39;&#39;||PARENT
--------------------------------------------------------------------------------
L1_0  L1
L1_1  L1
L2_1  L2  L1_1
L2_2  L2  L1_1
L3_1  L3  L2_1
L3_2  L3  L2_1
L3_3  L3  L2_1
L3_4  L3  L2_2
L3_5  L3  L2_2
 
9 rows selected.
 
</pre></li>
<li>
<p>Issue the following PL/SQL statement that calls the user-written MOVE_L3_3 program to make the move.</p>
<pre dir="ltr">exec dbms_aw.execute(&#39;call my_util_aw!move_l3_3&#39;);
</pre>
<p>As you can see from the following definition of the MOVE_L3_3 program, the actual move is performed by a CALL to the PDATE_DIMENSION_MEMBER program provided with the OLAP DML.</p>
<pre dir="ltr">DEFINE MOVE_L3_3 PROGRAM
PROGRAM
 
  &#34; Change the parent of L3_2 to L2_2
  CALL UPDATE_DIMENSION_MEMBER(&#39;L3_3&#39;, &#39;my_time&#39;, NA, &#39;L3&#39;, &#39;L2_2&#39;)
  UPDATE
  C0MMIT
END
</pre></li>
<li>
<p>Issue the following statement to report the values of the my_time dimension after the move</p>
<pre dir="ltr">select dim_key||&#39;  &#39;||level_name||&#39;  &#39;||parent
     from my_time_lvl_hier_view
     order by dim_key asc;
 
DIM_KEY||&#39;&#39;||LEVEL_NAME||&#39;&#39;||PARENT
--------------------------------------------------------------------------------
L1_0  L1
L1_1  L1
L2_1  L2  L1_1
L2_2  L2  L1_1
L3_1  L3  L2_1
L3_2  L3  L2_1
L3_3  L3  L2_2
L3_4  L3  L2_2
L3_5  L3  L2_2
 
9 rows selected.
 
</pre></li>
<li>
<p>Issue the following statement to solve <code dir="ltr">my_cube</code> with new hierarchy of <code dir="ltr">my_time</code>.</p>
<pre dir="ltr">exec dbms_cube.build(script =&gt; &#39;MY_CUBE USING (SOLVE)&#39;, add_dimensions =&gt; false);
 
</pre></li>
<li>
<p>Issue the following statement to report on the values of <code dir="ltr">sales</code> and <code dir="ltr">moving_sales</code> (the measures in <code dir="ltr">my_cube</code>) now that <code dir="ltr">my_time</code> has a new hierarchy.</p>
<pre dir="ltr">select my_time||&#39;  &#39;||lpad(sales, 2)||&#39;  &#39;||lpad(moving_sales, 2)
     from my_cube_view
     order by my_time asc;
 
MY_TIME||&#39;&#39;||LPAD(SALES,2)||&#39;&#39;||LPAD(MOVING_SALES,2)
--------------------------------------------------------------------
L1_0  24  24
L1_1  14  38
L2_1   2   2
L2_2  12  14
L3_1   1   1
L3_2   1   2
L3_3  10  11
L3_4   1  11
L3_5   1   2
 
9 rows selected.
</pre></li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79234"></a>
<div id="OLADM926" class="refsect1">
<h2 class="refsect1">VARIABLE</h2>
<p>Within an OLAP DML program, <a id="sthref5283"></a><a id="sthref5284"></a><a id="sthref5285"></a><a id="sthref5286"></a><a id="sthref5287"></a>the VARIABLE command declares a local variable or valueset for use within that program. A local variable cannot have any dimensions and exists only while the program is running.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dml_commands_1.htm#i78533">DEFINE VARIABLE</a> command</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5288"></a>Syntax</p>
<p class="synopsis">VARIABLE&nbsp;<span class="italic">name&nbsp;</span>{<span class="italic">datatype</span>|<span class="italic">dimension</span>|VALUESET&nbsp;<span class="italic">dim</span>}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5289"></a>Parameters</p>
<dl>
<dt><span class="italic">name</span></dt>
<dd>
<p>The name for the local variable or valueset. When you use the same name as an existing analytic workspace object, the local variable or valueset takes precedence over the analytic workspace object. After you assign a value to the variable or valueset, its value is available within the program where the VARIABLE statement occurs. You name a variable or valueset according to the rules for naming analytic workspace objects (see the main entry for the <a href="dml_commands_1.htm#i78478">DEFINE</a> command).</p>
</dd>
<dt><span class="italic">datatype</span></dt>
<dd>
<p>The data type of the variable, which indicates the kind of data to be stored. You can specify any of the data types that are listed and described in the DEFINE VARIABLE entry. Also, when you want to the program to be able to receive an argument without converting it to a specific data type, you can also specify <code dir="ltr">WORKSHEET</code> for the data type.</p>
</dd>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>Indicates that <span class="italic">name</span> is a relation variable, which holds a single value of the specified dimension. The variable can hold a value of the dimension or a position (<code dir="ltr">INTEGER</code>) of the specified dimension. Assigning a value that does not currently exist in the dimension causes an error.</p>
</dd>
<dt>VALUESET <span class="italic">dim</span></dt>
<dd>
<p>Indicates that <span class="italic">name</span> is a valueset. The <span class="italic">dim</span> argument is the name of the dimension for which the valueset holds values.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5290"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2896"></a>Persistence of a Local Variable</p>
<p>A local variable or valueset exists only while the program that specified it is running. When the program terminates, the variable or valueset ceases to exist and its value is lost. A program can terminate when a RETURN statement, SIGNAL statement, or the last line of the program executes. When the program calls another program, the original program is temporarily suspended and the variable or valueset does exist when the called program ends and control returns to the original program. A program that calls itself recursively has separate local variable or valuesets for each running copy of the program.</p>
<p class="subhead2"><a id="OLADM2897"></a>Declarations at the Start Of A Program</p>
<p>You must specify all your local variables or valuesets at the beginning of a program, before any executable statements.</p>
<p class="subhead2"><a id="OLADM2898"></a>Initial Value of a Local Variable or Valueset</p>
<p>The value of a local variable or valueset is initially <code dir="ltr">NA</code>.</p>
<p class="subhead2"><a id="OLADM2899"></a>Duplicating the Name of an Analytic Workspace Object</p>
<p>When you give a local variable or valueset the same name as an analytic workspace object, Oracle OLAP assumes you are referring to the local variable or valueset within the program. The analytic workspace object has priority only when the statement requires an analytic workspace object as an argument.</p>
<p>Although the OBJ and EXISTS functions expect an analytic workspace object as an argument, you can use a local text variable or valueset to specify the name of an object.</p>
<p class="subhead2"><a id="OLADM2900"></a>Formulas and Models</p>
<p>You cannot use local variables or valuesets in a formula or model.</p>
<p class="subhead2"><a id="OLADM2901"></a>EXPORT and IMPORT Commands</p>
<p>In a program, you can use an <a href="dml_commands_1.htm#i78783">EXPORT (EIF)</a> statement to store the value of a local variable or valueset in an EIF file. You must use the AS keyword to give the variable or valueset an analytic workspace object name. The name can be the same as the name of the local variable or valueset. When you use <a href="#i78916">IMPORT (EIF)</a> to retrieve the value, it is stored as an analytic workspace object. You cannot import the value into a local variable or valueset.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5291"></a>Examples</p>
<div id="OLADM2902" class="example">
<p class="titleinexample"><a id="sthref5292"></a>Example 10-171 Saving a File Unit Number</p>
<p>Suppose you want to write a program to read data from an input file with Data Reader statements. First you must open the file and save the value of the file unit number assigned to it. At the beginning of the program you can specify a local variable called <code dir="ltr">unit</code> to hold the file unit number.</p>
<pre dir="ltr">DEFINE read.file PROGRAM
LD Read monthly sales data into the analytic workspace
PROGRAM
VARIABLE unit INTEGER
TRAP ON error
unit = FILEOPEN(&#39;sales.data&#39; READ)
...
</pre></div>
<!-- class="example" -->
<div id="OLADM2903" class="example">
<p class="titleinexample"><a id="sthref5293"></a>Example 10-172 Returning a Dimension Value from a Program</p>
<p>Suppose you want to write a program that analyzes sales for various districts and returns the name of the district in which sales were highest. For the purpose of analysis, the program defines a local variable to hold the district name. When the program ends, it returns the value of the local variable.</p>
<pre dir="ltr">DEFINE highsales PROGRAM
PROGRAM
VARIABLE districtname district
... &#34;(statements that find the highest district)
RETURN districtname
END 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79244"></a>
<div id="OLADM927" class="refsect1">
<h2 class="refsect1">VNF</h2>
<p><a id="sthref5294"></a>The VNF command <a id="sthref5295"></a>assigns a value name format (VNF) to the definition of an object with <code dir="ltr">DATE</code> -only data type, including dimensions of type DAY, WEEK, MONTH, QUARTER, or YEAR. A VNF is a template that controls the input and display format for <code dir="ltr">DATE</code> -only values. The template can include format specifications for any of the components that identify a time period (day, month, calendar year, fiscal year, and period within a fiscal year).</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
You can only use this statement with dimensions that have a data type of <code dir="ltr">DATE</code> (that is, dimensions of type DAY, WEEK, MONTH, QUARTER, or YEAR).You can<span class="italic">not</span> use this statement for time dimensions that have a datetime data type that corresponds to a SQL datetime data type or dimensions that are implemented as hierarchical dimensions of type TEXT.</div>
<p>To assign a VNF to a definition, the definition must be the one most recently defined or considered during the current session. When it is not, you must first use a CONSIDER statement to make it the current definition.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5296"></a>Syntax</p>
<p class="synopsis">VNF&nbsp;[<span class="italic">template</span>]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5297"></a>Parameters</p>
<dl>
<dt><span class="italic">template</span></dt>
<dd>
<p>A text expression that specifies the format for entering and displaying the values of the current dimension. When <span class="italic">template</span> is omitted, any existing VNF for the current definition is deleted and the default VNF is used (see <a href="dml_expression.htm#g1022167">Table 2-5, &#34;Default VNFs for DWMQY Dimensions&#34;</a>).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you enter a dimension value that does not conform to the VNF, Oracle OLAP attempts to interpret the value as a date. See <a href="#i80954">&#34;Entering Dimension Values as Dates&#34;</a></div>
<p>A template contains a code for each component that you use to describe a time period in the current dimension. The code for each component must be preceded by a left angle bracket and followed by a right angle bracket. Basic information about coding a template is provided in <a href="#g1022056">Table 10-12, &#34;Basic Codes for Components in VNF Templates&#34;</a>, <a href="#g1022088">Table 10-13, &#34;Component Combinations Allowed in VNF Templates&#34;</a>, and <a href="#g1022108">Table 10-14, &#34;Format Styles for Day Available in VNF Templates&#34;</a>.</p>
<p><a href="#g1022056">Table 10-12, &#34;Basic Codes for Components in VNF Templates&#34;</a> lists the basic codes for the components of time periods. It uses a sample dimension called MYQTR, which is a QUARTER dimension that ends in June. The examples are from the quarter July 1, 1995 through September 30, 1995. The period code (<code dir="ltr">P</code>) specifies the numeric position of a time period within a fiscal year. You can use the <code dir="ltr">P</code> code with any dimension, but only when you use it along with the <code dir="ltr">FF</code> or <code dir="ltr">FFB</code> code. The&nbsp;<code dir="ltr">B</code>&nbsp;code specifies the beginning period.</p>
<div id="OLADM2904" class="tblruleformal">
<p class="titleintable"><a id="sthref5298"></a><a id="g1022056"></a>Table 10-12 Basic Codes for Components in VNF Templates</p>
<table class="cellalignment3615" title="Basic Codes for Components in VNF Templates" summary="This table outlines the basic codes for components in VNF templates." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t149">Code</th>
<th class="cellalignment3616" id="r1c2-t149">Meaning</th>
<th class="cellalignment3616" id="r1c3-t149">Sample Values</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t149" headers="r1c1-t149">
<p><code dir="ltr">&lt;D&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t149 r1c2-t149">
<p>Day of the month on which the period ends</p>
</td>
<td class="cellalignment3617" headers="r2c1-t149 r1c3-t149">
<p><code dir="ltr">30</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t149" headers="r1c1-t149">
<p><code dir="ltr">&lt;M&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t149 r1c2-t149">
<p>Month in which the period end</p>
</td>
<td class="cellalignment3617" headers="r3c1-t149 r1c3-t149">
<p><code dir="ltr">9</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t149" headers="r1c1-t149">
<p><code dir="ltr">&lt;YY&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t149 r1c2-t149">
<p>Calendar year in which the period ends</p>
</td>
<td class="cellalignment3617" headers="r4c1-t149 r1c3-t149">
<p><code dir="ltr">95</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t149" headers="r1c1-t149">
<p><code dir="ltr">&lt;FF&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r5c1-t149 r1c2-t149">
<p>Fiscal year that contains the period; the fiscal year is identified by the calendar year in which the fiscal year ends</p>
</td>
<td class="cellalignment3617" headers="r5c1-t149 r1c3-t149">
<p><code dir="ltr">96</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t149" headers="r1c1-t149">
<p><code dir="ltr">&lt;DB&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r6c1-t149 r1c2-t149">
<p>Day of the month on which the period begins</p>
</td>
<td class="cellalignment3617" headers="r6c1-t149 r1c3-t149">
<p><code dir="ltr">1</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r7c1-t149" headers="r1c1-t149">
<p><code dir="ltr">&lt;MB&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r7c1-t149 r1c2-t149">
<p>Month in which the period begins</p>
</td>
<td class="cellalignment3617" headers="r7c1-t149 r1c3-t149">
<p><code dir="ltr">7</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t149" headers="r1c1-t149">
<p><code dir="ltr">&lt;YYB&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r8c1-t149 r1c2-t149">
<p>Calendar year in which the period begins</p>
</td>
<td class="cellalignment3617" headers="r8c1-t149 r1c3-t149">
<p><code dir="ltr">95</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r9c1-t149" headers="r1c1-t149">
<p><code dir="ltr">&lt;FFB&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r9c1-t149 r1c2-t149">
<p>Fiscal year that contains the period; the fiscal year is identified by the calendar year in which the fiscal year begins</p>
</td>
<td class="cellalignment3617" headers="r9c1-t149 r1c3-t149">
<p><code dir="ltr">95</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r10c1-t149" headers="r1c1-t149">
<p><code dir="ltr">&lt;P&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r10c1-t149 r1c2-t149">
<p>The period&#39;s numeric position within the fiscal year</p>
</td>
<td class="cellalignment3617" headers="r10c1-t149 r1c3-t149">
<p><code dir="ltr">1</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r11c1-t149" headers="r1c1-t149">
<p><code dir="ltr">&lt;NAME&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r11c1-t149 r1c2-t149">
<p>Name of the dimension&nbsp;</p>
</td>
<td class="cellalignment3617" headers="r11c1-t149 r1c3-t149">
<p><code dir="ltr">MYQTR</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<p><a href="#g1022088">Table 10-13, &#34;Component Combinations Allowed in VNF Templates&#34;</a> lists the component combinations you can combine in a VNF for each type of dimensions of type DAY, WEEK, MONTH, QUARTER, or YEAR. Notice that you can use the fiscal year codes (<code dir="ltr">FF</code> or <code dir="ltr">FFB</code>) in a template for any dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR. However, the fiscal year codes have a special meaning for WEEK dimensions and for phased MONTH, QUARTER, and YEAR dimensions. For other dimensions, the fiscal year is identical to the calendar year. See <a href="#i80964">&#34;Fiscal Years for a Dimension of Type WEEK&#34;</a>, <a href="#i80973">&#34;Fiscal Years for Dimensions of Type MONTH, QUARTER, or YEAR&#34;</a>, and <a href="#i80985">&#34;Fiscal Years for Dimensions of Type DAY&#34;</a>.</p>
<div id="OLADM2905" class="tblruleformal">
<p class="titleintable"><a id="sthref5299"></a><a id="g1022088"></a>Table 10-13 Component Combinations Allowed in VNF Templates</p>
<table class="cellalignment3615" title="Component Combinations Allowed in VNF Templates" summary="This table outlines the component combinations that are allowed in VNF templates." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t150">Type of Dimension</th>
<th class="cellalignment3616" id="r1c2-t150">Component Combinations</th>
<th class="cellalignment3616" id="r1c3-t150">Sample Values</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t150" headers="r1c1-t150">
<p>DAY, WEEK, MONTH, QUARTER, YEAR</p>
</td>
<td class="cellalignment3617" headers="r2c1-t150 r1c2-t150">
<p><code dir="ltr">&lt;D&gt; &lt;M&gt; &lt;YY&gt;</code></p>
<p><code dir="ltr">&lt;DB&gt; &lt;MB&gt; &lt;YYB&gt;</code></p>
<p><code dir="ltr">&lt;P&gt; &lt;FF&gt;</code></p>
<p><code dir="ltr">&lt;P&gt; &lt;FFB&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t150 r1c3-t150">
<p><code dir="ltr">31 3 96</code></p>
<p><code dir="ltr">1 4 95</code></p>
<p><code dir="ltr">1 96</code></p>
<p><code dir="ltr">1 95</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t150" headers="r1c1-t150">
<p>MONTH, QUARTER, YEAR</p>
</td>
<td class="cellalignment3617" headers="r3c1-t150 r1c2-t150">
<p><code dir="ltr">&lt;M&gt; &lt;YY&gt;</code></p>
<p><code dir="ltr">&lt;MB&gt; &lt;YYB&gt;</code></p>
<p><code dir="ltr">&lt;M&gt; &lt;FF&gt;</code></p>
<p><code dir="ltr">&lt;M&gt; &lt;FFB&gt;</code></p>
<p><code dir="ltr">&lt;MB&gt; &lt;FF&gt;</code></p>
<p><code dir="ltr">&lt;MB &lt;FFB&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t150 r1c3-t150">
<p><code dir="ltr">3 96</code></p>
<p><code dir="ltr">4 95</code></p>
<p><code dir="ltr">3 96</code></p>
<p><code dir="ltr">3 95</code></p>
<p><code dir="ltr">4 96</code></p>
<p><code dir="ltr">4 95</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t150" headers="r1c1-t150">
<p>YEAR</p>
</td>
<td class="cellalignment3617" headers="r4c1-t150 r1c2-t150">
<p><code dir="ltr">&lt;YY&gt;</code></p>
<p><code dir="ltr">&lt;FF&gt;</code></p>
<p><code dir="ltr">&lt;FFB&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t150 r1c3-t150">
<p><code dir="ltr">96</code></p>
<p><code dir="ltr">96</code></p>
<p><code dir="ltr">95</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<p>Notice that instead of the basic codes listed in <a href="#g1022088">Table 10-13, &#34;Component Combinations Allowed in VNF Templates&#34;</a>, you can substitute any of the format styles listed in <a href="#g1022108">Table 10-14, &#34;Format Styles for Day Available in VNF Templates&#34;</a>. You can also include the <code dir="ltr">&lt;NAME&gt;</code> component with any of the component combinations listed in <a href="#g1022088">Table 10-13</a>.</p>
<p>You cannot specify a template that includes too few or too many components. The VNF must allow you to input dimension values without ambiguity. See <a href="#i80995">&#34;Coding VNFs to Prevent Ambiguity&#34;</a>.</p>
<p>However, if you include only the component combinations that are allowed for a particular type of dimension, and if the VNF permits unambiguous interpretation of input, you have considerable flexibility in specifying a VNF template:</p>
<ul>
<li>
<p>You can specify the components in any order.</p>
</li>
<li>
<p>You can include text before, after, and between the components.</p>
</li>
</ul>
<p>Instead of the basic codes for the day, month, calendar year, fiscal year, and period that were listed in <a href="#g1022088">Table 10-13, &#34;Component Combinations Allowed in VNF Templates&#34;</a>, you can substitute the format styles listed in <a href="#g1022108">Table 10-14, &#34;Format Styles for Day Available in VNF Templates&#34;</a>, <a href="#BABHIFEH">Table 10-15, &#34;Format Styles for Month Available in VNF Templates&#34;</a>, <a href="#BABCGACB">Table 10-16, &#34;Format Styles for Year Available in VNF Templates&#34;</a>, and <a href="#BABFCCIB">Table 10-17, &#34;Format Styles for Period Available in VNF Templates&#34;</a>.</p>
<div id="OLADM2906" class="tblruleformal">
<p class="titleintable"><a id="sthref5300"></a><a id="g1022108"></a>Table 10-14 Format Styles for Day Available in VNF Templates</p>
<table class="cellalignment3615" title="Format Styles for Day Available in VNF Templates" summary="This table outlines the format styles for DAY that are available in VNF templates." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t151">Format</th>
<th class="cellalignment3616" id="r1c2-t151">Meaning</th>
<th class="cellalignment3616" id="r1c3-t151">Jan 3, 1995</th>
<th class="cellalignment3616" id="r1c4-t151">Nov 12, 2051</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t151" headers="r1c1-t151">
<p><code dir="ltr">&lt;D&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t151 r1c2-t151">
<p>One digit or two digits</p>
</td>
<td class="cellalignment3617" headers="r2c1-t151 r1c3-t151">
<p><code dir="ltr">3</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t151 r1c4-t151">
<p><code dir="ltr">12</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t151" headers="r1c1-t151">
<p><code dir="ltr">&lt;DD&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t151 r1c2-t151">
<p>Two digits</p>
</td>
<td class="cellalignment3617" headers="r3c1-t151 r1c3-t151">
<p><code dir="ltr">03</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t151 r1c4-t151">
<p><code dir="ltr">12</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t151" headers="r1c1-t151">
<p><code dir="ltr">&lt;DS&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t151 r1c2-t151">
<p>Space-padded, two digits</p>
</td>
<td class="cellalignment3617" headers="r4c1-t151 r1c3-t151">
<p><code dir="ltr">3</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t151 r1c4-t151">
<p><code dir="ltr">12</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<div id="OLADM2907" class="tblruleformal">
<p class="titleintable"><a id="sthref5301"></a><a id="BABHIFEH"></a>Table 10-15 Format Styles for Month Available in VNF Templates</p>
<table class="cellalignment3615" title="Format Styles for Month Available in VNF Templates" summary="This table outlines the format styles for MONTH that are available in VNF templates." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t152">Format</th>
<th class="cellalignment3616" id="r1c2-t152">Meaning</th>
<th class="cellalignment3616" id="r1c3-t152">Jan 3, 1995</th>
<th class="cellalignment3616" id="r1c4-t152">Nov 12, 2051</th>
</tr>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r2c1-t152" headers="r1c1-t152"><code dir="ltr">&lt;M&gt;</code></th>
<th class="cellalignment3616" id="r2c2-t152" headers="r2c1-t152 r1c2-t152">One digit or two digits</th>
<th class="cellalignment3616" id="r2c3-t152" headers="r2c1-t152 r1c3-t152"><code dir="ltr">1</code></th>
<th class="cellalignment3616" id="r2c4-t152" headers="r2c1-t152 r1c4-t152"><code dir="ltr">11</code></th>
</tr>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r3c1-t152" headers="r1c1-t152 r2c1-t152"><code dir="ltr">&lt;MM&gt;</code></th>
<th class="cellalignment3616" id="r3c2-t152" headers="r3c1-t152 r1c2-t152 r2c2-t152">Two digits</th>
<th class="cellalignment3616" id="r3c3-t152" headers="r3c1-t152 r1c3-t152 r2c3-t152"><code dir="ltr">01</code></th>
<th class="cellalignment3616" id="r3c4-t152" headers="r3c1-t152 r1c4-t152 r2c4-t152"><code dir="ltr">11</code></th>
</tr>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r4c1-t152" headers="r1c1-t152 r2c1-t152 r3c1-t152"><code dir="ltr">&lt;MS&gt;</code></th>
<th class="cellalignment3616" id="r4c2-t152" headers="r4c1-t152 r1c2-t152 r2c2-t152 r3c2-t152">Space-padded, two digits</th>
<th class="cellalignment3616" id="r4c3-t152" headers="r4c1-t152 r1c3-t152 r2c3-t152 r3c3-t152"><code dir="ltr">1</code></th>
<th class="cellalignment3616" id="r4c4-t152" headers="r4c1-t152 r1c4-t152 r2c4-t152 r3c4-t152"><code dir="ltr">11</code></th>
</tr>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r5c1-t152" headers="r1c1-t152 r2c1-t152 r3c1-t152 r4c1-t152"><code dir="ltr">&lt;MTXT&gt;</code></th>
<th class="cellalignment3616" id="r5c2-t152" headers="r5c1-t152 r1c2-t152 r2c2-t152 r3c2-t152 r4c2-t152">First three letters, uppercase</th>
<th class="cellalignment3616" id="r5c3-t152" headers="r5c1-t152 r1c3-t152 r2c3-t152 r3c3-t152 r4c3-t152"><code dir="ltr">JAN</code></th>
<th class="cellalignment3616" id="r5c4-t152" headers="r5c1-t152 r1c4-t152 r2c4-t152 r3c4-t152 r4c4-t152"><code dir="ltr">NOV</code></th>
</tr>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r6c1-t152" headers="r1c1-t152 r2c1-t152 r3c1-t152 r4c1-t152 r5c1-t152"><code dir="ltr">&lt;MTXTL&gt;</code></th>
<th class="cellalignment3616" id="r6c2-t152" headers="r6c1-t152 r1c2-t152 r2c2-t152 r3c2-t152 r4c2-t152 r5c2-t152">First three letters, lowercase</th>
<th class="cellalignment3616" id="r6c3-t152" headers="r6c1-t152 r1c3-t152 r2c3-t152 r3c3-t152 r4c3-t152 r5c3-t152"><code dir="ltr">jan</code></th>
<th class="cellalignment3616" id="r6c4-t152" headers="r6c1-t152 r1c4-t152 r2c4-t152 r3c4-t152 r4c4-t152 r5c4-t152"><code dir="ltr">nov</code></th>
</tr>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r7c1-t152" headers="r1c1-t152 r2c1-t152 r3c1-t152 r4c1-t152 r5c1-t152 r6c1-t152"><code dir="ltr">&lt;MTEXT&gt;</code></th>
<th class="cellalignment3616" id="r7c2-t152" headers="r7c1-t152 r1c2-t152 r2c2-t152 r3c2-t152 r4c2-t152 r5c2-t152 r6c2-t152">Full name, uppercase</th>
<th class="cellalignment3616" id="r7c3-t152" headers="r7c1-t152 r1c3-t152 r2c3-t152 r3c3-t152 r4c3-t152 r5c3-t152 r6c3-t152"><code dir="ltr">JANUARY</code></th>
<th class="cellalignment3616" id="r7c4-t152" headers="r7c1-t152 r1c4-t152 r2c4-t152 r3c4-t152 r4c4-t152 r5c4-t152 r6c4-t152"><code dir="ltr">NOVEMBER</code></th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r8c1-t152" headers="r1c1-t152 r2c1-t152 r3c1-t152 r4c1-t152 r5c1-t152 r6c1-t152 r7c1-t152">
<p><code dir="ltr">&lt;MTEXTL&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r8c1-t152 r1c2-t152 r2c2-t152 r3c2-t152 r4c2-t152 r5c2-t152 r6c2-t152 r7c2-t152">
<p>Full name, lowercase</p>
</td>
<td class="cellalignment3617" headers="r8c1-t152 r1c3-t152 r2c3-t152 r3c3-t152 r4c3-t152 r5c3-t152 r6c3-t152 r7c3-t152">
<p><code dir="ltr">january</code></p>
</td>
<td class="cellalignment3617" headers="r8c1-t152 r1c4-t152 r2c4-t152 r3c4-t152 r4c4-t152 r5c4-t152 r6c4-t152 r7c4-t152">
<p><code dir="ltr">november</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<p>Note that for <code dir="ltr">MTXT</code>, <code dir="ltr">MTXTL</code>, <code dir="ltr">MTEXT</code>, and <code dir="ltr">MTEXTL</code>, the actual value displayed depends on the value specified for the MONTHNAMES option:</p>
<ul>
<li>
<p>For MTXT and MTEXT, when the name in the MONTHNAMES option is all lowercase, the entire name is converted to uppercase. Otherwise, the first letter is converted to uppercase and the second and subsequent letters remain in their original case.</p>
</li>
<li>
<p>For MTXTL and MTEXTL, when the name in the MONTHNAMES option is all uppercase, the entire name is converted to lowercase. Otherwise the first letter is converted to lowercase and the second and subsequent letters remain in their original case.</p>
</li>
</ul>
<div id="OLADM2908" class="tblruleformal">
<p class="titleintable"><a id="sthref5302"></a><a id="BABCGACB"></a>Table 10-16 Format Styles for Year Available in VNF Templates</p>
<table class="cellalignment3615" title="Format Styles for Year Available in VNF Templates" summary="This table outlines the format styles for YEAR that are available in VNF templates." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t153">Format</th>
<th class="cellalignment3616" id="r1c2-t153">Meaning</th>
<th class="cellalignment3616" id="r1c3-t153">Jan 3, 1995</th>
<th class="cellalignment3616" id="r1c4-t153">Nov 12, 2051</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t153" headers="r1c1-t153">
<p><code dir="ltr">&lt;YY&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t153 r1c2-t153">
<p>Two digits or four digits</p>
</td>
<td class="cellalignment3617" headers="r2c1-t153 r1c3-t153">
<p><code dir="ltr">95</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t153 r1c4-t153">
<p><code dir="ltr">2051</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t153" headers="r1c1-t153">
<p><code dir="ltr">&lt;YYYY&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t153 r1c2-t153">
<p>Four digits</p>
</td>
<td class="cellalignment3617" headers="r3c1-t153 r1c3-t153">
<p><code dir="ltr">1995</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t153 r1c4-t153">
<p><code dir="ltr">2051</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t153" headers="r1c1-t153">
<p><code dir="ltr">&lt;FF&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t153 r1c2-t153">
<p>Two digits or four digits</p>
</td>
<td class="cellalignment3617" headers="r4c1-t153 r1c3-t153">
<p><code dir="ltr">95</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t153 r1c4-t153">
<p><code dir="ltr">2051</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t153" headers="r1c1-t153">
<p><code dir="ltr">&lt;FFFF&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r5c1-t153 r1c2-t153">
<p>Four digits</p>
</td>
<td class="cellalignment3617" headers="r5c1-t153 r1c3-t153">
<p><code dir="ltr">1995</code></p>
</td>
<td class="cellalignment3617" headers="r5c1-t153 r1c4-t153">
<p><code dir="ltr">2051</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<div id="OLADM2909" class="tblruleformal">
<p class="titleintable"><a id="sthref5303"></a><a id="BABFCCIB"></a>Table 10-17 Format Styles for Period Available in VNF Templates</p>
<table class="cellalignment3615" title="Format Styles for Period Available in VNF Templates" summary="This table outlines the format styles for PERIOD that are available in VNF templates." dir="ltr">
<thead>
<tr class="cellalignment3609">
<th class="cellalignment3616" id="r1c1-t154">Format</th>
<th class="cellalignment3616" id="r1c2-t154">Meaning</th>
<th class="cellalignment3616" id="r1c3-t154">Jan 3, 1995</th>
<th class="cellalignment3616" id="r1c4-t154">Nov 12, 2051</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r2c1-t154" headers="r1c1-t154">
<p><code dir="ltr">&lt;P&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t154 r1c2-t154">
<p>One, two, or three digits</p>
</td>
<td class="cellalignment3617" headers="r2c1-t154 r1c3-t154">
<p><code dir="ltr">3</code></p>
</td>
<td class="cellalignment3617" headers="r2c1-t154 r1c4-t154">
<p><code dir="ltr">316</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r3c1-t154" headers="r1c1-t154">
<p><code dir="ltr">&lt;PP&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t154 r1c2-t154">
<p>Two or three digits</p>
</td>
<td class="cellalignment3617" headers="r3c1-t154 r1c3-t154">
<p><code dir="ltr">03</code></p>
</td>
<td class="cellalignment3617" headers="r3c1-t154 r1c4-t154">
<p><code dir="ltr">316</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r4c1-t154" headers="r1c1-t154">
<p><code dir="ltr">&lt;PS&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t154 r1c2-t154">
<p>Space-padded, two or three digits</p>
</td>
<td class="cellalignment3617" headers="r4c1-t154 r1c3-t154">
<p><code dir="ltr">3</code></p>
</td>
<td class="cellalignment3617" headers="r4c1-t154 r1c4-t154">
<p><code dir="ltr">316</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r5c1-t154" headers="r1c1-t154">
<p><code dir="ltr">&lt;PPP&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r5c1-t154 r1c2-t154">
<p>Three digits</p>
</td>
<td class="cellalignment3617" headers="r5c1-t154 r1c3-t154">
<p><code dir="ltr">003</code></p>
</td>
<td class="cellalignment3617" headers="r5c1-t154 r1c4-t154">
<p><code dir="ltr">316</code></p>
</td>
</tr>
<tr class="cellalignment3609">
<td class="cellalignment3617" id="r6c1-t154" headers="r1c1-t154">
<p><code dir="ltr">&lt;PPS&gt;</code></p>
</td>
<td class="cellalignment3617" headers="r6c1-t154 r1c2-t154">
<p>Space-padded, three digits</p>
</td>
<td class="cellalignment3617" headers="r6c1-t154 r1c3-t154">
<p><code dir="ltr">3</code></p>
</td>
<td class="cellalignment3617" headers="r6c1-t154 r1c4-t154">
<p><code dir="ltr">316</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" --></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5304"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2910"></a>Discarding a VNF</p>
<p>When you want to discard a VNF for a dimension and return to using the default VNF, use a CONSIDER statement to make the dimension&#39;s definition the current one, and then use a VNF statement with no argument.</p>
<p class="subhead2"><a id="OLADM2911"></a>Specifying Angle Brackets as Text in a VNF Template</p>
<p>To include an angle bracket as additional text in a template, specify two additional angle brackets for each angle bracket to be included as text (for example, to display the entire value in angle brackets, specify <code dir="ltr">&lt;&lt;&lt;D&gt;</code>&nbsp;<code dir="ltr">&lt;M&gt;</code>&nbsp;<code dir="ltr">&lt;YY&gt;&gt;&gt;</code>).</p>
<p class="subhead2"><a id="OLADM2912"></a>Month Names</p>
<p>The names used in the month component for the <code dir="ltr">MTXT</code>, <code dir="ltr">MTXTL</code>, <code dir="ltr">MTEXT</code>, and <code dir="ltr">MTEXTL</code> formats are drawn from the current setting of the MONTHNAMES option.</p>
<p class="subhead2"><a id="OLADM2913"></a>Fiscal Year Codes</p>
<p>You can use a fiscal year code (<code dir="ltr">FF</code> or <code dir="ltr">FFB</code>) in a template for any dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR.</p>
<p class="subhead2"><a id="i80964"></a><a id="OLADM2914"></a>Fiscal Years for a Dimension of Type WEEK</p>
<p>For a dimension of type WEEK, a fiscal year starts on the beginning date of the first period (single-week or multiple-week) that ends in a new calendar year. The fiscal year ends on the final date of the final period that is wholly contained in the calendar year.</p>
<p>This definition holds true, regardless of any beginning or ending <span class="italic">date</span> you specify for a WEEK dimension when you define it. However, the fiscal year does take into account the beginning or ending <span class="italic">day of the week</span> that you specify (either as a day of the week or as a date).</p>
<p>For example, suppose you define a dimension of type WEEK, named <code dir="ltr">myweek</code>, with single-week periods ending on June 2, 1995 (a Friday). The fiscal year that contains June 2, 1995 begins on December 31, 1994 (a Saturday) and ends on December 29, 1995 (a Friday). When the VNF for <code dir="ltr">myweek</code> has the <code dir="ltr">FF</code> code, this fiscal year is identified as 1995. When the VNF has the <code dir="ltr">FFB</code> code, the fiscal year is identified as 1994.</p>
<p class="subhead2"><a id="i80973"></a><a id="OLADM2915"></a>Fiscal Years for Dimensions of Type MONTH, QUARTER, or YEAR</p>
<p>For a dimension of type MONTH, QUERTER, or YEAR with no beginning or ending phase, the fiscal year is identical to the calendar year.</p>
<p>For a MONTH, QUARTER, or YEAR dimension with a beginning or ending phase, each fiscal year for that dimension begins with the beginning month of the phase and ends with the ending month of the phase.</p>
<p>For example, assume you define a dimension of type MONTH, <code dir="ltr">mymonth</code>, with four-month periods ending in March, each fiscal year begins on April 1 and ends on March&nbsp;31. When you use the <code dir="ltr">FF</code> code in a VNF for MYMONTH, the fiscal year that starts on April 1, 1995 and ends on March 31, 1996 is identified as 1996. When you use the <code dir="ltr">FFB</code> code, this fiscal year is identified as 1995.</p>
<p class="subhead2"><a id="i80985"></a><a id="OLADM2916"></a>Fiscal Years for Dimensions of Type DAY</p>
<p>For a dimension of type DAY, the fiscal year is identical to the calendar year.</p>
<p class="subhead2"><a id="OLADM2917"></a>Out-of-Range Years in a VNF</p>
<p>When a VNF specifies a <code dir="ltr">YY</code>, <code dir="ltr">YYB</code>, <code dir="ltr">FF</code>, or <code dir="ltr">FFB</code> format, and a year outside the range of 1950 to 2049 is to be displayed, the year is displayed in four digits. You must also supply all four digits when you enter the year as input.</p>
<p class="subhead2"><a id="i80995"></a><a id="OLADM2918"></a>Coding VNFs to Prevent Ambiguity</p>
<p>A VNF template must allow you to input dimension values unambiguously. To prevent ambiguity, you must observe the following restrictions when you code a VNF template:</p>
<ul>
<li>
<p>You cannot place a letter (either in a component code or in literal text) immediately after a text component of unspecified length (for example, <code dir="ltr">&lt;MTEXT&gt;</code>, which specifies a full month name of any length).</p>
</li>
<li>
<p>You cannot place a digit (either in a component code or in literal text) immediately after a numeric component of unspecified length (for example, &lt;M&gt;, which can be one digit or two digits, or <code dir="ltr">&lt;YY&gt;</code>, which can be two digits or four digits).</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2919"></a>Coding VNFs for Model Dimensions</p>
<p>When you define a model that contains equations based on a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR, the VNF for the that dimension must specify dimension values with these format characteristics: the value must start with a letter, and it can contain only letters, digits, underscores, and periods.</p>
<p class="subhead2"><a id="OLADM2920"></a>Entering Dimension Values</p>
<p>Once you have assigned a VNF to a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR, you cannot use the default VNF for entering values for that dimension. You must enter values in the format of your VNF or as dates.</p>
<p class="subhead2"><a id="OLADM2921"></a>Entering Dimension Values in VNF Format</p>
<p>When you enter dimension values in a VNF format, you have the following flexibility:</p>
<ul>
<li>
<p>Letters (either in a component or in literal text) can be either uppercase or lowercase, rather than matching the exact capitalization indicated by the VNF.</p>
</li>
<li>
<p>When the template specifies <code dir="ltr">&lt;MTXT&gt;</code> or <code dir="ltr">&lt;MTXTL&gt;</code>, which indicate the first three letters of the month name, you can include as much of the month name as you want, from the first three letters to the full month name. When the template specifies <code dir="ltr">&lt;MTEXT&gt;</code> or <code dir="ltr">&lt;MTEXTL&gt;</code>, which indicate a month name of indeterminate length, you can include as much of the name as you want, from the first letter to the full month name. In all cases, however, you must provide enough letters to uniquely match a name in the MONTHNAMES option. For example, to distinguish April from August, you must type at least the first two letters of these names.</p>
</li>
<li>
<p>You can include as many or as few spaces as you want between components or between text elements in a dimension value.</p>
</li>
<li>
<p>When the template contains date components that are not essential for identifying a time period for a particular dimension, you can specify any date that falls within the desired time period. For example, the <code dir="ltr">&lt;DD&gt;</code> component of the template <code dir="ltr">&lt;DD&gt;&lt;MTXT&gt;&lt;YY&gt;</code> is not essential for identifying a period in a MONTH dimension. Therefore, for June 1995 you can specify any date from <code dir="ltr">01JUN95</code> through <code dir="ltr">30JUN95</code>.</p>
</li>
</ul>
<p class="subhead2"><a id="i80954"></a><a id="OLADM2922"></a>Entering Dimension Values as Dates</p>
<p>When you enter a value of a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR as a date, you can use any of the input styles listed in the DATEORDER entry. When you specify a full date, Oracle OLAP uses the DATEORDER option to resolve any ambiguities. However, you must specify only the date components that are relevant for the type of dimension you are using:</p>
<ul>
<li>
<p>For a DAY or WEEK dimension, you must enter all the components (day, month, and year).</p>
</li>
<li>
<p>For a MONTH or QUARTER dimension, you must only enter the month and year components. When you enter an ambiguous value, such as <code dir="ltr">&#39;0106&#39;</code>, Oracle OLAP uses the first two characters of the DATEORDER option to resolve the ambiguity. Therefore, the DATEORDER option must be <code dir="ltr">MYD</code> or <code dir="ltr">YMD</code> in this situation.</p>
</li>
<li>
<p>For a YEAR dimension, you must only enter the year.</p>
</li>
</ul>
<p class="subhead2"><a id="OLADM2923"></a>Overriding a VNF</p>
<p>For additional flexibility in displaying the values of a dimension of type DAY, WEEK, MONTH, QUARTER, or YEAR, you can override the dimension&#39;s VNF (and the default VNF when the dimension has no VNF of its own) by using the CONVERT function with a VNF argument.</p>
<p>The VNF argument to CONVERT enables you to include all the template codes that are permitted in the template for a VNF statement, but it does not prevent you from specifying too few components or more components than are necessary for identifying a value. In addition, the VNF argument enables you to use additional codes that are not allowed in the VNF template.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5305"></a>Examples</p>
<div id="OLADM2924" class="example">
<p class="titleinexample"><a id="sthref5306"></a>Example 10-173 Assigning a VNF for a Dimension of Type MONTH</p>
<p>The following statements provide a VNF for the existing dimension of type MONTH named <code dir="ltr">month</code>.</p>
<pre dir="ltr">CONSIDER month
VNF &lt;mtextl&gt;, &lt;yyyy&gt;
</pre></div>
<!-- class="example" -->
<div id="OLADM2925" class="example">
<p class="titleinexample"><a id="sthref5307"></a>Example 10-174 Adding Values to a Dimension of Type Month</p>
<p>The following statements add dimension values in the style of the new VNF, using just enough letters to distinguish the month names rather than the full names that the <code dir="ltr">&lt;MTEXTL&gt;</code> code in the VNF specifies.</p>
<pre dir="ltr">MAINTAIN month ADD &#39;JA, 1995&#39; &#39;MAR, 1995&#39;
Limit month TO LAST 3
REPORT month
</pre>
<p>These statements produce the following output.</p>
<pre dir="ltr">MONTH
--------------
January, 1995
February, 1995
March, 1995
</pre>
<p>Note that Oracle OLAP automatically adds the time periods between the ones you specify in the MAINTAIN statement.</p>
</div>
<!-- class="example" -->
<div id="OLADM2926" class="example">
<p class="titleinexample"><a id="sthref5308"></a>Example 10-175 Assigning a VNF for WEEK</p>
<p>The following statements define a dimension of type WEEK named <code dir="ltr">week</code>, add a VNF to the <code dir="ltr">week</code> definition, and add values to the <code dir="ltr">week</code> dimension.</p>
<pre dir="ltr">DEFINE week DIMENSION WEEK
VNF Week &lt;p&gt;.&lt;ff&gt;
MAINTAIN week ADD &#39;01JAN95&#39; &#39;30JAN95&#39;
REPORT week
</pre>
<p>These statements produce the following output.</p>
<pre dir="ltr">WEEK
--------------
Week 1.95
Week 2.95
Week 3.95
Week 4.95
Week 5.95
</pre>
<p>When you use a MAINTAIN statement to add values to the <code dir="ltr">week</code> dimension, you can specify the new values as dates rather than as values that conform to the VNF. However, the VNF is used for displaying output in the desired format.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i79264"></a>
<div id="OLADM928" class="refsect1">
<h2 class="refsect1">WHILE</h2>
<p><a id="sthref5309"></a><a id="sthref5310"></a><a id="sthref5311"></a>The WHILE command repeatedly executes a statement while the value of a Boolean expression remains <code dir="ltr">TRUE</code>. You can only use WHILE within a program.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5312"></a>Syntax</p>
<p class="synopsis">WHILE&nbsp;<span class="italic">boolean-expression</span></p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement&nbsp;block</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5313"></a>Parameters</p>
<dl>
<dt><span class="italic">boolean-expression</span></dt>
<dd>
<p>Serves as the criterion for statement execution. While the expression remains <code dir="ltr">TRUE</code>, <span class="italic">statement</span> is repeatedly executed. When the expression becomes <code dir="ltr">FALSE</code>, the execution of <span class="italic">statement</span> ceases, and the program continues with the next line. Ensure that something in the <span class="italic">statement</span> (or statements) eventually causes the Boolean expression to become <code dir="ltr">FALSE</code>; otherwise, the code becomes an endless loop.</p>
</dd>
<dt><span class="italic">statement block</span></dt>
<dd>
<p>One or more statements to be executed while the Boolean expression is <code dir="ltr">TRUE</code>. You can execute two or more statements by enclosing them within DO ... DOEND brackets. The DO statement should follow immediately after the WHILE statement.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5314"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2927"></a>WHILE Compared to IF</p>
<p>The WHILE statement&#39;s main use is as an alternative to the IF...THEN...ELSE comand.When you want one or more statements in your program to execute repeatedly while a Boolean expression remains <code dir="ltr">TRUE</code>, you use WHILE. When you want them to execute only once when a Boolean expression is <code dir="ltr">TRUE</code>, you use IF.</p>
<p class="subhead2"><a id="OLADM2928"></a>Boolean Constant</p>
<p>You can specify a constant for the Boolean expression. When your statement is WHILE TRUE, make sure to include a BREAK, RETURN, or EXIT statement between DO ... DOEND so the program can finish the loop.</p>
<p class="subhead2"><a id="OLADM2929"></a>Branching in a Loop</p>
<p>You can use the BREAK, CONTINUE, and GOTO commands to branch within, or out of, a WHILE loop, thereby altering the sequence of statement execution.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5315"></a>Examples</p>
<div id="OLADM2930" class="example">
<p class="titleinexample"><a id="sthref5316"></a>Example 10-176 Using a WHILE Loop in a Program</p>
<p>In the following program lines, the statements following DO are executed when the Boolean expression <code dir="ltr">count</code>&nbsp;<code dir="ltr">LT</code>&nbsp;<code dir="ltr">10</code> is <code dir="ltr">TRUE</code>. Within the loop, the code searches for an instance of some condition and, when it finds one, it adds <code dir="ltr">1</code> to <code dir="ltr">count</code>. When <code dir="ltr">count</code> reaches <code dir="ltr">10</code>, the loop ends. The code in the loop must ensure that <code dir="ltr">count</code> will, at some time, reach <code dir="ltr">10</code>. Otherwise, the loop never ends.</p>
<pre dir="ltr">WHILE count LT 10
   DO
    ...&#34; (statements)
    IF ....
      count = count + 1
   DOEND
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABIDJGI"></a>
<div id="OLADM929" class="refsect1">
<h2 class="refsect1">ZEROTOTAL</h2>
<p><a id="sthref5317"></a><a id="sthref5318"></a><a id="sthref5319"></a>The ZEROTOTAL command resets one or all subtotals of specified report columns to zero. You use the ZEROTOTAL command when you produce reports with the ROW command.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
ZEROTOTAL affects the results returned by the RUNTOTAL and SUBSTR functions.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5320"></a>Syntax</p>
<p class="synopsis">ZEROTOTAL&nbsp;[{<span class="italic">n</span>|ALL}&nbsp;[<span class="italic">column1&nbsp;columnN</span>]]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5321"></a>Parameters</p>
<p>ZEROTOTAL with no arguments resets <span class="italic">all</span> subtotals in <span class="italic">all</span> columns to zero.</p>
<dl>
<dt><span class="italic">n</span></dt>
<dd>
<p>An <code dir="ltr">INTEGER</code> expression that specifies one of the 32 subtotals (1 to 32) Oracle OLAP accumulates for each numeric column in a report. For the specified columns, this subtotal is set to zero.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>Sets all 32 subtotals to zero for the specified columns. ALL is the default when there are no arguments. To reset all the subtotals to zero for specific columns, you must include ALL in the statement.</p>
<pre dir="ltr">ZEROTOTAL ALL 1 4 7
</pre></dd>
<dt><span class="italic">column</span></dt>
<dd>
<p>The column number of a report column. Column number 1 refers to the left-most column in a report, regardless of the type of data it contains. When you do not supply any column number arguments, Oracle OLAP sets the specified subtotal (or all subtotals) to zero for all the columns in the report.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5322"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2931"></a>Initializing Column Subtotals</p>
<p>When you use the ROW command to produce a report, use a ZEROTOTAL statement at the beginning of the report program to initialize all 32 subtotals for all columns to zero. The REPORT statement automatically resets all subtotals to zero before producing output.</p>
<p class="subhead2"><a id="OLADM2932"></a>Resetting Column Subtotals</p>
<p>You can also use ZEROTOTAL in a report program when you only want to reset some subtotals or when you want to start accumulating new subtotals without inserting the subtotals accumulated so far. A subtotal is automatically reset to zero after it is accessed with the SUBSTR function in its own column. However, a subtotal is not reset to zero after it is accessed with the RUNTOTALRUNTOTAL function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5323"></a>Examples</p>
<div id="OLADM2933" class="example">
<p class="titleinexample"><a id="sthref5324"></a>Example 10-177 Resetting All Report Column Subtotals</p>
<p>In a report, you want to show a dollar sales total, followed by a detailed summary of unit sales for each district. You also want to show a total for unit sales at the end of the report, but you do not want the dollar sales figures included in that total. After generating the total dollar sales, use ZEROTOTAL to reset all your subtotals to zero. Then when you use <code dir="ltr">SUBTOTAL(1)</code> later in the report, it only totals the unit sales for each district.</p>
<p>Suppose you have these statement lines in your program.</p>
<pre dir="ltr">LIMIT product TO &#39;Footwear&#39;
LIMIT month TO &#39;Jul96&#39; TO &#39;Sep96&#39;
ROW &#39;Total Dollar Sales&#39; ACROSS month: -
   DECIMAL 0 TOTAL(sales month)
BLANK
ROW &#39;Unit Sales&#39;
ZEROTOTAL ALL
FOR district
   ROW INDENT 5 district ACROSS month: units
ROW &#39;Total Unit Sales&#39; ACROSS month: -
   OVER &#39;-&#39; SUBTOTAL(1)
</pre>
<p>These statements produce the following output.</p>
<pre dir="ltr">Total Dollar Sales      607,552    581,229    658,850
 
Unit Sales
     Boston               3,538      3,369      3,875
     Atlanta              4,058      3,866      4,251
     Chicago              3,943      3,509      4,058
     Dallas                 814        824        867
     Denver               1,581      1,532      1,667
     Seattle              2,053      2,193      2,617
                     ---------- ---------- ----------
Total Unit Sales      15,987.00  15,293.00  17,335.00
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3608">
<tr>
<td class="cellalignment3617">
<table class="cellalignment3613">
<tr>
<td class="cellalignment3612"><a href="dml_commands_1.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3612"><a href="dml_app_sqlfunc.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3620">
<table class="cellalignment3611">
<tr>
<td class="cellalignment3612"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3612"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3612"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3612"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3612"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3612"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
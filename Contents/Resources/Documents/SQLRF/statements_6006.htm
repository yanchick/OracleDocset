<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103648"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/CREATE%20OUTLINE"></a><title>CREATE OUTLINE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:48Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_6005.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_6007.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">437/555</span> <!-- End Header --><a id="i2065109"></a>
<div id="SQLRF01305" class="refsect1">
<h1 class="refsect1">CREATE OUTLINE <a id="sthref5206"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5207"></a>Purpose</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Stored outlines are deprecated. They are still supported for backward compatibility. However, Oracle recommends that you use SQL plan management instead. SQL plan management creates SQL plan baselines, which offer superior SQL performance stability compared with stored outlines.
<p>You can migrate existing stored outlines to SQL plan baselines by using the <code dir="ltr">MIGRATE_STORED_OUTLINE</code> function of the <code dir="ltr">DBMS_SPM</code> package or Enterprise Manager Cloud Control. When the migration is complete, the stored outlines are marked as migrated and can be removed. You can drop all migrated stored outlines on your system by using the <code dir="ltr">DROP_MIGRATED_STORED_OUTLINE</code> function of the <code dir="ltr">DBMS_SPM</code> package.</p>
<p>See Also:&nbsp;<a class="olink TGSQL615" href="../TGSQL/tgsql_spm.htm#TGSQL615"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about SQL plan management and <a class="olink ARPLS150" href="../ARPLS/d_spm.htm#ARPLS150"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code dir="ltr">DBMS_SPM</code> package</p>
</div>
<p><a id="sthref5208"></a><a id="sthref5209"></a><a id="sthref5210"></a><a id="sthref5211"></a>Use the <code dir="ltr">CREATE</code> <code dir="ltr">OUTLINE</code> statement to create a <span class="bold">stored outline</span>, which is a set of attributes used by the optimizer to generate an execution plan. You can then instruct the optimizer to use a set of outlines to influence the generation of execution plans whenever a particular SQL statement is issued, regardless of changes in factors that can affect optimization. You can also modify an outline so that it takes into account changes in these factors.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The SQL statement you want to affect must be an exact string match of the statement specified when creating the outline.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink TGSQL615" href="../TGSQL/tgsql_spm.htm#TGSQL615"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for information on execution plans</p>
</li>
<li>
<p><a href="statements_2006.htm#i2227283">ALTER OUTLINE</a> for information on modifying an outline</p>
</li>
<li>
<p><a href="statements_2015.htm#i2231814">ALTER SESSION</a> and <a href="statements_2017.htm#i2053602">ALTER SYSTEM</a> for information on the <code dir="ltr">USE_STORED_OUTLINES</code> and <code dir="ltr">USE_PRIVATE_OUTLINES</code> parameters</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5212"></a>Prerequisites</p>
<p>To create a public or private outline, you must have the <code dir="ltr">CREATE</code> <code dir="ltr">ANY</code> <code dir="ltr">OUTLINE</code> system privilege.</p>
<p>If you are creating a clone outline from a source outline, then you must also have the <code dir="ltr">SELECT_CATALOG_ROLE</code> role.</p>
<p><a id="sthref5213"></a>You can enable or disable the use of stored outlines dynamically for an individual session or for the system:</p>
<ul>
<li>
<p>Enable the <code dir="ltr">USE_STORED_OUTLINES</code> parameter to use public outlines.</p>
</li>
<li>
<p>Enable the <code dir="ltr">USE_PRIVATE_OUTLINES</code> parameter to use private stored outlines.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5214"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF54249"></a><span class="italic">create_outline</span>::=</p>
<img width="595" height="272" src="img/create_outline.gif" alt="Description of create_outline.gif follows"/><br/>
<a id="sthref5215" href="img_text/create_outline.htm">Description of the illustration &#39;&#39;create_outline.gif&#39;&#39;</a><br/>
<br/>
<div class="infobox-note">
<p class="notep1">Note:</p>
None of the clauses after <code dir="ltr"><span class="codeinlineitalic">outline</span></code> are required. However, you must specify at least one clause after <code dir="ltr"><span class="codeinlineitalic">outline</span></code>, and it must be either the <code dir="ltr">FROM</code> clause or the <code dir="ltr">ON</code> clause.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5216"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF54250"></a>OR REPLACE<a id="sthref5217"></a><a id="sthref5218"></a></p>
<p>Specify <code dir="ltr">OR</code> <code dir="ltr">REPLACE</code> to replace an existing outline with a new outline of the same name.</p>
<p class="subhead1"><a id="SQLRF54251"></a>PUBLIC | PRIVATE <a id="sthref5219"></a><a id="sthref5220"></a><a id="sthref5221"></a><a id="sthref5222"></a></p>
<p>Specify <code dir="ltr">PUBLIC</code> if you are creating an outline for use by <code dir="ltr">PUBLIC</code>. This is the default.</p>
<p>Specify <code dir="ltr">PRIVATE</code> to create an outline for private use by the current session only. The data of this outline is stored in the current schema.</p>
<p class="subhead1"><a id="SQLRF54252"></a><span class="italic">outline</span></p>
<p>Specify the unique name to be assigned to the stored outline. If you do not specify <code dir="ltr"><span class="codeinlineitalic">outline</span></code>, then the database generates an outline name.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i2119940">&#34;Creating an Outline: Example&#34;</a></div>
<p class="subhead1"><a id="SQLRF54253"></a>FROM <span class="italic">source_outline</span> Clause <a id="sthref5223"></a></p>
<p>Use the <code dir="ltr">FROM</code> clause to create a new outline by copying an existing one. By default, Oracle Database looks for <code dir="ltr"><span class="codeinlineitalic">source_category</span></code> in the public area. If you specify <code dir="ltr">PRIVATE</code>, then the database looks for the outline in the current schema.</p>
<p><a id="SQLRF54254"></a><span class="subhead3">Restriction on Copying an Outline&nbsp;</span>If you specify the <code dir="ltr">FROM</code> clause, then you cannot specify the <code dir="ltr">ON</code> clause.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i2119956">&#34;Creating a Private Clone Outline: Example&#34;</a> and <a href="#i2119967">&#34;Publicizing a Private Outline to the Public Area: Example&#34;</a></div>
<p class="subhead1"><a id="SQLRF54255"></a>FOR CATEGORY Clause <a id="sthref5224"></a></p>
<p>Specify an optional name used to group stored outlines. For example, you could specify a category of outlines for end-of-week use and another for end-of-quarter use. If you do not specify <code dir="ltr"><span class="codeinlineitalic">category</span></code>, then the outline is stored in the <code dir="ltr">DEFAULT</code> category.</p>
<p class="subhead1"><a id="SQLRF54256"></a>ON Clause <a id="sthref5225"></a><a id="sthref5226"></a></p>
<p>Specify the SQL statement for which the database will create an outline when the statement is compiled. This clause is optional only if you are creating a copy of an existing outline using the <code dir="ltr">FROM</code> clause.</p>
<p>You can specify any one of the following statements: <code dir="ltr">SELECT</code>, <code dir="ltr">DELETE</code>, <code dir="ltr">UPDATE</code>, <code dir="ltr">INSERT</code> ... <code dir="ltr">SELECT</code>, <code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">AS</code> <code dir="ltr">SELECT</code>.</p>
<p><a id="SQLRF54257"></a><span class="subhead3">Restrictions on the ON Clause&nbsp;</span>This clause is subject to the following restrictions:</p>
<ul>
<li>
<p>If you specify the <code dir="ltr">ON</code> clause, then you cannot specify the <code dir="ltr">FROM</code> clause.</p>
</li>
<li>
<p>You cannot create an outline on a multitable <code dir="ltr">INSERT</code> statement.</p>
</li>
<li>
<p>The SQL statement in the <code dir="ltr">ON</code> clause cannot include any DML operation on a remote object.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
In subsequent statements, you can specify additional outlines for the same SQL statement, but each outline for the same statement must specify a different category in the <code dir="ltr">CATEGORY</code> clause.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5227"></a>Examples</p>
<p><a id="i2119940"></a><a id="SQLRF54258"></a><span class="subhead3">Creating an Outline: Example&nbsp;</span>The following statement creates a stored outline by compiling the <code dir="ltr">ON</code> statement. The outline is called <code dir="ltr">salaries</code> and is stored in the category <code dir="ltr">special</code>.</p>
<pre dir="ltr">CREATE OUTLINE salaries FOR CATEGORY special
   ON SELECT last_name, salary FROM employees;
</pre>
<p>When this same <code dir="ltr">SELECT</code> statement is subsequently compiled, if the <code dir="ltr">USE_STORED_OUTLINES</code> parameter is set to <code dir="ltr">special</code>, the database generates the same execution plan as was generated when the outline <code dir="ltr">salaries</code> was created.</p>
<p><a id="i2119956"></a><a id="SQLRF54259"></a><span class="subhead3">Creating a Private Clone Outline: Example&nbsp;</span>The following statement creates a stored private outline <code dir="ltr">my_salaries</code> based on the public category <code dir="ltr">salaries</code> created in the preceding example.</p>
<pre dir="ltr">CREATE OR REPLACE PRIVATE OUTLINE my_salaries
   FROM salaries;
</pre>
<p><a id="i2119967"></a><a id="SQLRF54260"></a><span class="subhead3">Publicizing a Private Outline to the Public Area: Example&nbsp;</span>The following statement copies back (publicizes) a private outline to the public area after private editing:</p>
<pre dir="ltr">CREATE OR REPLACE OUTLINE public_salaries 
   FROM PRIVATE my_salaries;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_6005.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_6007.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
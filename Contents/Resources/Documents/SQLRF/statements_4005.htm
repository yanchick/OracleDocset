<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103619"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/ANALYZE"></a><title>ANALYZE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:41Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_4004.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_4006.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">408/555</span> <!-- End Header --><a id="i2086320"></a>
<div id="SQLRF01105" class="refsect1">
<h1 class="refsect1">ANALYZE</h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABHEEDA"></a>Purpose</p>
<p><a id="sthref4280"></a><a id="sthref4281"></a><a id="sthref4282"></a><a id="sthref4283"></a><a id="sthref4284"></a><a id="sthref4285"></a>Use the <code dir="ltr">ANALYZE</code> statement to collect statistics, for example, to:</p>
<ul>
<li>
<p>Collect or delete statistics about an index or index partition, table or table partition, index-organized table, cluster, or scalar object attribute.</p>
</li>
<li>
<p>Validate the structure of an index or index partition, table or table partition, index-organized table, cluster, or object reference (<code dir="ltr">REF</code>).</p>
</li>
<li>
<p>Identify migrated and chained rows of a table or cluster.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1"><a id="i2151323"></a>Note:</p>
For the collection of most statistics, use the <code dir="ltr">DBMS_STATS</code> package, which lets you collect statistics in parallel, collect global statistics for partitioned objects, and fine tune your statistics collection in other ways. See <a class="olink ARPLS059" href="../ARPLS/d_stats.htm#ARPLS059"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the <code dir="ltr">DBMS_STATS</code> package.
<p>Use the <code dir="ltr">ANALYZE</code> statement (rather than <code dir="ltr">DBMS_STATS</code>) for statistics collection not related to the cost-based optimizer:</p>
<ul>
<li>
<p>To use the <code dir="ltr">VALIDATE</code> or <code dir="ltr">LIST</code> <code dir="ltr">CHAINED</code> <code dir="ltr">ROWS</code> clauses</p>
</li>
<li>
<p>To collect information on freelist blocks</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4286"></a>Prerequisites</p>
<p>The schema object to be analyzed must be local, and it must be in your own schema or you must have the <code dir="ltr">ANALYZE</code> <code dir="ltr">ANY</code> system privilege.</p>
<p>If you want to list chained rows of a table or cluster into a list table, then the list table must be in your own schema, or you must have <code dir="ltr">INSERT</code> privilege on the list table, or you must have <code dir="ltr">INSERT</code> <code dir="ltr">ANY</code> <code dir="ltr">TABLE</code> system privilege.</p>
<p>If you want to validate a partitioned table, then you must have the <code dir="ltr">INSERT</code> object privilege on the table into which you list analyzed rowids, or you must have the <code dir="ltr">INSERT</code> <code dir="ltr">ANY</code> <code dir="ltr">TABLE</code> system privilege.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4287"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF53664"></a><span class="italic">analyze</span>::=</p>
<img width="623" height="310" src="img/analyze.gif" alt="Description of analyze.gif follows"/><br/>
<a id="sthref4288" href="img_text/analyze.htm">Description of the illustration &#39;&#39;analyze.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="SQLRF53665"></a><span class="italic">partition_extension_clause</span>::=</p>
<img width="475" height="187" src="img/partition_extension_clause.gif" alt="Description of partition_extension_clause.gif follows"/><br/>
<a id="sthref4289" href="img_text/partition_extension_clause.htm">Description of the illustration &#39;&#39;partition_extension_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="SQLRF53666"></a><a href="#i2150601"><span class="xreftitleitalic"><span class="italic">validation_clauses</span></span></a>::=</p>
<img width="711" height="168" src="img/validation_clauses.gif" alt="Description of validation_clauses.gif follows"/><br/>
<a id="sthref4290" href="img_text/validation_clauses.htm">Description of the illustration &#39;&#39;validation_clauses.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="SQLRF53667"></a><span class="italic">into_clause</span>::=</p>
<img width="265" height="46" src="img/into_clause.gif" alt="Description of into_clause.gif follows"/><br/>
<a id="sthref4291" href="img_text/into_clause.htm">Description of the illustration &#39;&#39;into_clause.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4292"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF53668"></a><span class="italic">schema</span></p>
<p>Specify the schema containing the table, index, or cluster. If you omit <code dir="ltr"><span class="codeinlineitalic">schema</span></code>, then Oracle Database assumes the table, index, or cluster is in your own schema.</p>
<p class="subhead1"><a id="SQLRF53669"></a>TABLE <span class="italic">table</span> <a id="sthref4293"></a><a id="sthref4294"></a></p>
<p>Specify a table to be analyzed. When you analyze a table, the database collects statistics about expressions occurring in any function-based indexes as well. Therefore, be sure to create function-based indexes on the table before analyzing the table. Refer to <a href="statements_5013.htm#i2062403">CREATE INDEX</a> for more information about function-based indexes.</p>
<p>When analyzing a table, the database skips all domain indexes marked <code dir="ltr">LOADING</code> or <code dir="ltr">FAILED</code>.</p>
<p><a id="sthref4295"></a><a id="sthref4296"></a>For an index-organized table, the database also analyzes any mapping table and calculates its <code dir="ltr">PCT_ACCESSS_DIRECT</code> statistics. These statistics estimate the accuracy of guess data block addresses stored as part of the local rowids in the mapping table.</p>
<p><a id="sthref4297"></a>Oracle Database collects the following statistics for a table. Statistics marked with an asterisk are always computed exactly. Table statistics, including the status of domain indexes, appear in the data dictionary views <code dir="ltr">USER_TABLES</code>, <code dir="ltr">ALL_TABLES</code>, and <code dir="ltr">DBA_TABLES</code> in the columns shown in parentheses.</p>
<ul>
<li>
<p>Number of rows (<code dir="ltr">NUM_ROWS</code>)</p>
</li>
<li>
<p>* Number of data blocks below the high water mark&mdash;the number of data blocks that have been formatted to receive data, regardless whether they currently contain data or are empty (<code dir="ltr">BLOCKS</code>)</p>
</li>
<li>
<p>* Number of data blocks allocated to the table that have never been used (<code dir="ltr">EMPTY_BLOCKS</code>)</p>
</li>
<li>
<p>Average available free space in each data block in bytes (<code dir="ltr">AVG_SPACE</code>)</p>
</li>
<li>
<p>Number of chained rows (<code dir="ltr">CHAIN_COUNT</code>)</p>
</li>
<li>
<p>Average row length, including the row overhead, in bytes (<code dir="ltr">AVG_ROW_LEN</code>)</p>
</li>
</ul>
<p><a id="SQLRF53670"></a><span class="subhead3">Restrictions on Analyzing Tables&nbsp;</span>Analyzing tables is subject to the following restrictions:</p>
<ul>
<li>
<p>You cannot use <code dir="ltr">ANALYZE</code> to collect statistics on data dictionary tables.</p>
</li>
<li>
<p>You cannot use <code dir="ltr">ANALYZE</code> to collect statistics on an external table. Instead, you must use the <code dir="ltr">DBMS_STATS</code> package.</p>
</li>
<li>
<p>You cannot use <code dir="ltr">ANALYZE</code> to collect default statistics on a temporary table. However, if you have already created an association between one or more columns of a temporary table and a user-defined statistics type, then you can use <code dir="ltr">ANALYZE</code> to collect the user-defined statistics on the temporary table.</p>
</li>
<li>
<p>You cannot compute or estimate statistics for the following column types: <code dir="ltr">REF</code> column types, varrays, nested tables, LOB column types (LOB column types are not analyzed, they are skipped), <code dir="ltr">LONG</code> column types, or object types. However, if a statistics type is associated with such a column, then Oracle Database collects user-defined statistics.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="statements_4006.htm#i2058947">ASSOCIATE STATISTICS</a></p>
</li>
<li>
<p><a class="olink REFRN" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for information on the data dictionary views</p>
</li>
</ul>
</div>
<p class="subhead1"><a id="SQLRF53671"></a><span class="italic">partition_extension_clause</span> <a id="sthref4298"></a><a id="sthref4299"></a></p>
<p>Specify the partition or subpartition, or the partition or subpartition value, on which you want statistics to be gathered. You cannot use this clause when analyzing clusters.</p>
<p>If you specify <code dir="ltr">PARTITION</code> and <code dir="ltr"><span class="codeinlineitalic">table</span></code> is composite-partitioned, then Oracle Database analyzes all the subpartitions within the specified partition.</p>
<p class="subhead1"><a id="SQLRF53672"></a>INDEX <span class="italic">index</span> <a id="sthref4300"></a><a id="sthref4301"></a></p>
<p>Specify an index to be analyzed.</p>
<p>Oracle Database collects the following statistics for an index. Statistics marked with an asterisk are always computed exactly. For conventional indexes, when you compute or estimate statistics, the statistics appear in the data dictionary views <code dir="ltr">USER_INDEXES</code>, <code dir="ltr">ALL_INDEXES</code>, and <code dir="ltr">DBA_INDEXES</code> in the columns shown in parentheses.</p>
<ul>
<li>
<p>* Depth of the index from its root block to its leaf blocks (<code dir="ltr">BLEVEL</code>)</p>
</li>
<li>
<p>Number of leaf blocks (<code dir="ltr">LEAF_BLOCKS</code>)</p>
</li>
<li>
<p>Number of distinct index values (<code dir="ltr">DISTINCT_KEYS</code>)</p>
</li>
<li>
<p>Average number of leaf blocks for each index value (<code dir="ltr">AVG_LEAF_BLOCKS_PER_KEY</code>)</p>
</li>
<li>
<p>Average number of data blocks for each index value (for an index on a table) (<code dir="ltr">AVG_DATA_BLOCKS_PER_KEY</code>)</p>
</li>
<li>
<p>Clustering factor (how well ordered the rows are about the indexed values) (<code dir="ltr">CLUSTERING_FACTOR</code>)</p>
</li>
</ul>
<p>For domain indexes, this statement invokes the user-defined statistics collection function specified in the statistics type associated with the index (see <a href="statements_4006.htm#i2058947">ASSOCIATE STATISTICS</a>). If no statistics type is associated with the domain index, then the statistics type associated with its indextype is used. If no statistics type exists for either the index or its indextype, then no user-defined statistics are collected. User-defined index statistics appear in the <code dir="ltr">STATISTICS</code> column of the data dictionary views <code dir="ltr">USER_USTATS</code>, <code dir="ltr">ALL_USTATS</code>, and <code dir="ltr">DBA_USTATS</code>.</p>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>When you analyze an index from which a substantial number of rows has been deleted, Oracle Database sometimes executes a <code dir="ltr">COMPUTE</code> statistics operation (which can entail a full table scan) even if you request an <code dir="ltr">ESTIMATE</code> statistics operation. Such an operation can be quite time consuming.</p>
</li>
<li>
<p>In some cases, analyzing an index with the <code dir="ltr">ANALYZE</code> statement takes an inordinate amount of time to complete. In these cases, you can use a SQL query to validate the index. If the query determines that there is an inconsistency between a table and the index, then you can use the <code dir="ltr">ANALYZE</code> statement for a thorough analysis of the index. Refer to <a class="olink ADMIN14215" href="../ADMIN/general.htm#ADMIN14215"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information.</p>
</li>
</ul>
</div>
<p><a id="SQLRF53673"></a><span class="subhead3">Restriction on Analyzing Indexes&nbsp;</span>You cannot analyze a domain index that is marked <code dir="ltr">IN_PROGRESS</code> or <code dir="ltr">FAILED</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="statements_5013.htm#i2062403">CREATE INDEX</a> for more information on domain indexes</p>
</li>
<li>
<p><a class="olink REFRN" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for information on the data dictionary views</p>
</li>
<li>
<p><a href="#i2154661">&#34;Analyzing an Index: Example&#34;</a></p>
</li>
</ul>
</div>
<p class="subhead1"><a id="SQLRF53674"></a>CLUSTER <span class="italic">cluster <a id="sthref4302"></a><a id="sthref4303"></a><a id="sthref4304"></a><a id="sthref4305"></a><a id="sthref4306"></a></span></p>
<p>Specify a cluster to be analyzed. When you collect statistics for a cluster, Oracle Database also automatically collects the statistics for all the tables in the cluster and all their indexes, including the cluster index.</p>
<p>For both indexed and hash clusters, the database collects the average number of data blocks taken up by a single cluster key (<code dir="ltr">AVG_BLOCKS_PER_KEY</code>). These statistics appear in the data dictionary views <code dir="ltr">ALL_CLUSTERS</code>, <code dir="ltr">USER_CLUSTERS</code>, and <code dir="ltr">DBA_CLUSTERS</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for information on the data dictionary views and <a href="#i2115909">&#34;Analyzing a Cluster: Example&#34;</a></div>
<p class="subhead1"><a id="i2150601"></a><a id="SQLRF53675"></a><span class="italic">validation_clauses</span></p>
<p>The validation clauses let you validate <code dir="ltr">REF</code> values and the structure of the analyzed object.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11526" href="../ADMIN/general.htm#ADMIN11526"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about validating tables, indexes, clusters, and materialized views</div>
<p class="subhead2"><a id="SQLRF53676"></a>VALIDATE REF UPDATE Clause <a id="sthref4307"></a><a id="sthref4308"></a><a id="sthref4309"></a></p>
<p>Specify <code dir="ltr">VALIDATE</code> <code dir="ltr">REF</code> <code dir="ltr">UPDATE</code> to validate the <code dir="ltr">REF</code> values in the specified table, check the rowid portion in each <code dir="ltr">REF</code>, compare it with the true rowid, and correct it, if necessary. You can use this clause only when analyzing a table.</p>
<p>If the owner of the table does not have the <code dir="ltr">READ</code> or <code dir="ltr">SELECT</code> object privilege on the referenced objects, then Oracle Database will consider them invalid and set them to null. Subsequently these <code dir="ltr">REF</code> values will not be available in a query, even if it is issued by a user with appropriate privileges on the objects.</p>
<p><a id="SQLRF53677"></a><span class="subhead3">SET DANGLING TO NULL <a id="sthref4310"></a><a id="sthref4311"></a>&nbsp;</span><code dir="ltr">SET</code> <code dir="ltr">DANGLING</code> <code dir="ltr">TO</code> <code dir="ltr">NULL</code> sets to null any <code dir="ltr">REF</code> values (whether or not scoped) in the specified table that are found to point to an invalid or nonexistent object.</p>
<p class="subhead2"><a id="SQLRF53678"></a>VALIDATE STRUCTURE <a id="sthref4312"></a><a id="sthref4313"></a><a id="sthref4314"></a><a id="sthref4315"></a><a id="sthref4316"></a><a id="sthref4317"></a><a id="sthref4318"></a><a id="sthref4319"></a></p>
<p>Specify <code dir="ltr">VALIDATE</code> <code dir="ltr">STRUCTURE</code> to validate the structure of the analyzed object. The statistics collected by this clause are not used by the Oracle Database optimizer.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i2115898">&#34;Validating a Table: Example&#34;</a></div>
<ul>
<li>
<p>For a table, Oracle Database verifies the integrity of each of the data blocks and rows. For an index-organized table, the database also generates compression statistics (optimal prefix compression count) for the primary key index on the table.</p>
</li>
<li>
<p>For a cluster, Oracle Database automatically validates the structure of the cluster tables.</p>
</li>
<li>
<p>For a partitioned table, Oracle Database also verifies that each row belongs to the correct partition. If a row does not collate correctly, then its rowid is inserted into the <code dir="ltr">INVALID_ROWS</code> table.</p>
</li>
<li>
<p>For a temporary table, Oracle Database validates the structure of the table and its indexes during the current session.</p>
</li>
<li>
<p>For an index, Oracle Database verifies the integrity of each data block in the index and checks for block corruption. This clause does not confirm that each row in the table has an index entry or that each index entry points to a row in the table. You can perform these operations by validating the structure of the table with the <a href="#i2111178">CASCADE</a> clause.</p>
<p>Oracle Database also computes compression statistics (optimal prefix compression count) for all normal indexes.</p>
<p>Oracle Database stores statistics about the index in the data dictionary views <code dir="ltr">INDEX_STATS</code> and <code dir="ltr">INDEX_HISTOGRAM</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for information on these views</div>
</li>
</ul>
<p>If Oracle Database encounters corruption in the structure of the object, then an error message is returned. In this case, drop and re-create the object.</p>
<p><a id="i2111178"></a><a id="SQLRF53680"></a><span class="subhead3">CASCADE&nbsp;</span>Specify <code dir="ltr">CASCADE</code> if you want Oracle Database to validate the structure of the indexes associated with the table or cluster. If you use this clause when validating a table, then the database also validates the indexes defined on the table. If you use this clause when validating a cluster, then the database also validates all the cluster tables indexes, including the cluster index.</p>
<p>By default, <code dir="ltr">CASCADE</code> performs a <code dir="ltr">COMPLETE</code> validation, which can be resource intensive. Specify <code dir="ltr">FAST</code> if you want the database to check for the existence of corruptions without reporting details about the corruption. If the <code dir="ltr">FAST</code> check finds a corruption, you can then use the <code dir="ltr">CASCADE</code> option without the <code dir="ltr">FAST</code> clause to locate and learn details about it.</p>
<p>If you use this clause to validate an enabled (but previously disabled) function-based index, then validation errors may result. In this case, you must rebuild the index.</p>
<p><a id="SQLRF53681"></a><span class="subhead3">ONLINE | OFFLINE<a id="sthref4320"></a><a id="sthref4321"></a>&nbsp;</span>Specify <code dir="ltr">ONLINE</code> to enable Oracle Database to run the validation while DML operations are ongoing within the object. The database reduces the amount of validation performed to allow for concurrency.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you validate the structure of an object <code dir="ltr">ONLINE</code>, Oracle Database does not collect any statistics, as it does when you validate the structure of the object <code dir="ltr">OFFLINE</code>.</div>
<p>Specify <code dir="ltr">OFFLINE</code>, to maximize the amount of validation performed. This setting prevents <code dir="ltr">INSERT</code>, <code dir="ltr">UPDATE</code>, and <code dir="ltr">DELETE</code> statements from concurrently accessing the object during validation but allows queries. This is the default.</p>
<p><a id="SQLRF53682"></a><span class="subhead3">Restriction on ONLINE&nbsp;</span>You cannot specify <code dir="ltr">ONLINE</code> when analyzing a cluster.</p>
<p><a id="SQLRF53679"></a><span class="subhead3">INTO&nbsp;</span>The <code dir="ltr">INTO</code> clause of <code dir="ltr">VALIDATE</code> <code dir="ltr">STRUCTURE</code> is valid only for partitioned tables. Specify a table into which Oracle Database lists the rowids of the partitions whose rows do not collate correctly. If you omit <code dir="ltr"><span class="codeinlineitalic">schema</span></code>, then the database assumes the list is in your own schema. If you omit this clause altogether, then the database assumes that the table is named <code dir="ltr">INVALID_ROWS</code>. The SQL script used to create this table is <code dir="ltr">UTLVALID.SQL</code>.</p>
<p class="subhead2"><a id="SQLRF53683"></a>LIST CHAINED ROWS <a id="sthref4322"></a><a id="sthref4323"></a><a id="sthref4324"></a><a id="sthref4325"></a><a id="sthref4326"></a><a id="sthref4327"></a></p>
<p><code dir="ltr">LIST</code> <code dir="ltr">CHAINED</code> <code dir="ltr">ROWS</code> lets you identify migrated and chained rows of the analyzed table or cluster. You cannot use this clause when analyzing an index.</p>
<p>In the <code dir="ltr">INTO</code> clause, specify a table into which Oracle Database lists the migrated and chained rows. If you omit <code dir="ltr"><span class="codeinlineitalic">schema</span></code>, then the database assumes the chained-rows table is in your own schema. If you omit this clause altogether, then the database assumes that the table is named <code dir="ltr">CHAINED_ROWS</code>. The chained-rows table must be on your local database.</p>
<p>You can create the <code dir="ltr">CHAINED_ROWS</code> table using one of these scripts:</p>
<ul>
<li>
<p><code dir="ltr">UTLCHAIN.SQL</code> uses physical rowids. Therefore it can accommodate rows from conventional tables but not from index-organized tables. (See the Note that follows.)</p>
</li>
<li>
<p><code dir="ltr">UTLCHN1.SQL</code> uses universal rowids, so it can accommodate rows from both conventional and index-organized tables.</p>
</li>
</ul>
<p>If you create your own chained-rows table, then it must follow the format prescribed by one of these two scripts.</p>
<p>If you are analyzing index-organized tables based on primary keys (rather than universal rowids), then you must create a separate chained-rows table for each index-organized table to accommodate its primary-key storage. Use the SQL scripts <code dir="ltr">DBMSIOTC.SQL</code> and <code dir="ltr">PRVTIOTC.PLB</code> to define the <code dir="ltr">BUILD_CHAIN_ROWS_TABLE</code> procedure, and then execute this procedure to create an <code dir="ltr">IOT_CHAINED_ROWS</code> table for each such index-organized table.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>The <code dir="ltr">DBMS_IOT</code> package in <a class="olink ARPLS018" href="../ARPLS/d_iot.htm#ARPLS018"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on the packaged SQL scripts</p>
</li>
<li>
<p><a href="#i2115921">&#34;Listing Chained Rows: Example&#34;</a></p>
</li>
</ul>
</div>
<p class="subhead2"><a id="SQLRF53684"></a>DELETE STATISTICS <a id="sthref4328"></a><a id="sthref4329"></a></p>
<p>Specify <code dir="ltr">DELETE</code> <code dir="ltr">STATISTICS</code> to delete any statistics about the analyzed object that are currently stored in the data dictionary. Use this statement when you no longer want Oracle Database to use the statistics.</p>
<p>When you use this clause on a table, the database also automatically removes statistics for all the indexes defined on the table. When you use this clause on a cluster, the database also automatically removes statistics for all the cluster tables and all their indexes, including the cluster index.</p>
<p>Specify <code dir="ltr">SYSTEM</code> if you want Oracle Database to delete only system (not user-defined) statistics. If you omit <code dir="ltr">SYSTEM</code>, and if user-defined column or index statistics were collected for an object, then the database also removes the user-defined statistics by invoking the statistics deletion function specified in the statistics type that was used to collect the statistics.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i2115827">&#34;Deleting Statistics: Example&#34;</a></div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4330"></a>Examples</p>
<p><a id="i2115827"></a><a id="SQLRF53685"></a><span class="subhead3">Deleting Statistics: Example&nbsp;</span>The following statement deletes statistics about the sample table <code dir="ltr">oe.orders</code> and all its indexes from the data dictionary:</p>
<pre dir="ltr">ANALYZE TABLE orders DELETE STATISTICS; 
</pre>
<p><a id="i2154661"></a><a id="SQLRF53686"></a><span class="subhead3">Analyzing an Index: Example&nbsp;</span>The following statement validates the structure of the sample index <code dir="ltr">oe.inv_product_ix</code>:</p>
<pre dir="ltr">ANALYZE INDEX inv_product_ix VALIDATE STRUCTURE; 
</pre>
<p><a id="i2115898"></a><a id="SQLRF53687"></a><span class="subhead3">Validating a Table: Example&nbsp;</span>The following statement analyzes the sample table <code dir="ltr">hr.employees</code> and all of its indexes:</p>
<pre dir="ltr">ANALYZE TABLE employees VALIDATE STRUCTURE CASCADE; 
</pre>
<p>For a table, the <code dir="ltr">VALIDATE</code> <code dir="ltr">REF</code> <code dir="ltr">UPDATE</code> clause verifies the <code dir="ltr">REF</code> values in the specified table, checks the rowid portion of each <code dir="ltr">REF</code>, and then compares it with the true rowid. If the result is an incorrect rowid, then the <code dir="ltr">REF</code> is updated so that the rowid portion is correct.</p>
<p>The following statement validates the <code dir="ltr">REF</code> values in the sample table <code dir="ltr">oe.customers</code>:</p>
<pre dir="ltr">ANALYZE TABLE customers VALIDATE REF UPDATE;
</pre>
<p>The following statement validates the structure of the sample table <code dir="ltr">oe.customers</code> while allowing simultaneous DML:</p>
<pre dir="ltr">ANALYZE TABLE customers VALIDATE STRUCTURE ONLINE;
</pre>
<p><a id="i2115909"></a><a id="SQLRF53688"></a><span class="subhead3">Analyzing a Cluster: Example&nbsp;</span>The following statement analyzes the <code dir="ltr">personnel</code> cluster (created in <a href="statements_5002.htm#i2105033">&#34;Creating a Cluster: Example&#34;</a>), all of its tables, and all of their indexes, including the cluster index:</p>
<pre dir="ltr">ANALYZE CLUSTER personnel
    VALIDATE STRUCTURE CASCADE; 
</pre>
<p><a id="i2115921"></a><a id="SQLRF53689"></a><span class="subhead3">Listing Chained Rows: Example&nbsp;</span>The following statement collects information about all the chained rows in the table <code dir="ltr">orders</code>:</p>
<pre dir="ltr">ANALYZE TABLE orders
   LIST CHAINED ROWS INTO chained_rows; 
</pre>
<p>The preceding statement places the information into the table <code dir="ltr">chained_rows</code>. You can then examine the rows with this query (no rows will be returned if the table contains no chained rows):</p>
<pre dir="ltr">SELECT owner_name, table_name, head_rowid, analyze_timestamp 
    FROM chained_rows
    ORDER BY owner_name, table_name, head_rowid, analyze_timestamp; 

OWNER_NAME  TABLE_NAME  HEAD_ROWID         ANALYZE_TIMESTAMP
----------  ----------  ------------------ -----------------
OE          ORDERS      AAAAZzAABAAABrXAAA 25-SEP-2000 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_4004.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_4006.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103587"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/ALTER%20DISKGROUP"></a><title>ALTER DISKGROUP</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:28Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_1008.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_1010.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">376/555</span> <!-- End Header --><a id="i2166968"></a>
<div id="SQLRF01113" class="refsect1">
<h1 class="refsect1">ALTER DISKGROUP <a id="sthref2925"></a><a id="sthref2926"></a></h1>
<div class="infobox-note">
<p class="notep1">Note:</p>
This SQL statement is valid only if you are using Oracle ASM and you have started an Oracle ASM instance. You must issue this statement from within the Oracle ASM instance, not from a normal database instance. For information on starting an Oracle ASM instance, refer to <a class="olink OSTMG036" href="../OSTMG/GUID-BC612D35-5399-4A35-843E-CF76E3D3CDB5.htm#OSTMG036"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2927"></a>Purpose</p>
<p>The <code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> statement lets you perform a number of operations on a disk group or on the disks in a disk group.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="statements_5009.htm#i2153287">CREATE DISKGROUP</a> for information on creating disk groups</p>
</li>
<li>
<p><a class="olink OSTMG036" href="../OSTMG/GUID-BC612D35-5399-4A35-843E-CF76E3D3CDB5.htm#OSTMG036"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for information on Oracle ASM and using disk groups to simplify database administration</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2928"></a>Prerequisites</p>
<p>You must have an Oracle ASM instance started from which you issue this statement. The disk group to be modified must be mounted.</p>
<p>You can issue all <code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> clauses if you have the <code dir="ltr">SYSASM</code> system privilege. You can issue specific clauses as follows:</p>
<ul>
<li>
<p>The <code dir="ltr">SYSOPER</code> privilege permits the following subset of the <code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> operations: <code dir="ltr"><span class="codeinlineitalic">diskgroup_availability</span></code>, <code dir="ltr"><span class="codeinlineitalic">rebalance_diskgroup_clause</span></code>, <code dir="ltr"><span class="codeinlineitalic">check_diskgroup_clause</span></code> (without the <code dir="ltr">REPAIR</code> option).</p>
</li>
<li>
<p>If you are connected as <code dir="ltr">SYSDBA</code>, you have limited privileges to use this statement. The following operations are always granted to users connected as <code dir="ltr">SYSDBA</code>:</p>
<ul>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> ... <code dir="ltr">ADD</code> <code dir="ltr">DIRECTORY</code></p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> ... <code dir="ltr">ADD</code>/<code dir="ltr">ALTER</code>/<code dir="ltr">DROP</code> <code dir="ltr">TEMPLATE</code> (nonsystem templates only)</p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> ... <code dir="ltr">ADD</code> <code dir="ltr">USERGROUP</code></p>
</li>
<li>
<p><code dir="ltr">SELECT</code></p>
</li>
<li>
<p><code dir="ltr">SHOW</code> <code dir="ltr">PARAMETER</code></p>
</li>
</ul>
</li>
</ul>
<p><a href="#BGBFECBF">Table 10-1</a> shows additional privileges granted to users connected as <code dir="ltr">SYSDBA</code> under the conditions shown:</p>
<div id="SQLRF52591" class="tblhruleformal">
<p class="titleintable"><a id="sthref2929"></a><a id="BGBFECBF"></a>Table 10-1 Conditional Diskgroup Privileges for SYSDBA</p>
<table class="cellalignment5872" title="Conditional Diskgroup Privileges for SYSDBA" summary="Column 1 lists the ALTER DISK operations with specific prerequisites. Column 2 contains the prerequisites." dir="ltr">
<thead>
<tr class="cellalignment5863">
<th class="cellalignment5873" id="r1c1-t94">ALTER DISKGROUP Operation</th>
<th class="cellalignment5873" id="r1c2-t94">Condition</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r2c1-t94" headers="r1c1-t94">
<p><code dir="ltr">DROP</code> <code dir="ltr">FILE</code></p>
</td>
<td class="cellalignment5869" headers="r2c1-t94 r1c2-t94">
<p>User must have read-write permission on the file.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r3c1-t94" headers="r1c1-t94">
<p><code dir="ltr">ADD</code> <code dir="ltr">ALIAS</code></p>
</td>
<td class="cellalignment5869" headers="r3c1-t94 r1c2-t94">
<p>User must have read-write permission on the related file.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r4c1-t94" headers="r1c1-t94">
<p><code dir="ltr">RENAME</code> <code dir="ltr">ALIAS</code></p>
</td>
<td class="cellalignment5869" headers="r4c1-t94 r1c2-t94">
<p>User must have read-write permission on the related file.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r5c1-t94" headers="r1c1-t94">
<p><code dir="ltr">DROP</code> <code dir="ltr">ALIAS</code></p>
</td>
<td class="cellalignment5869" headers="r5c1-t94 r1c2-t94">
<p>User must have read-write permission on the related file.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r6c1-t94" headers="r1c1-t94">
<p><code dir="ltr">RENAME</code> <code dir="ltr">DIRECTORY</code></p>
</td>
<td class="cellalignment5869" headers="r6c1-t94 r1c2-t94">
<p>Directory must contain only aliases and no files. User must have <code dir="ltr">DROP</code> <code dir="ltr">ALIAS</code> permissions on all aliases under the directory.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r7c1-t94" headers="r1c1-t94">
<p><code dir="ltr">DROP</code> <code dir="ltr">DIRECTORY</code></p>
</td>
<td class="cellalignment5869" headers="r7c1-t94 r1c2-t94">
<p>Directory must contain only aliases and no files. User must have <code dir="ltr">DROP</code> <code dir="ltr">ALIAS</code> permissions on all aliases under the directory.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r8c1-t94" headers="r1c1-t94">
<p><code dir="ltr">DROP</code> <code dir="ltr">USERGROUP</code></p>
</td>
<td class="cellalignment5869" headers="r8c1-t94 r1c2-t94">
<p>User must be the owner of the user group.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r9c1-t94" headers="r1c1-t94">
<p><code dir="ltr">MODIFY</code> <code dir="ltr">FILE</code></p>
</td>
<td class="cellalignment5869" headers="r9c1-t94 r1c2-t94">
<p>User must be the owner of the file.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r10c1-t94" headers="r1c1-t94">
<p><code dir="ltr">MODIFY</code> <code dir="ltr">USERGROUP</code> <code dir="ltr">ADD</code> <code dir="ltr">MEMBER</code></p>
</td>
<td class="cellalignment5869" headers="r10c1-t94 r1c2-t94">
<p>User must be the owner of the user group.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r11c1-t94" headers="r1c1-t94">
<p><code dir="ltr">MODIFY</code> <code dir="ltr">USERGROUP</code> <code dir="ltr">DROP</code> <code dir="ltr">MEMBER</code></p>
</td>
<td class="cellalignment5869" headers="r11c1-t94 r1c2-t94">
<p>User must be the owner of the user group.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r12c1-t94" headers="r1c1-t94">
<p><code dir="ltr">SET</code> <code dir="ltr">PERMISSION</code></p>
</td>
<td class="cellalignment5869" headers="r12c1-t94 r1c2-t94">
<p>User must be the owner of the file.</p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r13c1-t94" headers="r1c1-t94">
<p><code dir="ltr">SET</code> <code dir="ltr">OWNER</code> <code dir="ltr">GROUP</code></p>
</td>
<td class="cellalignment5869" headers="r13c1-t94 r1c2-t94">
<p>User must be the owner of the file and a member of the user group.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2930"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF52592"></a><span class="italic">alter_diskgroup</span>::=</p>
<img width="794" height="793" src="img/alter_diskgroup.gif" alt="Description of alter_diskgroup.gif follows"/><br/>
<a id="sthref2931" href="img_text/alter_diskgroup.htm">Description of the illustration &#39;&#39;alter_diskgroup.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#i2168772"><span class="xreftitleitalic"><span class="italic">add_disk_clause</span>::=</span></a>, <a href="#i2168665"><span class="xreftitleitalic"><span class="italic">drop_disk_clause</span>::=</span></a>, <a href="#i2168828"><span class="xreftitleitalic"><span class="italic">resize_disk_clause</span>::=</span></a>, <a href="#BGEGBBHC"><span class="xreftitleitalic"><span class="italic">replace_disk_clause</span>::=</span></a>, <a href="#BGEJJABJ"><span class="xreftitleitalic"><span class="italic">rename_disk_clause</span>::=</span></a>, <a href="#BABEFCHE"><span class="xreftitleitalic"><span class="italic">disk_online_clause</span>::=</span></a>, <a href="#BABEJJID"><span class="xreftitleitalic"><span class="italic">disk_offline_clause</span>::=</span></a>, <a href="#i2168857"><span class="xreftitleitalic"><span class="italic">rebalance_diskgroup_clause</span> ::=</span></a>, <a href="#BGEBGCFB"><span class="xreftitleitalic"><span class="italic">check_diskgroup_clause</span>::=</span></a>, <a href="#BGEEDEDC"><span class="xreftitleitalic"><span class="italic">diskgroup_template_clauses</span>::=</span></a>, <a href="#BGECIJCC"><span class="xreftitleitalic"><span class="italic">diskgroup_directory_clauses</span>::=</span></a>, <a href="#BGEEJAFI"><span class="xreftitleitalic"><span class="italic">diskgroup_alias_clauses</span>::=</span></a>, <a href="#BGBBDJBA"><span class="xreftitleitalic"><span class="italic">diskgroup_volume_clauses</span>::=</span></a>, <a href="#BABGCDFE"><span class="xreftitleitalic"><span class="italic">diskgroup_attributes</span> ::=</span></a>, <a href="#BGBEGFJD"><span class="xreftitleitalic"><span class="italic">modify_diskgroup_file</span>::=</span></a>, <a href="#BGEBADJI"><span class="xreftitleitalic"><span class="italic">drop_diskgroup_file_clause</span>::=</span></a>, <a href="#BGBJACJH"><span class="xreftitleitalic"><span class="italic">usergroup_clauses</span>::=</span></a>, <a href="#BGBBGAHG"><span class="xreftitleitalic"><span class="italic">user_clauses</span>::=</span></a>, <a href="#BGBEAHIA"><span class="xreftitleitalic"><span class="italic">file_permissions_clause</span>::=</span></a>, <a href="#BGBFGDIJ"><span class="xreftitleitalic"><span class="italic">file_owner_clause</span>::=</span></a>, <a href="#BGEEHAAE"><span class="xreftitleitalic"><span class="italic">scrub_clause</span>::=</span></a>, <a href="#i2168846"><span class="xreftitleitalic"><span class="italic">undrop_disk_clause</span>::=</span></a>, <a href="#BGEGEFBJ"><span class="xreftitleitalic"><span class="italic">diskgroup_availability</span>::=</span></a>, <a href="#BGBHCFBD"><span class="xreftitleitalic"><span class="italic">enable_disable_volume</span>::=</span></a>.)</p>
<p class="subhead2"><a id="i2168772"></a><a id="SQLRF52593"></a><a href="#i2168780"><span class="xreftitleitalic"><span class="italic">add_disk_clause</span></span></a>::=</p>
<img width="720" height="91" src="img/add_disk_clause.gif" alt="Description of add_disk_clause.gif follows"/><br/>
<a id="sthref2932" href="img_text/add_disk_clause.htm">Description of the illustration &#39;&#39;add_disk_clause.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#i2208507"><span class="xreftitleitalic"><span class="italic">qualified_disk_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="i2208507"></a><a id="SQLRF52594"></a><a href="#BABDBCBI"><span class="xreftitleitalic"><span class="italic">qualified_disk_clause</span></span></a>::=</p>
<img width="645" height="79" src="img/qualified_disk_clause.gif" alt="Description of qualified_disk_clause.gif follows"/><br/>
<a id="sthref2933" href="img_text/qualified_disk_clause.htm">Description of the illustration &#39;&#39;qualified_disk_clause.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses008.htm#CHDEAIID"><span class="xreftitleitalic"><span class="italic">size_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="i2168665"></a><a id="SQLRF52595"></a><a href="#i2168985"><span class="xreftitleitalic"><span class="italic">drop_disk_clause</span></span></a>::=</p>
<img width="754" height="227" src="img/drop_disk_clause.gif" alt="Description of drop_disk_clause.gif follows"/><br/>
<a id="sthref2934" href="img_text/drop_disk_clause.htm">Description of the illustration &#39;&#39;drop_disk_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="i2168828"></a><a id="SQLRF52596"></a><a href="#i2169043"><span class="xreftitleitalic"><span class="italic">resize_disk_clause</span></span></a>::=</p>
<img width="315" height="46" src="img/resize_disk_clause.gif" alt="Description of resize_disk_clause.gif follows"/><br/>
<a id="sthref2935" href="img_text/resize_disk_clause.htm">Description of the illustration &#39;&#39;resize_disk_clause.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses008.htm#CHDEAIID"><span class="xreftitleitalic"><span class="italic">size_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="BGEGBBHC"></a><a id="SQLRF56563"></a><a href="#BGECCJJD"><span class="xreftitleitalic"><span class="italic">replace_disk_clause</span></span></a>::=</p>
<img width="619" height="209" src="img/replace_disk_clause.gif" alt="Description of replace_disk_clause.gif follows"/><br/>
<a id="sthref2936" href="img_text/replace_disk_clause.htm">Description of the illustration &#39;&#39;replace_disk_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGEJJABJ"></a><a id="SQLRF56613"></a><a href="#BGECIAHJ"><span class="xreftitleitalic"><span class="italic">rename_disk_clause</span></span></a>::=</p>
<img width="461" height="91" src="img/rename_disk_clause.gif" alt="Description of rename_disk_clause.gif follows"/><br/>
<a id="sthref2937" href="img_text/rename_disk_clause.htm">Description of the illustration &#39;&#39;rename_disk_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BABEFCHE"></a><a id="SQLRF52597"></a><a href="#BABIBAJF"><span class="xreftitleitalic"><span class="italic">disk_online_clause</span></span></a>::=</p>
<img width="664" height="307" src="img/disk_online_clause.gif" alt="Description of disk_online_clause.gif follows"/><br/>
<a id="sthref2938" href="img_text/disk_online_clause.htm">Description of the illustration &#39;&#39;disk_online_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BABEJJID"></a><a id="SQLRF52598"></a><a href="#BABFJHFG"><span class="xreftitleitalic"><span class="italic">disk_offline_clause</span></span></a>::=</p>
<img width="789" height="175" src="img/disk_offline_clause.gif" alt="Description of disk_offline_clause.gif follows"/><br/>
<a id="sthref2939" href="img_text/disk_offline_clause.htm">Description of the illustration &#39;&#39;disk_offline_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="SQLRF52599"></a><span class="italic">timeout_clause</span>::=</p>
<img width="268" height="58" src="img/timeout_clause.gif" alt="Description of timeout_clause.gif follows"/><br/>
<a id="sthref2940" href="img_text/timeout_clause.htm">Description of the illustration &#39;&#39;timeout_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="i2168857"></a><a id="SQLRF52601"></a><a href="#i2168800"><span class="xreftitleitalic"><span class="italic">rebalance_diskgroup_clause</span></span></a> ::=</p>
<img width="440" height="79" src="img/rebalance_diskgroup_clause.gif" alt="Description of rebalance_diskgroup_clause.gif follows"/><br/>
<a id="sthref2941" href="img_text/rebalance_diskgroup_clause.htm">Description of the illustration &#39;&#39;rebalance_diskgroup_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGEBGCFB"></a><a id="SQLRF52602"></a><a href="#i2168804"><span class="xreftitleitalic"><span class="italic">check_diskgroup_clause</span></span></a>::=</p>
<img width="248" height="79" src="img/check_diskgroup_clause.gif" alt="Description of check_diskgroup_clause.gif follows"/><br/>
<a id="sthref2942" href="img_text/check_diskgroup_clause.htm">Description of the illustration &#39;&#39;check_diskgroup_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGEEDEDC"></a><a id="SQLRF52603"></a><a href="#i2168808"><span class="xreftitleitalic"><span class="italic">diskgroup_template_clauses</span></span></a>::=</p>
<img width="531" height="140" src="img/diskgroup_template_clauses.gif" alt="Description of diskgroup_template_clauses.gif follows"/><br/>
<a id="sthref2943" href="img_text/diskgroup_template_clauses.htm">Description of the illustration &#39;&#39;diskgroup_template_clauses.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#i2208551"><span class="xreftitleitalic"><span class="italic">qualified_template_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="i2208551"></a><a id="SQLRF52604"></a><span class="italic">qualified_template_clause</span>::=</p>
<img width="428" height="83" src="img/qualified_template_clause.gif" alt="Description of qualified_template_clause.gif follows"/><br/>
<a id="sthref2944" href="img_text/qualified_template_clause.htm">Description of the illustration &#39;&#39;qualified_template_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BABDDHBB"></a><a id="SQLRF52605"></a><span class="italic">redundancy_clause</span>::=</p>
<img width="209" height="102" src="img/redundancy_clause.gif" alt="Description of redundancy_clause.gif follows"/><br/>
<a id="sthref2945" href="img_text/redundancy_clause.htm">Description of the illustration &#39;&#39;redundancy_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="SQLRF52606"></a><a href="#BGBFJFGE"><span class="xreftitleitalic"><span class="italic">striping_clause</span></span></a>::=</p>
<img width="171" height="70" src="img/striping_clause.gif" alt="Description of striping_clause.gif follows"/><br/>
<a id="sthref2946" href="img_text/striping_clause.htm">Description of the illustration &#39;&#39;striping_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBIIBGE"></a><a id="SQLRF52607"></a><a href="#BGBJECEI"><span class="xreftitleitalic"><span class="italic">disk_region_clause</span></span></a>::=</p>
<img width="336" height="70" src="img/disk_region_clause.gif" alt="Description of disk_region_clause.gif follows"/><br/>
<a id="sthref2947" href="img_text/disk_region_clause.htm">Description of the illustration &#39;&#39;disk_region_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGECIJCC"></a><a id="SQLRF52608"></a><a href="#i2175401"><span class="xreftitleitalic"><span class="italic">diskgroup_directory_clauses</span></span></a>::=</p>
<img width="600" height="239" src="img/diskgroup_directory_clauses.gif" alt="Description of diskgroup_directory_clauses.gif follows"/><br/>
<a id="sthref2948" href="img_text/diskgroup_directory_clauses.htm">Description of the illustration &#39;&#39;diskgroup_directory_clauses.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGEEJAFI"></a><a id="SQLRF52609"></a><a href="#i2168812"><span class="xreftitleitalic"><span class="italic">diskgroup_alias_clauses</span></span></a>::=</p>
<img width="588" height="187" src="img/diskgroup_alias_clauses.gif" alt="Description of diskgroup_alias_clauses.gif follows"/><br/>
<a id="sthref2949" href="img_text/diskgroup_alias_clauses.htm">Description of the illustration &#39;&#39;diskgroup_alias_clauses.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBBDJBA"></a><a id="SQLRF52610"></a><a href="#BGBCHGAB"><span class="xreftitleitalic"><span class="italic">diskgroup_volume_clauses</span></span></a>::=</p>
<img width="418" height="123" src="img/diskgroup_volume_clauses.gif" alt="Description of diskgroup_volume_clauses.gif follows"/><br/>
<a id="sthref2950" href="img_text/diskgroup_volume_clauses.htm">Description of the illustration &#39;&#39;diskgroup_volume_clauses.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#BABGCCEJ"><span class="xreftitleitalic"><span class="italic">add_volume_clause</span>::=</span></a>, <a href="#BABCIDJB"><span class="xreftitleitalic"><span class="italic">modify_volume_clause</span>::=</span></a></p>
<p class="subhead2"><a id="BABGCCEJ"></a><a id="SQLRF52611"></a><a href="#BGBBAHJE"><span class="xreftitleitalic"><span class="italic">add_volume_clause</span></span></a>::=</p>
<img width="827" height="147" src="img/add_volume_clause.gif" alt="Description of add_volume_clause.gif follows"/><br/>
<a id="sthref2951" href="img_text/add_volume_clause.htm">Description of the illustration &#39;&#39;add_volume_clause.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#BABEDJHI"><span class="xreftitleitalic"><span class="italic">size_clause</span>::=</span></a>, <a href="#BABDDHBB"><span class="xreftitleitalic"><span class="italic">redundancy_clause</span>::=</span></a>, <a href="#BGBIIBGE"><span class="xreftitleitalic"><span class="italic">disk_region_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="BABEDJHI"></a><a id="SQLRF52612"></a><span class="italic">size_clause</span>::=</p>
<img width="192" height="208" src="img/size_clause.gif" alt="Description of size_clause.gif follows"/><br/>
<a id="sthref2952" href="img_text/size_clause.htm">Description of the illustration &#39;&#39;size_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BABCIDJB"></a><a id="SQLRF52613"></a><a href="#BGBCAGCG"><span class="xreftitleitalic"><span class="italic">modify_volume_clause</span></span></a>::=</p>
<img width="596" height="114" src="img/modify_volume_clause.gif" alt="Description of modify_volume_clause.gif follows"/><br/>
<a id="sthref2953" href="img_text/modify_volume_clause.htm">Description of the illustration &#39;&#39;modify_volume_clause.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#BGBIIBGE"><span class="xreftitleitalic"><span class="italic">disk_region_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="BABGCDFE"></a><a id="SQLRF52614"></a><a href="#BABGFGHB"><span class="xreftitleitalic"><span class="italic">diskgroup_attributes</span></span></a> ::=</p>
<img width="504" height="27" src="img/diskgroup_attributes.gif" alt="Description of diskgroup_attributes.gif follows"/><br/>
<a id="sthref2954" href="img_text/diskgroup_attributes.htm">Description of the illustration &#39;&#39;diskgroup_attributes.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBEGFJD"></a><a id="SQLRF52615"></a><a href="#BGBHGCFE"><span class="xreftitleitalic"><span class="italic">modify_diskgroup_file</span></span></a>::=</p>
<img width="569" height="60" src="img/modify_diskgroup_file.gif" alt="Description of modify_diskgroup_file.gif follows"/><br/>
<a id="sthref2955" href="img_text/modify_diskgroup_file.htm">Description of the illustration &#39;&#39;modify_diskgroup_file.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGEBADJI"></a><a id="SQLRF52616"></a><a href="#i2168820"><span class="xreftitleitalic"><span class="italic">drop_diskgroup_file_clause</span></span></a>::=</p>
<img width="284" height="58" src="img/drop_diskgroup_file_clause.gif" alt="Description of drop_diskgroup_file_clause.gif follows"/><br/>
<a id="sthref2956" href="img_text/drop_diskgroup_file_clause.htm">Description of the illustration &#39;&#39;drop_diskgroup_file_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBJACJH"></a><a id="SQLRF52617"></a><a href="#BGBJIEGE"><span class="xreftitleitalic"><span class="italic">usergroup_clauses</span></span></a>::=</p>
<img width="656" height="171" src="img/usergroup_clauses.gif" alt="Description of usergroup_clauses.gif follows"/><br/>
<a id="sthref2957" href="img_text/usergroup_clauses.htm">Description of the illustration &#39;&#39;usergroup_clauses.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBBGAHG"></a><a id="SQLRF52618"></a><a href="#BGBCFAFC"><span class="xreftitleitalic"><span class="italic">user_clauses</span></span></a>::=</p>
<img width="532" height="187" src="img/user_clauses.gif" alt="Description of user_clauses.gif follows"/><br/>
<a id="sthref2958" href="img_text/user_clauses.htm">Description of the illustration &#39;&#39;user_clauses.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBEAHIA"></a><a id="SQLRF52619"></a><a href="#BGBJGAFA"><span class="xreftitleitalic"><span class="italic">file_permissions_clause</span></span></a>::=</p>
<img width="739" height="123" src="img/file_permissions_clause.gif" alt="Description of file_permissions_clause.gif follows"/><br/>
<a id="sthref2959" href="img_text/file_permissions_clause.htm">Description of the illustration &#39;&#39;file_permissions_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBFGDIJ"></a><a id="SQLRF52620"></a><a href="#BGBGHEAF"><span class="xreftitleitalic"><span class="italic">file_owner_clause</span></span></a>::=</p>
<img width="718" height="91" src="img/file_owner_clause.gif" alt="Description of file_owner_clause.gif follows"/><br/>
<a id="sthref2960" href="img_text/file_owner_clause.htm">Description of the illustration &#39;&#39;file_owner_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGEEHAAE"></a><a id="SQLRF55829"></a><a href="#BGEBHEJJ"><span class="xreftitleitalic"><span class="italic">scrub_clause</span></span></a>::=</p>
<img width="737" height="242" src="img/scrub_clause.gif" alt="Description of scrub_clause.gif follows"/><br/>
<a id="sthref2961" href="img_text/scrub_clause.htm">Description of the illustration &#39;&#39;scrub_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="i2168846"></a><a id="SQLRF52600"></a><a href="#i2169155"><span class="xreftitleitalic"><span class="italic">undrop_disk_clause</span></span></a>::=</p>
<img width="154" height="27" src="img/undrop_disk_clause.gif" alt="Description of undrop_disk_clause.gif follows"/><br/>
<a id="sthref2962" href="img_text/undrop_disk_clause.htm">Description of the illustration &#39;&#39;undrop_disk_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGEGEFBJ"></a><a id="SQLRF52621"></a><a href="#i2168824"><span class="xreftitleitalic"><span class="italic">diskgroup_availability</span></span></a>::=</p>
<img width="456" height="162" src="img/diskgroup_availability.gif" alt="Description of diskgroup_availability.gif follows"/><br/>
<a id="sthref2963" href="img_text/diskgroup_availability.htm">Description of the illustration &#39;&#39;diskgroup_availability.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBHCFBD"></a><a id="SQLRF52622"></a><a href="#BGBGBEEA"><span class="xreftitleitalic"><span class="italic">enable_disable_volume</span></span></a>::=</p>
<img width="350" height="91" src="img/enable_disable_volume.gif" alt="Description of enable_disable_volume.gif follows"/><br/>
<a id="sthref2964" href="img_text/enable_disable_volume.htm">Description of the illustration &#39;&#39;enable_disable_volume.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2965"></a>Semantics</p>
<p class="subhead2"><a id="SQLRF52623"></a><span class="italic">diskgroup_name</span></p>
<p>Specify the name of the disk group you want to modify. To determine the names of existing disk groups, query the <a class="olink REFRN30171" href="../REFRN/GUID-5CF77719-75BE-4312-84A3-49A7C6A20393.htm#REFRN30171"><code dir="ltr">V$ASM_DISKGROUP</code></a> dynamic performance view.</p>
<p class="subhead2"><a id="i2168780"></a><a id="SQLRF52624"></a><span class="italic">add_disk_clause</span></p>
<p>Use this clause to add one or more disks to the disk group and specify attributes for the newly added disk. Oracle ASM automatically rebalances the disk group as part of this operation.</p>
<p>You cannot use this clause to change the failure group of a disk. Instead you must drop the disk from the disk group and then add the disk back into the disk group as part of the new failure group.</p>
<p>To determine the names of the disks already in this disk group, query the <a class="olink REFRN30170" href="../REFRN/GUID-8E2E5721-6D4E-48C2-8DF3-A0EEBD439606.htm#REFRN30170"><code dir="ltr">V$ASM_DISK</code></a> dynamic performance view.</p>
<p><a id="BGBEHDFI"></a><a id="SQLRF52625"></a><span class="subhead3">QUORUM | REGULAR&nbsp;</span>The semantics of these keyword are the same as the semantics in a <code dir="ltr">CREATE</code> <code dir="ltr">DISKGROUP</code> statement. See <a href="statements_5009.htm#CACJHFHD">QUORUM | REGULAR</a> for more information on these keywords.</p>
<p>You cannot change this qualifier for an existing disk or disk group. Therefore, you cannot specify in this clause a keyword different from the keyword that was specified when the disk group was created.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG13790" href="../OSTMG/GUID-857680CA-35B0-4C88-9DF4-55537C8F1B7C.htm#OSTMG13790"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about the use of these keywords</div>
<p><a id="SQLRF52626"></a><span class="subhead3">FAILGROUP Clause<a id="sthref2966"></a><a id="sthref2967"></a>&nbsp;</span>Use this clause to assign the newly added disk to a failure group. If you omit this clause and you are adding the disk to a normal or high redundancy disk group, then Oracle Database automatically adds the newly added disk to its own failure group. The implicit name of the failure group is the same as the operating system independent disk name (see <a href="statements_5009.htm#i2177129">&#34;NAME Clause&#34;</a>).</p>
<p>You cannot specify this clause if you are creating an external redundancy disk group.</p>
<p class="subhead1"><a id="BABDBCBI"></a><a id="SQLRF52627"></a><span class="italic">qualified_disk_clause</span></p>
<p>This clause has the same semantics in <code dir="ltr">CREATE</code> <code dir="ltr">DISKGROUP</code> and <code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> statements. For complete information on this clause, refer to <a href="statements_5009.htm#i2177293"><span class="xreftitleitalic"><span class="italic">qualified_disk_clause</span></span></a> in the documentation on <code dir="ltr">CREATE</code> <code dir="ltr">DISKGROUP</code>.</p>
<p class="subhead2"><a id="i2168985"></a><a id="SQLRF52628"></a><span class="italic">drop_disk_clause</span></p>
<p>Use this clause to drop one or more disks from the disk group.</p>
<p><a id="SQLRF52629"></a><span class="subhead3">DROP DISK&nbsp;</span>The <code dir="ltr">DROP</code> <code dir="ltr">DISK</code> clause lets you drop one or more disks from the disk group and automatically rebalance the disk group. When you drop a disk, Oracle ASM relocates all the data from the disk and clears the disk header so that it no longer is part of the disk group. The disk header is not cleared if you specify the <code dir="ltr">FORCE</code> keyword.</p>
<p>Specify <code dir="ltr"><span class="codeinlineitalic">disk_name</span></code> as shown in the <code dir="ltr">NAME</code> column of the <code dir="ltr">V$ASM_DISK</code> dynamic performance view.</p>
<p>If a disk to be dropped is a quorum disk or belongs to a quorum failure group, then you must specify <code dir="ltr">QUORUM</code> in order to drop the disk. See <a href="#BGBEHDFI">QUORUM | REGULAR</a>.</p>
<p><a id="SQLRF52630"></a><span class="subhead3">DROP DISKS IN FAILGROUP&nbsp;</span>The <code dir="ltr">DROP</code> <code dir="ltr">DISKS</code> <code dir="ltr">IN</code> <code dir="ltr">FAILGROUP</code> clause lets you drop all the disks in the specified failure group. The behavior is otherwise the same as that for the <code dir="ltr">DROP</code> <code dir="ltr">DISK</code> clause.</p>
<p>If the specified failure group is a quorum failure group, then you must specify the <code dir="ltr">QUORUM</code> keyword in order to drop the disks. See <a href="#BGBEHDFI">QUORUM | REGULAR</a>.</p>
<p><a id="BGBGCJCG"></a><a id="SQLRF52631"></a><span class="subhead3">FORCE | NOFORCE&nbsp;</span>These keywords let you specify when the disk is considered to be no longer part of the disk group. The default and recommended setting is <code dir="ltr">NOFORCE</code>.</p>
<ul>
<li>
<p>When you specify <code dir="ltr">NOFORCE</code>, Oracle ASM reallocates all of the extents of the disk to other disks and then expels the disk from the disk group and rebalances the disk group.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
<code dir="ltr">DROP</code> <code dir="ltr">DISK</code> ... <code dir="ltr">NOFORCE</code> returns control to the user before the disk can be safely reused or removed from the system. To ensure that the drop disk operation has completed, query the <code dir="ltr">V$ASM_DISK</code> view to verify that <code dir="ltr">HEADER_STATUS</code> has the value <code dir="ltr">FORMER</code>. Do not attempt to remove or reuse a disk if <code dir="ltr">STATE</code> has the value <code dir="ltr">DROPPING</code>. Query the <code dir="ltr">V$ASM_OPERATION</code> view for approximate information on how long it will take to complete the rebalance resulting from dropping the disk.If you also specify <code dir="ltr">REBALANCE</code> ... <code dir="ltr">WAIT</code> (see <a href="#i2168800"><span class="xreftitleitalic"><span class="italic">rebalance_diskgroup_clause</span></span></a> ), then the statement will not return until the rebalance operation is complete and the disk has been cleared. However, you should always verify that the <code dir="ltr">HEADER_STATUS</code> column of <code dir="ltr">V$ASM_DISK</code> is <code dir="ltr">FORMER</code>, because of the unlikely event the rebalance operations fails.</div>
</li>
<li>
<p>When you specify <code dir="ltr">FORCE</code>, Oracle Database expels the disk from the disk group immediately. It then reconstructs the data from the redundant copies on other disks, reallocates the data to other disks, and rebalances the disk group.</p>
<p>The <code dir="ltr">FORCE</code> clause can be useful, for example, if Oracle ASM can no longer read the disk to be dropped. However, it is more time consuming than a <code dir="ltr">NOFORCE</code> drop, and it can leave portions of a file with reduced protection. You cannot specify <code dir="ltr">FORCE</code> for an external redundancy disk group at all, because in the absence of redundant data on the disk, Oracle ASM must read the data from the disk before it can be dropped.</p>
</li>
</ul>
<p>The rebalance operation invoked when a disk is dropped is time consuming, whether or not you specify <code dir="ltr">FORCE</code> or <code dir="ltr">NOFORCE</code>. You can monitor the progress by querying the <a class="olink REFRN30173" href="../REFRN/GUID-A8A506EC-8E91-425B-B73A-1437FA5D61BD.htm#REFRN30173"><code dir="ltr">V$ASM_OPERATION</code></a> dynamic performance view. Refer to <a href="#i2168800"><span class="xreftitleitalic"><span class="italic">rebalance_diskgroup_clause</span></span></a> for more information on rebalance operations.</p>
<p class="subhead2"><a id="i2169043"></a><a id="SQLRF52632"></a><span class="italic">resize_disk_clause</span></p>
<p>Use this clause to specify a new size for every disk in the disk group. This clause lets you override the size being returned by the operating system or the size you specified previously for the disks.</p>
<p><a id="SQLRF52636"></a><span class="subhead3">SIZE&nbsp;</span>Specify the new size in kilobytes, megabytes, gigabytes, or terabytes. You cannot specify a size greater than the capacity of the disk. If you specify a size smaller than the disk capacity, then you limit the amount of disk space Oracle ASM will use. If you omit this clause, then Oracle ASM attempts programmatically to determine the size of the disks.</p>
<p class="subhead2"><a id="BGECCJJD"></a><a id="SQLRF56564"></a><span class="italic">replace_disk_clause</span><a id="sthref2968"></a></p>
<p>Use this clause to replace one or more disks in the disk group. This clause allows you to replace disks with a single operation, which is more efficient than dropping and adding each disk.</p>
<p>For <code dir="ltr"><span class="codeinlineitalic">disk_name</span></code>, specify the name of the disk you want to replace. This name is assigned to the replacement disk. You can view disk names by querying the <code dir="ltr">NAME</code> column of the <code dir="ltr">V$ASM_DISK</code> dynamic performance view.</p>
<p>For <code dir="ltr"><span class="codeinlineitalic">path_name</span></code>, specify the full path name for the replacement disk.</p>
<p><a id="SQLRF56674"></a><span class="subhead3">FORCE&nbsp;</span>Specify <code dir="ltr">FORCE</code> if you want Oracle ASM to add the replacement disk to the disk group even if the replacement disk is already a member of a disk group.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Using <code dir="ltr">FORCE</code> in this way may destroy existing disk groups.</div>
<p><a id="SQLRF56675"></a><span class="subhead3">NOFORCE&nbsp;</span>Specify <code dir="ltr">NOFORCE</code> if you want Oracle ASM to return an error if the replacement disk is already a member of a disk group. <code dir="ltr">NOFORCE</code> is the default.</p>
<p><a id="SQLRF56710"></a><span class="subhead3">POWER&nbsp;</span>The <code dir="ltr">POWER</code> clause has the same semantics here as for a manual rebalancing of a disk group, except that the power value cannot be set to 0. See <a href="#BABCGEIH">POWER</a>.</p>
<p><a id="SQLRF56711"></a><span class="subhead3">WAIT | NOWAIT&nbsp;</span>The <code dir="ltr">WAIT</code> and <code dir="ltr">NOWAIT</code> keywords have the same semantics here as for a manual rebalancing of a disk group. See <a href="#BABHEIIB">WAIT | NOWAIT</a>.</p>
<p class="subhead2"><a id="BGECIAHJ"></a><a id="SQLRF56614"></a><span class="italic">rename_disk_clause</span></p>
<p>Use this clause to rename one or more disks in the disk group. The disk group must be in the <code dir="ltr">MOUNT</code> <code dir="ltr">RESTRICTED</code> state and all disks in the disk group must be online.</p>
<p><a id="SQLRF56615"></a><span class="subhead3">RENAME DISK&nbsp;</span>Specify this clause to rename one or more disks. For each disk, specify the <code dir="ltr"><span class="codeinlineitalic">old_disk_name</span></code> and <code dir="ltr"><span class="codeinlineitalic">new_disk_name</span></code>. If <code dir="ltr"><span class="codeinlineitalic">new_disk_name</span></code> already exists, then this operation fails.</p>
<p><a id="SQLRF56616"></a><span class="subhead3">RENAME DISKS ALL&nbsp;</span>Specify this clause to rename all disks in the disk group to a name of the form <code dir="ltr"><span class="codeinlineitalic">diskgroupname_####</span></code>, where <code dir="ltr"><span class="codeinlineitalic">####</span></code> is the disk number. Disk names that are already in the <code dir="ltr"><span class="codeinlineitalic">diskgroupname_####</span></code> format are not changed.</p>
<p class="subhead2"><a id="BABIBAJF"></a><a id="SQLRF52638"></a><span class="italic">disk_online_clause</span> <a id="sthref2969"></a></p>
<p>Use the <code dir="ltr"><span class="codeinlineitalic">disk_online_clause</span></code> to bring one or more disks online and rebalance the disk group. Specify <code dir="ltr"><span class="codeinlineitalic">disk_name</span></code> as shown in the <code dir="ltr">NAME</code> column of the <code dir="ltr">V$ASM_DISK</code> dynamic performance view. The <code dir="ltr">QUORUM</code> and <code dir="ltr">REGULAR</code> keywords have the same semantics here as they have when adding a disk to a disk group. See <a href="#BGBEHDFI">QUORUM | REGULAR</a>. The <code dir="ltr">POWER</code> clause has the same semantics here as for a manual rebalancing of a disk group. See <a href="#BABCGEIH">POWER</a>. The <code dir="ltr">WAIT</code> and <code dir="ltr">NOWAIT</code> keywords have the same semantics here as for a manual rebalancing of a disk group. See <a href="#BABHEIIB">WAIT | NOWAIT</a>.</p>
<p class="subhead2"><a id="BABFJHFG"></a><a id="SQLRF52637"></a><span class="italic">disk_offline_clause</span> <a id="sthref2970"></a></p>
<p>Use the <code dir="ltr"><span class="codeinlineitalic">disk_offline_clause</span></code> to take one or more disks offline. This clause fails if the redundancy level of the disk group would be violated by taking the specified disks offline.</p>
<p>Specify <code dir="ltr"><span class="codeinlineitalic">disk_name</span></code> as shown in the <code dir="ltr">NAME</code> column of the <code dir="ltr">V$ASM_DISK</code> dynamic performance view.</p>
<p>The <code dir="ltr">QUORUM</code> and <code dir="ltr">REGULAR</code> keywords have the same semantics here as they have when adding a disk to a disk group. See <a href="#BGBEHDFI">QUORUM | REGULAR</a>.</p>
<p>By default, Oracle ASM drops a disk shortly after it is taken offline. You can delay this operation by specifying the <code dir="ltr"><span class="codeinlineitalic">timeout_clause</span></code>, which gives you the opportunity to repair the disk and bring it back online. You can specify the timeout value in units of minute or hour. If you omit the unit, then the default is hour.</p>
<p>You can change the timeout period by specifying this clause multiple times. Each time you specify it, Oracle ASM measures the time from the most recent previous <code dir="ltr"><span class="codeinlineitalic">disk_offline_clause</span></code> while the disk group is mounted. To learn how much time remains before Oracle ASM will drop an offline disk, query the <code dir="ltr">repair_timer</code> column of <code dir="ltr">V$ASM_DISK</code>.</p>
<p>This clause overrides any previous setting of the <code dir="ltr">disk_repair_time</code> attribute. Refer to <a href="statements_5009.htm#BGEDFCIB">Table 14-2, &#34;Disk Group Attributes&#34;</a> for more information about disk group attributes.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG10044" href="../OSTMG/GUID-56B52297-F4E2-4D36-A573-3200A0C78D31.htm#OSTMG10044"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about taking Oracle ASM disks online and offline</div>
<p class="subhead2"><a id="i2168800"></a><a id="SQLRF52641"></a><span class="italic">rebalance_diskgroup_clause <a id="sthref2971"></a></span></p>
<p>Use this clause to manually rebalance the disk group. Oracle ASM redistributes data files evenly across all drives. This clause is rarely necessary, because Oracle ASM allocates files evenly and automatically rebalances disk groups when the storage configuration changes. However, it is useful if you want to use the <code dir="ltr">POWER</code> clause to control the speed of what would otherwise be an automatic rebalance operation.</p>
<p><a id="BABCGEIH"></a><a id="SQLRF52642"></a><span class="subhead3">POWER&nbsp;</span>In the <code dir="ltr">POWER</code> clause, specify a value from 0 to 11, where 0 stops the rebalance operation and 11 permits Oracle ASM to execute the rebalance as fast as possible. The value you specify in the <code dir="ltr">POWER</code> clause defaults to the value of the <code dir="ltr">ASM_POWER_LIMIT</code> initialization parameter.</p>
<p>If you omit the <code dir="ltr">POWER</code> clause, then Oracle ASM executes both automatic and specified rebalance operations at the power determined by the value of the <code dir="ltr">ASM_POWER_LIMIT</code> initialization parameter.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Beginning with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2), if the <code dir="ltr">COMPATIBLE</code>.<code dir="ltr">ASM</code> disk group attribute is set to 11.2.0.2 or higher, then you can specify a value from 0 to 1024 in the <code dir="ltr">POWER</code> clause.</div>
<p><a id="BABHEIIB"></a><a id="SQLRF52643"></a><span class="subhead3">WAIT | NOWAIT&nbsp;</span>Use this clause to specify when in the course of the rebalance operation control should be returned to the user.</p>
<ul>
<li>
<p>Specify <code dir="ltr">WAIT</code> to allow a script that adds or removes disks to wait for the disk group to be rebalanced before returning control to the user. You can explicitly terminate a rebalance operation running in <code dir="ltr">WAIT</code> mode, although doing so does not undo any completed disk add or drop operation in the same statement.</p>
</li>
<li>
<p>Specify <code dir="ltr">NOWAIT</code> if you want control returned to the user immediately after the statement is issued. This is the default.</p>
</li>
</ul>
<p>You can monitor the progress of the rebalance operation by querying the <a class="olink REFRN30173" href="../REFRN/GUID-A8A506EC-8E91-425B-B73A-1437FA5D61BD.htm#REFRN30173"><code dir="ltr">V$ASM_OPERATION</code></a> dynamic performance view.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN10246" href="../REFRN/GUID-2190919A-C9C5-4072-8EE9-74D7E75302A0.htm#REFRN10246"><code dir="ltr">ASM_POWER_LIMIT</code></a> and <a class="olink OSTMG036" href="../OSTMG/GUID-BC612D35-5399-4A35-843E-CF76E3D3CDB5.htm#OSTMG036"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information on rebalancing disk groups and <a href="#BGEJBJJJ">&#34;Rebalancing a Disk Group: Example&#34;</a></div>
<p class="subhead2"><a id="i2168804"></a><a id="SQLRF52644"></a><span class="italic">check_diskgroup_clause</span></p>
<p>The <code dir="ltr"><span class="codeinlineitalic">check_diskgroup_clause</span></code> lets you verify the internal consistency of Oracle ASM disk group metadata. The disk group must be mounted. Oracle ASM displays summary errors and writes the details of the detected errors in the alert log.</p>
<p>The <code dir="ltr">CHECK</code> keyword performs the following operations:</p>
<ul>
<li>
<p>Checks the consistency of the disk.</p>
</li>
<li>
<p>Cross checks all the file extent maps and allocation tables for consistency.</p>
</li>
<li>
<p>Checks that the alias metadata directory and file directory are linked correctly.</p>
</li>
<li>
<p>Checks that the alias directory tree is linked correctly.</p>
</li>
<li>
<p>Checks that Oracle ASM metadata directories do not have unreachable allocated blocks.</p>
</li>
</ul>
<p><a id="SQLRF52645"></a><span class="subhead3">REPAIR | NOREPAIR&nbsp;</span>This clause lets you instruct Oracle ASM whether or not to attempt to repair any errors found during the consistency check. The default is <code dir="ltr">NOREPAIR</code>. The <code dir="ltr">NOREPAIR</code> setting is useful if you want to be alerted to any inconsistencies but do not want Oracle ASM to take any automatic action to resolve them.</p>
<p><a id="SQLRF52646"></a><span class="subhead3">Deprecated Clauses&nbsp;</span>In earlier releases, you could specify <code dir="ltr">CHECK</code> for <code dir="ltr">ALL</code>, <code dir="ltr">DISK</code>, <code dir="ltr">DISKS</code> <code dir="ltr">IN</code> <code dir="ltr">FAILGROUP</code>, or <code dir="ltr">FILE</code>. Those clauses have been deprecated as they are no longer needed. If you specify them, then their behavior is the same as in earlier releases and a message is added to the alert log. However, Oracle recommends that you do not introduce these clauses into your new code, as they are scheduled for desupport. The deprecated clauses are these:</p>
<ul>
<li>
<p><code dir="ltr">ALL</code> checks all disks and files in the disk group.</p>
</li>
<li>
<p><code dir="ltr">DISK</code> checks one or more specified disks in the disk group.</p>
</li>
<li>
<p><code dir="ltr">DISKS</code> <code dir="ltr">IN</code> <code dir="ltr">FAILGROUP</code> checks all disks in a specified failure group.</p>
</li>
<li>
<p><code dir="ltr">FILE</code> checks one or more specified files in the disk group. You must use one of the reference forms of the filename. Refer to <a href="clauses004.htm#i1026664"><span class="xreftitleitalic"><span class="italic">ASM_filename</span></span></a> for information on the reference forms of Oracle ASM filenames.</p>
</li>
</ul>
<p class="subhead2"><a id="i2168808"></a><a id="SQLRF52647"></a><span class="italic">diskgroup_template_clauses</span></p>
<p>A template is a named collection of attributes. When you create a disk group, Oracle ASM associates a set of initial system default templates with that disk group. The attributes defined by the template are applied to all files in the disk group. <a href="#BGBCHIIF">Table 10-2</a> lists the system default templates and the attributes they apply to the various file types. The <code dir="ltr"><span class="codeinlineitalic">diskgroup_template_clauses</span></code> described following the table let you change the template attributes and create new templates.</p>
<p>You cannot use this clause to change the attributes of a disk group file after it has been created. Instead, you must use Recovery Manager (RMAN) to copy the file into a new file with the new attributes.</p>
<div id="SQLRF52648" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref2972"></a><a id="BGBCHIIF"></a>Table 10-2 Oracle Automatic Storage Management System Default File Group Templates</p>
<table class="cellalignment5872" title="Oracle Automatic Storage Management System Default File Group Templates" summary="The ASM templates are listed along with their file type, various redundancy levels, and striping level." dir="ltr">
<thead>
<tr class="cellalignment5863">
<th class="cellalignment5873" id="r1c1-t101">Template Name</th>
<th class="cellalignment5873" id="r1c2-t101">File Type</th>
<th class="cellalignment5873" id="r1c3-t101">Mirroring Level in External Redundancy Disk Groups</th>
<th class="cellalignment5873" id="r1c4-t101">Mirroring Level in Normal Redundancy Disk Groups</th>
<th class="cellalignment5873" id="r1c5-t101">Mirroring Level in High Redundancy Disk Groups</th>
<th class="cellalignment5873" id="r1c6-t101">Striped</th>
<th class="cellalignment5873" id="r1c7-t101">Region</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r2c1-t101" headers="r1c1-t101">
<p><code dir="ltr">CONTROLFILE</code></p>
</td>
<td class="cellalignment5869" headers="r2c1-t101 r1c2-t101">
<p>Control files</p>
</td>
<td class="cellalignment5869" headers="r2c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r2c1-t101 r1c4-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r2c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r2c1-t101 r1c6-t101">
<p><code dir="ltr">FINE</code></p>
</td>
<td class="cellalignment5869" headers="r2c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r3c1-t101" headers="r1c1-t101">
<p><code dir="ltr">DATAFILE</code></p>
</td>
<td class="cellalignment5869" headers="r3c1-t101 r1c2-t101">
<p>Data Files and copies</p>
</td>
<td class="cellalignment5869" headers="r3c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r3c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r3c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r3c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r3c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r4c1-t101" headers="r1c1-t101">
<p><code dir="ltr">ONLINELOG</code></p>
</td>
<td class="cellalignment5869" headers="r4c1-t101 r1c2-t101">
<p>Online logs</p>
</td>
<td class="cellalignment5869" headers="r4c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r4c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r4c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r4c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r4c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r5c1-t101" headers="r1c1-t101">
<p><code dir="ltr">ARCHIVELOG</code></p>
</td>
<td class="cellalignment5869" headers="r5c1-t101 r1c2-t101">
<p>Archive logs</p>
</td>
<td class="cellalignment5869" headers="r5c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r5c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r5c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r5c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r5c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r6c1-t101" headers="r1c1-t101">
<p><code dir="ltr">TEMPFILE</code></p>
</td>
<td class="cellalignment5869" headers="r6c1-t101 r1c2-t101">
<p>Temp files</p>
</td>
<td class="cellalignment5869" headers="r6c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r6c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r6c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r6c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r6c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r7c1-t101" headers="r1c1-t101">
<p><code dir="ltr">BACKUPSET</code></p>
</td>
<td class="cellalignment5869" headers="r7c1-t101 r1c2-t101">
<p>Data File backup pieces, data file incremental backup pieces, and archive log backup pieces</p>
</td>
<td class="cellalignment5869" headers="r7c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r7c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r7c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r7c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r7c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r8c1-t101" headers="r1c1-t101">
<p><code dir="ltr">PARAMETERFILE</code></p>
</td>
<td class="cellalignment5869" headers="r8c1-t101 r1c2-t101">
<p>SPFILE</p>
</td>
<td class="cellalignment5869" headers="r8c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r8c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r8c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r8c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r8c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r9c1-t101" headers="r1c1-t101">
<p><code dir="ltr">DATAGUARDCONFIG</code></p>
</td>
<td class="cellalignment5869" headers="r9c1-t101 r1c2-t101">
<p>Disaster recovery configurations (used in standby databases)</p>
</td>
<td class="cellalignment5869" headers="r9c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r9c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r9c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r9c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r9c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r10c1-t101" headers="r1c1-t101">
<p><code dir="ltr">FLASHBACK</code></p>
</td>
<td class="cellalignment5869" headers="r10c1-t101 r1c2-t101">
<p>Flashback logs</p>
</td>
<td class="cellalignment5869" headers="r10c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r10c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r10c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r10c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r10c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r11c1-t101" headers="r1c1-t101">
<p><code dir="ltr">CHANGETRACKING</code></p>
</td>
<td class="cellalignment5869" headers="r11c1-t101 r1c2-t101">
<p>Block change tracking data (used during incremental backups)</p>
</td>
<td class="cellalignment5869" headers="r11c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r11c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r11c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r11c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r11c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r12c1-t101" headers="r1c1-t101">
<p><code dir="ltr">DUMPSET</code></p>
</td>
<td class="cellalignment5869" headers="r12c1-t101 r1c2-t101">
<p>Data Pump dumpset</p>
</td>
<td class="cellalignment5869" headers="r12c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r12c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r12c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r12c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r12c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r13c1-t101" headers="r1c1-t101">
<p><code dir="ltr">XTRANSPORT</code></p>
</td>
<td class="cellalignment5869" headers="r13c1-t101 r1c2-t101">
<p>Cross-platform converted data file</p>
</td>
<td class="cellalignment5869" headers="r13c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r13c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r13c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r13c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r13c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r14c1-t101" headers="r1c1-t101">
<p><code dir="ltr">AUTOBACKUP</code></p>
</td>
<td class="cellalignment5869" headers="r14c1-t101 r1c2-t101">
<p>Automatic backup files</p>
</td>
<td class="cellalignment5869" headers="r14c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r14c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r14c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r14c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r14c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r15c1-t101" headers="r1c1-t101">
<p><code dir="ltr">ASMPARAMETERFILE</code></p>
</td>
<td class="cellalignment5869" headers="r15c1-t101 r1c2-t101">
<p>SPFILE</p>
</td>
<td class="cellalignment5869" headers="r15c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r15c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r15c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r15c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r15c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
<tr class="cellalignment5863">
<td class="cellalignment5869" id="r16c1-t101" headers="r1c1-t101">
<p><code dir="ltr">OCRFILE</code></p>
</td>
<td class="cellalignment5869" headers="r16c1-t101 r1c2-t101">
<p>Oracle Cluster Registry file</p>
</td>
<td class="cellalignment5869" headers="r16c1-t101 r1c3-t101">
<p>Unprotected</p>
</td>
<td class="cellalignment5869" headers="r16c1-t101 r1c4-t101">
<p>2-way mirror</p>
</td>
<td class="cellalignment5869" headers="r16c1-t101 r1c5-t101">
<p>3-way mirror</p>
</td>
<td class="cellalignment5869" headers="r16c1-t101 r1c6-t101">
<p><code dir="ltr">COARSE</code></p>
</td>
<td class="cellalignment5869" headers="r16c1-t101 r1c7-t101">
<p><code dir="ltr">COLD</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformalwide" -->
<p><a id="SQLRF52649"></a><span class="subhead3">ADD TEMPLATE&nbsp;</span>Use this clause to add one or more named templates to a disk group. To determine the names of existing templates, query the <a class="olink REFRN30174" href="../REFRN/GUID-794E8E3E-393E-46D1-AE00-307F1A2E7545.htm#REFRN30174"><code dir="ltr">V$ASM_TEMPLATE</code></a> dynamic performance view.</p>
<p><a id="SQLRF52650"></a><span class="subhead3">MODIFY TEMPLATE&nbsp;</span>Use this clause to modify the attributes of a system default or user-defined disk group template. Only the specified attributes are altered. Unspecified properties retain their current values.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In earlier releases, the keywords <code dir="ltr">ALTER</code> <code dir="ltr">TEMPLATE</code> were used instead of <code dir="ltr">MODIFY</code> <code dir="ltr">TEMPLATE</code>. The <code dir="ltr">ALTER</code> keyword is still supported for backward compatibility, but is replaced with <code dir="ltr">MODIFY</code> for consistency with other Oracle SQL.</div>
<p><a id="SQLRF52651"></a><span class="subhead3"><span class="italic">template_name</span>&nbsp;</span>Specify the name of the template to be added or modified. Template names are subject to the same naming conventions and restrictions as database schema objects. Refer to <a href="sql_elements008.htm#i27570">&#34;Database Object Naming Rules&#34;</a> for information on database object names.</p>
<p><a id="BGBFGHHH"></a><a id="SQLRF52652"></a><span class="subhead3"><span class="italic">redundancy_clause</span> &nbsp;</span>Specify the redundancy level of the newly added or modified template:</p>
<ul>
<li>
<p><code dir="ltr">MIRROR</code>: Files to which this template are applied are protected by mirroring their data blocks. In normal redundancy disk groups, each primary extent has one mirror extent (2-way mirroring). For high redundancy disk groups, each primary extent has two mirror extents (3-way mirroring). You cannot specify <code dir="ltr">MIRROR</code> for templates in external redundancy disk groups.</p>
</li>
<li>
<p><code dir="ltr">HIGH</code>: Files to which this template are applied are protected by mirroring their data blocks. Each primary extent has two mirror extents (3-way mirroring) for both normal redundancy and high redundancy disk groups. You cannot specify <code dir="ltr">HIGH</code> for templates in external redundancy disk groups.</p>
</li>
<li>
<p><code dir="ltr">UNPROTECTED</code>: Files to which this template are applied are not protected by Automated Storage Management from media failures. Disks taken offline, either through system action or by user command, can cause loss of unprotected files. <code dir="ltr">UNPROTECTED</code> is the only valid setting for external redundancy disk groups. <code dir="ltr">UNPROTECTED</code> may not be specified for templates in high redundancy disk groups. Oracle discourages the use of unprotected files in high and normal redundancy disk groups.</p>
</li>
</ul>
<p>If you omit this clause, then the value defaults to <code dir="ltr">MIRROR</code> for a normal redundancy disk group, <code dir="ltr">HIGH</code> for a high redundancy disk group, and <code dir="ltr">UNPROTECTED</code> for an external redundancy disk group.</p>
<p><a id="BGBFJFGE"></a><a id="SQLRF52653"></a><span class="subhead3"><span class="italic">striping_clause</span> &nbsp;</span>Specify how the files to which this template are applied will be striped:</p>
<ul>
<li>
<p><code dir="ltr">FINE</code>: Files to which this template are applied are striped every 128KB. This striping mode is not valid for an Oracle ASM spfile.</p>
</li>
<li>
<p><code dir="ltr">COARSE</code>: Files to which this template are applied are striped every 1MB. This is the default value.</p>
</li>
</ul>
<p><a id="BGBJECEI"></a><a id="SQLRF52654"></a><span class="subhead3"><span class="italic">disk_region_clause</span> &nbsp;</span><a id="sthref2973"></a><a id="sthref2974"></a>This clause lets you determine the Intelligent Data Placement attribute of the disk group file. Specify the region of the disk in which you want Oracle ASM to allocate extents for the file:</p>
<ul>
<li>
<p><code dir="ltr">HOT</code>: Extents are allocated in the region of the disk furthest away from the spindle. These outer tracks on the disk are longer than inner tracks, and so have more sectors and increased throughput.</p>
</li>
<li>
<p><code dir="ltr">COLD</code>: Extents are allocated in the region of the disk closest to the spindle.</p>
</li>
<li>
<p><code dir="ltr">MIRRORHOT</code> and <code dir="ltr">MIRRORCOLD</code>: Specify the region desired for the mirrored datablocks of the file.</p>
</li>
</ul>
<p>If no space is available in the desired disk region, then Oracle ASM allocates extents in the other region but initiates a rebalance to adjust the size of the region.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG13790" href="../OSTMG/GUID-857680CA-35B0-4C88-9DF4-55537C8F1B7C.htm#OSTMG13790"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information on Intelligent Data Placement</div>
<p><a id="SQLRF52655"></a><span class="subhead3">DROP TEMPLATE&nbsp;</span>Use this clause to drop one or more templates from the disk group. You can use this clause to drop only user-defined templates, not system default templates.</p>
<p class="subhead2"><a id="i2175401"></a><a id="SQLRF52656"></a><span class="italic">diskgroup_directory_clauses</span></p>
<p>Before you can create alias names for Oracle ASM filenames (see <a href="#i2168812"><span class="xreftitleitalic"><span class="italic">diskgroup_alias_clauses</span></span></a>), you must specify the full directory structure in which the alias name will reside. The <code dir="ltr"><span class="codeinlineitalic">diskgroup_directory_clauses</span></code> let you create and manipulate such a directory structure.</p>
<p><a id="SQLRF52657"></a><span class="subhead3">ADD DIRECTORY&nbsp;</span>Use this clause to create a new directory path for hierarchically named aliases. Use a slash (/) to separate components of the directory. Each directory component can be up to 48 bytes in length and must not contain the slash character. You cannot use a space for the first or last character of any component. The total length of the directory path cannot exceed 256 bytes minus the length of any alias name you intend to create in this directory (see <a href="#i2168812"><span class="xreftitleitalic"><span class="italic">diskgroup_alias_clauses</span></span></a>).</p>
<p><a id="SQLRF52658"></a><span class="subhead3">DROP DIRECTORY&nbsp;</span>Use this clause to drop a directory for hierarchically named aliases. Oracle ASM will not drop the directory if it contains any alias definitions unless you also specify <code dir="ltr">FORCE</code>. This clause is not valid for dropping directories created as part of a system alias. Such directories are labeled with the value <code dir="ltr">Y</code> in the <code dir="ltr">SYSTEM_CREATED</code> column of the <a class="olink REFRN30168" href="../REFRN/GUID-220EB44F-6A60-4696-BAA5-6D3DC7FB739F.htm#REFRN30168"><code dir="ltr">V$ASM_ALIAS</code></a> dynamic performance view.</p>
<p><a id="SQLRF52659"></a><span class="subhead3">RENAME DIRECTORY&nbsp;</span>Use this clause to change the name of a directory for hierarchically named aliases. This clause is not valid for renaming directories created as part of a system alias. Such directories are labeled with the value <code dir="ltr">Y</code> in the <code dir="ltr">SYSTEM_CREATED</code> column of the <a class="olink REFRN30168" href="../REFRN/GUID-220EB44F-6A60-4696-BAA5-6D3DC7FB739F.htm#REFRN30168"><code dir="ltr">V$ASM_ALIAS</code></a> dynamic performance view.</p>
<p class="subhead2"><a id="i2168812"></a><a id="SQLRF52660"></a><span class="italic">diskgroup_alias_clauses</span></p>
<p>When an Oracle ASM file is created, either implicitly or by user specification, Oracle ASM assigns to the file a fully qualified name ending in a dotted pair of numbers (see <a href="clauses004.htm#g1057086"><span class="xreftitleitalic"><span class="italic">file_specification</span></span></a>). The <code dir="ltr"><span class="codeinlineitalic">diskgroup_alias_clauses</span></code> let you create more user-friendly alias names for the Oracle ASM filenames. You cannot specify an alias name that ends in a dotted pair of numbers, as this format is indistinguishable from an Oracle ASM filename.</p>
<p>Before specifying this clause, you must first create the directory structure appropriate for your naming conventions (see <a href="#i2175401"><span class="xreftitleitalic"><span class="italic">diskgroup_directory_clauses</span></span></a>). The total length of the alias name, including the directory prefix, is limited to 256 bytes. Alias names are case insensitive but case retentive.</p>
<p><a id="SQLRF52661"></a><span class="subhead3">ADD ALIAS&nbsp;</span>Use this clause to create an alias name for an Oracle ASM filename. The <code dir="ltr"><span class="codeinlineitalic">alias_name</span></code> consists of the full directory path and the alias itself. To determine the names of existing Oracle ASM aliases, query the <a class="olink REFRN30168" href="../REFRN/GUID-220EB44F-6A60-4696-BAA5-6D3DC7FB739F.htm#REFRN30168"><code dir="ltr">V$ASM_ALIAS</code></a> dynamic performance view. Refer to <a href="clauses004.htm#i1026664"><span class="xreftitleitalic"><span class="italic">ASM_filename</span></span></a> for information on Oracle ASM filenames.</p>
<p><a id="SQLRF52662"></a><span class="subhead3">DROP ALIAS&nbsp;</span>Use this clause to remove an alias name from the disk group directory. Each alias name consists of the full directory path and the alias itself. The underlying file to which the alias refers remains unchanged.</p>
<p><a id="SQLRF52663"></a><span class="subhead3">RENAME ALIAS&nbsp;</span>Use this clause to change the name of an existing alias. The <code dir="ltr"><span class="codeinlineitalic">alias_name</span></code> consists of the full directory path and the alias itself.</p>
<p><a id="SQLRF52664"></a><span class="subhead3">Restriction on Dropping and Renaming Aliases&nbsp;</span>You cannot drop or rename a system-generated alias. To determine whether an alias was system generated, query the <code dir="ltr">SYSTEM_CREATED</code> column of the <a class="olink REFRN30168" href="../REFRN/GUID-220EB44F-6A60-4696-BAA5-6D3DC7FB739F.htm#REFRN30168"><code dir="ltr">V$ASM_ALIAS</code></a> dynamic performance view.</p>
<p class="subhead2"><a id="BGBCHGAB"></a><a id="SQLRF52665"></a><a id="sthref2975"></a><a id="sthref2976"></a><span class="italic">diskgroup_volume_clauses</span></p>
<p>Use these clauses to manipulate logical Oracle ASM Dynamic Volume Manager (Oracle ADVM) volumes corresponding to physical volume devices. To use these clauses, Oracle ASM must be started and the disk group being modified must be mounted.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG32000" href="../OSTMG/GUID-B7A61F3B-C22A-4021-A846-F5EA749E79FF.htm#OSTMG32000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about disk group volumes, including examples</div>
<p><a id="BGBBAHJE"></a><a id="SQLRF52666"></a><span class="subhead3"><span class="italic">add_volume_clause</span> &nbsp;</span>Use this clause to add a volume to the disk group.</p>
<p>For <code dir="ltr"><span class="codeinlineitalic">asm_volume</span></code>, specify the name of the volume. The name can contain only alphanumeric characters and the first character must be alphabetic. The maximum length of the name is platform dependent. Refer to <a class="olink OSTMG94739" href="../OSTMG/GUID-CD9ABAB4-A19D-4C54-9484-D78CE52631E6.htm#OSTMG94739"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information.</p>
<p>For <code dir="ltr"><span class="codeinlineitalic">size_clause</span></code>, specify the size of the Oracle ADVM volume. The Oracle ASM instance determines whether sufficient space exists to create the volume. If sufficient space does not exist, then the Oracle ASM instance returns an error. If sufficient space does exist, then all nodes in the cluster with an Oracle ASM instance running and the disk group mounted are notified of the addition. Oracle ASM creates and enables on those nodes a volume device that can be used to create and mount file systems.</p>
<p>The following optional settings are also available:</p>
<ul>
<li>
<p>In the <code dir="ltr"><span class="codeinlineitalic">redundancy_clause</span></code>, specify the redundancy level of the Oracle ADVM volume. You can specify this clause only when creating a volume in a normal redundancy disk group. You can specify the following volume redundancy levels:</p>
<ul>
<li>
<p><code dir="ltr">MIRROR</code>: 2-way mirroring of the volume. This is the default.</p>
</li>
<li>
<p><code dir="ltr">HIGH</code>: 3-way mirroring of the volume.</p>
</li>
<li>
<p><code dir="ltr">UNPROTECTED</code>: No mirroring of the volume.</p>
</li>
</ul>
<p>You cannot specify the <code dir="ltr"><span class="codeinlineitalic">redundancy_clause</span></code> when creating a volume in a high redundancy disk group or an external redundancy disk group. If you do so, then an error will result. In high redundancy disk groups, Oracle Database automatically sets the volume redundancy to <code dir="ltr">HIGH</code> (3-way mirroring). In external redundancy disk groups, Oracle Database automatically sets the volume redundancy to <code dir="ltr">UNPROTECTED</code> (no mirroring).</p>
</li>
<li>
<p>In the <code dir="ltr">STRIPE_WIDTH</code> clause, specify a stripe width for the Oracle ADVM volume. The valid range is from 4KB to 1MB, at intervals of the power of 2. The default value is 128K.</p>
</li>
<li>
<p>In the <code dir="ltr">STRIPE_COLUMNS</code> clause, specify the number of stripes in a stripe set of the Oracle ADVM volume. The valid range is 1 to 8. The default is 4. If <code dir="ltr">STRIPE_COLUMNS</code> is set to 1, then striping becomes disabled. In this case, the stripe width is the extent size of the volume. This volume extent size is 64 times the allocation unit (AU) size of the disk group.</p>
</li>
<li>
<p>In the <code dir="ltr"><span class="codeinlineitalic">disk_region_clause</span></code> clause, specify the Intelligent Data Placement attribute of both the primary and nonprimary mirror of the disk group volume. The default for both is <code dir="ltr">COLD</code>. See <a href="#BGBJECEI"><span class="xreftitleitalic"><span class="italic">disk_region_clause</span></span></a> for details on this clause.</p>
</li>
</ul>
<p><a id="BGBCAGCG"></a><a id="SQLRF52667"></a><span class="subhead3"><span class="italic">modify_volume_clause</span> &nbsp;</span>Use this clause to modify the characteristics of an existing Oracle ADVM volume. You must specify at least one of the following clauses:</p>
<ul>
<li>
<p>In the <code dir="ltr"><span class="codeinlineitalic">disk_region_clause</span></code> clause, specify the Intelligent Data Placement attribute of both the primary and nonprimary mirror of the disk group volume. The default for the primary mirror is <code dir="ltr">COLD</code>. The default for mirror and high redundancy is <code dir="ltr">HOT</code>. See <a href="#BGBJECEI"><span class="xreftitleitalic"><span class="italic">disk_region_clause</span></span></a> for details on this clause.</p>
</li>
<li>
<p>In the <code dir="ltr">MOUNTPATH</code> clause, specify the mountpath name associated with the volume. The <code dir="ltr"><span class="codeinlineitalic">mountpath_name</span></code> can be up to 1024 characters.</p>
</li>
<li>
<p>In the <code dir="ltr">USAGE</code> clause, specify the usage name associated with the volume. The <code dir="ltr"><span class="codeinlineitalic">usage_name</span></code> can be up to 30 characters.</p>
</li>
</ul>
<p><a id="SQLRF52668"></a><span class="subhead3">RESIZE VOLUME Clause &nbsp;</span>Use this clause to change the size of an existing Oracle ADVM volume. In an Oracle ASM cluster, the new size is propagated to all nodes. If an Oracle Automatic Storage Management File System (ACFS) exists on the volume, then you must use the <code dir="ltr">acfsutil</code> <code dir="ltr">size</code> command instead of the <code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> statement.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG94000" href="../OSTMG/GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA.htm#OSTMG94000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about the <code dir="ltr">acfsutil</code> <code dir="ltr">size</code> command</div>
<p><a id="SQLRF52669"></a><span class="subhead3">DROP VOLUME Clause &nbsp;</span>Use this clause to remove the Oracle ASM file that is the storage container for an existing Oracle ADVM volume. In an Oracle ASM cluster, all nodes with an Oracle ASM instance running and with this disk group open are notified of the drop operation, which results in removal of the volume device. If the volume file is open, then this clause returns an error.</p>
<p class="subhead2"><a id="BABGFGHB"></a><a id="SQLRF52670"></a><span class="italic">diskgroup_attributes <a id="sthref2977"></a><a id="sthref2978"></a></span></p>
<p>Use this clause to specify attributes for the disk group. <a href="statements_5009.htm#BGEDFCIB">Table 14-2, &#34;Disk Group Attributes&#34;</a> lists the attributes you can set with this clause. Refer to the <code dir="ltr">CREATE</code> <code dir="ltr">DISKGROUP</code> <a href="statements_5009.htm#BABECECH">&#34;ATTRIBUTE Clause&#34;</a> for information on the behavior of this clause.</p>
<p class="subhead2"><a id="BGBHGCFE"></a><a id="SQLRF52671"></a><span class="italic">modify_diskgroup_file</span></p>
<p>Use this clause to modify the Intelligent Data Placement attributes of an existing disk group file. When you modify the Intelligent Data Placement for a file, this action will apply to new extensions of the file, but existing file contents are not affected until a rebalance operation. To apply the new Intelligent Data Placement policy for existing file contents, you can manually initiate a rebalance. A rebalance operation uses the last specified policy for the file extents.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BGBJECEI"><span class="xreftitleitalic"><span class="italic">disk_region_clause</span></span></a> for more information on this clause</p>
</li>
<li>
<p><a class="olink OSTMG10080" href="../OSTMG/GUID-020ABD10-8370-444C-9B44-71F2FF688861.htm#OSTMG10080"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information on manually rebalancing disk groups</p>
</li>
</ul>
</div>
<p class="subhead2"><a id="i2168820"></a><a id="SQLRF52672"></a><span class="italic">drop_diskgroup_file_clause</span></p>
<p>Use this clause to drop a file from the disk group. Oracle ASM also drops all aliases associated with the file being dropped. You must use one of the reference forms of the filename. Most Oracle ASM files do not need to be manually deleted because, as Oracle Managed Files, they are removed automatically when they are no longer needed. Refer to <a href="clauses004.htm#i1026664"><span class="xreftitleitalic"><span class="italic">ASM_filename</span></span></a> for information on the reference forms of Oracle ASM filenames.</p>
<p>You cannot drop a disk group file it if is the spfile that was used to start up the current instance or any instance in the Oracle ASM cluster.</p>
<p class="subhead2"><a id="BGBJIEGE"></a><a id="SQLRF52673"></a><span class="italic">usergroup_clauses</span></p>
<p>Use these clauses to add a user group to the disk group, remove a user group from the disk group, or to add a member to or drop a member from an existing user group.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG02660" href="../OSTMG/GUID-89BB888A-BA1C-4095-BB6D-C3BE142CB371.htm#OSTMG02660"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for detailed information about user groups and members, including examples</div>
<p><a id="SQLRF52674"></a><span class="subhead3">ADD USERGROUP <a id="sthref2979"></a>&nbsp;</span>Use this clause to add a user group to the disk group. You must have <code dir="ltr">SYSASM</code> or <code dir="ltr">SYSDBA</code> privilege to create a user group. The user group name can be up to 30 characters long. If you specify the user name, then it must be in the OS password file.</p>
<p><a id="SQLRF52675"></a><span class="subhead3">MODIFY USERGROUP <a id="sthref2980"></a>&nbsp;</span>Use these clauses to add a member to or drop a member from an existing user group. You must be an Oracle ASM administrator (with SYSASM privilege) or the creator (with SYSDBA privilege) of the user group to use these clauses. The user name must be an existing user in the OS password file.</p>
<p><a id="SQLRF52676"></a><span class="subhead3">DROP USERGROUP <a id="sthref2981"></a>&nbsp;</span>Use this clause to drop an existing user group from the disk group. You must be an Oracle ASM administrator (with SYSASM privilege) or the creator (with SYSDBA privilege) of the user group to use this clause. Dropping a user group may leave a disk group file without a valid user group. In this case, you can update the disk group file manually to add a new, valid group using the <a href="#BGBJGAFA"><span class="xreftitleitalic"><span class="italic">file_permissions_clause</span></span></a>.</p>
<p class="subhead2"><a id="BGBCFAFC"></a><a id="SQLRF52677"></a><span class="italic">user_clauses</span></p>
<p>Use these clauses to add a user to, drop a user from, or replace a user in a disk group.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When administering users with SQL*Plus, the users must be existing operating system users and their user names must have corresponding operating system user IDs. However, only users in the same cluster as the Oracle ASM instance can be validated.</div>
<p><a id="SQLRF52678"></a><span class="subhead3">ADD USER <a id="sthref2982"></a>&nbsp;</span>Use this clause to add one or more operating system (OS) users to an Oracle ASM disk group and give those users access privileges on the disk group. If a specified user already exists in the disk group, as shown by <code dir="ltr">V$ASM_USER</code>, then the command records an error and continues to add other users, if any have been specified. This command is seldom needed, because the OS user running the database instance is added to a disk group automatically when the instance accesses the disk group. However, this clause is useful when adding users that are not associated with a particular database instance.</p>
<p><a id="SQLRF52679"></a><span class="subhead3">DROP USER <a id="sthref2983"></a>&nbsp;</span>Use this clause to drop one or more users from the disk group. If a specified user is not in the disk group, then this clause records an error and continues to drop other users, if any are specified. If the user owns any files, then you must specify the <code dir="ltr">CASCADE</code> keyword, which drops the user and all the user&#39;s files. If any files owned by the user are open, then <code dir="ltr">DROP</code> <code dir="ltr">USER</code> <code dir="ltr">CASCADE</code> fails with an error.</p>
<p>To delete a user without deleting the files owned by that user, change the owner of each of these files to another user and then issue an <code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> ... <code dir="ltr">DROP</code> <code dir="ltr">USER</code> statement on the user. Alternatively, you can issue an <code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> ... <code dir="ltr">REPLACE</code> <code dir="ltr">USER</code> statement to replace the user you want to drop with a user that currently does not exist in the disk group. This operation has the side effect of making the new user the owner of files that were previously owned by the dropped user.</p>
<p><a id="SQLRF55651"></a><span class="subhead3">REPLACE USER&nbsp;</span></p>
<p>Use this clause to replace <code dir="ltr"><span class="codeinlineitalic">old_user</span></code> with <code dir="ltr"><span class="codeinlineitalic">new_user</span></code> in the disk group. All files that are currently owned by <code dir="ltr"><span class="codeinlineitalic">old_user</span></code> will become owned by <code dir="ltr"><span class="codeinlineitalic">new_user</span></code>, and <code dir="ltr"><span class="codeinlineitalic">old_user</span></code> will be dropped from the disk group. <code dir="ltr"><span class="codeinlineitalic">old_user</span></code> must exist in the disk group and <code dir="ltr"><span class="codeinlineitalic">new_user</span></code> must not exist in the disk group.</p>
<p class="subhead2"><a id="BGBJGAFA"></a><a id="SQLRF52680"></a><span class="italic">file_permissions_clause</span> <a id="sthref2984"></a></p>
<p>Use this clause to change the permission settings of a disk group file. The three classes of permissions are owner, user group, and other. You must be the file owner or the Oracle ASM administrator to use this clause.</p>
<p>If you change the permission settings of an open file, then the operation currently running on the file will complete using the old permission settings. The new permission settings will take effect when re-authentication is required.</p>
<p class="subhead2"><a id="BGBGHEAF"></a><a id="SQLRF52681"></a><span class="italic">file_owner_clause</span> <a id="sthref2985"></a></p>
<p>Use this clause to set the owner or user group for a specified file. You must be the Oracle ASM administrator to change the owner of the file. You must be the owner of the file or the Oracle ASM administrator to change the user group of a file. In addition, to change the associated user group of a file, the specified user group must already exist in the disk group, and the owner of the file must be a member of that user group.</p>
<p>If you use this clause on an open file, then the following conditions apply:</p>
<ul>
<li>
<p>If you change the owner or user group of an open file, then the operation currently running on the file will complete using the old owner or user group. The new owner or user group will take effect when re-authentication is required.</p>
</li>
<li>
<p>If you change the owner of an open file, then the new owner of the file cannot be dropped from the disk group until the instance has been restarted. In an Oracle ASM cluster, the new owner of the file cannot be dropped until all instances in the cluster have been restarted.</p>
</li>
<li>
<p>If you change the owner of an open file, then the old owner cannot be dropped while the file is still open, even after the ownership of the file has changed.</p>
</li>
</ul>
<p class="subhead2"><a id="BGEBHEJJ"></a><a id="SQLRF55830"></a><span class="italic">scrub_clause</span></p>
<p>Use this clause to scrub a disk group. The scrub operation checks for logical data corruptions and repairs the corruptions automatically in normal and high redundancy disks groups.</p>
<ul>
<li>
<p>Use the <code dir="ltr">FILE</code> clause to scrub the specified Oracle ASM file in the disk group. You must use one of the reference forms of the <code dir="ltr"><span class="codeinlineitalic">ASM_filename</span></code>. Refer to <a href="clauses004.htm#i1026664"><span class="xreftitleitalic"><span class="italic">ASM_filename</span></span></a> for information on the reference forms of Oracle ASM filenames.</p>
</li>
<li>
<p>Use the <code dir="ltr">DISK</code> clause to scrub the specified disk in the disk group.</p>
</li>
<li>
<p>If you do not specify <code dir="ltr">FILE</code> or <code dir="ltr">DISK</code>, then all files and disks in the disk group are scrubbed.</p>
</li>
</ul>
<p><a id="SQLRF55831"></a><span class="subhead3">REPAIR | NOREPAIR&nbsp;</span>Specify <code dir="ltr">REPAIR</code> to attempt to repair any errors found during the logical data corruption check. Specify <code dir="ltr">NOREPAIR</code> to be alerted of any corruptions; Oracle ASM will not take any action to resolve them. The default is <code dir="ltr">NOREPAIR</code>.</p>
<p><a id="SQLRF55832"></a><span class="subhead3">POWER&nbsp;</span>Use the <code dir="ltr">POWER</code> clause to specify the power level of the scrub operation. Valid values are <code dir="ltr">AUTO</code>, <code dir="ltr">LOW</code>, <code dir="ltr">HIGH</code>, and <code dir="ltr">MAX</code>. If you omit this clause, then the power level defaults to <code dir="ltr">AUTO</code> and the power adjusts to the optimum level for the system.</p>
<p><a id="SQLRF55833"></a><span class="subhead3">WAIT | NOWAIT&nbsp;</span>Specify <code dir="ltr">WAIT</code> to allow the scrub operation to complete before returning control to the user. Specify <code dir="ltr">NOWAIT</code> to add the operation to the scrubbing queue and return control to the user immediately. The default is <code dir="ltr">NOWAIT</code>.</p>
<p><a id="SQLRF55834"></a><span class="subhead3">FORCE | NOFORCE&nbsp;</span>Specify <code dir="ltr">FORCE</code> to process the command even if the system I/O load is high or scrubbing has been disabled at the system level. Specify <code dir="ltr">NOFORCE</code> to process the command normally. The default is <code dir="ltr">NOFORCE</code>.</p>
<p>You can monitor the progress of the scrub operation by querying the <code dir="ltr">V$ASM_ OPERATION</code> dynamic performance view.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG95351" href="../OSTMG/GUID-ECCAE4F3-CFC5-4B55-81D2-FFB6953C035C.htm#OSTMG95351"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information on scrubbing disk groups and <a href="#BGEFHBEA">&#34;Scrubbing a Disk Group: Example&#34;</a></div>
<p class="subhead2"><a id="i2169155"></a><a id="SQLRF52639"></a><span class="italic">undrop_disk_clause</span></p>
<p>Use this clause to cancel the drop of disks from the disk group. You can cancel the pending drop of all the disks in one or more disk groups (by specifying <code dir="ltr"><span class="codeinlineitalic">diskgroup_name</span></code>) or of all the disks in all disk groups (by specifying <code dir="ltr">ALL</code>).</p>
<p>This clause is not relevant for disks that have already been completely dropped from the disk group or for disk groups that have been completely dropped. This clause results in a long-running operation. You can see the status of the operation by querying the <code dir="ltr">V$ASM_OPERATION</code> dynamic performance view.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN30173" href="../REFRN/GUID-A8A506EC-8E91-425B-B73A-1437FA5D61BD.htm#REFRN30173"><code dir="ltr">V$ASM_OPERATION</code></a> for more information on the details of long-running Oracle ASM operations</div>
<p class="subhead2"><a id="i2168824"></a><a id="SQLRF52682"></a><span class="italic">diskgroup_availability</span></p>
<p>Use this clause to make one or more disk groups available or unavailable to the database instances running on the same node as the Oracle ASM instance. This clause does not affect the status of the disk group on other nodes in a cluster.</p>
<p><a id="SQLRF52683"></a><span class="subhead3">MOUNT&nbsp;</span>Specify <code dir="ltr">MOUNT</code> to mount the disk groups in the local Oracle ASM instance. Specify <code dir="ltr">ALL</code> <code dir="ltr">MOUNT</code> to mount all disk groups specified in the <code dir="ltr">ASM_DISKGROUPS</code> initialization parameter. File operations can only be performed when a disk group is mounted. If Oracle ASM is running in a cluster or a standalone server managed by Oracle Restart, then the <code dir="ltr">MOUNT</code> clause automatically brings the corresponding resource online.</p>
<p><a id="SQLRF52684"></a><span class="subhead3">RESTRICTED | NORMAL&nbsp;</span>Use these clauses to determine the manner in which the disk groups are mounted.</p>
<ul>
<li>
<p>In the <code dir="ltr">RESTRICTED</code> mode, the disk group is mounted in single-instance exclusive mode. No other Oracle ASM instance in the same cluster can mount that disk group. In this mode the disk group is not usable by any Oracle ASM client.</p>
</li>
<li>
<p>In the <code dir="ltr">NORMAL</code> mode, the disk group is mounted in shared mode, so that other Oracle ASM instances and clients can access the disk group. This is the default.</p>
</li>
</ul>
<p><a id="SQLRF52685"></a><span class="subhead3">FORCE | NOFORCE&nbsp;</span>Use these clauses to determine the circumstances under which the disk groups are mounted.</p>
<ul>
<li>
<p>In the <code dir="ltr">FORCE</code> mode, Oracle ASM attempts to mount the disk group even if it cannot discover all of the devices that belong to the disk group. This setting is useful if some of the disks in a normal or high redundancy disk group became unavailable while the disk group was dismounted. When <code dir="ltr">MOUNT</code> <code dir="ltr">FORCE</code> succeeds, Oracle ASM takes the missing disks offline.</p>
<p>If Oracle ASM discovers <span class="italic">all</span> of the disks in the disk group, then <code dir="ltr">MOUNT</code> <code dir="ltr">FORCE</code> fails. Therefore, use the <code dir="ltr">MOUNT</code> <code dir="ltr">FORCE</code> setting only if some disks are unavailable. Otherwise, use <code dir="ltr">NOFORCE</code>.</p>
<p>In normal- and high-redundancy disk groups, disks from one failure group can be unavailable and <code dir="ltr">MOUNT</code> <code dir="ltr">FORCE</code> will succeed. Also in high-redundancy disk groups, two disks in two different failure groups can be unavailable and <code dir="ltr">MOUNT</code> <code dir="ltr">FORCE</code> will succeed. Any other combination of unavailable disks causes the operation to fail, because Oracle ASM cannot guarantee that a valid copy of all user data or metadata exists on the available disks.</p>
</li>
<li>
<p>In the <code dir="ltr">NOFORCE</code> mode, Oracle ASM does not attempt to mount the disk group unless it can discover all the member disks. This is the default.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN10247" href="../REFRN/GUID-1C075796-76CC-43AD-BC06-A9B6BD9DCC2F.htm#REFRN10247"></a><a id="sthref2986"></a>ASM_DISKGROUPS for more information about adding disk group names to the initialization parameter file</div>
<p><a id="SQLRF52686"></a><span class="subhead3">DISMOUNT&nbsp;</span>Specify <code dir="ltr">DISMOUNT</code> to dismount the specified disk groups. Oracle ASM returns an error if any file in the disk group is open unless you also specify <code dir="ltr">FORCE</code>. Specify <code dir="ltr">ALL</code> <code dir="ltr">DISMOUNT</code> to dismount all currently mounted disk groups. File operations can only be performed when a disk group is mounted. If Oracle ASM is running in a cluster or a standalone server managed by Oracle Restart, then the <code dir="ltr">DISMOUNT</code> clause automatically takes the corresponding resource offline.</p>
<p><a id="SQLRF52687"></a><span class="subhead3">FORCE&nbsp;</span>Specify <code dir="ltr">FORCE</code> if you want Oracle ASM to dismount the disk groups even if some files in the disk group are open.</p>
<p class="subhead2"><a id="BGBGBEEA"></a><a id="SQLRF52688"></a><span class="italic">enable_disable_volume</span></p>
<p>Use this clause to enable or disable one or more volumes in the disk group.</p>
<ul>
<li>
<p>For each volume you enable, Oracle ASM creates a volume device file on the local node that can be used to create or mount the file system.</p>
</li>
<li>
<p>For each volume you disable, Oracle ASM deletes the device file on the local node. If the volume file is open on the local node, then the <code dir="ltr">DISABLE</code> clause returns an error.</p>
</li>
</ul>
<p>Use the <code dir="ltr">ALL</code> keyword to enable or disable all volumes in the disk group. If you specify <code dir="ltr">ALTER</code> <code dir="ltr">DISKGROUP</code> <code dir="ltr">ALL</code> <code dir="ltr">...</code>, then you must use the <code dir="ltr">ALL</code> keyword in this clause as well.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG32000" href="../OSTMG/GUID-B7A61F3B-C22A-4021-A846-F5EA749E79FF.htm#OSTMG32000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about disk group volumes</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2987"></a>Examples</p>
<p>The following examples require a disk group called <code dir="ltr">dgroup_01</code>. They assume that <code dir="ltr">ASM_DISKSTRING</code> is set to <code dir="ltr">/devices/disks/*</code>. In addition, they assume the Oracle user has read/write permission to <code dir="ltr">/devices/disks/d100</code>. Refer to <a href="statements_5009.htm#CACIHAAD">&#34;Creating a Diskgroup: Example&#34;</a> to create <code dir="ltr">dgroup_01</code>.</p>
<p><a id="SQLRF55558"></a><span class="subhead3">Adding a Disk to a Disk Group: Example&nbsp;</span>To add a disk, <code dir="ltr">d100</code>, to a disk group, <code dir="ltr">dgroup_01</code>, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  ADD DISK &#39;/devices/disks/d100&#39;;
</pre>
<p><a id="SQLRF55559"></a><span class="subhead3">Dropping a Disk from a Disk Group: Example&nbsp;</span>To drop a disk, <code dir="ltr">dgroup_01_0000</code>, from a disk group, <code dir="ltr">dgroup_01</code>, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  DROP DISK dgroup_01_0000;
</pre>
<p><a id="SQLRF55560"></a><span class="subhead3">Undropping a Disk from a Disk Group: Example&nbsp;</span>To cancel the drop of disks from a disk group, <code dir="ltr">dgroup_01</code>, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  UNDROP DISKS;
</pre>
<p><a id="SQLRF55561"></a><span class="subhead3">Resizing a Disk Group: Example&nbsp;</span>To resize every disk in a disk group, <code dir="ltr">dgroup_01</code>, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  RESIZE ALL
  SIZE 36G;
</pre>
<p><a id="BGEJBJJJ"></a><a id="SQLRF55562"></a><span class="subhead3">Rebalancing a Disk Group: Example&nbsp;</span>To manually rebalance a disk group, <code dir="ltr">dgroup_01</code>, and permit Oracle ASM to execute the rebalance as fast as possible, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  REBALANCE POWER 11 WAIT;
</pre>
<p>The <code dir="ltr">WAIT</code> keyword causes the database to wait for the disk group to be rebalanced before returning control to the user.</p>
<p><a id="SQLRF55563"></a><span class="subhead3">Verifying the Internal Consistency of Disk Group Metadata: Example&nbsp;</span>To verify the internal consistency of Oracle ASM disk group metadata and instruct Oracle ASM to repair any errors found, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  CHECK ALL
  REPAIR;
</pre>
<p><a id="SQLRF55564"></a><span class="subhead3">Adding a Named Template to a Disk Group: Example&nbsp;</span>To add a named template, <code dir="ltr">template_01</code> to a disk group, <code dir="ltr">dgroup_01</code>, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  ADD TEMPLATE template_01
    ATTRIBUTES (UNPROTECTED COARSE);
</pre>
<p><a id="SQLRF55565"></a><span class="subhead3">Changing the Attributes of a Disk Group Template: Example&nbsp;</span>To modify the attributes of a system default or user-defined disk group template, <code dir="ltr">template_01</code>, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  MODIFY TEMPLATE template_01
    ATTRIBUTES (FINE);
</pre>
<p><a id="SQLRF55566"></a><span class="subhead3">Dropping a User-Defined Template from a Disk Group: Example&nbsp;</span>To drop a user-defined template, <code dir="ltr">template_01</code>, from a disk group, <code dir="ltr">dgroup_01</code>, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  DROP TEMPLATE template_01;
</pre>
<p><a id="SQLRF55567"></a><span class="subhead3">Creating a Directory Path for Hierarchically Named Aliases: Example&nbsp;</span>To specify the directory structure in which alias names will reside, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  ADD DIRECTORY &#39;+dgroup_01/alias_dir&#39;;
</pre>
<p><a id="SQLRF55568"></a><span class="subhead3">Creating an Alias Name for an Oracle ASM Filename: Example&nbsp;</span>To create a user alias by specifying the numeric Oracle ASM filename, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  ADD ALIAS &#39;+dgroup_01/alias_dir/datafile.dbf&#39;
    FOR &#39;+dgroup_01.261.1&#39;;
</pre>
<p><a id="BGEFHBEA"></a><a id="SQLRF55835"></a><span class="subhead3">Scrubbing a Disk Group: Example&nbsp;</span></p>
<p>To scrub a disk group, <code dir="ltr">dgroup_01</code>, issue the following statement. This statement attempts to repair any errors found during the logical data corruption check and allows the scrub operation to complete before returning control to the user.</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  SCRUB REPAIR WAIT;
</pre>
<p><a id="SQLRF55569"></a><span class="subhead3">Dismounting a Disk Group: Example&nbsp;</span>To dismount a disk group, <code dir="ltr">dgroup_01</code>, issue the following statement. This statement dismounts the disk group even if one or more files are active:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  DISMOUNT FORCE;
</pre>
<p><a id="SQLRF55570"></a><span class="subhead3">Mounting a Disk Group: Example&nbsp;</span>To mount a disk group, <code dir="ltr">dgroup_01</code>, issue the following statement:</p>
<pre dir="ltr">ALTER DISKGROUP dgroup_01
  MOUNT;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_1008.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_1010.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
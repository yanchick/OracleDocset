<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103659"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/CREATE%20SEQUENCE"></a><title>CREATE SEQUENCE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:50Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_6016.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_6018.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">448/555</span> <!-- End Header --><a id="i2067093"></a>
<div id="SQLRF01314" class="refsect1">
<h1 class="refsect1">CREATE SEQUENCE <a id="sthref5398"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5399"></a>Purpose</p>
<p><a id="sthref5400"></a><a id="sthref5401"></a><a id="sthref5402"></a><a id="sthref5403"></a>Use the <code dir="ltr">CREATE</code> <code dir="ltr">SEQUENCE</code> statement to create a <span class="bold">sequence</span>, which is a database object from which multiple users may generate unique integers. You can use sequences to automatically generate primary key values.</p>
<p>When a sequence number is generated, the sequence is incremented, independent of the transaction committing or rolling back. If two users concurrently increment the same sequence, then the sequence numbers each user acquires may have gaps, because sequence numbers are being generated by the other user. One user can never acquire the sequence number generated by another user. After a sequence value is generated by one user, that user can continue to access that value regardless of whether the sequence is incremented by another user.</p>
<p><a id="sthref5404"></a><a id="sthref5405"></a>Sequence numbers are generated independently of tables, so the same sequence can be used for one or for multiple tables. It is possible that individual sequence numbers will appear to be skipped, because they were generated and used in a transaction that ultimately rolled back. Additionally, a single user may not realize that other users are drawing from the same sequence.</p>
<p><a id="sthref5406"></a><a id="sthref5407"></a><a id="sthref5408"></a>After a sequence is created, you can access its values in SQL statements with the <code dir="ltr">CURRVAL</code> pseudocolumn, which returns the current value of the sequence, or the <code dir="ltr">NEXTVAL</code> pseudocolumn, which increments the sequence and returns the new value.</p>
<p><a id="SQLRF55572"></a><span class="subhead3">Note on Using Sequences with Deferred Segments&nbsp;</span>If you attempt to insert a sequence value into a table that uses deferred segment creation, the first value that the sequence returns will be skipped.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="pseudocolumns.htm#g1020307">Chapter 3, &#34;Pseudocolumns&#34;</a> for more information on using the <code dir="ltr">CURRVAL</code> and <code dir="ltr">NEXTVAL</code></p>
</li>
<li>
<p><a href="pseudocolumns002.htm#i1006157">&#34;How to Use Sequence Values&#34;</a> for information on using sequences</p>
</li>
<li>
<p><a href="statements_2014.htm#i2228022">ALTER SEQUENCE</a> or <a href="statements_9001.htm#BGECFFGA">DROP SEQUENCE</a> for information on modifying or dropping a sequence</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5409"></a>Prerequisites</p>
<p>To create a sequence in your own schema, you must have the <code dir="ltr">CREATE</code> <code dir="ltr">SEQUENCE</code> system privilege.</p>
<p>To create a sequence in another user&#39;s schema, you must have the <code dir="ltr">CREATE</code> <code dir="ltr">ANY</code> <code dir="ltr">SEQUENCE</code> system privilege.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5410"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF54329"></a><span class="italic">create_sequence</span>::=</p>
<img width="754" height="541" src="img/create_sequence.gif" alt="Description of create_sequence.gif follows"/><br/>
<a id="sthref5411" href="img_text/create_sequence.htm">Description of the illustration &#39;&#39;create_sequence.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5412"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF54330"></a><span class="italic">schema</span></p>
<p>Specify the schema to contain the sequence. If you omit <code dir="ltr"><span class="codeinlineitalic">schema</span></code>, then Oracle Database creates the sequence in your own schema.</p>
<p class="subhead1"><a id="CCHGCDHC"></a><a id="SQLRF54331"></a><span class="italic">sequence</span></p>
<p>Specify the name of the sequence to be created. The name must satisfy the requirements listed in <a href="sql_elements008.htm#i27570">&#34;Database Object Naming Rules&#34;</a>.</p>
<p>If you specify none of the following clauses, then you create an ascending sequence that starts with 1 and increases by 1 with no upper limit. Specifying only <code dir="ltr">INCREMENT</code> <code dir="ltr">BY</code> -1 creates a descending sequence that starts with -1 and decreases with no lower limit.</p>
<ul>
<li>
<p><a id="sthref5413"></a><a id="sthref5414"></a><a id="sthref5415"></a>To create a sequence that increments without bound, for ascending sequences, omit the <code dir="ltr">MAXVALUE</code> parameter or specify <code dir="ltr">NOMAXVALUE</code>. For descending sequences, omit the <code dir="ltr">MINVALUE</code> parameter or specify the <code dir="ltr">NOMINVALUE</code>.</p>
</li>
<li>
<p>To create a sequence that stops at a predefined limit, for an ascending sequence, specify a value for the <code dir="ltr">MAXVALUE</code> parameter. For a descending sequence, specify a value for the <code dir="ltr">MINVALUE</code> parameter. Also specify <code dir="ltr">NOCYCLE</code>. Any attempt to generate a sequence number once the sequence has reached its limit results in an error.</p>
</li>
<li>
<p>To create a sequence that restarts after reaching a predefined limit, specify values for both the <code dir="ltr">MAXVALUE</code> and <code dir="ltr">MINVALUE</code> parameters. Also specify <code dir="ltr">CYCLE</code>.</p>
</li>
</ul>
<p><a id="SQLRF54332"></a><span class="subhead3">INCREMENT BY<a id="sthref5416"></a><a id="sthref5417"></a>&nbsp;</span>Specify the interval between sequence numbers. This integer value can be any positive or negative integer, but it cannot be 0. This value can have 28 or fewer digits for an ascending sequence and 27 or fewer digits for a descending sequence. The absolute of this value must be less than the difference of <code dir="ltr">MAXVALUE</code> and <code dir="ltr">MINVALUE</code>. If this value is negative, then the sequence descends. If the value is positive, then the sequence ascends. If you omit this clause, then the interval defaults to 1.</p>
<p><a id="SQLRF54333"></a><span class="subhead3">START WITH <a id="sthref5418"></a><a id="sthref5419"></a>&nbsp;</span>Specify the first sequence number to be generated. Use this clause to start an ascending sequence at a value greater than its minimum or to start a descending sequence at a value less than its maximum. For ascending sequences, the default value is the minimum value of the sequence. For descending sequences, the default value is the maximum value of the sequence. This integer value can have 28 or fewer digits for positive values and 27 or fewer digits for negative values.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This value is not necessarily the value to which an ascending or descending cycling sequence cycles after reaching its maximum or minimum value, respectively.</div>
<p><a id="SQLRF54334"></a><span class="subhead3">MAXVALUE<a id="sthref5420"></a><a id="sthref5421"></a>&nbsp;</span>Specify the maximum value the sequence can generate. This integer value can have 28 or fewer digits for positive values and 27 or fewer digits for negative values. <code dir="ltr">MAXVALUE</code> must be equal to or greater than <code dir="ltr">START</code> <code dir="ltr">WITH</code> and must be greater than <code dir="ltr">MINVALUE</code>.</p>
<p><a id="SQLRF54335"></a><span class="subhead3">NOMAXVALUE <a id="sthref5422"></a>&nbsp;</span>Specify <code dir="ltr">NOMAXVALUE</code> to indicate a maximum value of 10<sup>28</sup>-1 for an ascending sequence or -1 for a descending sequence. This is the default.</p>
<p><a id="SQLRF54336"></a><span class="subhead3">MINVALUE<a id="sthref5423"></a><a id="sthref5424"></a>&nbsp;</span>Specify the minimum value of the sequence. This integer value can have 28 or fewer digits for positive values and 27 or fewer digits for negative values. <code dir="ltr">MINVALUE</code> must be less than or equal to <code dir="ltr">START</code> <code dir="ltr">WITH</code> and must be less than <code dir="ltr">MAXVALUE</code>.</p>
<p><a id="SQLRF54337"></a><span class="subhead3">NOMINVALUE <a id="sthref5425"></a>&nbsp;</span>Specify <code dir="ltr">NOMINVALUE</code> to indicate a minimum value of 1 for an ascending sequence or -(10<sup>27</sup> -1) for a descending sequence. This is the default.</p>
<p><a id="SQLRF54338"></a><span class="subhead3">CYCLE <a id="sthref5426"></a><a id="sthref5427"></a>&nbsp;</span>Specify <code dir="ltr">CYCLE</code> to indicate that the sequence continues to generate values after reaching either its maximum or minimum value. After an ascending sequence reaches its maximum value, it generates its minimum value. After a descending sequence reaches its minimum, it generates its maximum value.</p>
<p><a id="SQLRF54339"></a><span class="subhead3">NOCYCLE <a id="sthref5428"></a>&nbsp;</span>Specify <code dir="ltr">NOCYCLE</code> to indicate that the sequence cannot generate more values after reaching its maximum or minimum value. This is the default.</p>
<p><a id="SQLRF54340"></a><span class="subhead3">CACHE<a id="sthref5429"></a><a id="sthref5430"></a>&nbsp;</span>Specify how many values of the sequence the database preallocates and keeps in memory for faster access. This integer value can have 28 or fewer digits. The minimum value for this parameter is 2. For sequences that cycle, this value must be less than the number of values in the cycle. You cannot cache more values than will fit in a given cycle of sequence numbers. Therefore, the maximum value allowed for <code dir="ltr">CACHE</code> must be less than the value determined by the following formula:</p>
<pre dir="ltr">(CEIL (MAXVALUE - MINVALUE)) / ABS (INCREMENT)
</pre>
<p>If a system failure occurs, then all cached sequence values that have not been used in committed DML statements are lost. The potential number of lost values is equal to the value of the <code dir="ltr">CACHE</code> parameter.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends using the <code dir="ltr">CACHE</code> setting to enhance performance if you are using sequences in an Oracle Real Application Clusters environment.</div>
<p><a id="SQLRF54341"></a><span class="subhead3">NOCACHE <a id="sthref5431"></a>&nbsp;</span>Specify <code dir="ltr">NOCACHE</code> to indicate that values of the sequence are not preallocated. If you omit both <code dir="ltr">CACHE</code> and <code dir="ltr">NOCACHE</code>, then the database caches 20 sequence numbers by default.</p>
<p><a id="SQLRF54342"></a><span class="subhead3">ORDER<a id="sthref5432"></a><a id="sthref5433"></a>&nbsp;</span>Specify <code dir="ltr">ORDER</code> to guarantee that sequence numbers are generated in order of request. This clause is useful if you are using the sequence numbers as timestamps. Guaranteeing order is usually not important for sequences used to generate primary keys.</p>
<p><code dir="ltr">ORDER</code> is necessary only to guarantee ordered generation if you are using Oracle Real Application Clusters. If you are using exclusive mode, then sequence numbers are always generated in order.</p>
<p><a id="SQLRF54343"></a><span class="subhead3">NOORDER <a id="sthref5434"></a>&nbsp;</span>Specify <code dir="ltr">NOORDER</code> if you do not want to guarantee sequence numbers are generated in order of request. This is the default.</p>
<p><a id="CCHFJECJ"></a><a id="SQLRF56016"></a><span class="subhead3">KEEP<a id="sthref5435"></a><a id="sthref5436"></a>&nbsp;</span>Specify <code dir="ltr">KEEP</code> if you want <code dir="ltr">NEXTVAL</code> to retain its original value during replay for Application Continuity. This behavior will occur only if the user running the application is the owner of the schema containing the sequence. This clause is useful for providing bind variable consistency at replay after recoverable errors. Refer to <a class="olink ADFNS1203" href="../ADFNS/adfns_app_continuity.htm#ADFNS1203"><span class="italic">Oracle Database Development Guide</span></a> for more information on Application Continuity.</p>
<p><a id="CCHBCEJD"></a><a id="SQLRF56185"></a><span class="subhead3">NOKEEP<a id="sthref5437"></a>&nbsp;</span>Specify <code dir="ltr">NOKEEP</code> if you do not want <code dir="ltr">NEXTVAL</code> to retain its original value during replay for Application Continuity. This is the default.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr">KEEP</code> and <code dir="ltr">NOKEEP</code> clauses apply only to the owner of the schema containing the sequence. You can control whether <code dir="ltr">NEXTVAL</code> retains its original value for other users during replay for Application Continuity by granting or revoking the <code dir="ltr">KEEP</code> <code dir="ltr">SEQUENCE</code> object privilege on the sequence. Refer to <a href="statements_9014.htm#BGBCIIEG">Table 18-2</a> for more information on the <code dir="ltr">KEEP</code> <code dir="ltr">SEQUENCE</code> object privilege.</div>
<p><a id="CCHGCCHI"></a><a id="SQLRF56065"></a><span class="subhead3">SESSION<a id="sthref5438"></a><a id="sthref5439"></a><a id="sthref5440"></a>&nbsp;</span>Specify <code dir="ltr">SESSION</code> to create a session sequence, which is a special type of sequence that is specifically designed to be used with global temporary tables that have session visibility. Unlike the existing regular sequences (referred to as &#34;global&#34; sequences for the sake of comparison), a session sequence returns a unique range of sequence numbers only within a session, but not across sessions. Another difference is that session sequences are not persistent. If a session goes away, so does the state of the session sequences that were accessed during the session.</p>
<p>Session sequences must be created by a read-write database but can be accessed on any read-write or read-only databases (either a regular database temporarily open read-only or a standby database).</p>
<p>The <code dir="ltr">CACHE</code>, <code dir="ltr">NOCACHE</code>, <code dir="ltr">ORDER</code>, or <code dir="ltr">NOORDER</code> clauses are ignored when specified with the <code dir="ltr">SESSION</code> clause.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SBYDB5164" href="../SBYDB/manage_ps.htm#SBYDB5164"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information on session sequences</div>
<p><a id="CCHEHIFH"></a><a id="SQLRF56066"></a><span class="subhead3">GLOBAL<a id="sthref5441"></a><a id="sthref5442"></a><a id="sthref5443"></a>&nbsp;</span>Specify <code dir="ltr">GLOBAL</code> to create a global, or regular, sequence. This is the default.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g2186875"></a>Examples</p>
<p><a id="i2092099"></a><a id="SQLRF54344"></a><span class="subhead3">Creating a Sequence: Example&nbsp;</span>The following statement creates the sequence <code dir="ltr">customers_seq</code> in the sample schema <code dir="ltr">oe</code>. This sequence could be used to provide customer ID numbers when rows are added to the <code dir="ltr">customers</code> table.</p>
<pre dir="ltr">CREATE SEQUENCE customers_seq
 START WITH     1000
 INCREMENT BY   1
 NOCACHE
 NOCYCLE;
</pre>
<p>The first reference to <code dir="ltr">customers_seq.nextval</code> returns 1000. The second returns 1001. Each subsequent reference will return a value 1 greater than the previous reference.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_6016.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_6018.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
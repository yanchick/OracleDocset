<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103553"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Joins"></a><title>Joins</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:25Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="queries005.htm" title="Previous" type="text/html"/>
<link rel="Next" href="queries007.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">362/555</span> <!-- End Header --><a id="i2054012"></a>
<div id="SQLRF30046" class="sect1"><!-- infolevel="all" infotype="General" -->
<h1 class="sect1">Joins <a id="sthref2425"></a><a id="sthref2426"></a><a id="sthref2427"></a></h1>
<p>A <span class="bold">join</span> is a query that combines rows from two or more tables, views, or materialized views. Oracle Database performs a join whenever multiple tables appear in the <code dir="ltr">FROM</code> clause of the query. The select list of the query can select any columns from any of these tables. If any two of these tables have a column name in common, then you must qualify all references to these columns throughout the query with table names to avoid ambiguity.</p>
<div id="SQLRF52349" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref2428"></a>
<h2 class="sect2">Join Conditions <a id="sthref2429"></a></h2>
<p>Most join queries contain at least one <span class="bold">join condition</span>, either in the <code dir="ltr">FROM</code> clause or in the <code dir="ltr">WHERE</code> clause. The join condition compares two columns, each from a different table. To execute a join, Oracle Database combines pairs of rows, each containing one row from each table, for which the join condition evaluates to <code dir="ltr">TRUE</code>. The columns in the join conditions need not also appear in the select list.</p>
<p>To execute a join of three or more tables, Oracle first joins two of the tables based on the join conditions comparing their columns and then joins the result to another table based on join conditions containing columns of the joined tables and the new table. Oracle continues this process until all tables are joined into the result. The optimizer determines the order in which Oracle joins tables based on the join conditions, indexes on the tables, and, any available statistics for the tables.</p>
<p>A <code dir="ltr">WHERE</code> clause that contains a join condition can also contain other conditions that refer to columns of only one table. These conditions can further restrict the rows returned by the join query. <a id="sthref2430"></a></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot specify LOB columns in the <code dir="ltr">WHERE</code> clause if the <code dir="ltr">WHERE</code> clause contains the join condition. The use of LOBs in <code dir="ltr">WHERE</code> clauses is also subject to other restrictions. See <a class="olink ADLOB010" href="../ADLOB/adlob_sql_semantics.htm#ADLOB010"><span class="italic">Oracle Database SecureFiles and Large Objects Developer&#39;s Guide</span></a> for more information.</div>
</div>
<!-- class="sect2" -->
<div id="SQLRF52350" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref2431"></a>
<h2 class="sect2">Equijoins <a id="sthref2432"></a><a id="sthref2433"></a></h2>
<p>An <span class="bold">equijoin</span> is a join with a join condition containing an equality operator. An equijoin combines rows that have equivalent values for the specified columns. Depending on the internal algorithm the optimizer chooses to execute the join, the total size of the columns in the equijoin condition in a single table may be limited to the size of a data block minus some overhead. The size of a data block is specified by the initialization parameter <code dir="ltr">DB_BLOCK_SIZE</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_10002.htm#i2066611">&#34;Using Join Queries: Examples&#34;</a></div>
</div>
<!-- class="sect2" -->
<div id="SQLRF52351" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref2434"></a>
<h2 class="sect2">Self Joins <a id="sthref2435"></a><a id="sthref2436"></a><a id="sthref2437"></a></h2>
<p>A <span class="bold">self join</span> is a join of a table to itself. This table appears twice in the <code dir="ltr">FROM</code> clause and is followed by table aliases that qualify column names in the join condition. To perform a self join, Oracle Database combines and returns rows of the table that satisfy the join condition.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_10002.htm#i2066652">&#34;Using Self Joins: Example&#34;</a></div>
</div>
<!-- class="sect2" -->
<div id="SQLRF52352" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref2438"></a>
<h2 class="sect2">Cartesian Products <a id="sthref2439"></a><a id="sthref2440"></a></h2>
<p>If two tables in a join query have no join condition, then Oracle Database returns their <span class="bold">Cartesian product</span>. Oracle combines each row of one table with each row of the other. A Cartesian product always generates many rows and is rarely useful. For example, the Cartesian product of two tables, each with 100 rows, has 10,000 rows. Always include a join condition unless you specifically need a Cartesian product. If a query joins three or more tables and you do not specify a join condition for a specific pair, then the optimizer may choose a join order that avoids producing an intermediate Cartesian product.</p>
</div>
<!-- class="sect2" -->
<div id="SQLRF52353" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref2441"></a>
<h2 class="sect2">Inner Joins <a id="sthref2442"></a><a id="sthref2443"></a></h2>
<p>An <span class="bold">inner join</span> (sometimes called a <span class="bold">simple join</span>) is a join of two or more tables that returns only those rows that satisfy the join condition.</p>
</div>
<!-- class="sect2" -->
<a id="i2054062"></a>
<div id="SQLRF52354" class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2">Outer Joins <a id="sthref2444"></a><a id="sthref2445"></a></h2>
<p>An <span class="bold">outer join</span> extends the result of a simple join. An outer join returns all rows that satisfy the join condition and also returns some or all of those rows from one table for which no rows from the other satisfy the join condition.</p>
<ul>
<li>
<p>To write a query that performs an outer join of tables A and B and returns all rows from A (a <span class="bold">left outer join</span>), use the <code dir="ltr">LEFT</code> [<code dir="ltr">OUTER</code>] <code dir="ltr">JOIN</code> syntax in the <code dir="ltr">FROM</code> clause, or apply the outer join operator (+) to all columns of B in the join condition in the <code dir="ltr">WHERE</code> clause. For all rows in A that have no matching rows in B, Oracle Database returns null for any select list expressions containing columns of B.</p>
</li>
<li>
<p>To write a query that performs an outer join of tables A and B and returns all rows from B (a <span class="bold">right outer join</span>), use the <code dir="ltr">RIGHT</code> [<code dir="ltr">OUTER</code>] <code dir="ltr">JOIN</code> syntax in the <code dir="ltr">FROM</code> clause, or apply the outer join operator (+) to all columns of A in the join condition in the <code dir="ltr">WHERE</code> clause. For all rows in B that have no matching rows in A, Oracle returns null for any select list expressions containing columns of A.</p>
</li>
<li>
<p>To write a query that performs an outer join and returns all rows from A and B, extended with nulls if they do not satisfy the join condition (a <span class="bold">full outer join</span>), use the <code dir="ltr">FULL</code> [<code dir="ltr">OUTER</code>] <code dir="ltr">JOIN</code> syntax in the <code dir="ltr">FROM</code> clause.</p>
</li>
</ul>
<p>You cannot compare a column with a subquery in the <code dir="ltr">WHERE</code> clause of any outer join, regardless which form you specify.</p>
<p><a id="sthref2446"></a><a id="sthref2447"></a>You can use outer joins to fill gaps in sparse data. Such a join is called a <span class="bold">partitioned outer join</span> and is formed using the <code dir="ltr"><span class="codeinlineitalic">query_partition_clause</span></code> of the <code dir="ltr"><span class="codeinlineitalic">join_clause</span></code> syntax. Sparse data is data that does not have rows for all possible values of a dimension such as time or department. For example, tables of sales data typically do not have rows for products that had no sales on a given date. Filling data gaps is useful in situations where data sparsity complicates analytic computation or where some data might be missed if the sparse data is queried directly.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="statements_10002.htm#i2080416"><span class="xreftitleitalic"><span class="italic">join_clause</span></span></a> for more information about using outer joins to fill gaps in sparse data</p>
</li>
<li>
<p><a class="olink DWHSG02013" href="../DWHSG/analysis.htm#DWHSG02013"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for a complete discussion of group outer joins and filling gaps in sparse data</p>
</li>
</ul>
</div>
<p><a id="sthref2448"></a><a id="sthref2449"></a>Oracle recommends that you use the <code dir="ltr">FROM</code> clause <code dir="ltr">OUTER</code> <code dir="ltr">JOIN</code> syntax rather than the Oracle join operator. Outer join queries that use the Oracle join operator (+) are subject to the following rules and restrictions, which do not apply to the <code dir="ltr">FROM</code> clause <code dir="ltr">OUTER</code> <code dir="ltr">JOIN</code> syntax:</p>
<ul>
<li>
<p>You cannot specify the (+) operator in a query block that also contains <code dir="ltr">FROM</code> clause join syntax.</p>
</li>
<li>
<p>The (+) operator can appear only in the <code dir="ltr">WHERE</code> clause or, in the context of left-correlation (when specifying the <code dir="ltr">TABLE</code> clause) in the <code dir="ltr">FROM</code> clause, and can be applied only to a column of a table or view.</p>
</li>
<li>
<p>If A and B are joined by multiple join conditions, then you must use the (+) operator in all of these conditions. If you do not, then Oracle Database will return only the rows resulting from a simple join, but without a warning or error to advise you that you do not have the results of an outer join.</p>
</li>
<li>
<p>The (+) operator does not produce an outer join if you specify one table in the outer query and the other table in an inner query.</p>
</li>
<li>
<p>You cannot use the (+) operator to outer-join a table to itself, although self joins are valid. For example, the following statement is <span class="bold">not</span> valid:</p>
<pre dir="ltr">-- The following statement is not valid:
SELECT employee_id, manager_id 
   FROM employees
   WHERE employees.manager_id(+) = employees.employee_id;
</pre>
<p>However, the following self join is valid:</p>
<pre dir="ltr">SELECT e1.employee_id, e1.manager_id, e2.employee_id
   FROM employees e1, employees e2
   WHERE e1.manager_id(+) = e2.employee_id
   ORDER BY e1.employee_id, e1.manager_id, e2.employee_id;
</pre></li>
</ul>
<pre dir="ltr"></pre>
<ul>
<li>
<p>The (+) operator can be applied only to a column, not to an arbitrary expression. However, an arbitrary expression can contain one or more columns marked with the (+) operator.</p>
</li>
<li>
<p>A <code dir="ltr">WHERE</code> condition containing the (+) operator cannot be combined with another condition using the <code dir="ltr">OR</code> logical operator.</p>
</li>
<li>
<p>A <code dir="ltr">WHERE</code> condition cannot use the <code dir="ltr">IN</code> comparison condition to compare a column marked with the (+) operator with an expression.</p>
</li>
</ul>
<p>If the <code dir="ltr">WHERE</code> clause contains a condition that compares a column from table B with a constant, then the (+) operator must be applied to the column so that Oracle returns the rows from table A for which it has generated nulls for this column. Otherwise Oracle returns only the results of a simple join.</p>
<p>In previous releases of Oracle Database, in a query that performed outer joins of more than two pairs of tables, a single table could be the null-generated table for only one other table. Beginning with Oracle Database 12<span class="italic">c</span>, a single table can be the null-generated table for multiple tables. For example, the following statement is allowed in Oracle Database 12<span class="italic">c</span>:</p>
<pre dir="ltr">SELECT * FROM A, B, D
  WHERE A.c1 = B.c2(+) and D.c3 = B.c4(+);
</pre>
<p>In this example, <code dir="ltr">B</code>, the null-generated table, is outer-joined to two tables, <code dir="ltr">A</code> and <code dir="ltr">D</code>. Refer to <a href="statements_10002.htm#i2065646">SELECT</a> for the syntax for an outer join.</p>
</div>
<!-- class="sect2" -->
<div id="SQLRF52355" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref2450"></a>
<h2 class="sect2">Antijoins <a id="sthref2451"></a><a id="sthref2452"></a></h2>
<p>An antijoin returns rows from the left side of the predicate for which there are no corresponding rows on the right side of the predicate. It returns rows that fail to match (<code dir="ltr">NOT</code> <code dir="ltr">IN</code>) the subquery on the right side.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_10002.htm#i2182875">&#34;Using Antijoins: Example&#34;</a></div>
</div>
<!-- class="sect2" -->
<div id="SQLRF52356" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref2453"></a>
<h2 class="sect2">Semijoins <a id="sthref2454"></a><a id="sthref2455"></a></h2>
<p>A semijoin returns rows that match an <code dir="ltr">EXISTS</code> subquery without duplicating rows from the left side of the predicate when multiple rows on the right side satisfy the criteria of the subquery.</p>
<p>Semijoin and antijoin transformation cannot be done if the subquery is on an <code dir="ltr">OR</code> branch of the <code dir="ltr">WHERE</code> clause.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_10002.htm#i2166436">&#34;Using Semijoins: Example&#34;</a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="queries005.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="queries007.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
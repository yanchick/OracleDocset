<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103652"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/CREATE%20PLUGGABLE%20DATABASE"></a><title>CREATE PLUGGABLE DATABASE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_6009.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_6011.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">441/555</span> <!-- End Header --><a id="CCHDHBCJ"></a>
<div id="SQLRF55686" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">CREATE PLUGGABLE DATABASE<a id="sthref5257"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5258"></a>Purpose</p>
<p>Use the <code dir="ltr">CREATE</code> <code dir="ltr">PLUGGABLE</code> <code dir="ltr">DATABASE</code> statement to create a pluggable database (PDB).</p>
<p>This statement enables you to perform the following tasks:</p>
<ul>
<li>
<p>Create a PDB by using the seed as a template</p>
<p>Use the <code dir="ltr"><span class="codeinlineitalic">create_pdb_from_seed</span></code> clause to create a PDB by using the seed in the multitenant container database (CDB) as a template. The files associated with the seed are copied to a new location and the copied files are then associated with the new PDB.</p>
</li>
<li>
<p>Create a PDB by cloning an existing PDB or non-CDB</p>
<p>Use the <code dir="ltr"><span class="codeinlineitalic">create_pdb_clone</span></code> clause to create a PDB by copying an existing PDB or non-CDB and then plugging the copy into the CDB. The files associated with the existing PDB or non-CDB are copied to a new location and the copied files are associated with the new PDB.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Creating a PDB by cloning a non-CDB is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</div>
</li>
<li>
<p>Create a PDB by plugging an unplugged PDB or a non-CDB into a CDB</p>
<p>Use the <code dir="ltr"><span class="codeinlineitalic">create_pdb_from_xml</span></code> clause to plug an unplugged PDB or a non-CDB into a CDB, using an XML metadata file.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
When a new PDB is established in a CDB, it is possible that the name of a service offered by the new PDB will collide with an existing service name. The namespace in which a collision can occur is that of the listener that gives access to the CDB. Within that namespace, collisions are possible among the names of non-CDB&#39;s default services, CDB&#39;s default services, PDB&#39;s default services, and user-defined services. For example, if two or more CDBs on the same computer system use the same listener, and the newly established PDB has the same service name as another PDB in these CDBs, then a collision occurs.
<p>You must not attempt to operate a PDB that causes a collision with an existing service name. If the colliding name is that of the PDB&#39;s default service, then you must rename the PDB. If the colliding name is that of a user-created service within the PDB, then you must drop that service and create one in its place, with a non-colliding name, that has the same purpose and properties.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CNCPT89233" href="../CNCPT/part_consol.htm#CNCPT89233"><span class="italic">Oracle Database Concepts</span></a> for general information on PDBs</p>
</li>
<li>
<p><a class="olink ADMIN13506" href="../ADMIN/part_cdb.htm#ADMIN13506"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on managing PDBs</p>
</li>
<li>
<p><a href="statements_2008.htm#CCHJFGJD">ALTER PLUGGABLE DATABASE</a> and <a href="statements_8028.htm#BABGBIBF">DROP PLUGGABLE DATABASE</a> for information on modifying and dropping PDBs</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5259"></a>Prerequisites</p>
<p>You must be connected to a CDB and the current container must be the root.</p>
<p>You must have the <code dir="ltr">CREATE</code> <code dir="ltr">PLUGGABLE</code> <code dir="ltr">DATABASE</code> system privilege.</p>
<p>The CDB in which the PDB is being created must be in <code dir="ltr">READ</code> <code dir="ltr">WRITE</code> mode.</p>
<p>To specify the <code dir="ltr"><span class="codeinlineitalic">create_pdb_clone</span></code> clause:</p>
<ul>
<li>
<p>If <code dir="ltr"><span class="codeinlineitalic">src_pdb_name</span></code> refers to a PDB in the same CDB, then you must have the <code dir="ltr">CREATE</code> <code dir="ltr">PLUGGABLE</code> <code dir="ltr">DATABASE</code> system privilege in the root of the CDB in which the new PDB will be created and in the PDB being cloned.</p>
</li>
<li>
<p>If <code dir="ltr"><span class="codeinlineitalic">src_pdb_name</span></code> refers to a PDB in a remote database or a non-CDB, then you must have the <code dir="ltr">CREATE</code> <code dir="ltr">PLUGGABLE</code> <code dir="ltr">DATABASE</code> system privilege in the root of the CDB in which the new PDB will be created and the remote user must have the <code dir="ltr">CREATE</code> <code dir="ltr">PLUGGABLE</code> <code dir="ltr">DATABASE</code> system privilege in the PDB or non-CDB to which <code dir="ltr"><span class="codeinlineitalic">src_pdb_name</span></code> refers.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5260"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF55687"></a><span class="italic">create_pluggable_database</span>::=</p>
<img width="548" height="91" src="img/create_pluggable_database.gif" alt="Description of create_pluggable_database.gif follows"/><br/>
<a id="sthref5261" href="img_text/create_pluggable_database.htm">Description of the illustration &#39;&#39;create_pluggable_database.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#CCHBFIDF"><span class="xreftitleitalic"><span class="italic"><span class="italic">create_pdb_from_seed</span></span>::=</span></a>, <a href="#CCHDFDDG"><span class="xreftitleitalic"><span class="italic"><span class="italic">create_pdb_clone</span></span>::=</span></a>, <a href="#CCHEJDJD"><span class="xreftitleitalic"><span class="italic"><span class="italic">create_pdb_from_xml</span></span>::=</span></a>)</p>
<p class="subhead2"><a id="CCHBFIDF"></a><a id="SQLRF55688"></a><span class="italic"><a href="#CACEDDDF"><span class="xreftitleitalic"><span class="italic">create_pdb_from_seed</span></span></a></span>::=</p>
<img width="781" height="178" src="img/create_pdb_from_seed.gif" alt="Description of create_pdb_from_seed.gif follows"/><br/>
<a id="sthref5262" href="img_text/create_pdb_from_seed.htm">Description of the illustration &#39;&#39;create_pdb_from_seed.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#CCHJEJCB"><span class="xreftitleitalic"><span class="italic"><span class="italic">pdb_dba_roles</span></span>::=</span></a>, <a href="#CCHBCAJI"><span class="xreftitleitalic"><span class="italic"><span class="italic">default_tablespace</span></span>::=</span></a>, <a href="#CCHIICFG"><span class="xreftitleitalic"><span class="italic"><span class="italic">file_name_convert</span></span>::=</span></a>, <a href="#CCHBHJEI"><span class="xreftitleitalic"><span class="italic"><span class="italic">pdb_storage_clause</span></span>::=</span></a>, <a href="#CCHGABFD"><span class="xreftitleitalic"><span class="italic">path_prefix_clause</span>::=</span></a>, <a href="#CCHBAFHJ"><span class="xreftitleitalic"><span class="italic">tempfile_reuse_clause</span>::=</span></a>, <a href="#CACEADIC"><span class="xreftitleitalic"><span class="italic">user_tablespaces_clause</span>::=</span></a>, <a href="#CACBFHBB"><span class="xreftitleitalic"><span class="italic">standbys_clause</span>::=</span></a>, <a href="#CACGFJGB"><span class="xreftitleitalic"><span class="italic">logging_clause</span>::=</span></a>, <a href="#CACGJDFB"><span class="xreftitleitalic"><span class="italic">create_file_dest_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="CCHJEJCB"></a><a id="SQLRF55691"></a><span class="italic"><a href="#CCHGGEHH"><span class="xreftitleitalic"><span class="italic">pdb_dba_roles</span></span></a></span>::=</p>
<img width="251" height="58" src="img/pdb_dba_roles.gif" alt="Description of pdb_dba_roles.gif follows"/><br/>
<a id="sthref5263" href="img_text/pdb_dba_roles.htm">Description of the illustration &#39;&#39;pdb_dba_roles.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="CCHBCAJI"></a><a id="SQLRF55692"></a><span class="italic"><a href="#CACGGJED"><span class="xreftitleitalic"><span class="italic">default_tablespace</span></span></a></span>::=</p>
<img width="761" height="46" src="img/default_tablespace.gif" alt="Description of default_tablespace.gif follows"/><br/>
<a id="sthref5264" href="img_text/default_tablespace.htm">Description of the illustration &#39;&#39;default_tablespace.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses004.htm#CHDHEGJH"><span class="xreftitleitalic"><span class="italic">datafile_tempfile_spec</span>::=</span></a>, <a href="statements_5005.htm#BGEIBGJH"><span class="xreftitleitalic"><span class="italic">extent_management_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="CCHIICFG"></a><a id="SQLRF55693"></a><span class="italic"><a href="#CACHDCDF"><span class="xreftitleitalic"><span class="italic">file_name_convert</span></span></a></span>::=</p>
<img width="758" height="91" src="img/file_name_convert.gif" alt="Description of file_name_convert.gif follows"/><br/>
<a id="sthref5265" href="img_text/file_name_convert.htm">Description of the illustration &#39;&#39;file_name_convert.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="CCHBHJEI"></a><a id="SQLRF55694"></a><span class="italic"><a href="#CACJAAGI"><span class="xreftitleitalic"><span class="italic">pdb_storage_clause</span></span></a></span>::=</p>
<img width="546" height="168" src="img/pdb_storage_clause.gif" alt="Description of pdb_storage_clause.gif follows"/><br/>
<a id="sthref5266" href="img_text/pdb_storage_clause.htm">Description of the illustration &#39;&#39;pdb_storage_clause.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses008.htm#CHDEAIID"><span class="xreftitleitalic"><span class="italic">size_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="CCHGABFD"></a><a id="SQLRF56528"></a><a href="#CCHIIGHJ"><span class="xreftitleitalic"><span class="italic">path_prefix_clause</span></span></a>::=</p>
<img width="326" height="58" src="img/path_prefix_clause.gif" alt="Description of path_prefix_clause.gif follows"/><br/>
<a id="sthref5267" href="img_text/path_prefix_clause.htm">Description of the illustration &#39;&#39;path_prefix_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="CCHBAFHJ"></a><a id="SQLRF56529"></a><a href="#CCHBGHCI"><span class="xreftitleitalic"><span class="italic">tempfile_reuse_clause</span></span></a>::=</p>
<img width="166" height="27" src="img/tempfile_reuse_clause.gif" alt="Description of tempfile_reuse_clause.gif follows"/><br/>
<a id="sthref5268" href="img_text/tempfile_reuse_clause.htm">Description of the illustration &#39;&#39;tempfile_reuse_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="CACEADIC"></a><a id="SQLRF56798"></a><a href="#CACEDAGD"><span class="xreftitleitalic"><span class="italic">user_tablespaces_clause</span></span></a>::=</p>
<img width="623" height="175" src="img/user_tablespaces_clause.gif" alt="Description of user_tablespaces_clause.gif follows"/><br/>
<a id="sthref5269" href="img_text/user_tablespaces_clause.htm">Description of the illustration &#39;&#39;user_tablespaces_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="CACBFHBB"></a><a id="SQLRF56799"></a><a href="#CACFBGGI"><span class="xreftitleitalic"><span class="italic">standbys_clause</span></span></a>::=</p>
<img width="228" height="58" src="img/standbys_clause.gif" alt="Description of standbys_clause.gif follows"/><br/>
<a id="sthref5270" href="img_text/standbys_clause.htm">Description of the illustration &#39;&#39;standbys_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="CACGFJGB"></a><a id="SQLRF56800"></a><a href="#CACJIEBE"><span class="xreftitleitalic"><span class="italic">logging_clause</span></span></a>::=</p>
<img width="237" height="91" src="img/logging_clause.gif" alt="Description of logging_clause.gif follows"/><br/>
<a id="sthref5271" href="img_text/logging_clause.htm">Description of the illustration &#39;&#39;logging_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="CACGJDFB"></a><a id="SQLRF56801"></a><a href="#CACFDEHC"><span class="xreftitleitalic"><span class="italic">create_file_dest_clause</span></span></a>::=</p>
<img width="411" height="91" src="img/create_file_dest_clause.gif" alt="Description of create_file_dest_clause.gif follows"/><br/>
<a id="sthref5272" href="img_text/create_file_dest_clause.htm">Description of the illustration &#39;&#39;create_file_dest_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="CCHDFDDG"></a><a id="SQLRF55690"></a><span class="italic"><a href="#CACDDGBH"><span class="xreftitleitalic"><span class="italic">create_pdb_clone</span></span></a></span>::=</p>
<img width="768" height="211" src="img/create_pdb_clone.gif" alt="Description of create_pdb_clone.gif follows"/><br/>
<a id="sthref5273" href="img_text/create_pdb_clone.htm">Description of the illustration &#39;&#39;create_pdb_clone.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#CCHBHJEI"><span class="xreftitleitalic"><span class="italic"><span class="italic">pdb_storage_clause</span></span>::=</span></a>, <a href="#CCHIICFG"><span class="xreftitleitalic"><span class="italic"><span class="italic">file_name_convert</span></span>::=</span></a>, <a href="#CCHGABFD"><span class="xreftitleitalic"><span class="italic">path_prefix_clause</span>::=</span></a>, <a href="#CCHBAFHJ"><span class="xreftitleitalic"><span class="italic">tempfile_reuse_clause</span>::=</span></a>, <a href="#CACEADIC"><span class="xreftitleitalic"><span class="italic">user_tablespaces_clause</span>::=</span></a>, <a href="#CACBFHBB"><span class="xreftitleitalic"><span class="italic">standbys_clause</span>::=</span></a>, <a href="#CACGFJGB"><span class="xreftitleitalic"><span class="italic">logging_clause</span>::=</span></a>, <a href="#CACGJDFB"><span class="xreftitleitalic"><span class="italic">create_file_dest_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="CCHEJDJD"></a><a id="SQLRF55689"></a><span class="italic"><a href="#CACJHJFE"><span class="xreftitleitalic"><span class="italic">create_pdb_from_xml</span></span></a></span>::=</p>
<img width="876" height="263" src="img/create_pdb_from_xml.gif" alt="Description of create_pdb_from_xml.gif follows"/><br/>
<a id="sthref5274" href="img_text/create_pdb_from_xml.htm">Description of the illustration &#39;&#39;create_pdb_from_xml.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#CCHEJFID"><span class="xreftitleitalic"><span class="italic"><span class="italic">source_file_name_convert</span></span>::=</span></a>, <a href="#CACIAJHI"><span class="xreftitleitalic"><span class="italic">source_file_directory</span>::=</span></a>, <a href="#CCHIICFG"><span class="xreftitleitalic"><span class="italic"><span class="italic">file_name_convert</span></span>::=</span></a>, <a href="#CCHBHJEI"><span class="xreftitleitalic"><span class="italic"><span class="italic">pdb_storage_clause</span></span>::=</span></a>, <a href="#CCHGABFD"><span class="xreftitleitalic"><span class="italic">path_prefix_clause</span>::=</span></a>, <a href="#CCHBAFHJ"><span class="xreftitleitalic"><span class="italic">tempfile_reuse_clause</span>::=</span></a>, <a href="#CACEADIC"><span class="xreftitleitalic"><span class="italic">user_tablespaces_clause</span>::=</span></a>, <a href="#CACBFHBB"><span class="xreftitleitalic"><span class="italic">standbys_clause</span>::=</span></a>, <a href="#CACGFJGB"><span class="xreftitleitalic"><span class="italic">logging_clause</span>::=</span></a>, <a href="#CACGJDFB"><span class="xreftitleitalic"><span class="italic">create_file_dest_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="CCHEJFID"></a><a id="SQLRF55695"></a><span class="italic"><a href="#CCHGAGBC"><span class="xreftitleitalic"><span class="italic">source_file_name_convert</span></span></a></span>::=</p>
<img width="814" height="91" src="img/source_file_name_convert.gif" alt="Description of source_file_name_convert.gif follows"/><br/>
<a id="sthref5275" href="img_text/source_file_name_convert.htm">Description of the illustration &#39;&#39;source_file_name_convert.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="CACIAJHI"></a><a id="SQLRF57047"></a><a href="#CACJGFJC"><span class="xreftitleitalic"><span class="italic">source_file_directory</span></span></a>::=</p>
<img width="451" height="58" src="img/source_file_directory.gif" alt="Description of source_file_directory.gif follows"/><br/>
<a id="sthref5276" href="img_text/source_file_directory.htm">Description of the illustration &#39;&#39;source_file_directory.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5277"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF55781"></a><span class="italic">pdb_name</span></p>
<p>Specify the name of the PDB to be created. The first character of a PDB name must be alphanumeric and the remaining characters can be alphanumeric or the underscore character (<code dir="ltr">_</code>).</p>
<p>The PDB name must be unique in the CDB, and it must be unique within the scope of all the CDBs whose instances are reached through a specific listener.</p>
<p class="subhead1"><a id="CACEDDDF"></a><a id="SQLRF55782"></a><a id="sthref5278"></a><span class="italic">create_pdb_from_seed</span></p>
<p>This clause enables you to create a PDB by using the seed in the CDB as a template.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN13566" href="../ADMIN/cdb_plug.htm#ADMIN13566"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for the complete steps for creating a PDB using the seed</div>
<p class="subhead2"><a id="SQLRF55783"></a>ADMIN USER Clause<a id="sthref5279"></a><a id="sthref5280"></a></p>
<p>Use this clause to create an administrative user who can be granted the privileges required to perform administrative tasks on the PDB. For <code dir="ltr"><span class="codeinlineitalic">admin_user_name</span></code>, specify name of the user to be created. Use the <code dir="ltr">IDENTIFIED BY</code> clause to specify the password for <code dir="ltr"><span class="codeinlineitalic">admin_user_name</span></code>. Oracle Database creates a local user in the PDB and grants the <code dir="ltr">PDB_DBA</code> local role to that user.</p>
<p class="subhead2"><a id="CCHGGEHH"></a><a id="SQLRF55784"></a><span class="italic">pdb_dba_roles</span><a id="sthref5281"></a></p>
<p>This clause lets you grant one or more roles to the <code dir="ltr">PDB_DBA</code> role. Use this clause to grant roles that have the privileges required by the administrative user of the PDB. For <code dir="ltr"><span class="codeinlineitalic">role</span></code>, specify a predefined role. For a list of predefined roles, refer to <a class="olink DBSEG4414" href="../DBSEG/authorization.htm#DBSEG4414"><span class="italic">Oracle Database Security Guide</span></a>.</p>
<p>You can also use the <code dir="ltr">GRANT</code> statement to grant roles to the <code dir="ltr">PDB_DBA</code> role after the PDB has been created. Until you have granted the appropriate privileges to the <code dir="ltr">PDB_DBA</code> role, the <code dir="ltr">SYS</code> and <code dir="ltr">SYSTEM</code> users can perform administrative tasks on a PDB.</p>
<p class="subhead2"><a id="CACGGJED"></a><a id="SQLRF55785"></a><span class="italic">default_tablespace</span></p>
<p>Specify this clause to create a default permanent tablespace for the PDB. The <code dir="ltr"><span class="codeinlineitalic">default_tablespace</span></code> clause has the same semantics that it has for the <code dir="ltr">CREATE</code> <code dir="ltr">DATABASE</code> statement. For full information, refer to <a href="statements_5005.htm#i2186890"><span class="xreftitleitalic"><span class="italic">default_tablespace</span></span></a> in the documentation on <code dir="ltr">CREATE</code> <code dir="ltr">DATABASE</code>.</p>
<p class="subhead2"><a id="CACHDCDF"></a><a id="SQLRF55786"></a><span class="italic">file_name_convert</span><a id="sthref5282"></a></p>
<p>Use this clause to determine how the database generates the names of files (such as data files and wallet files) for the PDB.</p>
<ul>
<li>
<p>For <code dir="ltr"><span class="codeinlineitalic">filename_pattern</span></code>, specify a string found in names of files associated with the seed (when creating a PDB by using the seed), associated with the source PDB (when cloning a PDB), or listed in the XML file (when plugging a PDB into a CDB).</p>
</li>
<li>
<p>For <code dir="ltr"><span class="codeinlineitalic">replacement_filename_pattern</span></code>, specify a replacement string.</p>
</li>
</ul>
<p>Oracle Database will replace <code dir="ltr"><span class="codeinlineitalic">filename_pattern</span></code> with <code dir="ltr"><span class="codeinlineitalic">replacement_filename_pattern</span></code> when generating the names of files associated with the new PDB.</p>
<p>File name patterns cannot match files or directories managed by Oracle Managed Files.</p>
<p>You can specify <code dir="ltr">FILE_NAME_CONVERT</code> <code dir="ltr">=</code> <code dir="ltr">NONE</code>, which is the same as omitting this clause. If you omit this clause, then the database first attempts to use Oracle Managed Files to generate file names. If you are not using Oracle Managed Files, then the database uses the <code dir="ltr">PDB_FILE_NAME_CONVERT</code> initialization parameter to generate file names. If this parameter is not set, then an error occurs.</p>
<p class="subhead2"><a id="CACJAAGI"></a><a id="SQLRF55787"></a><span class="italic">pdb_storage_clause</span><a id="sthref5283"></a></p>
<p>Use this clause to specify storage limits for the PDB.</p>
<ul>
<li>
<p>Use <code dir="ltr">MAXSIZE</code> to limit the amount of storage that can be used by all tablespaces in the PDB to the value specified with <code dir="ltr"><span class="codeinlineitalic">size_clause</span></code>. This limit includes the size of data files and temporary files for tablespaces belonging to the PDB. Specify <code dir="ltr">MAXSIZE</code> <code dir="ltr">UNLIMITED</code> to enforce no limit.</p>
</li>
<li>
<p>Use <code dir="ltr">MAX_SHARED_TEMP_SIZE</code> to limit the amount of storage in the shared temporary tablespace that can be used by sessions connected to the PDB to the value specified with <code dir="ltr"><span class="codeinlineitalic">size_clause</span></code>. Specify <code dir="ltr">MAX_SHARED_TEMP_SIZE</code> <code dir="ltr">UNLIMITED</code> to enforce no limit.</p>
</li>
</ul>
<p>If you omit this clause, or specify <code dir="ltr">STORAGE</code> <code dir="ltr">UNLIMITED</code>, then there are no storage limits for the PDB. This is equivalent to specifying <code dir="ltr">STORAGE</code> <code dir="ltr">(MAXSIZE</code> <code dir="ltr">UNLIMITED</code> <code dir="ltr">MAX_SHARED_TEMP_SIZE</code> <code dir="ltr">UNLIMITED)</code>.</p>
<p class="subhead2"><a id="CCHIIGHJ"></a><a id="SQLRF56530"></a><span class="italic">path_prefix_clause</span></p>
<p>Use this clause to ensure that file paths for directory objects associated with the PDB are restricted to the specified directory or its subdirectories. You cannot modify the setting of this clause after you create the PDB. This clause does not affect files created by Oracle Managed Files.</p>
<ul>
<li>
<p>For <code dir="ltr"><span class="codeinlineitalic">path_name</span></code>, specify the absolute path name of an operating system directory. The single quotation marks are required, with the result that the path name is case sensitive. Oracle Database uses <code dir="ltr"><span class="codeinlineitalic">path_name</span></code> as a prefix to the relative paths for directory objects associated with the PDB. If a directory object has an absolute path, then the <code dir="ltr"><span class="codeinlineitalic">path_prefix_clause</span></code> is ignored.</p>
<p>Be sure to specify <code dir="ltr"><span class="codeinlineitalic">path_name</span></code> so that the resulting path name will be properly formed when relative paths are appended to it. For example, on UNIX systems, be sure to end <code dir="ltr"><span class="codeinlineitalic">path_name</span></code> with a forward slash (<code dir="ltr">/</code>), such as:</p>
<pre dir="ltr">PATH_PREFIX = &#39;/disk1/oracle/dba/salespdb/&#39;
</pre></li>
<li>
<p>If you specify <code dir="ltr">PATH_PREFIX</code> <code dir="ltr">=</code> <code dir="ltr">NONE</code>, then the relative paths for directory objects associated with the PDB are treated as absolute paths and are not restricted to a particular directory.</p>
</li>
</ul>
<p>Omitting the <code dir="ltr"><span class="codeinlineitalic">path_prefix_clause</span></code> is equivalent to specifying <code dir="ltr">PATH_PREFIX</code> <code dir="ltr">=</code> <code dir="ltr">NONE</code>.</p>
<p class="subhead2"><a id="CCHBGHCI"></a><a id="SQLRF56531"></a><span class="italic">tempfile_reuse_clause</span></p>
<p>When you create a PDB, Oracle Database associates temp files with the new PDB. Depending on how you create the PDB, the temp files may already exist and may have been previously used.</p>
<p>Specify <code dir="ltr">TEMPFILE</code> <code dir="ltr">REUSE</code> to instruct the database to format and reuse a temp file associated with the new PDB if it already exists. If you specify this clause and a temp file does not exist, then the database creates the temp file.</p>
<p>If you do not specify <code dir="ltr">TEMPFILE</code> <code dir="ltr">REUSE</code> and a temp file to be associated with the new PDB already exists, then the database returns an error and does not create the PDB.</p>
<p class="subhead2"><a id="CACEDAGD"></a><a id="SQLRF56802"></a><span class="italic">user_tablespaces_clause</span></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr"><span class="codeinlineitalic">user_tablespaces_clause</span></code> is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</div>
<p>This clause lets you specify the tablespaces to be made available in the new PDB. The <code dir="ltr">SYSTEM</code>, <code dir="ltr">SYSAUX</code>, and <code dir="ltr">TEMP</code> tablespaces are available in all PDBs and cannot be specified in this clause.</p>
<ul>
<li>
<p>Specify <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> to make the tablespace available in the new PDB. You can specify more than one tablespace in a comma-separated list.</p>
</li>
<li>
<p>Specify <code dir="ltr">NONE</code> to make only the <code dir="ltr">SYSTEM</code>, <code dir="ltr">SYSAUX</code>, and <code dir="ltr">TEMP</code> tablespaces available in the new PDB.</p>
</li>
<li>
<p>Specify <code dir="ltr">ALL</code> to make all tablespaces available in the new PDB. This is the default.</p>
</li>
<li>
<p>Specify <code dir="ltr">ALL</code> <code dir="ltr">EXCEPT</code> to make all tablespaces available in the new PDB, except the specified tablespaces.</p>
</li>
</ul>
<p>Tablespaces that are unavailable in a PDB are offline in the PDB, and all data files that belong to those tablespaces are unnamed and offline in the PDB.</p>
<p class="subhead2"><a id="CACFBGGI"></a><a id="SQLRF56803"></a><span class="italic">standbys_clause</span></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr"><span class="codeinlineitalic">standbys_clause</span></code> is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</div>
<p>Use this clause to specify whether the new PDB is included in standby CDBs.</p>
<ul>
<li>
<p>Specify <code dir="ltr">ALL</code> to include the new PDB in all standby CDBs. During standby recovery, the standby CDB will search for the data files for the PDB. If the data files are not found, then standby recovery will stop and you must copy the data files to the correct location before you can restart recovery. This is the default.</p>
</li>
<li>
<p>Specify <code dir="ltr">NONE</code> to exclude the new PDB from all standby CDBs. When a PDB is excluded from all standby CDBs, the PDB&#39;s data files are unnamed and marked offline on all of the standby CDBs. Standby recovery will not stop if the data files for the PDB are not found on the standby. If you instantiate a new standby CDB after the PDB is created, then you must explicitly disable the PDB for recovery on the new standby CDB.</p>
<p>You can enable a PDB on a standby CDB after it was excluded on that standby CDB by copying the data files to the correct location, bringing the PDB online, and marking it as enabled for recovery.</p>
</li>
</ul>
<p class="subhead2"><a id="CACJIEBE"></a><a id="SQLRF56804"></a><span class="italic">logging_clause</span></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr"><span class="codeinlineitalic">logging_clause</span></code> is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</div>
<p>Use this clause to specify the default logging attribute for tablespaces created within the PDB. The logging attribute controls whether certain DML operations are logged in the redo log file (<code dir="ltr">LOGGING</code>) or not (<code dir="ltr">NOLOGGING</code>).The default is <code dir="ltr">LOGGING</code>.</p>
<p>When creating a tablespace, you can override the default logging attribute by specifying the <a href="statements_7003.htm#CJAICHIG"><span class="xreftitleitalic"><span class="italic">logging_clause</span></span></a> of the <code dir="ltr">CREATE</code> <code dir="ltr">TABLESPACE</code> statement.</p>
<p>Refer to <a href="clauses005.htm#i999782"><span class="xreftitleitalic"><span class="italic">logging_clause</span></span></a> for a full description of this clause.</p>
<p class="subhead2"><a id="CACFDEHC"></a><a id="SQLRF56805"></a><span class="italic">create_file_dest_clause</span></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr"><span class="codeinlineitalic">create_file_dest_clause</span></code> is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</div>
<p>By default, a newly created PDB inherits its Oracle Managed Files settings from the root. If the root uses Oracle Managed Files, then the PDB also uses Oracle Managed Files. The PDB shares the same base file system directory for Oracle Managed Files with the root and has its own subdirectory named with the GUID of the PDB. If the root does not use Oracle Managed Files, then the PDB also does not use Oracle Managed Files.</p>
<p>This clause lets you override the default behavior. You can enable or disable Oracle Managed Files for the PDB and you specify a different base file system directory or Oracle ASM disk group for the PDB&#39;s files.</p>
<ul>
<li>
<p>Specify <code dir="ltr">NONE</code> to disable Oracle Managed Files for the PDB.</p>
</li>
<li>
<p>Specify either <code dir="ltr"><span class="codeinlineitalic">directory_path_name</span></code> or <code dir="ltr"><span class="codeinlineitalic">diskgroup_name</span></code> to enable Oracle Managed Files for the PDB.</p>
<p>Specify <code dir="ltr"><span class="codeinlineitalic">directory_path_name</span></code> to designate the base file system directory for the PDB&#39;s files. Specify the full path name of the operating system directory. The directory must exist and Oracle processes must have appropriate permissions on the directory. The single quotation marks are required, with the result that the path name is case sensitive.</p>
<p>Specify <code dir="ltr"><span class="codeinlineitalic">diskgroup_name</span></code> to designate the default Oracle ASM disk group for the PDB&#39;s files.</p>
</li>
</ul>
<p>If you specify a value other than <code dir="ltr">NONE</code>, then the database implicitly sets the <code dir="ltr">DB_CREATE_FILE_DEST</code> initialization parameter with <code dir="ltr">SCOPE=SPFILE</code> in the PDB.</p>
<p class="subhead1"><a id="CACDDGBH"></a><a id="SQLRF55798"></a><span class="italic">create_pdb_clone</span><a id="sthref5284"></a><a id="sthref5285"></a></p>
<p>This clause enables you to create a new PDB by cloning a source to a target PDB. The source can be a PDB in the local CDB, a PDB in a remote CDB, or a non-CDB. The target PDB is the clone of the source.</p>
<p>If the source is a PDB in the local CDB, then the source PDB can be plugged in or unplugged. If the source is a PDB in a remote CDB, then the source PDB must be plugged in.</p>
<p>If the source is a non-CDB or a PDB in a remote CDB, then the source and the CDB that contains the target PDB must meet the following requirements:</p>
<ul>
<li>
<p>They must have the same endian format.</p>
</li>
<li>
<p>They must have compatible character sets and national character sets, which means:</p>
<ul>
<li>
<p>Every character in the source character set is available in the local CDB character set.</p>
</li>
<li>
<p>Every character in the source character set has the same code point value in the local CDB character set.</p>
</li>
</ul>
</li>
<li>
<p>They must have the same set of database options installed.</p>
</li>
</ul>
<p>Users in the PDB who used the default temporary tablespace of the source non-CDB or PDB use the default temporary tablespace of the new PDB. Users who used non-default temporary tablespaces in the non-CDB or PDB continue to use the same local temporary tablespaces in the new PDB.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN13583" href="../ADMIN/cdb_plug.htm#ADMIN13583"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for the complete steps for creating a PDB by cloning an existing PDB</div>
<p class="subhead2"><a id="SQLRF55801"></a>FROM Clause<a id="sthref5286"></a></p>
<p>Use this clause to specify the source PDB or non-CDB. The source must be open with open mode <code dir="ltr">READ</code> <code dir="ltr">ONLY</code>. The files associated with the source are copied to a new location and these copied files are then associated with the new PDB.</p>
<ul>
<li>
<p>If the source is a PDB in the local CDB, then use <code dir="ltr"><span class="codeinlineitalic">src_pdb_name</span></code> to specify the name of the source PDB. You cannot specify <code dir="ltr">PDB$SEED</code> for <code dir="ltr"><span class="codeinlineitalic">src_pdb_name</span></code>. Instead, use the <a href="#CACEDDDF"><span class="xreftitleitalic"><span class="italic">create_pdb_from_seed</span></span></a> clause to create a PDB by using the seed as a template.</p>
</li>
<li>
<p>If the source is a PDB in a remote CDB, then use <code dir="ltr"><span class="codeinlineitalic">src_pdb_name</span></code> to specify the name of the source PDB and <code dir="ltr"><span class="codeinlineitalic">dblink</span></code> to specify the name of the database link to use to connect to the remote CDB.</p>
</li>
<li>
<p>If the source is a non-CDB, then specify <code dir="ltr">NON$CDB@</code><code dir="ltr"><span class="codeinlineitalic">dblink</span></code>, where dblink is the name of the database link to use to connect to the non-CDB.</p>
</li>
</ul>
<p class="subhead2"><a id="SQLRF56532"></a><span class="italic">pdb_storage_clause</span></p>
<p>Use this clause to specify storage limits for the new PDB. Refer to <a href="#CACJAAGI"><span class="xreftitleitalic"><span class="italic">pdb_storage_clause</span></span></a> for the full semantics of this clause.</p>
<p class="subhead2"><a id="SQLRF56533"></a><span class="italic">file_name_convert</span></p>
<p>Use this clause to determine how the database generates the names of files for the new PDB. Refer to <a href="#CACHDCDF"><span class="xreftitleitalic"><span class="italic">file_name_convert</span></span></a> for the full semantics of this clause.</p>
<p class="subhead2"><a id="SQLRF56534"></a><span class="italic">path_prefix_clause</span></p>
<p>Use this clause to ensure that all directory object paths associated with the PDB are restricted to the specified directory or its subdirectories. Refer to <a href="#CCHIIGHJ"><span class="xreftitleitalic"><span class="italic">path_prefix_clause</span></span></a> for the full semantics of this clause.</p>
<p class="subhead2"><a id="SQLRF56535"></a><span class="italic">tempfile_reuse_clause</span></p>
<p>Specify <code dir="ltr">TEMPFILE</code> <code dir="ltr">REUSE</code> to instruct the database to format and reuse a temp file associated with the new PDB if it already exists. Refer to <a href="#CCHBGHCI"><span class="xreftitleitalic"><span class="italic">tempfile_reuse_clause</span></span></a> for the full semantics of this clause.</p>
<p class="subhead2"><a id="SQLRF56536"></a>SNAPSHOT COPY</p>
<p>You can specify <code dir="ltr">SNAPSHOT</code> <code dir="ltr">COPY</code> only when cloning a PDB. This clause is not supported when cloning a non-CDB. The source PDB can be in the local CDB or a remote CDB. The <code dir="ltr">SNAPSHOT</code> <code dir="ltr">COPY</code> clause instructs the database to clone the source PDB using storage snapshots. This reduces the time required to create the clone because the database does not need to make a complete copy of the source data files.</p>
<p>When you use the <code dir="ltr">SNAPSHOT</code> <code dir="ltr">COPY</code> clause to create a clone of a source PDB and the <code dir="ltr">CLONEDB</code> initialization parameter is set to <code dir="ltr">FALSE</code>, the underlying file system for the source PDB&#39;s files must support storage snapshots. Such file systems include Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and Direct NFS Client storage.</p>
<p>When you use the <code dir="ltr">SNAPSHOT</code> <code dir="ltr">COPY</code> clause to create a clone of a source PDB and the <code dir="ltr">CLONEDB</code> initialization parameter is set to <code dir="ltr">TRUE</code>, the underlying file system for the source PDB&#39;s files can be any local file system, network file system (NFS), or clustered file system that has Direct NFS enabled. However, the source PDB must remain in open read-only mode as long as any clones exist.</p>
<p>Direct NFS Client enables an Oracle database to access network attached storage (NAS) devices directly, rather than using the operating system kernel NFS client. If the PDB files are stored on Direct NFS Client storage, then the following additional requirements must be met:</p>
<ul>
<li>
<p>The source PDB files must be located on an NFS volume.</p>
</li>
<li>
<p>Storage credentials must be stored in a Transparent Data Encryption keystore.</p>
</li>
<li>
<p>The storage user must have the privileges required to create and destroy snapshots on the volume that hosts the source PDB files.</p>
</li>
<li>
<p>Credentials must be stored in the keystore using an <code dir="ltr">ADMINISTER</code> <code dir="ltr">KEY</code> <code dir="ltr">MANAGEMENT</code> <code dir="ltr">ADD</code> <code dir="ltr">SECRET</code> SQL statement.</p>
</li>
</ul>
<p>When you use the <code dir="ltr">SNAPSHOT</code> <code dir="ltr">COPY</code> clause to create a clone of a source PDB, the following restrictions apply to the source PDB as long as any clones exist:</p>
<ul>
<li>
<p>It cannot be unplugged.</p>
</li>
<li>
<p>It cannot be dropped.</p>
</li>
</ul>
<p>PDB clones created using the <code dir="ltr">SNAPSHOT</code> <code dir="ltr">COPY</code> clause cannot be unplugged. They can only be dropped. Attempting to unplug a clone created using the <code dir="ltr">SNAPSHOT</code> <code dir="ltr">COPY</code> clause results in an error.</p>
<p>For a PDB created using the <code dir="ltr">SNAPSHOT</code> <code dir="ltr">COPY</code> clause in an Oracle Real Application Clusters (Oracle RAC) environment, each node that must access the PDB&#39;s files must be mounted. For Oracle RAC databases running on Linux or UNIX platforms, the underlying NFS volumes must be mounted. If the Oracle RAC database is running on a Windows platform and using Direct NFS for shared storage, then you must update the <code dir="ltr">oranfstab</code> file on all nodes with the created volume <code dir="ltr">export</code> and <code dir="ltr">mount</code> entries.</p>
<p>Storage clones are named and tagged using the new PDB GUID. You can query the <code dir="ltr">CLONETAG</code> column of <code dir="ltr">DBA_PDB_HISTORY</code> view to view clone tags for storage clones.</p>
<p class="subhead2"><a id="SQLRF57032"></a>NO DATA</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr">NO</code> <code dir="ltr">DATA</code> clause is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</div>
<p>The <code dir="ltr">NO</code> <code dir="ltr">DATA</code> clause applies only when cloning a PDB. This clause specifies that the source PDB&#39;s data model definition is cloned, but not the PDB&#39;s data. The dictionary data in the source PDB is cloned, but all user-created table and index data from the source PDB is discarded.</p>
<p><a id="SQLRF57033"></a><span class="subhead3">Restrictions on the NO DATA Clause&nbsp;</span>The following restrictions apply to the <code dir="ltr">NO</code> <code dir="ltr">DATA</code> clause:</p>
<ul>
<li>
<p>You cannot specify <code dir="ltr">NO</code> <code dir="ltr">DATA</code> when cloning a non-CDB.</p>
</li>
<li>
<p>You cannot specify <code dir="ltr">NO</code> <code dir="ltr">DATA</code> if the source PDB contains clustered tables, Advanced Queuing (AQ) tables, index-organized tables, or tables that contain abstract data type columns.</p>
</li>
</ul>
<p class="subhead1"><a id="CACJHJFE"></a><a id="SQLRF55790"></a><span class="italic">create_pdb_from_xml</span><a id="sthref5287"></a></p>
<p>This clause enables you to create a PDB by plugging an unplugged PDB or a non-CDB (the source database) into a CDB (the target CDB). If the source database is an unplugged PDB, then it may have been unplugged from the target CDB or a different CDB.</p>
<p>The source database and the target CDB must meet the following requirements:</p>
<ul>
<li>
<p>They must have the same endian format.</p>
</li>
<li>
<p>They must have compatible character sets and national character sets, which means:</p>
<ul>
<li>
<p>Every character in the source database character set is available in the target CDB character set.</p>
</li>
<li>
<p>Every character in the source database character set has the same code point value in the target CDB character set.</p>
</li>
</ul>
</li>
<li>
<p>They must have the same set of database options installed.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><span class="italic">Oracle Database Administrator&#39;s Guide</span> for the complete steps for <a class="olink ADMIN13572" href="../ADMIN/cdb_plug.htm#ADMIN13572">creating a PDB by plugging an unplugged PDB into a CDB</a> and <a class="olink ADMIN13597" href="../ADMIN/cdb_plug.htm#ADMIN13597">creating a PDB using a non-CDB</a></p>
</li>
<li>
<p><a class="olink ARPLS73527" href="../ARPLS/d_pdb.htm#ARPLS73527"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the <code dir="ltr">DBMS_PDB</code> package</p>
</li>
</ul>
</div>
<p class="subhead2"><a id="SQLRF55793"></a>AS CLONE Clause<a id="sthref5288"></a></p>
<p>Specify this clause only if the target CDB already contains a PDB that was created using the same set of data files. The source files remain as an unplugged PDB and can be used again. Specifying <code dir="ltr">AS</code> <code dir="ltr">CLONE</code> also ensures that Oracle Database generates new identifiers, such as DBID and GUID, for the new PDB.</p>
<p class="subhead2"><a id="SQLRF55792"></a>USING Clause<a id="sthref5289"></a><a id="sthref5290"></a></p>
<p>Use <code dir="ltr"><span class="codeinlineitalic">filename</span></code> to specify the name of the XML file that contains the metadata that describes the source database that you are plugging in. The XML file and the files associated with the source database must exist in a location that is accessible to the CDB. You can obtain this file as follows:</p>
<ul>
<li>
<p>If the source database is an unplugged PDB, then the XML metadata file was created by the <code dir="ltr"><span class="codeinlineitalic">pdb_unplug_clause</span></code> of <code dir="ltr">ALTER</code> <code dir="ltr">PLUGGABLE</code> <code dir="ltr">DATABASE</code>.</p>
</li>
<li>
<p>If the source database is a non-CDB, then you must create the XML metadata file using the <code dir="ltr">DBMS_PDB</code> package.</p>
</li>
</ul>
<p class="subhead2"><a id="CCHGAGBC"></a><a id="SQLRF55794"></a><span class="italic">source_file_name_convert</span><a id="sthref5291"></a></p>
<p>Specify this clause only if the contents of the XML file do not accurately describe the locations of the source files. If the files that must be used to plug in the source database are no longer in the location specified in the XML file, then use this clause to map the specified file names to the actual file names.</p>
<ul>
<li>
<p>For <code dir="ltr"><span class="codeinlineitalic">filename_pattern</span></code>, specify the string for the location of the files as specified in the XML file.</p>
</li>
<li>
<p>For <code dir="ltr"><span class="codeinlineitalic">replacement_filename_pattern</span></code>, specify the string for the actual location that contains the files that must be used to create the PDB.</p>
</li>
</ul>
<p>Oracle Database will replace <code dir="ltr"><span class="codeinlineitalic">filename_pattern</span></code> with <code dir="ltr"><span class="codeinlineitalic">replacement_filename_pattern</span></code> when searching for the source database files.</p>
<p>File name patterns cannot match files or directories managed by Oracle Managed Files.</p>
<p>If the files that must be used to create the PDB exist in the location specified in the XML file, you can either omit this clause or specify <code dir="ltr">SOURCE_FILE_NAME_CONVERT=NONE</code>.</p>
<p class="subhead2"><a id="CACJGFJC"></a><a id="SQLRF57048"></a><span class="italic">source_file_directory</span></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr"><span class="codeinlineitalic">source_file_directory</span></code> clause is available starting with Oracle Database 12c Release 1 (12.1.0.2).</div>
<p>Specify this clause only if the contents of the XML file do not accurately describe the locations of the source files <span class="italic">and</span> the source files are all present in a single directory. This clause is convenient when you have a large number of data files and specifying a replacement file name pattern for each file using the <code dir="ltr"><span class="codeinlineitalic">source_file_name_convert</span></code> clause is not feasible.</p>
<ul>
<li>
<p>For <code dir="ltr"><span class="codeinlineitalic">directory_path_name</span></code>, specify the absolute path of the directory that contains the source files. The directory is scanned to find the appropriate files based on the unplugged PDB&#39;s XML file.</p>
</li>
</ul>
<p>You can specify this clause for configurations that use Oracle Managed Files and for configurations that do not use Oracle Managed Files.</p>
<p>If the files that must be used to create the PDB exist in the location specified in the XML file, you can either omit this clause or specify <code dir="ltr">SOURCE_FILE_DIRECTORY=NONE</code>.</p>
<p class="subhead2"><a id="SQLRF55796"></a>COPY Clause<a id="sthref5292"></a></p>
<p>Specify <code dir="ltr">COPY</code> if you want the files listed in the XML file to be copied to the new location and used for the new PDB. This is the default. You can use the optional <code dir="ltr"><span class="codeinlineitalic">file_name_convert</span></code> clause to use pattern replacement in the new file names. Refer to <a href="#CACHDCDF"><span class="xreftitleitalic"><span class="italic">file_name_convert</span></span></a> for the full semantics of this clause.</p>
<p class="subhead2"><a id="SQLRF55797"></a>MOVE Clause<a id="sthref5293"></a></p>
<p>Specify <code dir="ltr">MOVE</code> if you want the files listed in the XML file to be moved, rather than copied, to the new location and used for the new PDB. You can use the optional <code dir="ltr"><span class="codeinlineitalic">file_name_convert</span></code> clause to use pattern replacement in the new file names. Refer to <a href="#CACHDCDF"><span class="xreftitleitalic"><span class="italic">file_name_convert</span></span></a> for the full semantics of this clause.</p>
<p class="subhead2"><a id="SQLRF55795"></a>NOCOPY Clause<a id="sthref5294"></a></p>
<p>Specify <code dir="ltr">NOCOPY</code> if you want the files for the PDB to remain in their current locations. Use this clause if there is no need to copy or move the files required to plug in the PDB.</p>
<p class="subhead2"><a id="SQLRF56537"></a><span class="italic">pdb_storage_clause</span></p>
<p>Use this clause to specify storage limits for the new PDB. Refer to <a href="#CACJAAGI"><span class="xreftitleitalic"><span class="italic">pdb_storage_clause</span></span></a> for the full semantics of this clause.</p>
<p class="subhead2"><a id="SQLRF56538"></a><span class="italic">path_prefix_clause</span></p>
<p>Use this clause to ensure that all directory object paths associated with the PDB are restricted to the specified directory or its subdirectories. Refer to <a href="#CCHIIGHJ"><span class="xreftitleitalic"><span class="italic">path_prefix_clause</span></span></a> for the full semantics of this clause.</p>
<p class="subhead2"><a id="SQLRF56539"></a><span class="italic">tempfile_reuse_clause</span></p>
<p>Specify <code dir="ltr">TEMPFILE</code> <code dir="ltr">REUSE</code> to instruct the database to format and reuse a temp file associated with the new PDB if it already exists. Refer to <a href="#CCHBGHCI"><span class="xreftitleitalic"><span class="italic">tempfile_reuse_clause</span></span></a> for the full semantics of this clause.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5295"></a>Examples<a id="sthref5296"></a></p>
<p><a id="SQLRF55803"></a><span class="subhead3">Creating a PDB by Using the Seed: Example&nbsp;</span>The following statement creates a PDB <code dir="ltr">salespdb</code> by using the seed in the CDB as a template. The administrative user <code dir="ltr">salesadm</code> is created and granted the <code dir="ltr">dba</code> role. The default tablespace assigned to any non-<code dir="ltr">SYSTEM</code> users for whom no permanent tablespace is assigned is <code dir="ltr">sales</code>. File names for the new PDB will be constructed by replacing <code dir="ltr">/disk1/oracle/dbs/pdbseed/</code> in the file names in the seed with <code dir="ltr">/disk1/oracle/dbs/salespdb/</code>. All tablespaces that belong to <code dir="ltr">sales</code> must not exceed 2G. The location of all directory object paths associated with <code dir="ltr">salespdb</code> are restricted to the directory <code dir="ltr">/disk1/oracle/dbs/salespdb/</code>.</p>
<pre dir="ltr">CREATE PLUGGABLE DATABASE salespdb
  ADMIN USER salesadm IDENTIFIED BY <span class="italic">password</span>
  ROLES = (dba)
  DEFAULT TABLESPACE sales
    DATAFILE &#39;/disk1/oracle/dbs/salespdb/sales01.dbf&#39; SIZE 250M AUTOEXTEND ON
  FILE_NAME_CONVERT = (&#39;/disk1/oracle/dbs/pdbseed/&#39;,
                       &#39;/disk1/oracle/dbs/salespdb/&#39;)
  STORAGE (MAXSIZE 2G)
  PATH_PREFIX = &#39;/disk1/oracle/dbs/salespdb/&#39;;
</pre>
<p><a id="SQLRF55804"></a><span class="subhead3">Cloning a PDB From an Existing PDB: Example&nbsp;</span>The following statement creates a PDB <code dir="ltr">newpdb</code> by cloning PDB <code dir="ltr">salespdb</code>. PDBs <code dir="ltr">newpdb</code> and <code dir="ltr">salespdb</code> are in the same CDB. Because no storage limits are explicitly specified, there is no limit on the amount of storage for <code dir="ltr">newpdb</code>. The files are copied from <code dir="ltr">/disk1/oracle/dbs/salespdb/</code> to <code dir="ltr">/disk1/oracle/dbs/newpdb/</code>. The location of all directory object paths associated with <code dir="ltr">newpdb</code> are restricted to the directory <code dir="ltr">/disk1/oracle/dbs/newpdb/</code>.</p>
<pre dir="ltr">CREATE PLUGGABLE DATABASE newpdb FROM salespdb
  FILE_NAME_CONVERT = (&#39;/disk1/oracle/dbs/salespdb/&#39;, &#39;/disk1/oracle/dbs/newpdb/&#39;)
  PATH_PREFIX = &#39;/disk1/oracle/dbs/newpdb&#39;;
</pre>
<p><a id="SQLRF55805"></a><span class="subhead3">Plugging a PDB into a CDB: Example&nbsp;</span>The following statement plugs the PDB <code dir="ltr">salespdb</code>, which was previously unplugged, into the CDB. The details about the metadata describing <code dir="ltr">salespdb</code> are stored in the XML file <code dir="ltr">/disk1/usr/salespdb.xml</code>. The XML file does not accurately describe the current locations of the files. Therefore, the <code dir="ltr">SOURCE_FILE_NAME_CONVERT</code> clause is used to indicate that the files are in <code dir="ltr">/disk2/oracle/dbs/salespdb/</code>, not <code dir="ltr">/disk1/oracle/dbs/salespdb/</code>. The <code dir="ltr">NOCOPY</code> clause indicates that the files are already in the correct location. All tablespaces that belong to <code dir="ltr">sales</code> must not exceed 2G. A file with the same name as the temp file specified in the XML file exists in the target location. Therefore, the <code dir="ltr">TEMPFILE</code> <code dir="ltr">REUSE</code> clause is required.</p>
<pre dir="ltr">CREATE PLUGGABLE DATABASE salespdb
  USING &#39;/disk1/usr/salespdb.xml&#39;
  SOURCE_FILE_NAME_CONVERT =
    (&#39;/disk1/oracle/dbs/salespdb/&#39;, &#39;/disk2/oracle/dbs/salespdb/&#39;)
  NOCOPY
  STORAGE (MAXSIZE 2G)
  TEMPFILE REUSE;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_6009.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_6011.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
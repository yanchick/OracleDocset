<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103577"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/TRUNCATE%20TABLE"></a><title>TRUNCATE TABLE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:53:4Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_10006.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_10008.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">520/555</span> <!-- End Header --><a id="i2067571"></a>
<div id="SQLRF01707" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">TRUNCATE TABLE <a id="sthref7524"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7525"></a>Purpose</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
You cannot roll back a <code dir="ltr">TRUNCATE</code> <code dir="ltr">TABLE</code> statement, nor can you use a <code dir="ltr">FLASHBACK</code> <code dir="ltr">TABLE</code> statement to retrieve the contents of a table that has been truncated.</div>
<p><a id="sthref7526"></a><a id="sthref7527"></a><a id="sthref7528"></a>Use the <code dir="ltr">TRUNCATE</code> <code dir="ltr">TABLE</code> statement to remove all rows from a table. By default, Oracle Database also performs the following tasks:</p>
<ul>
<li>
<p>Deallocates all space used by the removed rows except that specified by the <code dir="ltr">MINEXTENTS</code> storage parameter</p>
</li>
<li>
<p>Sets the <code dir="ltr">NEXT</code> storage parameter to the size of the last extent removed from the segment by the truncation process</p>
</li>
</ul>
<p>Removing rows with the <code dir="ltr">TRUNCATE</code> <code dir="ltr">TABLE</code> statement can be more efficient than dropping and re-creating a table. Dropping and re-creating a table invalidates dependent objects of the table, requires you to regrant object privileges on the table, and requires you to re-create the indexes, integrity constraints, and triggers on the table and respecify its storage parameters. Truncating has none of these effects.</p>
<p>Removing rows with the <code dir="ltr">TRUNCATE</code> <code dir="ltr">TABLE</code> statement can be faster than removing all rows with the <code dir="ltr">DELETE</code> statement, especially if the table has numerous triggers, indexes, and other dependencies.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="statements_8005.htm#i2117787">DELETE</a> and <a href="statements_9003.htm#i2061306">DROP TABLE</a> for information on other ways of removing data from a table</p>
</li>
<li>
<p><a href="statements_10006.htm#CHDJGBCC">TRUNCATE CLUSTER</a> for information on truncating a cluster</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7529"></a>Prerequisites</p>
<p>To truncate a table, the table must be in your schema or you must have the <code dir="ltr">DROP</code> <code dir="ltr">ANY</code> <code dir="ltr">TABLE</code> system privilege.</p>
<p>To specify the <code dir="ltr">CASCADE</code> clause, all affected child tables must be in your schema or you must have the <code dir="ltr">DROP</code> <code dir="ltr">ANY</code> <code dir="ltr">TABLE</code> system privilege.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDDGIHF">&#34;Restrictions on Truncating Tables&#34;</a></div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7530"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF55432"></a><span class="italic">truncate_table</span>::=</p>
<img width="741" height="208" src="img/truncate_table.gif" alt="Description of truncate_table.gif follows"/><br/>
<a id="sthref7531" href="img_text/truncate_table.htm">Description of the illustration &#39;&#39;truncate_table.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7532"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF55433"></a>TABLE Clause <a id="sthref7533"></a></p>
<p>Specify the schema and name of the table to be truncated. This table cannot be part of a cluster. If you omit <code dir="ltr"><span class="codeinlineitalic">schema</span></code>, then Oracle Database assumes the table is in your own schema.</p>
<ul>
<li>
<p>You can truncate index-organized tables and temporary tables. When you truncate a temporary table, only the rows created during the current session are removed.</p>
</li>
<li>
<p>Oracle Database changes the <code dir="ltr">NEXT</code> storage parameter of <code dir="ltr"><span class="codeinlineitalic">table</span></code> to be the size of the last extent deleted from the segment in the process of truncation.</p>
</li>
<li>
<p>Oracle Database also automatically truncates and resets any existing <code dir="ltr">UNUSABLE</code> indicators for the following indexes on <code dir="ltr"><span class="codeinlineitalic">table</span></code>: range and hash partitions of local indexes and subpartitions of local indexes.</p>
</li>
<li>
<p>If <code dir="ltr"><span class="codeinlineitalic">table</span></code> is not empty, then the database marks <code dir="ltr">UNUSABLE</code> all nonpartitioned indexes and all partitions of global partitioned indexes on the table. However, when the table is truncated, the index is also truncated, and a new high water mark is calculated for the index segment. This operation is equivalent to creating a new segment for the index. Therefore, at the end of the truncate operation, the indexes are once again <code dir="ltr">USABLE</code>.</p>
</li>
<li>
<p>For a domain index, this statement invokes the appropriate truncate routine to truncate the domain index data.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADDCI270" href="../ADDCI/ext_idx_frmwork.htm#ADDCI270"><span class="italic">Oracle Database Data Cartridge Developer&#39;s Guide</span></a> for more information on domain indexes</div>
</li>
<li>
<p>If a regular or index-organized table contains LOB columns, then all LOB data and LOB index segments are truncated.</p>
</li>
<li>
<p>If <code dir="ltr"><span class="codeinlineitalic">table</span></code> is partitioned, then all partitions or subpartitions, as well as the LOB data and LOB index segments for each partition or subpartition, are truncated.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you truncate a table, Oracle Database automatically removes all data in the table&#39;s indexes and any materialized view direct-path <code dir="ltr">INSERT</code> information held in association with the table. This information is independent of any materialized view log. If this direct-path <code dir="ltr">INSERT</code> information is removed, then an incremental refresh of the materialized view may lose data.</div>
</li>
<li>
<p>All cursors are invalidated.</p>
</li>
</ul>
<p><a id="CHDDGIHF"></a><a id="SQLRF55434"></a><span class="subhead3">Restrictions on Truncating Tables&nbsp;</span>This statement is subject to the following restrictions:</p>
<ul>
<li>
<p>You cannot roll back a <code dir="ltr">TRUNCATE</code> <code dir="ltr">TABLE</code> statement.</p>
</li>
<li>
<p>You cannot flash back to the state of the table before the truncate operation.</p>
</li>
<li>
<p>You cannot individually truncate a table that is part of a cluster. You must either truncate the cluster, delete all rows from the table, or drop and re-create the table.</p>
</li>
<li>
<p>You cannot truncate the parent table of an enabled foreign key constraint. You must disable the constraint before truncating the table. An exception is that you can truncate the table if the integrity constraint is self-referential.</p>
</li>
<li>
<p>If a domain index is defined on <code dir="ltr"><span class="codeinlineitalic">table</span></code>, then neither the index nor any index partitions can be marked <code dir="ltr">IN_PROGRESS</code>.</p>
</li>
<li>
<p>You cannot truncate the parent table of a reference-partitioned table. You must first drop the reference-partitioned child table.</p>
</li>
</ul>
<p class="subhead1"><a id="SQLRF55435"></a>MATERIALIZED VIEW LOG Clause</p>
<p>The <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> <code dir="ltr">LOG</code> clause lets you specify whether a materialized view log defined on the table is to be preserved or purged when the table is truncated. This clause permits materialized view master tables to be reorganized through export or import without affecting the ability of primary key materialized views defined on the master to be fast refreshed. To support continued fast refresh of primary key materialized views, the materialized view log must record primary key information.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The keyword <code dir="ltr">SNAPSHOT</code> is supported in place of <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> for backward compatibility.</div>
<p><a id="SQLRF55436"></a><span class="subhead3">PRESERVE&nbsp;</span>Specify <code dir="ltr">PRESERVE</code> if any materialized view log should be preserved when the master table is truncated. This is the default.</p>
<p><a id="SQLRF55437"></a><span class="subhead3">PURGE&nbsp;</span>Specify <code dir="ltr">PURGE</code> if any materialized view log should be purged when the master table is truncated.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REPLN008" href="../REPLN/reptrouble.htm#REPLN008"><span class="italic">Oracle Database Advanced Replication</span></a> for more information about materialized view logs and the <code dir="ltr">TRUNCATE</code> statement</div>
<p class="subhead1"><a id="SQLRF55438"></a>STORAGE Clauses</p>
<p>The <code dir="ltr">STORAGE</code> clauses let you determine what happens to the space freed by the truncated rows. The <code dir="ltr">DROP</code> <code dir="ltr">STORAGE</code> clause, <code dir="ltr">DROP</code> <code dir="ltr">ALL</code> <code dir="ltr">STORAGE</code> clause, and <code dir="ltr">REUSE</code> <code dir="ltr">STORAGE</code> clause also apply to the space freed by the data deleted from associated indexes.</p>
<p><a id="SQLRF55439"></a><span class="subhead3">DROP STORAGE&nbsp;</span>Specify <code dir="ltr">DROP</code> <code dir="ltr">STORAGE</code> to deallocate all space from the deleted rows from the table except the space allocated by the <code dir="ltr">MINEXTENTS</code> parameter of the table. This space can subsequently be used by other objects in the tablespace. Oracle Database also sets the <code dir="ltr">NEXT</code> storage parameter to the size of the last extent removed from the segment in the truncation process. This setting, which is the default, is useful for small and medium-sized objects. The extent management in locally managed tablespace is very fast in these cases, so there is no need to reserve space.</p>
<p><a id="BABDDJHB"></a><a id="SQLRF55619"></a><span class="subhead3">DROP ALL STORAGE&nbsp;</span>Specify <code dir="ltr">DROP</code> <code dir="ltr">ALL</code> <code dir="ltr">STORAGE</code> to deallocate all space from the deleted rows from the table, including the space allocated by the <code dir="ltr">MINEXTENTS</code> parameter. All segments for the table, as well as all segments for its dependent objects, will be deallocated.</p>
<p><a id="SQLRF55620"></a><span class="subhead3">Restrictions on DROP ALL STORAGE&nbsp;</span>This clause is subject to the same restrictions as described in <a href="statements_7002.htm#CJAIJAHI">&#34;Restrictions on Deferred Segment Creation&#34;</a>.</p>
<p><a id="SQLRF55440"></a><span class="subhead3">REUSE STORAGE&nbsp;</span>Specify <code dir="ltr">REUSE</code> <code dir="ltr">STORAGE</code> to retain the space from the deleted rows allocated to the table. Storage values are not reset to the values when the table was created. This space can subsequently be used only by new data in the table resulting from insert or update operations. This clause leaves storage parameters at their current settings.</p>
<p>This setting is useful as an alternative to deleting all rows of a very large table&mdash;when the number of rows is very large, the table entails many thousands of extents, and when data is to be reinserted in the future.</p>
<p>This clause is not valid for temporary tables. A session becomes unbound from the temporary table when the table is truncated, so the storage is automatically dropped.</p>
<p>If you have specified more than one free list for the object you are truncating, then the <code dir="ltr">REUSE</code> <code dir="ltr">STORAGE</code> clause also removes any mapping of free lists to instances and resets the high-water mark to the beginning of the first extent.</p>
<p class="subhead1"><a id="BABICFJG"></a><a id="SQLRF55871"></a>CASCADE</p>
<p>If you specify <code dir="ltr">CASCADE</code>, then Oracle Database truncates all child tables that reference <code dir="ltr"><span class="codeinlineitalic">table</span></code> with an enabled <code dir="ltr">ON</code> <code dir="ltr">DELETE</code> <code dir="ltr">CASCADE</code> referential constraint. This is a recursive operation that will truncate all child tables, granchild tables, and so on, using the specified options.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="i2067695"></a>Examples</p>
<p><a id="SQLRF55441"></a><span class="subhead3">Truncating a Table: Example&nbsp;</span>The following statement removes all rows from a hypothetical copy of the sample table <code dir="ltr">hr.employees</code> and returns the freed space to the tablespace containing <code dir="ltr">employees</code>:</p>
<pre dir="ltr">TRUNCATE TABLE employees_demo; 
</pre>
<p>The preceding statement also removes all data from all indexes on <code dir="ltr">employees</code> and returns the freed space to the tablespaces containing them.</p>
<p><a id="i2067709"></a><a id="SQLRF55442"></a><span class="subhead3">Preserving Materialized View Logs After Truncate: Example&nbsp;</span>The following statements are examples of <code dir="ltr">TRUNCATE</code> statements that preserve materialized view logs:</p>
<pre dir="ltr">TRUNCATE TABLE sales_demo PRESERVE MATERIALIZED VIEW LOG; 

TRUNCATE TABLE orders_demo;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_10006.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_10008.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-102244"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/REGEXP_INSTR"></a><title>REGEXP_INSTR</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:19Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="functions161.htm" title="Previous" type="text/html"/>
<link rel="Next" href="functions163.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">235/555</span> <!-- End Header --><a id="i1239887"></a>
<div id="SQLRF06300" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">REGEXP_INSTR <a id="sthref1797"></a><a id="sthref1798"></a></h1>
<p class="subhead1"><a id="SQLRF51686"></a>Syntax</p>
<img width="817" height="183" src="img/regexp_instr.gif" alt="Description of regexp_instr.gif follows"/><br/>
<a id="sthref1799" href="img_text/regexp_instr.htm">Description of the illustration &#39;&#39;regexp_instr.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead1"><a id="SQLRF51687"></a>Purpose</p>
<p><code dir="ltr">REGEXP_INSTR</code> extends the functionality of the <code dir="ltr">INSTR</code> function by letting you search a string for a regular expression pattern. The function evaluates strings using characters as defined by the input character set. It returns an integer indicating the beginning or ending position of the matched substring, depending on the value of the <code dir="ltr"><span class="codeinlineitalic">return_option</span></code> argument. If no match is found, then the function returns 0.</p>
<p>This function complies with the POSIX regular expression standard and the Unicode Regular Expression Guidelines. For more information, refer to <a href="ap_posix.htm#g693775">Appendix D, &#34;Oracle Regular Expression Support&#34;</a>.</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">source_char</span></code> is a character expression that serves as the search value. It is commonly a character column and can be of any of the data types <code dir="ltr">CHAR</code>, <code dir="ltr">VARCHAR2</code>, <code dir="ltr">NCHAR</code>, <code dir="ltr">NVARCHAR2</code>, <code dir="ltr">CLOB</code>, or <code dir="ltr">NCLOB</code>.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">pattern</span></code> is the regular expression. It is usually a text literal and can be of any of the data types <code dir="ltr">CHAR</code>, <code dir="ltr">VARCHAR2</code>, <code dir="ltr">NCHAR</code>, or <code dir="ltr">NVARCHAR2</code>. It can contain up to 512 bytes. If the data type of <code dir="ltr"><span class="codeinlineitalic">pattern</span></code> is different from the data type of <code dir="ltr"><span class="codeinlineitalic">source_char</span></code>, then Oracle Database converts <code dir="ltr"><span class="codeinlineitalic">pattern</span></code> to the data type of <code dir="ltr"><span class="codeinlineitalic">source_char</span></code>. For a listing of the operators you can specify in <code dir="ltr"><span class="codeinlineitalic">pattern</span></code>, refer to <a href="ap_posix.htm#g693775">Appendix D, &#34;Oracle Regular Expression Support&#34;</a>.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">position</span></code> is a positive integer indicating the character of <code dir="ltr"><span class="codeinlineitalic">source_char</span></code> where Oracle should begin the search. The default is 1, meaning that Oracle begins the search at the first character of <code dir="ltr"><span class="codeinlineitalic">source_char</span></code>.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">occurrence</span></code> is a positive integer indicating which occurrence of <code dir="ltr"><span class="codeinlineitalic">pattern</span></code> in <code dir="ltr"><span class="codeinlineitalic">source_char</span></code> Oracle should search for. The default is 1, meaning that Oracle searches for the first occurrence of <code dir="ltr"><span class="codeinlineitalic">pattern</span></code>. If <code dir="ltr"><span class="codeinlineitalic">occurrence</span></code> is greater than 1, then the database searches for the second occurrence beginning with the first character following the first occurrence of <code dir="ltr"><span class="codeinlineitalic">pattern</span></code>, and so forth. This behavior is different from the <code dir="ltr">INSTR</code> function, which begins its search for the second occurrence at the second character of the first occurrence.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">return_option</span></code> lets you specify what Oracle should return in relation to the occurrence:</p>
<ul>
<li>
<p>If you specify 0, then Oracle returns the position of the first character of the occurrence. This is the default.</p>
</li>
<li>
<p>If you specify 1, then Oracle returns the position of the character following the occurrence.</p>
</li>
</ul>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">match_parameter</span></code> is a text literal that lets you change the default matching behavior of the function. The behavior of this parameter is the same for this function as for <code dir="ltr">REGEXP_COUNT</code>. Refer to <a href="functions161.htm#CIHDAIHJ">REGEXP_COUNT</a> for detailed information.</p>
</li>
<li>
<p><a id="sthref1800"></a><a id="sthref1801"></a>For a <code dir="ltr"><span class="codeinlineitalic">pattern</span></code> with subexpressions, <code dir="ltr"><span class="codeinlineitalic">subexpr</span></code> is an integer from 0 to 9 indicating which subexpression in <code dir="ltr"><span class="codeinlineitalic">pattern</span></code> is the target of the function. The <code dir="ltr"><span class="codeinlineitalic">subexpr</span></code> is a fragment of pattern enclosed in parentheses. Subexpressions can be nested. Subexpressions are numbered in order in which their left parentheses appear in pattern. For example, consider the following expression:</p>
<pre dir="ltr">0123(((abc)(de)f)ghi)45(678)
</pre>
<p>This expression has five subexpressions in the following order: &#34;abcdefghi&#34; followed by &#34;abcdef&#34;, &#34;abc&#34;, &#34;de&#34; and &#34;678&#34;.</p>
<p>If <code dir="ltr"><span class="codeinlineitalic">subexpr</span></code> is zero, then the position of the entire substring that matches the <code dir="ltr"><span class="codeinlineitalic">pattern</span></code> is returned. If <code dir="ltr"><span class="codeinlineitalic">subexpr</span></code> is greater than zero, then the position of the substring fragment that corresponds to subexpression number <code dir="ltr"><span class="codeinlineitalic">subexpr</span></code> in the matched substring is returned. If <code dir="ltr"><span class="codeinlineitalic">pattern</span></code> does not have at least <code dir="ltr"><span class="codeinlineitalic">subexpr</span></code> subexpressions, the function returns zero. A null <code dir="ltr"><span class="codeinlineitalic">subexpr</span></code> value returns <code dir="ltr">NULL</code>. The default value for <code dir="ltr"><span class="codeinlineitalic">subexpr</span></code> is zero.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="functions089.htm#i77598">INSTR</a> and <a href="functions164.htm#i1239858">REGEXP_SUBSTR</a></p>
</li>
<li>
<p><a href="functions163.htm#i1305521">REGEXP_REPLACE</a> and <a href="conditions007.htm#i1048942">REGEXP_LIKE Condition</a></p>
</li>
</ul>
</div>
<p class="subhead1"><a id="SQLRF51688"></a>Examples</p>
<p>The following example examines the string, looking for occurrences of one or more non-blank characters. Oracle begins searching at the first character in the string and returns the starting position (default) of the sixth occurrence of one or more non-blank characters.</p>
<pre dir="ltr">SELECT
  REGEXP_INSTR(&#39;500 Oracle Parkway, Redwood Shores, CA&#39;,
               &#39;[^ ]+&#39;, 1, 6) &#34;REGEXP_INSTR&#34;
  FROM DUAL;

REGEXP_INSTR
------------
          37
</pre>
<p>The following example examines the string, looking for occurrences of words beginning with <code dir="ltr">s</code>, <code dir="ltr">r</code>, or <code dir="ltr">p</code>, regardless of case, followed by any six alphabetic characters. Oracle begins searching at the third character in the string and returns the position in the string of the character following the second occurrence of a seven-letter word beginning with <code dir="ltr">s</code>, <code dir="ltr">r</code>, or <code dir="ltr">p</code>, regardless of case.</p>
<pre dir="ltr">SELECT
  REGEXP_INSTR(&#39;500 Oracle Parkway, Redwood Shores, CA&#39;,
               &#39;[s|r|p][[:alpha:]]{6}&#39;, 3, 2, 1, &#39;i&#39;) &#34;REGEXP_INSTR&#34;
  FROM DUAL;

REGEXP_INSTR
------------
          28
</pre>
<p>The following examples use the <code dir="ltr"><span class="codeinlineitalic">subexpr</span></code> argument to search for a particular subexpression in <code dir="ltr"><span class="codeinlineitalic">pattern</span></code>. The first statement returns the position in the source string of the first character in the first subexpression, which is &#39;123&#39;:</p>
<pre dir="ltr">SELECT REGEXP_INSTR(&#39;1234567890&#39;, &#39;(123)(4(56)(78))&#39;, 1, 1, 0, &#39;i&#39;, 1) 
&#34;REGEXP_INSTR&#34; FROM DUAL;

REGEXP_INSTR
-------------------
1
</pre>
<p>The next statement returns the position in the source string of the first character in the second subexpression, which is &#39;45678&#39;:</p>
<pre dir="ltr">SELECT REGEXP_INSTR(&#39;1234567890&#39;, &#39;(123)(4(56)(78))&#39;, 1, 1, 0, &#39;i&#39;, 2) 
&#34;REGEXP_INSTR&#34; FROM DUAL;

REGEXP_INSTR
-------------------
4
</pre>
<p>The next statement returns the position in the source string of the first character in the fourth subexpression, which is &#39;78&#39;:</p>
<pre dir="ltr">SELECT REGEXP_INSTR(&#39;1234567890&#39;, &#39;(123)(4(56)(78))&#39;, 1, 1, 0, &#39;i&#39;, 4) 
&#34;REGEXP_INSTR&#34; FROM DUAL;

REGEXP_INSTR
-------------------
7
</pre></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="functions161.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="functions163.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-102354"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/About%20User-Defined%20Functions"></a><title>About User-Defined Functions</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:23Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="functions271.htm" title="Previous" type="text/html"/>
<link rel="Next" href="clauses.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">345/555</span> <!-- End Header --><a id="i1012049"></a>
<div id="SQLRF06181" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">About User-Defined Functions <a id="sthref2215"></a><a id="sthref2216"></a></h1>
<p>You can write user-defined functions in PL/SQL, Java, or C to provide functionality that is not available in SQL or SQL built-in functions. User-defined functions can appear in a SQL statement wherever an expression can occur.</p>
<p>For example, user-defined functions can be used in the following:</p>
<ul>
<li>
<p>The select list of a <code dir="ltr">SELECT</code> statement</p>
</li>
<li>
<p>The condition of a <code dir="ltr">WHERE</code> clause</p>
</li>
<li>
<p><code dir="ltr">CONNECT</code> <code dir="ltr">BY</code>, <code dir="ltr">START</code> <code dir="ltr">WITH</code>, <code dir="ltr">ORDER</code> <code dir="ltr">BY</code>, and <code dir="ltr">GROUP</code> <code dir="ltr">BY</code> clauses</p>
</li>
<li>
<p>The <code dir="ltr">VALUES</code> clause of an <code dir="ltr">INSERT</code> statement</p>
</li>
<li>
<p>The <code dir="ltr">SET</code> clause of an <code dir="ltr">UPDATE</code> statement</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle SQL does not support calling of functions with Boolean parameters or returns. Therefore, if your user-defined functions will be called from SQL statements, you must design them to return numbers (0 or 1) or character strings (&#39;<code dir="ltr">TRUE</code>&#39; or &#39;<code dir="ltr">FALSE</code>&#39;).</div>
<p class="subhead2"><a id="SQLRF52060"></a><span class="italic">user_defined_function</span>::=</p>
<img width="577" height="218" src="img/user_defined_function.gif" alt="Description of user_defined_function.gif follows"/><br/>
<a id="sthref2217" href="img_text/user_defined_function.htm">Description of the illustration &#39;&#39;user_defined_function.gif&#39;&#39;</a><br/>
<br/>
<p>The optional expression list must match attributes of the function, package, or operator.</p>
<p><a id="SQLRF52061"></a><span class="subhead3">Restriction on User-defined Functions&nbsp;</span>The <code dir="ltr">DISTINCT</code> and <code dir="ltr">ALL</code> keywords are valid only with a user-defined aggregate function.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="statements_5012.htm#i2153260">CREATE FUNCTION</a> for information on creating functions, including restrictions on user-defined functions</p>
</li>
<li>
<p><a class="olink ADFNS009" href="../ADFNS/adfns_packages.htm#ADFNS009"><span class="italic">Oracle Database Development Guide</span></a> for a complete discussion of the creation and use of user functions</p>
</li>
</ul>
</div>
<div id="SQLRF52062" class="refsect2"><a id="sthref2218"></a>
<h2 class="refsect2">Prerequisites</h2>
<p>User-defined functions must be created as top-level functions or declared with a package specification before they can be named within a SQL statement.</p>
<p>To use a user function in a SQL expression, you must own or have <code dir="ltr">EXECUTE</code> privilege on the user function. To query a view defined with a user function, you must have the <code dir="ltr">READ</code> or <code dir="ltr">SELECT</code> privilege on the view. No separate <code dir="ltr">EXECUTE</code> privileges are needed to select from the view.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_5012.htm#i2153260">CREATE FUNCTION</a> for information on creating top-level functions and <a href="statements_6007.htm#i2091914">CREATE PACKAGE</a> for information on specifying packaged functions</div>
</div>
<!-- class="refsect2" -->
<div id="SQLRF52063" class="refsect2"><a id="sthref2219"></a>
<h2 class="refsect2">Name Precedence <a id="sthref2220"></a></h2>
<p>Within a SQL statement, the names of database columns take precedence over the names of functions with no parameters. For example, if the Human Resources manager creates the following two objects in the <code dir="ltr">hr</code> schema:</p>
<pre dir="ltr">CREATE TABLE new_emps (new_sal NUMBER, ...);
CREATE FUNCTION new_sal RETURN NUMBER IS <span class="italic">BEGIN ... END</span>;
</pre>
<p>then in the following two statements, the reference to <code dir="ltr">new_sal</code> refers to the column <code dir="ltr">new_emps.new_sal</code>:</p>
<pre dir="ltr">SELECT new_sal FROM new_emps;
SELECT new_emps.new_sal FROM new_emps;
</pre>
<p>To access the function <code dir="ltr">new_sal</code>, you would enter:</p>
<pre dir="ltr">SELECT hr.new_sal FROM new_emps;
</pre>
<p>Here are some sample calls to user functions that are allowed in SQL expressions:</p>
<pre dir="ltr">circle_area (radius)
payroll.tax_rate (empno)
hr.employees.tax_rate (dependent, empno)@remote
</pre>
<p><a id="SQLRF52064"></a><span class="subhead3">Example&nbsp;</span>To call the <code dir="ltr">tax_rate</code> user function from schema <code dir="ltr">hr</code>, execute it against the <code dir="ltr">ss_no</code> and <code dir="ltr">sal</code> columns in <code dir="ltr">tax_table</code>, specify the following:</p>
<pre dir="ltr">SELECT hr.tax_rate (ss_no, sal)
    <span class="italic">INTO income_tax</span>
    FROM tax_table WHERE ss_no = tax_id;
</pre>
<p>The <code dir="ltr">INTO</code> clause is PL/SQL that lets you place the results into the variable <code dir="ltr">income_tax</code>.</p>
<div id="SQLRF52065" class="refsect3"><a id="sthref2221"></a>
<h3 class="refsect3">Naming Conventions <a id="sthref2222"></a></h3>
<p>If only one of the optional schema or package names is given, then the first identifier can be either a schema name or a package name. For example, to determine whether <code dir="ltr">PAYROLL</code> in the reference <code dir="ltr">PAYROLL</code>.<code dir="ltr">TAX_RATE</code> is a schema or package name, Oracle Database proceeds as follows:</p>
<ol>
<li>
<p>Check for the <code dir="ltr">PAYROLL</code> package in the current schema.</p>
</li>
<li>
<p>If a <code dir="ltr">PAYROLL</code> package is not found, then look for a schema name <code dir="ltr">PAYROLL</code> that contains a top-level <code dir="ltr">TAX_RATE</code> function. If no such function is found, then return an error.</p>
</li>
<li>
<p>If the <code dir="ltr">PAYROLL</code> package is found in the current schema, then look for a <code dir="ltr">TAX_RATE</code> function in the <code dir="ltr">PAYROLL</code> package. If no such function is found, then return an error.</p>
</li>
</ol>
<p>You can also refer to a stored top-level function using any synonym that you have defined for it.</p>
</div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<!-- class="chapter" -->
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="functions271.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="clauses.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
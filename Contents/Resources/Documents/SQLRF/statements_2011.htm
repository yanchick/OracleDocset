<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103604"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/ALTER%20RESOURCE%20COST"></a><title>ALTER RESOURCE COST</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:34Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_2010.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_2012.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">393/555</span> <!-- End Header --><a id="i2227717"></a>
<div id="SQLRF00814" class="refsect1">
<h1 class="refsect1">ALTER RESOURCE COST <a id="sthref3483"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3484"></a>Purpose</p>
<p><a id="sthref3485"></a><a id="sthref3486"></a>Use the <code dir="ltr">ALTER</code> <code dir="ltr">RESOURCE</code> <code dir="ltr">COST</code> statement to specify or change the formula by which Oracle Database calculates the total resource cost used in a session.</p>
<p>Although Oracle Database monitors the use of other resources, only the four resources shown in the syntax can contribute to the total resource cost for a session.</p>
<p><a id="sthref3487"></a>This statement lets you apply weights to the four resources. Oracle Database then applies the weights to the value of these resources that were specified for a profile to establish a formula for calculating total resource cost. You can limit this cost for a session with the <code dir="ltr">COMPOSITE_LIMIT</code> parameter of the <code dir="ltr">CREATE</code> <code dir="ltr">PROFILE</code> statement. If the resource cost of a session exceeds the limit, then Oracle Database aborts the session and returns an error. If you use the <code dir="ltr">ALTER</code> <code dir="ltr">RESOURCE</code> <code dir="ltr">COST</code> statement to change the weight assigned to each resource, then Oracle Database uses these new weights to calculate the total resource cost for all current and subsequent sessions.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_6012.htm#i2065930">CREATE PROFILE</a> for information on all resources and on establishing resource limits</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3488"></a>Prerequisites</p>
<p>You must have the <code dir="ltr">ALTER</code> <code dir="ltr">RESOURCE</code> <code dir="ltr">COST</code> system privilege.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3489"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF52999"></a><span class="italic">alter_resource_cost</span>::=</p>
<img width="581" height="135" src="img/alter_resource_cost.gif" alt="Description of alter_resource_cost.gif follows"/><br/>
<a id="sthref3490" href="img_text/alter_resource_cost.htm">Description of the illustration &#39;&#39;alter_resource_cost.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3491"></a>Semantics</p>
<p>Oracle Database calculates the total resource cost by first multiplying the amount of each resource used in the session by the weight of the resource, and then summing the products for all four resources. For any session, this cost is limited by the value of the <code dir="ltr">COMPOSITE_LIMIT</code> parameter in the user&#39;s profile. Both the products and the total cost are expressed in units called <span class="bold">service units</span>.</p>
<p class="subhead1"><a id="SQLRF53000"></a>CPU_PER_SESSION <a id="sthref3492"></a><a id="sthref3493"></a></p>
<p>Use this keyword to apply a weight to the <code dir="ltr">CPU_PER_SESSION</code> resource.</p>
<p class="subhead1"><a id="SQLRF53001"></a>CONNECT_TIME <a id="sthref3494"></a><a id="sthref3495"></a></p>
<p>Use this keyword to apply a weight to the <code dir="ltr">CONNECT_TIME</code> resource.</p>
<p class="subhead1"><a id="SQLRF53002"></a>LOGICAL_READS_PER_SESSION <a id="sthref3496"></a><a id="sthref3497"></a></p>
<p>Use this clause to apply a weight to the <code dir="ltr">LOGICAL_READS_PER_SESSION</code> resource. Logical reads include blocks read from both memory and disk.</p>
<p class="subhead1"><a id="SQLRF53003"></a>PRIVATE_SGA <a id="sthref3498"></a><a id="sthref3499"></a></p>
<p>Use this clause to apply a weight to the <code dir="ltr">PRIVATE_SGA</code> resource. This limit applies only if you are using shared server architecture and allocating private space in the SGA for your session.</p>
<p class="subhead1"><a id="SQLRF53004"></a><span class="italic">integer</span></p>
<p>Specify the weight of each resource. The weight that you assign to each resource determines how much the use of that resource contributes to the total resource cost. If you do not assign a weight to a resource, then the weight defaults to 0, and use of the resource subsequently does not contribute to the cost. The weights you assign apply to all subsequent sessions in the database.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3500"></a>Examples</p>
<p><a id="SQLRF53005"></a><span class="subhead3">Altering Resource Costs: Examples&nbsp;</span>The following statement assigns weights to the resources <code dir="ltr">CPU_PER_SESSION</code> and <code dir="ltr">CONNECT_TIME</code>:</p>
<pre dir="ltr">ALTER RESOURCE COST 
   CPU_PER_SESSION 100
   CONNECT_TIME      1; 
</pre>
<p>The weights establish this cost formula for a session:</p>
<pre dir="ltr">cost = (100 * CPU_PER_SESSION) + (1 * CONNECT_TIME) 
</pre>
<p>In this example, the values of <code dir="ltr">CPU_PER_SESSION</code> and <code dir="ltr">CONNECT_TIME</code> are either values in the <code dir="ltr">DEFAULT</code> profile or in the profile of the user of the session.</p>
<p>Because the preceding statement assigns no weight to the resources <code dir="ltr">LOGICAL_READS_PER_SESSION</code> and <code dir="ltr">PRIVATE_SGA</code>, these resources do not appear in the formula.</p>
<p>If a user is assigned a profile with a <code dir="ltr">COMPOSITE_LIMIT</code> value of 500, then a session exceeds this limit whenever <code dir="ltr">cost</code> exceeds 500. For example, a session using 0.04 seconds of CPU time and 101 minutes of elapsed time exceeds the limit. A session using 0.0301 seconds of CPU time and 200 minutes of elapsed time also exceeds the limit.</p>
<p>You can subsequently change the weights with another <code dir="ltr">ALTER</code> <code dir="ltr">RESOURCE</code> statement:</p>
<pre dir="ltr">ALTER RESOURCE COST 
   LOGICAL_READS_PER_SESSION 2
   CONNECT_TIME 0; 
</pre>
<p>These new weights establish a new cost formula:</p>
<pre dir="ltr">cost = (100 * CPU_PER_SESSION) + (2 * LOGICAL_READ_PER_SECOND) 
</pre>
<p>where the values of <code dir="ltr">CPU_PER_SESSION</code> and <code dir="ltr">LOGICAL_READS_PER_SECOND</code> are either the values in the <code dir="ltr">DEFAULT</code> profile or in the profile of the user of this session.</p>
<p>This <code dir="ltr">ALTER</code> <code dir="ltr">RESOURCE</code> <code dir="ltr">COST</code> statement changes the formula in these ways:</p>
<ul>
<li>
<p>The statement omits a weight for the <code dir="ltr">CPU_PER_SESSION</code> resource. That resource was already assigned a weight, so the resource remains in the formula with its original weight.</p>
</li>
<li>
<p>The statement assigns a weight to the <code dir="ltr">LOGICAL_READS_PER_SESSION</code> resource, so this resource now appears in the formula.</p>
</li>
<li>
<p>The statement assigns a weight of 0 to the <code dir="ltr">CONNECT_TIME</code> resource, so this resource no longer appears in the formula.</p>
</li>
<li>
<p>The statement omits a weight for the <code dir="ltr">PRIVATE_SGA</code> resource. That resource was not already assigned a weight, so the resource still does not appear in the formula.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_2010.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_2012.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
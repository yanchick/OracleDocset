<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103573"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SET%20CONSTRAINT%5BS%5D"></a><title>SET CONSTRAINT[S]</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:53:4Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_10002.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_10004.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">516/555</span> <!-- End Header --><a id="i2066960"></a>
<div id="SQLRF01703" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">SET CONSTRAINT[S] <a id="sthref7476"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7477"></a>Purpose</p>
<p><a id="sthref7478"></a><a id="sthref7479"></a><a id="sthref7480"></a>Use the <code dir="ltr">SET</code> <code dir="ltr">CONSTRAINTS</code> statement to specify, for a particular transaction, whether a deferrable constraint is checked following each DML statement (<code dir="ltr">IMMEDIATE</code>) or when the transaction is committed (<code dir="ltr">DEFERRED</code>). You can use this statement to set the mode for a list of constraint names or for <code dir="ltr">ALL</code> constraints.</p>
<p>The <code dir="ltr">SET</code> <code dir="ltr">CONSTRAINTS</code> mode lasts for the duration of the transaction or until another <code dir="ltr">SET</code> <code dir="ltr">CONSTRAINTS</code> statement resets the mode.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also use an <code dir="ltr">ALTER</code> <code dir="ltr">SESSION</code> statement with the <code dir="ltr">SET</code> <code dir="ltr">CONSTRAINTS</code> clause to set <span class="italic">all</span> deferrable constraints. This is equivalent to making issuing a <code dir="ltr">SET</code> <code dir="ltr">CONSTRAINTS</code> statement at the start of each transaction in the current session.</div>
<p>You cannot specify this statement inside of a trigger definition.</p>
<p><code dir="ltr">SET</code> <code dir="ltr">CONSTRAINTS</code> can be a distributed statement. Existing database links that have transactions in process are notified when a <code dir="ltr">SET</code> <code dir="ltr">CONSTRAINTS</code> <code dir="ltr">ALL</code> statement is issued, and new links are notified that it was issued as soon as they start a transaction.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7481"></a>Prerequisites</p>
<p>To specify when a deferrable constraint is checked, you must have the <code dir="ltr">READ</code> or <code dir="ltr">SELECT</code> privilege on the table to which the constraint is applied unless the table is in your schema.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7482"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF55404"></a><span class="italic">set_constraints</span>::=</p>
<img width="484" height="91" src="img/set_constraints.gif" alt="Description of set_constraints.gif follows"/><br/>
<a id="sthref7483" href="img_text/set_constraints.htm">Description of the illustration &#39;&#39;set_constraints.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7484"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF55405"></a><span class="italic">constraint</span></p>
<p>Specify the name of one or more integrity constraints.</p>
<p class="subhead1"><a id="SQLRF55406"></a>ALL <a id="sthref7485"></a></p>
<p>Specify <code dir="ltr">ALL</code> to set all deferrable constraints for this transaction.</p>
<p class="subhead1"><a id="SQLRF55407"></a>IMMEDIATE <a id="sthref7486"></a></p>
<p>Specify <code dir="ltr">IMMEDIATE</code> to cause the specified constraints to be checked immediately on execution of each constrained DML statement. Oracle Database first checks any constraints that were deferred earlier in the transaction and then continues immediately checking constraints of any further statements in that transaction, as long as all the checked constraints are consistent and no other <code dir="ltr">SET</code> <code dir="ltr">CONSTRAINTS</code> statement is issued. If any constraint fails the check, then an error is signaled. At that point, a <code dir="ltr">COMMIT</code> statement causes the whole transaction to undo.</p>
<p>Making constraints immediate at the end of a transaction is a way of checking whether <code dir="ltr">COMMIT</code> can succeed. You can avoid unexpected rollbacks by setting constraints to <code dir="ltr">IMMEDIATE</code> as the last statement in a transaction. If any constraint fails the check, you can then correct the error before committing the transaction.</p>
<p class="subhead1"><a id="SQLRF55408"></a>DEFERRED <a id="sthref7487"></a></p>
<p>Specify <code dir="ltr">DEFERRED</code> to indicate that the conditions specified by the deferrable constraint are checked when the transaction is committed.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can verify the success of deferrable constraints prior to committing them by issuing a <code dir="ltr">SET</code> <code dir="ltr">CONSTRAINTS</code> <code dir="ltr">ALL</code> <code dir="ltr">IMMEDIATE</code> statement.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="i2066989"></a>Examples</p>
<p><a id="SQLRF55409"></a><span class="subhead3">Setting Constraints: Examples&nbsp;</span>The following statement sets all deferrable constraints in this transaction to be checked immediately following each DML statement:</p>
<pre dir="ltr">SET CONSTRAINTS ALL IMMEDIATE;
</pre>
<p>The following statement checks three deferred constraints when the transaction is committed. This example fails if the constraints were specified to be <code dir="ltr">NOT</code> <code dir="ltr">DEFERRABLE</code>.</p>
<pre dir="ltr">SET CONSTRAINTS emp_job_nn, emp_salary_min,
   hr.jhist_dept_fk@remote DEFERRED;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_10002.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_10004.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103657"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/CREATE%20ROLLBACK%20SEGMENT"></a><title>CREATE ROLLBACK SEGMENT</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:50Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_6014.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_6016.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">446/555</span> <!-- End Header --><a id="i2158994"></a>
<div id="SQLRF01312" class="refsect1"><a id="CACBIABH"></a>
<h1 class="refsect1">CREATE ROLLBACK SEGMENT <a id="sthref5380"></a></h1>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle strongly recommends that you run your database in automatic undo management mode instead of using rollback segments. Do not use rollback segments unless you must do so for compatibility with earlier versions of Oracle Database. Refer to <a class="olink ADMIN013" href="../ADMIN/undo.htm#ADMIN013"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on automatic undo management.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5381"></a>Purpose</p>
<p>Use the <code dir="ltr">CREATE ROLLBACK SEGMENT</code> statement to create a <span class="bold">rollback segment</span>, which is an object that Oracle Database uses to store data necessary to reverse, or undo, changes made by transactions.</p>
<p>The information in this section assumes that your database is not running in automatic undo mode (the <code dir="ltr">UNDO_MANAGEMENT</code> initialization parameter is set to <code dir="ltr">MANUAL</code> or not set at all). If your database is running in automatic undo mode (the <code dir="ltr">UNDO_MANAGEMENT</code> initialization parameter is set to <code dir="ltr">AUTO</code>, which is the default), then rollback segments are not permitted. However, errors generated in rollback segment operations are suppressed.</p>
<p>Further, if your database has a locally managed <code dir="ltr">SYSTEM</code> tablespace, then you cannot create rollback segments in any dictionary-managed tablespace. Instead, you must either use the automatic undo management feature or create locally managed tablespaces to hold the rollback segments.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
A tablespace can have multiple rollback segments. Generally, multiple rollback segments improve performance.
<ul>
<li>
<p>The tablespace must be online for you to add a rollback segment to it.</p>
</li>
<li>
<p>When you create a rollback segment, it is initially offline. To make it available for transactions by your Oracle Database instance, bring it online using the <code dir="ltr">ALTER ROLLBACK SEGMENT</code> statement. To bring it online automatically whenever you start up the database, add the segment name to the value of the <code dir="ltr">ROLLBACK_SEGMENT</code> initialization parameter.</p>
</li>
</ul>
</div>
<p>To use objects in a tablespace other than the <code dir="ltr">SYSTEM</code> tablespace:</p>
<ul>
<li>
<p>If you are using rollback segments for undo, then at least one rollback segment (other than the <code dir="ltr">SYSTEM</code> rollback segment) must be online.</p>
</li>
<li>
<p>If you are running the database in automatic undo mode, then at least one <code dir="ltr">UNDO</code> tablespace must be online.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="statements_2013.htm#BGBHIIIG">ALTER ROLLBACK SEGMENT</a> for information on altering a rollback segment</p>
</li>
<li>
<p><a href="statements_8033.htm#i2067638">DROP ROLLBACK SEGMENT</a> for information on removing a rollback segment</p>
</li>
<li>
<p><a class="olink REFRN10224" href="../REFRN/GUID-5DD8D2CD-F0DD-40F9-8CE6-EB84CC006ED6.htm#REFRN10224"><span class="italic">Oracle Database Reference</span></a> for information on the <code dir="ltr">UNDO_MANAGEMENT</code> parameter</p>
</li>
<li>
<p><a class="olink ADMIN013" href="../ADMIN/undo.htm#ADMIN013"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on automatic undo mode</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5382"></a>Prerequisites</p>
<p>To create a rollback segment, you must have the <code dir="ltr">CREATE ROLLBACK SEGMENT</code> system privilege.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5383"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF54316"></a><span class="italic">create_rollback_segment</span>::=</p>
<img width="801" height="91" src="img/create_rollback_segment.gif" alt="Description of create_rollback_segment.gif follows"/><br/>
<a id="sthref5384" href="img_text/create_rollback_segment.htm">Description of the illustration &#39;&#39;create_rollback_segment.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses009.htm#i997450"><span class="xreftitleitalic"><span class="italic">storage_clause</span></span></a>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5385"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF54317"></a>PUBLIC</p>
<p>Specify <code dir="ltr">PUBLIC</code> to indicate that the rollback segment is public and is available to any instance. If you omit this clause, then the rollback segment is private and is available only to the instance naming it in its initialization parameter <code dir="ltr">ROLLBACK_SEGMENTS</code>.</p>
<p class="subhead2"><a id="SQLRF54318"></a><span class="italic">rollback_segment</span></p>
<p>Specify the name of the rollback segment to be created.</p>
<p class="subhead2"><a id="SQLRF54319"></a>TABLESPACE</p>
<p>Use the <code dir="ltr">TABLESPACE</code> clause to identify the tablespace in which the rollback segment is created. If you omit this clause, then the database creates the rollback segment in the <code dir="ltr">SYSTEM</code> tablespace.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Database must access rollback segments frequently. Therefore, Oracle strongly recommends that you do not create rollback segments in the <code dir="ltr">SYSTEM</code> tablespace, either explicitly or implicitly by omitting this clause. In addition, to avoid high contention for the tablespace containing the rollback segment, it should not contain other objects such as tables and indexes, and it should require minimal extent allocation and deallocation.
<p>To achieve these goals, create rollback segments in locally managed tablespaces with autoallocation disabled&mdash;in tablespaces created with the <code dir="ltr">EXTENT MANAGEMENT LOCAL</code> clause with the <code dir="ltr">UNIFORM</code> setting. The <code dir="ltr">AUTOALLOCATE</code> setting is not supported.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_7003.htm#i2231734">CREATE TABLESPACE</a></div>
<p class="subhead1"><a id="SQLRF54320"></a><span class="italic">storage_clause</span></p>
<p>The <code dir="ltr"><span class="codeinlineitalic">storage_clause</span></code> lets you specify storage characteristics for the rollback segment.</p>
<ul>
<li>
<p>The <code dir="ltr">OPTIMAL</code> parameter of the <code dir="ltr"><span class="codeinlineitalic">storage_clause</span></code> is of particular interest, because it applies only to rollback segments.</p>
</li>
<li>
<p>You cannot specify the <code dir="ltr">PCTINCREASE</code> parameter of the <code dir="ltr"><span class="codeinlineitalic">storage_clause</span></code> with <code dir="ltr">CREATE ROLLBACK SEGMENT</code>.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="clauses009.htm#i997450"><span class="xreftitleitalic"><span class="italic">storage_clause</span></span></a></div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5386"></a>Examples</p>
<p><a id="CCHIHJDF"></a><a id="SQLRF54321"></a><span class="subhead3">Creating a Rollback Segment: Example&nbsp;</span>The following statement creates a rollback segment with default storage values in an appropriately configured tablespace:</p>
<pre dir="ltr">CREATE TABLESPACE rbs_ts
   DATAFILE &#39;rbs01.dbf&#39; SIZE 10M
   EXTENT MANAGEMENT LOCAL UNIFORM SIZE 100K;

/* This example and the next will fail if your database is in 
   automatic undo mode.
*/
CREATE ROLLBACK SEGMENT rbs_one
   TABLESPACE rbs_ts;
</pre>
<p>The preceding statement is equivalent to the following:</p>
<pre dir="ltr">CREATE ROLLBACK SEGMENT rbs_one
   TABLESPACE rbs_ts
   STORAGE
   ( INITIAL 10K );
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_6014.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_6016.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-102230"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/PREDICTION_COST"></a><title>PREDICTION_COST</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="functions147.htm" title="Previous" type="text/html"/>
<link rel="Next" href="functions149.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">221/555</span> <!-- End Header --><a id="CJABAJED"></a>
<div id="SQLRF06210" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">PREDICTION_COST <a id="sthref1738"></a><a id="sthref1739"></a></h1>
<p class="subhead1"><a id="SQLRF51634"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF55759"></a><span class="italic">prediction_cost</span>::=</p>
<img width="808" height="46" src="img/prediction_cost.gif" alt="Description of prediction_cost.gif follows"/><br/>
<a id="sthref1740" href="img_text/prediction_cost.htm">Description of the illustration &#39;&#39;prediction_cost.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead1"><a id="SQLRF55760"></a>Analytic Syntax</p>
<p class="subhead2"><a id="SQLRF55761"></a><span class="italic">prediction_cost_analytic</span>::=</p>
<img width="588" height="119" src="img/prediction_cost_analytic.gif" alt="Description of prediction_cost_analytic.gif follows"/><br/>
<a id="sthref1741" href="img_text/prediction_cost_analytic.htm">Description of the illustration &#39;&#39;prediction_cost_analytic.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="SQLRF51635"></a><span class="italic">cost_matrix_clause</span>::=</p>
<img width="617" height="143" src="img/cost_matrix_clause.gif" alt="Description of cost_matrix_clause.gif follows"/><br/>
<a id="sthref1742" href="img_text/cost_matrix_clause.htm">Description of the illustration &#39;&#39;cost_matrix_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="SQLRF51636"></a><span class="italic">mining_attribute_clause</span>::=</p>
<img width="426" height="162" src="img/mining_attribute_clause.gif" alt="Description of mining_attribute_clause.gif follows"/><br/>
<a id="sthref1743" href="img_text/mining_attribute_clause.htm">Description of the illustration &#39;&#39;mining_attribute_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="SQLRF55762"></a><span class="italic">mining_analytic_clause</span>::=</p>
<img width="362" height="37" src="img/mining_analytic_clause.gif" alt="Description of mining_analytic_clause.gif follows"/><br/>
<a id="sthref1744" href="img_text/mining_analytic_clause.htm">Description of the illustration &#39;&#39;mining_analytic_clause.gif&#39;&#39;</a><br/>
<br/>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="functions004.htm#i81407">&#34;Analytic Functions&#34;</a> for information on the syntax, semantics, and restrictions of <code dir="ltr"><span class="codeinlineitalic">mining_analytic_clause</span></code></div>
<p class="subhead1"><a id="SQLRF56337"></a>Purpose</p>
<p><code dir="ltr">PREDICTION_COST</code> returns a cost for each row in the selection. The cost refers to the lowest cost class or to the specified <code dir="ltr"><span class="codeinlineitalic">class</span></code>. The cost is returned as <code dir="ltr">BINARY_DOUBLE</code>.</p>
<p><code dir="ltr">PREDICTION_COST</code> can perform classification or anomaly detection. For classification, the returned cost refers to a predicted target class. For anomaly detection, the returned cost refers to a classification of <code dir="ltr">1</code> (for typical rows) or <code dir="ltr">0</code> (for anomalous rows).</p>
<p>You can use <code dir="ltr">PREDICTION_COST</code> in conjunction with the <code dir="ltr">PREDICTION</code> function to obtain the prediction and the cost of the prediction.</p>
<p class="subhead2"><a id="CJAGBJHJ"></a><a id="SQLRF56140"></a>cost_matrix_clause</p>
<p>Costs are a biasing factor for minimizing the most harmful kinds of misclassifications. For example, false positives might be considered more costly than false negatives. Costs are specified in a cost matrix that can be associated with the model or defined inline in a <code dir="ltr">VALUES</code> clause. All classification algorithms can use costs to influence scoring.</p>
<p>Decision Tree is the only algorithm that can use costs to influence the model build. The cost matrix used to build a Decision Tree model is also the default scoring cost matrix for the model.</p>
<p>The following cost matrix table specifies that the misclassification of <code dir="ltr">1</code> is five times more costly than the misclassification of <code dir="ltr">0</code>.</p>
<pre dir="ltr">ACTUAL_TARGET_VALUE PREDICTED_TARGET_VALUE       COST
------------------- ---------------------- ----------
                  0                      0          0
                  0                      1          1
                  1                      0          5
                  1                      1          0
</pre>
<p>In <code dir="ltr"><span class="codeinlineitalic">cost_matrix_clause</span></code>:</p>
<ul>
<li>
<p><code dir="ltr">COST</code> <code dir="ltr">MODEL</code> indicates that scoring should be performed by taking into account the scoring cost matrix associated with the model. If the cost matrix does not exist, then the function returns an error.</p>
</li>
<li>
<p><code dir="ltr">COST</code> <code dir="ltr">MODEL</code> <code dir="ltr">AUTO</code> indicates that the existence of a cost matrix is unknown. If a cost matrix exists, then the function uses it to return the lowest cost prediction. Otherwise the function returns the highest probability prediction.</p>
</li>
<li>
<p>The <code dir="ltr">VALUES</code> clause specifies an inline cost matrix for <code dir="ltr"><span class="codeinlineitalic">class_value</span></code>. For example, you could specify that the misclassification of <code dir="ltr">1</code> is five times more costly than the misclassification of <code dir="ltr">0</code> as follows:</p>
<pre dir="ltr">   PREDICTION (nb_model COST (0,1) VALUES ((0, 1),(1, 5)) USING *)
</pre>
<p>If a model that has a scoring cost matrix is invoked with an inline cost matrix, then the inline costs are used.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMPRG243" href="../DMPRG/GUID-CA99161A-9A1C-4736-855D-98356E451783.htm#DMPRG243"><span class="italic">Oracle Data Mining User&#39;s Guide</span></a> for more information about cost-sensitive prediction.</div>
</li>
</ul>
<p class="subhead2"><a id="SQLRF56145"></a>Syntax Choice</p>
<p><code dir="ltr">PREDICTION_COST</code> can score the data in one of two ways: It can apply a mining model object to the data, or it can dynamically mine the data by executing an analytic clause that builds and applies one or more transient mining models. Choose <span class="bold">Syntax</span> or <span class="bold">Analytic Syntax</span>:</p>
<ul>
<li>
<p><span class="bold">Syntax</span> &mdash; Use the first syntax to score the data with a pre-defined model. Supply the name of a model that performs classification or anomaly detection.</p>
</li>
<li>
<p><span class="bold">Analytic Syntax</span> &mdash; Use the analytic syntax to score the data without a pre-defined model. The analytic syntax uses <code dir="ltr"><span class="codeinlineitalic">mining_analytic_clause</span></code> , which specifies if the data should be partitioned for multiple model builds. The <code dir="ltr"><span class="codeinlineitalic">mining_analytic_clause</span></code> supports a <code dir="ltr"><span class="codeinlineitalic">query_partition_clause</span></code> and an <code dir="ltr"><span class="codeinlineitalic">order_by_clause</span></code>. (See <a href="functions004.htm#CJAFAAIA">&#34;<span class="italic">analytic_clause</span>::=&#34;</a>.)</p>
<ul>
<li>
<p>For classification, specify <code dir="ltr">FOR</code> <code dir="ltr"><span class="codeinlineitalic">expr</span></code>, where <code dir="ltr"><span class="codeinlineitalic">expr</span></code> is an expression that identifies a target column that has a character data type.</p>
</li>
<li>
<p>For anomaly detection, specify the keywords <code dir="ltr">OF ANOMALY</code>.</p>
</li>
</ul>
</li>
</ul>
<p class="subhead2"><a id="SQLRF56146"></a>mining_attribute_clause</p>
<p><code dir="ltr"><span class="codeinlineitalic">mining_attribute_clause</span></code> identifies the column attributes to use as predictors for scoring. When the function is invoked with the analytic syntax, these predictors are also used for building the transient models. The <code dir="ltr"><span class="codeinlineitalic">mining_attribute_clause</span></code> behaves as described for the <code dir="ltr">PREDICTION</code> function. (See <a href="functions146.htm#CJAIGCFC">&#34;<span class="italic">mining_attribute_clause</span>::=&#34;</a>.)</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink DMPRG004" href="../DMPRG/GUID-891F460B-CB68-43F6-AD21-D7C9FD1CF670.htm#DMPRG004"><span class="italic">Oracle Data Mining User&#39;s Guide</span></a> for information about scoring.</p>
</li>
<li>
<p><a class="olink DMCON050" href="../DMCON/GUID-3D51EC47-E686-4468-8F49-A27B5F8E8FE4.htm#DMCON050"><span class="italic">Oracle Data Mining Concepts</span></a> for information about classification with costs</p>
</li>
</ul>
</div>
<div class="infobox-note">
<p class="notep1">About the Example:</p>
The following example is excerpted from the Data Mining sample programs. For more information about the sample programs, see Appendix A in <a class="olink DMPRG714" href="../DMPRG/GUID-735101DC-CD55-4056-BDE4-F848CC9EF4C8.htm#DMPRG714"><span class="italic">Oracle Data Mining User&#39;s Guide</span></a>.</div>
<p class="subhead1"><a id="SQLRF51638"></a>Example</p>
<p>This example predicts the ten customers in Italy who would respond to the least expensive sales campaign (offering an affinity card).</p>
<pre dir="ltr">SELECT cust_id 
FROM (SELECT cust_id,rank()
       OVER (ORDER BY PREDICTION_COST(DT_SH_Clas_sample, 1 COST MODEL USING *)
            ASC, cust_id) rnk
        FROM mining_data_apply_v
        WHERE country_name = &#39;Italy&#39;)
  WHERE rnk &lt;= 10
  ORDER BY rnk;
 
   CUST_ID
----------
    100081
    100179
    100185
    100324
    100344
    100554
    100662
    100733
    101250
    101306
</pre></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="functions147.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="functions149.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
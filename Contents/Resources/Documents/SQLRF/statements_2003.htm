<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103596"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/ALTER%20MATERIALIZED%20VIEW%20LOG"></a><title>ALTER MATERIALIZED VIEW LOG</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:32Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_2002.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_2004.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">385/555</span> <!-- End Header --><a id="i2226910"></a>
<div id="SQLRF00809" class="refsect1">
<h1 class="refsect1">ALTER MATERIALIZED VIEW LOG <a id="sthref3299"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3300"></a>Purpose</p>
<p>A <span class="bold">materialized view log</span> is a table associated with the master table of a materialized view. Use the <code dir="ltr">ALTER</code> <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> <code dir="ltr">LOG</code> statement to alter the storage characteristics or type of an existing materialized view log.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The keyword <code dir="ltr">SNAPSHOT</code> is supported in place of <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> for backward compatibility.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="statements_6003.htm#i2064649">CREATE MATERIALIZED VIEW LOG</a> for information on creating a materialized view log</p>
</li>
<li>
<p><a href="statements_2002.htm#CCHECCJB">ALTER MATERIALIZED VIEW</a> for more information on materialized views, including refreshing them</p>
</li>
<li>
<p><a href="statements_6002.htm#i2063793">CREATE MATERIALIZED VIEW</a> for a description of the various types of materialized views</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3301"></a>Prerequisites</p>
<p>You must be the owner of the master table, or you must have the <code dir="ltr">READ</code> or <code dir="ltr">SELECT</code> privilege on the master table and the <code dir="ltr">ALTER</code> privilege on the materialized view log.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REPLN107" href="../REPLN/repmview.htm#REPLN107"><span class="italic">Oracle Database Advanced Replication</span></a> for detailed information about the prerequisites for <code dir="ltr">ALTER</code> <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> <code dir="ltr">LOG</code></div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3302"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF52919"></a><span class="italic">alter_materialized_view_log</span>::=</p>
<img width="824" height="411" src="img/alter_materialized_view_log.gif" alt="Description of alter_materialized_view_log.gif follows"/><br/>
<a id="sthref3303" href="img_text/alter_materialized_view_log.htm">Description of the illustration &#39;&#39;alter_materialized_view_log.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#i2227013"><span class="xreftitleitalic"><span class="italic">physical_attributes_clause</span>::=</span></a>, <a href="#BGBGEHEA"><span class="xreftitleitalic"><span class="italic">add_mv_log_column_clause</span>::=</span></a>, <a href="statements_3001.htm#i2087440"><span class="xreftitleitalic"><span class="italic">alter_table_partitioning</span> ::=</span></a> (in <code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code>), <a href="#i2282424"><span class="xreftitleitalic"><span class="italic">parallel_clause</span>::=</span></a>, <a href="clauses005.htm#CJAHABGF"><span class="xreftitleitalic"><span class="italic">logging_clause</span>::=</span></a>, <a href="#i2227029"><span class="xreftitleitalic"><span class="italic">allocate_extent_clause</span>::=</span></a>, <a href="#i2283763"><span class="xreftitleitalic"><span class="italic">shrink_clause</span>::=</span></a>, <a href="#BGBECHCA"><span class="xreftitleitalic"><span class="italic">move_mv_log_clause</span>::=</span></a>, <a href="#BGBBCDCJ"><span class="xreftitleitalic"><span class="italic">mv_log_augmentation</span>::=</span></a>, <a href="#BGBHFAHE"><span class="xreftitleitalic"><span class="italic">mv_log_purge_clause</span>::=</span></a>, <a href="#CCHCDEHJ"><span class="xreftitleitalic"><span class="italic">for_refresh_clause</span>::=</span></a>.)</p>
<p class="subhead2"><a id="i2227013"></a><a id="SQLRF52920"></a><a href="#i2227053"><span class="xreftitleitalic"><span class="italic">physical_attributes_clause</span></span></a>::=<a id="sthref3304"></a><a id="sthref3305"></a><a id="sthref3306"></a><a id="sthref3307"></a><a id="sthref3308"></a></p>
<img width="268" height="147" src="img/physical_attributes_clause.gif" alt="Description of physical_attributes_clause.gif follows"/><br/>
<a id="sthref3309" href="img_text/physical_attributes_clause.htm">Description of the illustration &#39;&#39;physical_attributes_clause.gif&#39;&#39;</a><br/>
<br/>
<p><a href="clauses009.htm#CJACEJGB"><span class="xreftitleitalic"><span class="italic">storage_clause</span>::=</span></a></p>
<p class="subhead2"><a id="BGBGEHEA"></a><a id="SQLRF52921"></a><a href="#BGBEAEAB"><span class="xreftitleitalic"><span class="italic">add_mv_log_column_clause</span></span></a>::=</p>
<img width="190" height="27" src="img/add_mv_log_column_clause.gif" alt="Description of add_mv_log_column_clause.gif follows"/><br/>
<a id="sthref3310" href="img_text/add_mv_log_column_clause.htm">Description of the illustration &#39;&#39;add_mv_log_column_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="i2227029"></a><a id="SQLRF52922"></a><a href="#i2227135"><span class="xreftitleitalic"><span class="italic">allocate_extent_clause</span></span></a>::=</p>
<img width="550" height="123" src="img/allocate_extent_clause.gif" alt="Description of allocate_extent_clause.gif follows"/><br/>
<a id="sthref3311" href="img_text/allocate_extent_clause.htm">Description of the illustration &#39;&#39;allocate_extent_clause.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses008.htm#CHDEAIID"><span class="xreftitleitalic"><span class="italic">size_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="i2283763"></a><a id="SQLRF52923"></a><a href="#i2282343"><span class="xreftitleboldital"><span class="italic">shrink_clause</span></span></a>::=</p>
<img width="409" height="46" src="img/shrink_clause.gif" alt="Description of shrink_clause.gif follows"/><br/>
<a id="sthref3312" href="img_text/shrink_clause.htm">Description of the illustration &#39;&#39;shrink_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBECHCA"></a><a id="SQLRF52924"></a><a href="#BGBIJHHJ"><span class="xreftitleitalic"><span class="italic">move_mv_log_clause</span></span></a>::=</p>
<p><img width="388" height="46" src="img/move_mv_log_clause.gif" alt="Description of move_mv_log_clause.gif follows"/><br/>
<a id="sthref3313" href="img_text/move_mv_log_clause.htm">Description of the illustration &#39;&#39;move_mv_log_clause.gif&#39;&#39;</a><br/>
<br/></p>
<p class="subhead2"><a id="i2282424"></a><a id="SQLRF52925"></a><a href="#i2227089"><span class="xreftitleitalic"><span class="italic">parallel_clause</span></span></a>::=<a id="sthref3314"></a></p>
<img width="241" height="79" src="img/parallel_clause.gif" alt="Description of parallel_clause.gif follows"/><br/>
<a id="sthref3315" href="img_text/parallel_clause.htm">Description of the illustration &#39;&#39;parallel_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBBCDCJ"></a><a id="SQLRF52926"></a><a href="#BGBJGADJ"><span class="xreftitleitalic"><span class="italic">mv_log_augmentation</span></span></a>::=</p>
<img width="661" height="223" src="img/mv_log_augmentation.gif" alt="Description of mv_log_augmentation.gif follows"/><br/>
<a id="sthref3316" href="img_text/mv_log_augmentation.htm">Description of the illustration &#39;&#39;mv_log_augmentation.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="#i2227005"><span class="xreftitleitalic"><span class="italic">new_values_clause</span>::=</span></a>.</p>
<p class="subhead2"><a id="i2227005"></a><a id="SQLRF52927"></a><span class="italic">new_values_clause</span>::=</p>
<img width="265" height="58" src="img/new_values_clause.gif" alt="Description of new_values_clause.gif follows"/><br/>
<a id="sthref3317" href="img_text/new_values_clause.htm">Description of the illustration &#39;&#39;new_values_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="BGBHFAHE"></a><a id="SQLRF52928"></a><a href="#BGBBADIF"><span class="xreftitleitalic"><span class="italic">mv_log_purge_clause</span></span></a>::=</p>
<img width="656" height="232" src="img/mv_log_purge_clause.gif" alt="Description of mv_log_purge_clause.gif follows"/><br/>
<a id="sthref3318" href="img_text/mv_log_purge_clause.htm">Description of the illustration &#39;&#39;mv_log_purge_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="CCHCDEHJ"></a><a id="SQLRF56053"></a><a href="#CCHDGDEA"><span class="xreftitleitalic"><span class="italic">for_refresh_clause</span></span></a>::=</p>
<img width="477" height="58" src="img/for_refresh_clause.gif" alt="Description of for_refresh_clause.gif follows"/><br/>
<a id="sthref3319" href="img_text/for_refresh_clause.htm">Description of the illustration &#39;&#39;for_refresh_clause.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3320"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF52929"></a>FORCE</p>
<p>If you specify <code dir="ltr">FORCE</code> and any items specified with the <code dir="ltr">ADD</code> clause have already been specified for the materialized view log, then Oracle Database does not return an error, but silently ignores the existing elements and adds to the materialized view log any items that do not already exist in the log. Likewise, if you specify <code dir="ltr">INCLUDING</code> <code dir="ltr">NEW</code> <code dir="ltr">VALUES</code> and that attribute has already been specified for the materialized view log, Oracle Database ignores the redundancy and does not return an error.</p>
<p class="subhead1"><a id="SQLRF52930"></a><span class="italic">schema</span></p>
<p>Specify the schema containing the master table. If you omit <code dir="ltr"><span class="codeinlineitalic">schema</span></code>, then Oracle Database assumes the materialized view log is in your own schema.</p>
<p class="subhead1"><a id="SQLRF52931"></a><span class="italic">table</span></p>
<p>Specify the name of the master table associated with the materialized view log to be altered.</p>
<p class="subhead1"><a id="i2227053"></a><a id="SQLRF52932"></a><span class="italic">physical_attributes_clause<a id="sthref3321"></a></span></p>
<p>The <code dir="ltr"><span class="codeinlineitalic">physical_attributes_clause</span></code> lets you change the value of the <code dir="ltr">PCTFREE</code>, <code dir="ltr">PCTUSED</code>, and <code dir="ltr">INITRANS</code> parameters and the storage characteristics for the materialized view log, the partition, the overflow data segment, or the default characteristics of a partitioned materialized view log.</p>
<p><a id="SQLRF52933"></a><span class="subhead3">Restriction on Materialized View Log Physical Attributes&nbsp;</span>You cannot use the <code dir="ltr"><span class="codeinlineitalic">storage_clause</span></code> to modify extent parameters if the materialized view log resides in a locally managed tablespace. Refer to <a href="statements_7002.htm#i2095331">CREATE TABLE</a> for a description of these parameters.</p>
<p class="subhead1"><a id="BGBEAEAB"></a><a id="SQLRF52934"></a><span class="italic">add_mv_log_column_clause</span></p>
<p>When you add a column to the master table of the materialized view log, the database does not automatically add a column to the materialized view log. Therefore, use this clause to add a column to the materialized view log. Oracle Database will encrypt the newly added column if the corresponding column of the master table is encrypted.</p>
<p class="subhead1"><a id="i2227070"></a><a id="SQLRF52935"></a><span class="italic">alter_table_partitioning<a id="sthref3322"></a><a id="sthref3323"></a></span></p>
<p>The syntax and general functioning of the partitioning clauses is the same as described for the <code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> statement. Refer to <a href="statements_3001.htm#i2085640"><span class="xreftitleitalic"><span class="italic">alter_table_partitioning</span></span></a> in the documentation on <code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code>.</p>
<p><a id="SQLRF52936"></a><span class="subhead3">Restrictions on Altering Materialized View Log Partitions&nbsp;</span>Altering materialized view log partitions is subject to the following restrictions:</p>
<ul>
<li>
<p>You cannot use the <code dir="ltr"><span class="codeinlineitalic">LOB_storage_clause</span></code> or <code dir="ltr"><span class="codeinlineitalic">modify_LOB_storage_clause</span></code> when modifying partitions of a materialized view log.</p>
</li>
<li>
<p>If you attempt to drop, truncate, or exchange a materialized view log partition, then Oracle Database raises an error.</p>
</li>
</ul>
<p class="subhead1"><a id="i2227089"></a><a id="SQLRF52937"></a><span class="italic">parallel_clause<a id="sthref3324"></a><a id="sthref3325"></a></span></p>
<p>The <code dir="ltr"><span class="codeinlineitalic">parallel_clause</span></code> lets you specify whether parallel operations will be supported for the materialized view log.</p>
<p>For complete information on this clause, refer to <a href="statements_7002.htm#i2159323"><span class="xreftitleitalic"><span class="italic">parallel_clause</span></span></a> in the documentation on <code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code>.</p>
<p class="subhead1"><a id="SQLRF52938"></a><span class="italic">logging_clause<a id="sthref3326"></a><a id="sthref3327"></a></span></p>
<p>Specify the logging attribute of the materialized view log. Refer to the <a href="clauses005.htm#g1057902"><span class="xreftitleitalic"><span class="italic">logging_clause</span></span></a> for a full description of this clause.</p>
<p class="subhead1"><a id="i2227135"></a><a id="SQLRF52939"></a><span class="italic">allocate_extent_clause</span></p>
<p>Use the <code dir="ltr"><span class="codeinlineitalic">allocate_extent_clause</span></code> to explicitly allocate a new extent for the materialized view log. Refer to <a href="clauses001.htm#g1053419"><span class="xreftitleitalic"><span class="italic">allocate_extent_clause</span></span></a> for a full description of this clause.</p>
<p class="subhead1"><a id="i2282343"></a><a id="SQLRF52940"></a><span class="italic">shrink_clause</span><a id="sthref3328"></a><a id="sthref3329"></a></p>
<p>Use this clause to compact the materialized view log segments. For complete information on this clause, refer to <a href="statements_3001.htm#i2192484"><span class="xreftitleitalic"><span class="italic">shrink_clause</span></span></a> in the documentation on <code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code>.</p>
<p class="subhead2"><a id="BGBIJHHJ"></a><a id="SQLRF52941"></a><span class="italic">move_mv_log_clause</span></p>
<p>Use the <code dir="ltr">MOVE</code> clause to move the materialized view log table to a different tablespace, to change other segment or storage attributes of the materialized view log, or to change the parallelism of the materialized view log.</p>
<p><a id="SQLRF52942"></a><span class="subhead3">Restriction on Moving Materialized View Logs&nbsp;</span>The <code dir="ltr">ENCRYPT</code> clause of the <code dir="ltr"><span class="codeinlineitalic">storage_clause</span></code> of <code dir="ltr"><span class="codeinlineitalic">segment_attributes</span></code> is not valid for materialized view logs.</p>
<p class="subhead1"><a id="SQLRF52943"></a>CACHE | NOCACHE Clause <a id="sthref3330"></a><a id="sthref3331"></a><a id="sthref3332"></a></p>
<p>For data that will be accessed frequently, <code dir="ltr">CACHE</code> specifies that the blocks retrieved for this log are placed at the most recently used end of the LRU list in the buffer cache when a full table scan is performed. This attribute is useful for small lookup tables. <code dir="ltr">NOCACHE</code> specifies that the blocks are placed at the least recently used end of the LRU list. Refer to <a href="statements_7002.htm#i2215507">&#34;CACHE | NOCACHE | CACHE READS&#34;</a> in the documentation on <code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code> for more information about this clause.</p>
<p class="subhead1"><a id="BGBJGADJ"></a><a id="SQLRF52944"></a><span class="italic">mv_log_augmentation</span> <a id="sthref3333"></a><a id="sthref3334"></a><a id="sthref3335"></a><a id="sthref3336"></a></p>
<p>Use the <code dir="ltr">ADD</code> clause to augment the materialized view log so that it records the primary key values, rowid values, object ID values, or a sequence when rows in the materialized view master table are changed. This clause can also be used to record additional columns.</p>
<p>To stop recording any of this information, you must first drop the materialized view log and then re-create it. Dropping the materialized view log and then re-creating it forces a complete refresh for each of the existing materialized views that depend on the master table on its next refresh.</p>
<p><a id="SQLRF52945"></a><span class="subhead3">Restriction on Augmenting Materialized View Logs&nbsp;</span>You can specify only one <code dir="ltr">PRIMARY</code> <code dir="ltr">KEY</code>, one <code dir="ltr">ROWID</code>, one <code dir="ltr">OBJECT</code> <code dir="ltr">ID</code>, one <code dir="ltr">SEQUENCE</code>, and each column in the column list once for each materialized view log. You can specify only a single occurrence of <code dir="ltr">PRIMARY</code> <code dir="ltr">KEY</code>, <code dir="ltr">ROWID</code>, <code dir="ltr">OBJECT</code> <code dir="ltr">ID</code>, <code dir="ltr">SEQUENCE</code>, and column list within this <code dir="ltr">ALTER</code> statement. Also, if any of these values was specified at create time (either implicitly or explicitly), you cannot specify that value in this <code dir="ltr">ALTER</code> statement unless you use the <code dir="ltr">FORCE</code> option.</p>
<p><a id="SQLRF52946"></a><span class="subhead3">OBJECT ID<a id="sthref3337"></a>&nbsp;</span>Specify <code dir="ltr">OBJECT</code> <code dir="ltr">ID</code> if you want the appropriate object identifier of all rows that are changed to be recorded in the materialized view log.</p>
<p><a id="SQLRF52947"></a><span class="subhead3">Restriction on the OBJECT ID clause&nbsp;</span>You can specify <code dir="ltr">OBJECT</code> <code dir="ltr">ID</code> only for logs on object tables, and you cannot specify it for storage tables.</p>
<p><a id="SQLRF52948"></a><span class="subhead3">PRIMARY KEY<a id="sthref3338"></a>&nbsp;</span>Specify <code dir="ltr">PRIMARY</code> <code dir="ltr">KEY</code> if you want the primary key values of all rows that are changed to be recorded in the materialized view log.</p>
<p><a id="SQLRF52949"></a><span class="subhead3">ROWID<a id="sthref3339"></a>&nbsp;</span>Specify <code dir="ltr">ROWID</code> if you want the rowid values of all rows that are changed to be recorded in the materialized view log.</p>
<p><a id="SQLRF52950"></a><span class="subhead3">SEQUENCE&nbsp;</span>Specify <code dir="ltr">SEQUENCE</code> to indicate that a sequence value providing additional ordering information should be recorded in the materialized view log.</p>
<p><a id="SQLRF52951"></a><span class="subhead3"><span class="italic">column</span>&nbsp;</span>Specify the additional columns whose values you want to be recorded in the materialized view log for all rows that are changed. Typically these columns are filter columns (non-primary-key columns referenced by subquery materialized views) and join columns (non-primary-key columns that define a join in the <code dir="ltr">WHERE</code> clause of the subquery).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="statements_6002.htm#i2063793">CREATE MATERIALIZED VIEW</a> for details on explicit and implicit inclusion of materialized view log values</p>
</li>
<li>
<p><a class="olink REPLN107" href="../REPLN/repmview.htm#REPLN107"><span class="italic">Oracle Database Advanced Replication</span></a> for more information about filter columns and join columns</p>
</li>
<li>
<p><a href="#i2227231">&#34;Rowid Materialized View Log: Example&#34;</a></p>
</li>
</ul>
</div>
<p class="subhead1"><a id="SQLRF52952"></a>NEW VALUES Clause<a id="sthref3340"></a><a id="sthref3341"></a><a id="sthref3342"></a><a id="sthref3343"></a></p>
<p>The <code dir="ltr">NEW</code> <code dir="ltr">VALUES</code> clause lets you specify whether Oracle Database saves both old and new values for update DML operations in the materialized view log. The value you set in this clause applies to all columns in the log, not only to columns you may have added in this <code dir="ltr">ALTER</code> <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> <code dir="ltr">LOG</code> statement.</p>
<p><a id="SQLRF52953"></a><span class="subhead3">INCLUDING&nbsp;</span>Specify <code dir="ltr">INCLUDING</code> to save both new and old values in the log. If this log is for a table on which you have a single-table materialized aggregate view, and if you want the materialized view to be eligible for fast refresh, then you must specify <code dir="ltr">INCLUDING</code>.</p>
<p><a id="SQLRF52954"></a><span class="subhead3">EXCLUDING&nbsp;</span>Specify <code dir="ltr">EXCLUDING</code> to disable the recording of new values in the log. You can use this clause to avoid the overhead of recording new values.</p>
<p>If you have a fast-refreshable single-table materialized aggregate view defined on this table, then do not specify <code dir="ltr">EXCLUDING</code> <code dir="ltr">NEW</code> <code dir="ltr">VALUES</code> unless you first change the refresh mode of the materialized view to something other than <code dir="ltr">FAST</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i2227235">&#34;Materialized View Log EXCLUDING NEW VALUES: Example&#34;</a></div>
<p class="subhead1"><a id="BGBBADIF"></a><a id="SQLRF52955"></a><span class="italic">mv_log_purge_clause</span> <a id="sthref3344"></a></p>
<p>Use this clause alter the purge attributes of the materialized view log in the following ways:</p>
<ul>
<li>
<p>Change the purge from <code dir="ltr">IMMEDIATE</code> <code dir="ltr">SYNCHRONOUS</code> to <code dir="ltr">IMMEDIATE</code> <code dir="ltr">ASYNCHRONOUS</code> or from <code dir="ltr">IMMEDIATE</code> <code dir="ltr">ASYNCHRONOUS</code> to <code dir="ltr">IMMEDIATE</code> <code dir="ltr">SYNCHRONOUS</code></p>
</li>
<li>
<p>Change the purge from <code dir="ltr">IMMEDIATE</code> to scheduled or from scheduled to <code dir="ltr">IMMEDIATE</code></p>
</li>
<li>
<p>Specify a new start time and a new <code dir="ltr">next</code> time and <code dir="ltr">interval</code></p>
</li>
</ul>
<p>If you are altering purge from scheduled to <code dir="ltr">IMMEDIATE</code>, then the scheduled purged job associated with that materialized view log is dropped. If you are altering purge from <code dir="ltr">IMMEDIATE</code> to scheduled, then a purge job is created with the attributes provided. If you are altering scheduled purge attributes, then only those attributes specified will be changed in the scheduler purge job.</p>
<p>You must specify <code dir="ltr">FORCE</code> if you are altering log purge to its current state (that is, you are not making any change), unless you are changing scheduled purge attributes.</p>
<p>To learn whether the purge time or interval has already been set for this materialized view log, query the <code dir="ltr">*_MVIEW_LOGS</code> data dictionary views. See the <code dir="ltr">CREATE</code> <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> <code dir="ltr">LOG</code> clause <a href="statements_6003.htm#CACCJBFD"><span class="xreftitleitalic"><span class="italic">mv_log_purge_clause</span></span></a> for the full semantics of this clause.</p>
<p class="subhead1"><a id="CCHDGDEA"></a><a id="SQLRF56054"></a><span class="italic">for_refresh_clause</span><a id="sthref3345"></a></p>
<p>Use this clause to change the refresh method for which the materialized view log will be used.</p>
<p><a id="SQLRF56073"></a><span class="subhead3">FOR SYNCHRONOUS REFRESH&nbsp;</span>Specify this clause to change from fast refresh to synchronous refresh, or complete refresh to synchronous refresh. A staging log will be created.</p>
<p>If you are changing from fast refresh, then ensure that the following conditions are satisfied before using this clause:</p>
<ul>
<li>
<p>All changes in the materialized view log have been consumed.</p>
</li>
<li>
<p>Any refresh-on-demand materialized views associated with the master table have been refreshed.</p>
</li>
<li>
<p>Any refresh-on-commit materialized views associated with the master table have been converted to refresh-on-demand materialized views.</p>
</li>
</ul>
<p>After you use this clause, you cannot perform DML operations directly on the master table. You must use the procedures in the <code dir="ltr">DBMS_SYNC_REFRESH</code> package to prepare and execute change data operations.</p>
<p><a id="SQLRF56074"></a><span class="subhead3">FOR FAST REFRESH&nbsp;</span>Specify this clause to change from synchronous refresh to fast refresh, or complete refresh to fast refresh. A materialized view log will be created.</p>
<p>If you are changing from synchronous refresh to fast refresh, then ensure that all changes in the staging log have been consumed before using this clause.</p>
<p>After you use this clause, you can perform DML operations directly on the master table.</p>
<p>See the <code dir="ltr">CREATE</code> <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> <code dir="ltr">LOG</code> clause <a href="statements_6003.htm#CCHIHIEB"><span class="xreftitleitalic"><span class="italic">for_refresh_clause</span></span></a> for the full semantics of this clause.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3346"></a>Examples</p>
<p><a id="i2227231"></a><a id="SQLRF52956"></a><span class="subhead3">Rowid Materialized View Log: Example&nbsp;</span>The following statement alters an existing primary key materialized view log to also record rowid information:</p>
<pre dir="ltr">ALTER MATERIALIZED VIEW LOG ON order_items ADD ROWID;
</pre>
<p><a id="i2227235"></a><a id="SQLRF52957"></a><span class="subhead3">Materialized View Log EXCLUDING NEW VALUES: Example&nbsp;</span>The following statement alters the materialized view log on <code dir="ltr">hr.employees</code> by adding a filter column and excluding new values. Any materialized aggregate views that use this log will no longer be fast refreshable. However, if fast refresh is no longer needed, this action avoids the overhead of recording new values:</p>
<pre dir="ltr">ALTER MATERIALIZED VIEW LOG ON employees
   ADD (commission_pct)
   EXCLUDING NEW VALUES;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_2002.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_2004.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
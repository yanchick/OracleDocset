<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-102075"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/JSON%20Object%20Access%20Expressions"></a><title>JSON Object Access Expressions</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:9Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="expressions009.htm" title="Previous" type="text/html"/>
<link rel="Next" href="expressions011.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">50/555</span> <!-- End Header --><a id="CHDCEFHI"></a>
<div id="SQLRF57024" class="sect1"><!-- infolevel="all" infotype="General" -->
<h1 class="sect1">JSON Object Access Expressions</h1>
<p>You can use a JSON object access expression only when querying a column of JavaScript Object Notation (JSON) data. The expression yields a character string that contains one or more JSON values found in that data. The syntax for this type of expression is sometimes called dot-notation syntax.</p>
<p class="subhead2"><a id="SQLRF57028"></a><span class="italic">JSON_object_access_expr</span>::=</p>
<img width="452" height="58" src="img/json_object_access_expr.gif" alt="Description of json_object_access_expr.gif follows"/><br/>
<a id="sthref960" href="img_text/json_object_access_expr.htm">Description of the illustration &#39;&#39;json_object_access_expr.gif&#39;&#39;</a><br/>
<br/>
<ul>
<li>
<p>For <code dir="ltr"><span class="codeinlineitalic">table_alias</span></code>, specify the alias for the table that contains the column of JSON data. This table alias is required and must be assigned to the table elsewhere in the SQL statement.</p>
</li>
<li>
<p>For <code dir="ltr"><span class="codeinlineitalic">JSON_column</span></code>, specify the name of the column of JSON data. The column must be of data type <code dir="ltr">VARCHAR2</code>, <code dir="ltr">CLOB</code>, or <code dir="ltr">BLOB</code> and an <code dir="ltr">IS</code> <code dir="ltr">JSON</code> check constraint must be defined on the column.</p>
</li>
<li>
<p>You can optionally specify one or more JSON object keys. The object keys allow you to target specific JSON values in the JSON data. The first <code dir="ltr"><span class="codeinlineitalic">JSON_object_key</span></code> must be a case-sensitive match to the key (property) name of an object member in the top level of the JSON data. If the value of that object member is another JSON object, then you can specify a second <code dir="ltr"><span class="codeinlineitalic">JSON_object_key</span></code> that matches the key name of a member of that object, and so on. If a JSON array is encountered during any of these iterations, then the array is implicitly unwrapped and the elements of the array are evaluated using the <code dir="ltr"><span class="codeinlineitalic">JSON_object_key</span></code>.</p>
<p>The expression yields a character string of data type <code dir="ltr">VARCHAR2(4000)</code>, which contains the targeted JSON value(s) as follows:</p>
<ul>
<li>
<p>For a single targeted value, the character string contains that value, whether it is a JSON scalar value, object, or array.</p>
</li>
<li>
<p>For multiple targeted values, the character string contains a JSON array whose elements are those values.</p>
</li>
</ul>
<p>If you omit <code dir="ltr"><span class="codeinlineitalic">JSON_object_key</span></code>, then the expression yields a character string that contains the JSON data in its entirety. In this case, the character string is of the same data type as the column of JSON data being queried.</p>
</li>
</ul>
<p>A JSON object access expression cannot return a value larger than 4K bytes. If the value surpasses this limit, then the expression returns null. To obtain the actual value, instead use the <a href="functions091.htm#CJACGHBJ">JSON_QUERY</a> function or the <a href="functions093.htm#CJAGGCJH">JSON_VALUE</a> function and specify an appropriate return type with the <code dir="ltr">RETURNING</code> clause.</p>
<p><a id="SQLRF57029"></a><span class="subhead3">Examples&nbsp;</span>The following examples use the <code dir="ltr">j_purchaseorder</code> table, which is created in <a href="functions092.htm#CJAHAAJE">&#34;Creating a Table That Contains a JSON Document: Example&#34;</a>. This table contains a column of JSON data called <code dir="ltr">po_document</code>. These examples return JSON values from column <code dir="ltr">po_document</code>.</p>
<p>The following statement returns the value of the property with key name <code dir="ltr">PONumber</code>:</p>
<pre dir="ltr">SELECT po.po_document.PONumber
  FROM j_purchaseorder po;

PONumber
--------
1600
</pre>
<p>The following statement first targets the property with key name <code dir="ltr">ShippingInstructions</code>, whose value is a JSON object. The statement then targets the property with key name <code dir="ltr">Phone</code> within that object. The statement returns the value of <code dir="ltr">Phone</code>, which is a JSON array.</p>
<pre dir="ltr">SELECT po.po_document.ShippingInstructions.Phone
  FROM j_purchaseorder po;
 
SHIPPINGINSTRUCTIONS
-------------------------------------------------------------------------------------
[{&#34;type&#34;:&#34;Office&#34;,&#34;number&#34;:&#34;909-555-7307&#34;},{&#34;type&#34;:&#34;Mobile&#34;,&#34;number&#34;:&#34;415-555-1234&#34;}]
</pre>
<p>The following statement first targets the property with key name <code dir="ltr">LineItems</code>, whose value is a JSON array. The expression implicitly unwraps the array and evaluates its elements, which are JSON objects. Next, the statement targets the properties with key name <code dir="ltr">Part</code>, within the unwrapped objects, and finds two objects. The statement then targets the properties with key name <code dir="ltr">Description</code> within those two objects and finds string values. Because more than one value is returned, the values are returned as elements of a JSON array.</p>
<pre dir="ltr">SELECT po.po_document.LineItems.Part.Description
  FROM j_purchaseorder po;
 
LINEITEMS
-----------------------------------
[One Magic Christmas,Lethal Weapon]
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADXDB6391" href="../ADXDB/json.htm#ADXDB6391"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a> for more information on querying JSON data using dot-notation syntax</div>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="expressions009.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="expressions011.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
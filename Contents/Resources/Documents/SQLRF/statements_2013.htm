<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103606"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/ALTER%20ROLLBACK%20SEGMENT"></a><title>ALTER ROLLBACK SEGMENT</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:34Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_2012.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_2014.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">395/555</span> <!-- End Header --><a id="i2283754"></a>
<div id="SQLRF00816" class="refsect1"><a id="BGBHIIIG"></a>
<h1 class="refsect1">ALTER ROLLBACK SEGMENT <a id="sthref3509"></a></h1>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle strongly recommends that you run your database in automatic undo management mode instead of using rollback segments. Do not use rollback segments unless you must do so for compatibility with earlier versions of Oracle Database. Refer to <a class="olink ADMIN013" href="../ADMIN/undo.htm#ADMIN013"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on automatic undo management.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3510"></a>Purpose</p>
<p>Use the <code dir="ltr">ALTER ROLLBACK SEGMENT</code> statement to bring a rollback segment online or offline, change its storage characteristics, or shrink it to an optimal or specified size.</p>
<p><a id="sthref3511"></a><a id="sthref3512"></a><a id="sthref3513"></a><a id="sthref3514"></a>This section assumes that your database is running in rollback undo mode (the <code dir="ltr">UNDO_MANAGEMENT</code> initialization parameter is set to <code dir="ltr">MANUAL</code> or not set at all). If your database is running in automatic undo mode (the <code dir="ltr">UNDO_MANAGEMENT</code> initialization parameter is set to <code dir="ltr">AUTO</code>, which is the default), then user-created rollback segments are irrelevant.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="statements_6015.htm#CACBIABH">CREATE ROLLBACK SEGMENT</a> for information on creating a rollback segment</p>
</li>
<li>
<p><a class="olink REFRN10224" href="../REFRN/GUID-5DD8D2CD-F0DD-40F9-8CE6-EB84CC006ED6.htm#REFRN10224"><span class="italic">Oracle Database Reference</span></a> for information on the <code dir="ltr">UNDO_MANAGEMENT</code> parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3515"></a>Prerequisites</p>
<p>You must have the <code dir="ltr">ALTER ROLLBACK SEGMENT</code> system privilege.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3516"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF53011"></a><span class="italic">alter_rollback_segment</span>::=</p>
<img width="661" height="143" src="img/alter_rollback_segment.gif" alt="Description of alter_rollback_segment.gif follows"/><br/>
<a id="sthref3517" href="img_text/alter_rollback_segment.htm">Description of the illustration &#39;&#39;alter_rollback_segment.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses009.htm#i997450"><span class="xreftitleitalic"><span class="italic">storage_clause</span></span></a>, <a href="clauses008.htm#CHDEAIID"><span class="xreftitleitalic"><span class="italic">size_clause</span>::=</span></a>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3518"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF53012"></a><span class="italic">rollback_segment</span></p>
<p>Specify the name of an existing rollback segment.</p>
<p class="subhead1"><a id="SQLRF53013"></a>ONLINE</p>
<p>Specify <code dir="ltr">ONLINE</code> to bring the rollback segment online. When you create a rollback segment, it is initially offline and not available for transactions. This clause brings the rollback segment online, making it available for transactions by your instance. You can also bring a rollback segment online when you start your instance with the initialization parameter <code dir="ltr">ROLLBACK_SEGMENTS</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CCHHDICB">&#34;Bringing a Rollback Segment Online: Example&#34;</a></div>
<p class="subhead1"><a id="SQLRF53014"></a>OFFLINE</p>
<p>Specify <code dir="ltr">OFFLINE</code> to take the rollback segment offline.</p>
<ul>
<li>
<p>If the rollback segment does not contain any information needed to roll back an active transaction, then Oracle Database takes it offline immediately.</p>
</li>
<li>
<p>If the rollback segment does contain information for active transactions, then the database makes the rollback segment unavailable for future transactions and takes it offline after all the active transactions are committed or rolled back.</p>
</li>
</ul>
<p>When the rollback segment is offline, it can be brought online by any instance.</p>
<p>To see whether a rollback segment is online or offline, query <code dir="ltr">STATUS</code> column of the data dictionary view <code dir="ltr">DBA_ROLLBACK_SEGS</code>. Online rollback segments have a value of <code dir="ltr">IN_USE</code>. Offline rollback segments have a value of <code dir="ltr">AVAILABLE</code>.</p>
<p><a id="SQLRF53015"></a><span class="subhead3">Restriction on Taking Rollback Segments Offline&nbsp;</span>You cannot take the <code dir="ltr">SYSTEM</code> rollback segment offline.</p>
<p class="subhead1"><a id="SQLRF53016"></a><span class="italic">storage_clause</span></p>
<p>Use the <code dir="ltr"><span class="codeinlineitalic">storage_clause</span></code> to change the storage characteristics of the rollback segment.</p>
<p><a id="SQLRF53017"></a><span class="subhead3">Restrictions on Rollback Segment Storage&nbsp;</span>You cannot change the value of <code dir="ltr">INITIAL</code> parameter. If the rollback segment is in a locally managed tablespace, then the only storage parameter you can change is <code dir="ltr">OPTIMAL</code>. If the rollback segment is in a dictionary-managed tablespace, then the only storage parameters you can change are <code dir="ltr">NEXT</code>, <code dir="ltr">MINEXTENTS</code>, <code dir="ltr">MAXEXTENTS</code> and <code dir="ltr">OPTIMAL</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="clauses009.htm#i997450"><span class="xreftitleitalic"><span class="italic">storage_clause</span></span></a> for syntax and additional information</div>
<p class="subhead1"><a id="SQLRF53018"></a>SHRINK Clause</p>
<p>Specify <code dir="ltr">SHRINK</code> if you want Oracle Database to attempt to shrink the rollback segment to an optimal or specified size. The success and amount of shrinkage depend on the available free space in the rollback segment and how active transactions are holding space in the rollback segment.</p>
<p>If you do not specify <code dir="ltr">TO</code> <code dir="ltr"><span class="codeinlineitalic">size_clause</span></code>, then the size defaults to the <code dir="ltr">OPTIMAL</code> value of the <code dir="ltr"><span class="codeinlineitalic">storage_clause</span></code> of the <code dir="ltr">CREATE ROLLBACK SEGMENT</code> statement that created the rollback segment. If <code dir="ltr">OPTIMAL</code> was not specified, then the size defaults to the <code dir="ltr">MINEXTENTS</code> value of the <code dir="ltr"><span class="codeinlineitalic">storage_clause</span></code> of the <code dir="ltr">CREATE ROLLBACK SEGMENT</code> statement.</p>
<p>Regardless of whether you specify <code dir="ltr">TO</code> <code dir="ltr"><span class="codeinlineitalic">size_clause</span></code>:</p>
<ul>
<li>
<p>The value to which Oracle Database shrinks the rollback segment is valid for the execution of the statement. Thereafter, the size reverts to the <code dir="ltr">OPTIMAL</code> value of the <code dir="ltr">CREATE ROLLBACK SEGMENT</code> statement.</p>
</li>
<li>
<p>The rollback segment cannot shrink to less than two extents.</p>
</li>
</ul>
<p>To determine the actual size of a rollback segment after attempting to shrink it, query the <code dir="ltr">BYTES</code>, <code dir="ltr">BLOCKS</code>, and <code dir="ltr">EXTENTS</code> columns of the <code dir="ltr">DBA_SEGMENTS</code> view.</p>
<p><a id="SQLRF53019"></a><span class="subhead3">Restriction on Shrinking Rollback Segments&nbsp;</span>In an Oracle Real Application Clusters environment, you can shrink only rollback segments that are online to your instance.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="clauses008.htm#CHDEIJBC"><span class="xreftitleitalic"><span class="italic">size_clause</span></span></a> for information on that clause, and <a href="#CCHDICDB">&#34;Resizing a Rollback Segment: Example&#34;</a></div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3519"></a>Examples</p>
<p>The following examples use the <code dir="ltr">rbs_one</code> rollback segment, which was created in <a href="statements_6015.htm#CCHIHJDF">&#34;Creating a Rollback Segment: Example&#34;</a>.</p>
<p><a id="CCHHDICB"></a><a id="SQLRF53020"></a><span class="subhead3">Bringing a Rollback Segment Online: Example&nbsp;</span>This statement brings the rollback segment <code dir="ltr">rbs_one</code> online:</p>
<pre dir="ltr">ALTER ROLLBACK SEGMENT rbs_one ONLINE; 
</pre>
<p><a id="CCHDICDB"></a><a id="SQLRF53021"></a><span class="subhead3">Resizing a Rollback Segment: Example&nbsp;</span>This statement shrinks the rollback segment <code dir="ltr">rbs_one</code>:</p>
<pre dir="ltr">ALTER ROLLBACK SEGMENT rbs_one 
   SHRINK TO 100M;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_2012.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_2014.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-102044"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/logging_clause"></a><title>logging_clause</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:24Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="clauses004.htm" title="Previous" type="text/html"/>
<link rel="Next" href="clauses006.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">351/555</span> <!-- End Header --><a id="i999782"></a>
<div id="SQLRF30009" class="refsect1"><!-- infolevel="all" infotype="General" --><a id="g1057902"></a>
<h1 class="refsect1"><span class="italic">logging_clause</span></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2331"></a>Purpose</p>
<p>The <code dir="ltr"><span class="codeinlineitalic">logging_clause</span></code> lets you specify whether certain DML operations will be logged in the redo log file (<code dir="ltr">LOGGING</code>) or not (<code dir="ltr">NOLOGGING</code>).</p>
<p>You can specify the <code dir="ltr"><span class="codeinlineitalic">logging_clause</span></code> in the following statements:</p>
<ul>
<li>
<p><code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code> and <code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code>: for logging of the table, a table partition, a LOB segment, or the overflow segment of an index-organized table (see <a href="statements_7002.htm#i2095331">CREATE TABLE</a> and <a href="statements_3001.htm#CJAHHIBI">ALTER TABLE</a>).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Logging specified for a LOB column can differ from logging set at the table level. If you specify <code dir="ltr">LOGGING</code> at the table level and <code dir="ltr">NOLOGGING</code> for a LOB column, then DML changes to the base table row are logged, but DML changes to the LOB data are not logged.</div>
</li>
<li>
<p><code dir="ltr">CREATE</code> <code dir="ltr">INDEX</code> and <code dir="ltr">ALTER</code> <code dir="ltr">INDEX</code>: for logging of the index or an index partition (see <a href="statements_5013.htm#i2062403">CREATE INDEX</a> and <a href="statements_1012.htm#i2050158">ALTER INDEX</a>).</p>
</li>
<li>
<p><code dir="ltr">CREATE</code> <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> and <code dir="ltr">ALTER</code> <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code>: for logging of the materialized view, one of its partitions, or a LOB segment (see <a href="statements_6002.htm#i2063793">CREATE MATERIALIZED VIEW</a> and <a href="statements_2002.htm#CCHECCJB">ALTER MATERIALIZED VIEW</a>).</p>
</li>
<li>
<p><code dir="ltr">CREATE</code> <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> <code dir="ltr">LOG</code> and <code dir="ltr">ALTER</code> <code dir="ltr">MATERIALIZED</code> <code dir="ltr">VIEW</code> <code dir="ltr">LOG</code>: for logging of the materialized view log or one of its partitions (see <a href="statements_6003.htm#i2064649">CREATE MATERIALIZED VIEW LOG</a> and <a href="statements_2003.htm#i2226910">ALTER MATERIALIZED VIEW LOG</a>).</p>
</li>
<li>
<p><code dir="ltr">CREATE</code> <code dir="ltr">TABLESPACE</code> and <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code>: to set or modify the default logging characteristics for all objects created in the tablespace (see <a href="statements_7003.htm#i2231734">CREATE TABLESPACE</a> and <a href="statements_3002.htm#i2093894">ALTER TABLESPACE</a>).</p>
</li>
<li>
<p><code dir="ltr">CREATE</code> <code dir="ltr">PLUGGABLE</code> <code dir="ltr">DATABASE</code> and <code dir="ltr">ALTER</code> <code dir="ltr">PLUGGABLE</code> <code dir="ltr">DATABASE</code>: to set or modify the default logging characteristics for all tablespaces created in the pluggable database (PDB) (see <a href="statements_6010.htm#CCHDHBCJ">CREATE PLUGGABLE DATABASE</a> and <a href="statements_2008.htm#CCHJFGJD">ALTER PLUGGABLE DATABASE</a>).</p>
</li>
</ul>
<p>You can also specify <code dir="ltr">LOGGING</code> or <code dir="ltr">NOLOGGING</code> for the following operations:</p>
<ul>
<li>
<p>Rebuilding an index (using <code dir="ltr">CREATE</code> <code dir="ltr">INDEX</code> ... <code dir="ltr">REBUILD</code>)</p>
</li>
<li>
<p>Moving a table (using <code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">MOVE</code>)</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2332"></a>Syntax</p>
<p class="subhead2"><a id="CJAHABGF"></a><a id="SQLRF52283"></a><span class="italic">logging_clause</span>::=</p>
<img width="237" height="91" src="img/logging_clause.gif" alt="Description of logging_clause.gif follows"/><br/>
<a id="sthref2333" href="img_text/logging_clause.htm">Description of the illustration &#39;&#39;logging_clause.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2334"></a>Semantics</p>
<p><a id="sthref2335"></a><a id="sthref2336"></a><a id="sthref2337"></a>This section describes the semantics of the <code dir="ltr"><span class="codeinlineitalic">logging_clause</span></code>. For additional information, refer to the SQL statement in which you set or reset logging characteristics for a particular database object.</p>
<ul>
<li>
<p>If you specify <code dir="ltr">LOGGING</code>, then the creation of a database object, as well as subsequent inserts into the object, will be logged in the redo log file.</p>
</li>
<li>
<p>If you specify <code dir="ltr">NOLOGGING</code>, then the creation of a database object, as well as subsequent conventional inserts, will be logged in the redo log file. Direct-path inserts will not be logged.</p>
<ul>
<li>
<p>For a <span class="bold">nonpartitioned object</span>, the value specified for this clause is the actual physical attribute of the segment associated with the object.</p>
</li>
<li>
<p>For <span class="bold">partitioned objects</span>, the value specified for this clause is the default physical attribute of the segments associated with all partitions specified in the <code dir="ltr">CREATE</code> statement (and in subsequent <code dir="ltr">ALTER</code> ... <code dir="ltr">ADD</code> <code dir="ltr">PARTITION</code> statements), unless you specify the logging attribute in the <code dir="ltr">PARTITION</code> description.</p>
</li>
<li>
<p>For SecureFiles LOBs, the <code dir="ltr">NOLOGGING</code> setting is converted internally to <code dir="ltr">FILESYSTEM_LIKE_LOGGING</code>.</p>
</li>
<li>
<p><code dir="ltr">CACHE</code> <code dir="ltr">NOLOGGING</code> is not allowed for BasicFiles LOBs.</p>
</li>
</ul>
</li>
<li>
<p>The <code dir="ltr">FILESYSTEM_LIKE_LOGGING</code> clause is valid only for logging of SecureFiles LOB segments. You cannot specify this setting for BasicFiles LOBs. Specify this setting if you want to log only metadata changes. This setting is similar to the metadata journaling of file systems, which reduces mean time to recovery from failures. The <code dir="ltr">LOGGING</code> setting, for SecureFiles LOBs, is similar to the data journaling of file systems. Both the <code dir="ltr">LOGGING</code> and <code dir="ltr">FILESYSTEM_LIKE_LOGGING</code> settings provide a complete transactional file system by way of SecureFiles.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
For LOB segments, with the <code dir="ltr">NOLOGGING</code> and <code dir="ltr">FILESYSTEM_LIKE_LOGGING</code> settings it is possible for data to be changed on disk during a backup operation, resulting in an inconsistent backup. To avoid this situation, ensure that changes to LOB segments are saved in the redo log file by setting <code dir="ltr">LOGGING</code> for LOB storage. Alternatively, change the database to <code dir="ltr">FORCE</code> <code dir="ltr">LOGGING</code> mode so that changes to <span class="italic">all</span> LOB segments are saved in the redo.</div>
<p>If the object for which you are specifying the logging attributes resides in a database or tablespace in force logging mode, then Oracle Database ignores any <code dir="ltr">NOLOGGING</code> setting until the database or tablespace is taken out of force logging mode.</p>
<p>If the database is running in <code dir="ltr">ARCHIVELOG</code> mode, then media recovery from a backup made before the <code dir="ltr">LOGGING</code> operation re-creates the object. However, media recovery from a backup made before the <code dir="ltr">NOLOGGING</code> operation does not re-create the object.</p>
<p><a id="sthref2338"></a>The size of a redo log generated for an operation in <code dir="ltr">NOLOGGING</code> mode is significantly smaller than the log generated in <code dir="ltr">LOGGING</code> mode.</p>
<p><a id="sthref2339"></a>In <code dir="ltr">NOLOGGING</code> mode, data is modified with minimal logging (to mark new extents <code dir="ltr">INVALID</code> and to record dictionary changes). When applied during media recovery, the extent invalidation records mark a range of blocks as logically corrupt, because the redo data is not fully logged. Therefore, if you cannot afford to lose the database object, then you should take a backup after the <code dir="ltr">NOLOGGING</code> operation.</p>
<p><code dir="ltr">NOLOGGING</code> is supported in only a subset of the locations that support <code dir="ltr">LOGGING</code>. Only the following operations support the <code dir="ltr">NOLOGGING</code> mode:</p>
<p><a id="SQLRF52284"></a><span class="subhead3"><span class="bold">DML</span>: &nbsp;</span></p>
<ul>
<li>
<p>Direct-path <code dir="ltr">INSERT</code> (serial or parallel) resulting either from an <code dir="ltr">INSERT</code> or a <code dir="ltr">MERGE</code> statement. <code dir="ltr">NOLOGGING</code> is not applicable to any <code dir="ltr">UPDATE</code> operations resulting from the <code dir="ltr">MERGE</code> statement.</p>
</li>
<li>
<p>Direct Loader (SQL*Loader)</p>
</li>
</ul>
<p><a id="SQLRF52285"></a><span class="subhead3"><span class="bold">DDL</span>: &nbsp;</span></p>
<ul>
<li>
<p><code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">AS</code> <code dir="ltr">SELECT</code> (In <code dir="ltr">NOLOGGING</code> mode, the creation of the table will be logged, but direct-path inserts will not be logged.)</p>
</li>
<li>
<p><code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code> ... <code dir="ltr"><span class="codeinlineitalic">LOB_storage_clause</span></code> ... <code dir="ltr"><span class="codeinlineitalic">LOB_parameters</span></code> ... <code dir="ltr">CACHE</code> | <code dir="ltr">NOCACHE</code> | <code dir="ltr">CACHE</code> <code dir="ltr">READS</code></p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr"><span class="codeinlineitalic">LOB_storage_clause</span></code> ... <code dir="ltr"><span class="codeinlineitalic">LOB_parameters</span></code> ... <code dir="ltr">CACHE</code> | <code dir="ltr">NOCACHE</code> | <code dir="ltr">CACHE</code> <code dir="ltr">READS</code> (to specify logging of newly created LOB columns)</p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr"><span class="codeinlineitalic">modify_LOB_storage_clause</span></code> ... <code dir="ltr"><span class="codeinlineitalic">modify_LOB_parameters</span></code> ... <code dir="ltr">CACHE</code> | <code dir="ltr">NOCACHE</code> | <code dir="ltr">CACHE</code> <code dir="ltr">READS</code> (to change logging of existing LOB columns)</p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">MOVE</code></p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... (all partition operations that involve data movement)</p>
<ul>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">ADD</code> <code dir="ltr">PARTITION</code> (hash partition only)</p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">MERGE</code> <code dir="ltr">PARTITIONS</code></p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">SPLIT</code> <code dir="ltr">PARTITION</code></p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">MOVE</code> <code dir="ltr">PARTITION</code></p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">MODIFY</code> <code dir="ltr">PARTITION</code> ... <code dir="ltr">ADD SUBPARTITION</code></p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">MODIFY</code> <code dir="ltr">PARTITION</code> ... <code dir="ltr">COALESCE</code> <code dir="ltr">SUBPARTITION</code></p>
</li>
</ul>
</li>
<li>
<p><code dir="ltr">CREATE</code> <code dir="ltr">INDEX</code></p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">INDEX</code> ... <code dir="ltr">REBUILD</code></p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">INDEX</code> ... <code dir="ltr">REBUILD</code> <code dir="ltr">[SUB]PARTITION</code></p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">INDEX</code> ... <code dir="ltr">SPLIT</code> <code dir="ltr">PARTITION</code></p>
</li>
</ul>
<p>For <span class="bold">objects other than LOBs</span>, if you omit this clause, then the logging attribute of the object defaults to the logging attribute of the tablespace in which it resides.</p>
<p>For <span class="bold">LOBs</span>, if you omit this clause, then:</p>
<ul>
<li>
<p>If you specify <code dir="ltr">CACHE</code>, then <code dir="ltr">LOGGING</code> is used (because you cannot have <code dir="ltr">CACHE</code> <code dir="ltr">NOLOGGING</code>).</p>
</li>
<li>
<p>If you specify <code dir="ltr">NOCACHE</code> or <code dir="ltr">CACHE</code> <code dir="ltr">READS</code>, then the logging attribute defaults to the logging attribute of the tablespace in which it resides.</p>
</li>
</ul>
<p><code dir="ltr">NOLOGGING</code> does not apply to LOBs that are stored internally (in the table with row data). If you specify <code dir="ltr">NOLOGGING</code> for LOBs with values less than 4000 bytes and you have not disabled <code dir="ltr">STORAGE</code> <code dir="ltr">IN</code> <code dir="ltr">ROW</code>, then Oracle ignores the <code dir="ltr">NOLOGGING</code> specification and treats the LOB data the same as other table data.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="clauses004.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="clauses006.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
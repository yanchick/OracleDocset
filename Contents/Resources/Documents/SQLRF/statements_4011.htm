<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103625"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/COMMIT"></a><title>COMMIT</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:42Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_4010.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_5.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">414/555</span> <!-- End Header --><a id="i2060233"></a>
<div id="SQLRF01110" class="refsect1">
<h1 class="refsect1">COMMIT <a id="sthref4485"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4486"></a>Purpose</p>
<p><a id="sthref4487"></a><a id="sthref4488"></a><a id="sthref4489"></a><a id="sthref4490"></a>Use the <code dir="ltr">COMMIT</code> statement to end your current transaction and make permanent all changes performed in the transaction. A <span class="bold">transaction</span> is a sequence of SQL statements that Oracle Database treats as a single unit. This statement also erases all savepoints in the transaction and releases transaction locks.</p>
<p>Until you commit a transaction:</p>
<ul>
<li>
<p>You can see any changes you have made during the transaction by querying the modified tables, but other users cannot see the changes. After you commit the transaction, the changes are visible to other users&#39; statements that execute after the commit.</p>
</li>
<li>
<p>You can roll back (undo) any changes made during the transaction with the <code dir="ltr">ROLLBACK</code> statement (see <a href="statements_9023.htm#i2104635">ROLLBACK</a>).</p>
</li>
</ul>
<p>Oracle Database issues an implicit <code dir="ltr">COMMIT</code> under the following circumstances:</p>
<ul>
<li>
<p>Before any syntactically valid data definition language (DDL) statement, even if the statement results in an error</p>
</li>
<li>
<p>After any data definition language (DDL) statement that completes without an error</p>
</li>
</ul>
<p><a id="sthref4491"></a>You can also use this statement to:</p>
<ul>
<li>
<p>Commit an in-doubt distributed transaction manually</p>
</li>
<li>
<p>Terminate a read-only transaction begun by a <code dir="ltr">SET</code> <code dir="ltr">TRANSACTION</code> statement</p>
</li>
</ul>
<p>Oracle recommends that you explicitly end every transaction in your application programs with a <code dir="ltr">COMMIT</code> or <code dir="ltr">ROLLBACK</code> statement, including the last transaction, before disconnecting from Oracle Database. If you do not explicitly commit the transaction and the program terminates abnormally, then the last uncommitted transaction is automatically rolled back.</p>
<p><a id="sthref4492"></a><a id="sthref4493"></a>A normal exit from most Oracle utilities and tools causes the current transaction to be committed. A normal exit from an Oracle precompiler program does not commit the transaction and relies on Oracle Database to roll back the current transaction.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CNCPT016" href="../CNCPT/transact.htm#CNCPT016"><span class="italic">Oracle Database Concepts</span></a> for more information on transactions</p>
</li>
<li>
<p><a href="statements_10005.htm#i2067247">SET TRANSACTION</a> for more information on specifying characteristics of a transaction</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4494"></a>Prerequisites</p>
<p>You need no privileges to commit your current transaction.</p>
<p>To manually commit a distributed in-doubt transaction that you originally committed, you must have <code dir="ltr">FORCE</code> <code dir="ltr">TRANSACTION</code> system privilege. To manually commit a distributed in-doubt transaction that was originally committed by another user, you must have <code dir="ltr">FORCE</code> <code dir="ltr">ANY</code> <code dir="ltr">TRANSACTION</code> system privilege.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4495"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF53771"></a><span class="italic">commit</span>::=</p>
<img width="730" height="234" src="img/commit.gif" alt="Description of commit.gif follows"/><br/>
<a id="sthref4496" href="img_text/commit.htm">Description of the illustration &#39;&#39;commit.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4497"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF53772"></a>COMMIT</p>
<p>All clauses after the <code dir="ltr">COMMIT</code> keyword are optional. If you specify only <code dir="ltr">COMMIT</code>, then the default is <code dir="ltr">COMMIT</code> <code dir="ltr">WORK</code> <code dir="ltr">WRITE</code> <code dir="ltr">WAIT</code> <code dir="ltr">IMMEDIATE</code>.</p>
<p class="subhead1"><a id="SQLRF53773"></a>WORK</p>
<p>The <code dir="ltr">WORK</code> keyword is supported for compliance with standard SQL. The statements <code dir="ltr">COMMIT</code> and <code dir="ltr">COMMIT</code> <code dir="ltr">WORK</code> are equivalent.</p>
<p class="subhead1"><a id="SQLRF53774"></a>COMMENT Clause <a id="sthref4498"></a><a id="sthref4499"></a></p>
<p>This clause is supported for backward compatibility. Oracle recommends that you use named transactions instead of commit comments.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_10005.htm#i2067247">SET TRANSACTION</a> and <a class="olink CNCPT1122" href="../CNCPT/transact.htm#CNCPT1122"><span class="italic">Oracle Database Concepts</span></a> for more information on named transactions</div>
<p>Specify a comment to be associated with the current transaction. The &#39;<code dir="ltr"><span class="codeinlineitalic">text</span></code>&#39; is a quoted literal of up to 255 bytes that Oracle Database stores in the data dictionary view <code dir="ltr">DBA_2PC_PENDING</code> along with the transaction ID if a distributed transaction becomes in doubt. This comment can help you diagnose the failure of a distributed transaction.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_4010.htm#i2119719">COMMENT</a> for more information on adding comments to SQL statements</div>
<p class="subhead1"><a id="SQLRF53775"></a>WRITE Clause <a id="sthref4500"></a><a id="sthref4501"></a><a id="sthref4502"></a></p>
<p>Use this clause to specify the priority with which the redo information generated by the commit operation is written to the redo log. This clause can improve performance by reducing latency, thus eliminating the wait for an I/O to the redo log. Use this clause to improve response time in environments with stringent response time requirements where the following conditions apply:</p>
<ul>
<li>
<p>The volume of update transactions is large, requiring that the redo log be written to disk frequently.</p>
</li>
<li>
<p>The application can tolerate the loss of an asynchronously committed transaction.</p>
</li>
<li>
<p>The latency contributed by waiting for the redo log write to occur contributes significantly to overall response time.</p>
</li>
</ul>
<p>You can specify the <code dir="ltr">WAIT</code> | <code dir="ltr">NOWAIT</code> and <code dir="ltr">IMMEDIATE</code> | <code dir="ltr">BATCH</code> clauses in any order.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you omit this clause, then the behavior of the commit operation is controlled by the <code dir="ltr">COMMIT_LOGGING</code> and <code dir="ltr">COMMIT_WAIT</code> initialization parameters, if they have been set.</div>
<p><a id="SQLRF53776"></a><span class="subhead3">WAIT | NOWAIT&nbsp;</span>Use these clauses to specify when control returns to the user.</p>
<ul>
<li>
<p>The <code dir="ltr">WAIT</code> parameter ensures that the commit will return only after the corresponding redo is persistent in the online redo log. Whether in <code dir="ltr">BATCH</code> or <code dir="ltr">IMMEDIATE</code> mode, when the client receives a successful return from this <code dir="ltr">COMMIT</code> statement, the transaction has been committed to durable media. A crash occurring after a successful write to the log can prevent the success message from returning to the client. In this case the client cannot tell whether or not the transaction committed.</p>
</li>
<li>
<p>The <code dir="ltr">NOWAIT</code> parameter causes the commit to return to the client whether or not the write to the redo log has completed. This behavior can increase transaction throughput. With the <code dir="ltr">WAIT</code> parameter, if the commit message is received, then you can be sure that no data has been lost.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Caution:</p>
With <code dir="ltr">NOWAIT</code>, a crash occurring after the commit message is received, but before the redo log record(s) are written, can falsely indicate to a transaction that its changes are persistent.</div>
<p>If you omit this clause, then the transaction commits with the <code dir="ltr">WAIT</code> behavior.</p>
<p><a id="SQLRF53777"></a><span class="subhead3">IMMEDIATE | BATCH&nbsp;</span>Use these clauses to specify when the redo is written to the log.</p>
<ul>
<li>
<p>The <code dir="ltr">IMMEDIATE</code> parameter causes the log writer process (LGWR) to write the transaction&#39;s redo information to the log. This operation option forces a disk I/O, so it can reduce transaction throughput.</p>
</li>
<li>
<p>The <code dir="ltr">BATCH</code> parameter causes the redo to be buffered to the redo log, along with other concurrently executing transactions. When sufficient redo information is collected, a disk write of the redo log is initiated. This behavior is called &#34;group commit&#34;, as redo for multiple transactions is written to the log in a single I/O operation.</p>
</li>
</ul>
<p>If you omit this clause, then the transaction commits with the <code dir="ltr">IMMEDIATE</code> behavior.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CNCPT1119" href="../CNCPT/transact.htm#CNCPT1119"><span class="italic">Oracle Database Concepts</span></a> for more information on asynchronous commit</div>
<p class="subhead1"><a id="SQLRF53778"></a>FORCE Clause <a id="sthref4503"></a><a id="sthref4504"></a><a id="sthref4505"></a><a id="sthref4506"></a><a id="sthref4507"></a></p>
<p>In a distributed database system, the <code dir="ltr">FORCE</code> <code dir="ltr"><span class="codeinlineitalic">string</span></code> [, <code dir="ltr"><span class="codeinlineitalic">integer</span></code>] clause lets you manually commit an in-doubt distributed transaction. The transaction is identified by the &#39;<code dir="ltr"><span class="codeinlineitalic">string</span></code>&#39; containing its local or global transaction ID. To find the IDs of such transactions, query the data dictionary view <code dir="ltr">DBA_2PC_PENDING</code>. You can use <code dir="ltr"><span class="codeinlineitalic">integer</span></code> to specifically assign the transaction a system change number (SCN). If you omit <code dir="ltr"><span class="codeinlineitalic">integer</span></code>, then the transaction is committed using the current SCN.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
A <code dir="ltr">COMMIT</code> statement with a <code dir="ltr">FORCE</code> clause commits only the specified transactions. Such a statement does not affect your current transaction.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN032" href="../ADMIN/ds_txnman.htm#ADMIN032"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information on these topics</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4508"></a>Examples</p>
<p><a id="SQLRF53779"></a><span class="subhead3">Committing an Insert: Example&nbsp;</span>This statement inserts a row into the <code dir="ltr">hr.regions</code> table and commits this change:</p>
<pre dir="ltr">INSERT INTO regions VALUES (5, &#39;Antarctica&#39;); 

COMMIT WORK;
 
</pre>
<p>To commit the same insert operation and instruct the database to buffer the change to the redo log, without initiating disk I/O, use the following <code dir="ltr">COMMIT</code> statement:</p>
<pre dir="ltr">COMMIT WRITE BATCH;
</pre>
<p><a id="SQLRF53780"></a><span class="subhead3">Commenting on COMMIT: Example&nbsp;</span>The following statement commits the current transaction and associates a comment with it:</p>
<pre dir="ltr">COMMIT 
    COMMENT &#39;In-doubt transaction Code 36, Call (415) 555-2637&#39;; 
</pre>
<p>If a network or machine failure prevents this distributed transaction from committing properly, then Oracle Database stores the comment in the data dictionary along with the transaction ID. The comment indicates the part of the application in which the failure occurred and provides information for contacting the administrator of the database where the transaction was committed.</p>
<p><a id="SQLRF53781"></a><span class="subhead3">Forcing an In-Doubt Transaction: Example&nbsp;</span>The following statement manually commits a hypothetical in-doubt distributed transaction. Query the <code dir="ltr">V$CORRUPT_XID_LIST</code> data dictionary view to find the transaction IDs of corrupt transactions. You must have DBA privileges to view the <code dir="ltr">V$CORRUPT_XID_LIST</code> and to issue this statement.</p>
<pre dir="ltr">COMMIT FORCE &#39;22.57.53&#39;; 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<!-- class="chapter" -->
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_4010.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_5.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103637"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/CREATE%20FLASHBACK%20ARCHIVE"></a><title>CREATE FLASHBACK ARCHIVE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:45Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_5010.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_5012.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">426/555</span> <!-- End Header --><a id="BABIAECC"></a>
<div id="SQLRF20008" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">CREATE FLASHBACK ARCHIVE <a id="sthref4782"></a><a id="sthref4783"></a><a id="sthref4784"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4785"></a>Purpose</p>
<p>Use the <code dir="ltr">CREATE</code> <code dir="ltr">FLASHBACK</code> <code dir="ltr">ARCHIVE</code> statement to create a flashback data archive, which provides the ability to automatically track and archive transactional data changes to specified database objects. A flashback data archive consists of multiple tablespaces and stores historic data from all transactions against tracked tables. The data is stored in internal history tables.</p>
<p>Flashback data archives retain historical data for the time duration specified using the <code dir="ltr">RETENTION</code> parameter. Historical data can be queried using the Flashback Query <code dir="ltr">AS</code> <code dir="ltr">OF</code> clause. Archived historic data that has aged beyond the specified retention period is automatically purged.</p>
<p>Flashback data archives retain historical data across data definition language (DDL) changes to tables enabled for flashback data archive. Flashback data archives supports many common DDL statements, including some DDL statements that alter table definitions or incur data movement. DDL statements that are not supported result in error ORA-55610.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADFNS01011" href="../ADFNS/adfns_flashback.htm#ADFNS01011"><span class="italic">Oracle Database Development Guide</span></a> for general information on using flashback data archives</p>
</li>
<li>
<p>The <code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code> <a href="statements_7002.htm#BABGIIIA"><span class="xreftitleitalic"><span class="italic">flashback_archive_clause</span></span></a> for information on designating a table as a tracked table</p>
</li>
<li>
<p><a href="statements_1010.htm#BABGBHGE">ALTER FLASHBACK ARCHIVE</a> for information on changing the quota and retention attributes of the flashback data archive, as well as adding or changing tablespace storage for the flashback data archive</p>
</li>
</ul>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4786"></a>Prerequisites</p>
<p>You must have the <code dir="ltr">FLASHBACK</code> <code dir="ltr">ARCHIVE</code> <code dir="ltr">ADMINISTER</code> system privilege to create a flashback data archive. In addition, you must have the <code dir="ltr">CREATE</code> <code dir="ltr">TABLESPACE</code> system privilege to create a flashback data archive, as well as sufficient quota on the tablespace in which the historical information will reside. To designate a flashback data archive as the system default flashback data archive, you must be logged in as <code dir="ltr">SYSDBA</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4787"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF53940"></a><span class="italic">create_flashback_archive</span>::=</p>
<img width="685" height="142" src="img/create_flashback_archive.gif" alt="Description of create_flashback_archive.gif follows"/><br/>
<a id="sthref4788" href="img_text/create_flashback_archive.htm">Description of the illustration &#39;&#39;create_flashback_archive.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="SQLRF53941"></a><a href="#BABJAHFE"><span class="xreftitleitalic"><span class="italic">flashback_archive_quota</span></span></a>::=</p>
<img width="213" height="156" src="img/flashback_archive_quota.gif" alt="Description of flashback_archive_quota.gif follows"/><br/>
<a id="sthref4789" href="img_text/flashback_archive_quota.htm">Description of the illustration &#39;&#39;flashback_archive_quota.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="SQLRF53942"></a><a href="#BABIFIBJ"><span class="xreftitleitalic"><span class="italic">flashback_archive_retention</span></span></a>::=</p>
<img width="270" height="91" src="img/flashback_archive_retention.gif" alt="Description of flashback_archive_retention.gif follows"/><br/>
<a id="sthref4790" href="img_text/flashback_archive_retention.htm">Description of the illustration &#39;&#39;flashback_archive_retention.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4791"></a>Semantics</p>
<p class="subhead2"><a id="SQLRF53943"></a>DEFAULT</p>
<p>You must be logged in as <code dir="ltr">SYSDBA</code> to specify <code dir="ltr">DEFAULT</code>. Use this clause to designate this flashback data archive as the default flashback data archive for the database. When a <code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code> or <code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> statement specifies the <code dir="ltr"><span class="codeinlineitalic">flashback_archive_clause</span></code> without specifying a flashback data archive name, the database uses the default flashback data archive to store data from that table.</p>
<p>You cannot specify this clause if a default flashback data archive already exists. However, you can replace an existing default flashback data archive using the <code dir="ltr">ALTER</code> <code dir="ltr">FLASHBACK</code> <code dir="ltr">ARCHIVE</code> ... <code dir="ltr">SET</code> <code dir="ltr">DEFAULT</code> clause.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code> <a href="statements_7002.htm#BABGIIIA"><span class="xreftitleitalic"><span class="italic">flashback_archive_clause</span></span></a> for more information</div>
<p class="subhead1"><a id="SQLRF53944"></a><span class="italic">flashback_archive</span></p>
<p>Specify the name of the flashback data archive. The name must satisfy the requirements specified in <a href="sql_elements008.htm#i27570">&#34;Database Object Naming Rules&#34;</a>.</p>
<p class="subhead1"><a id="SQLRF53945"></a>TABLESPACE Clause</p>
<p>Specify the tablespace where the archived data for this flashback data archive is to be stored. You can specify only one tablespace with this clause. However, you can subsequently add tablespaces to the flashback data archive with an <code dir="ltr">ALTER</code> <code dir="ltr">FLASHBACK</code> <code dir="ltr">ARCHIVE</code> statement.</p>
<p class="subhead1"><a id="BABJAHFE"></a><a id="SQLRF53946"></a><span class="italic">flashback_archive_quota</span></p>
<p>Specify the amount of space in the initial tablespace to be reserved for the archived data. If the space for archiving in a flashback data archive becomes full, then DML operations on tracked tables that use this flashback data archive will fail. The database issues an out-of-space alert when the content of the flashback data archive is 90% of the specified quota, to allow time to purge old data or add additional quota. If you omit this clause, then the flashback data archive has unlimited quota on the specified tablespace.</p>
<p class="subhead1"><a id="BGEIBJJB"></a><a id="SQLRF56429"></a>[NO] OPTIMIZE DATA</p>
<p>Specify <code dir="ltr">OPTIMIZE</code> <code dir="ltr">DATA</code> to enable optimization for flashback data archive history tables. This instructs the database to optimize the storage of data in history tables using any of the following features: Advanced Row Compression, Advanced LOB Compression, Advanced LOB Deduplication, segment-level compression tiering, and row-level compression tiering. To specify this clause, you must have a license for the Advanced Compression option.</p>
<p>Specify <code dir="ltr">NO</code> <code dir="ltr">OPTIMIZE</code> <code dir="ltr">DATA</code> to instruct the database not to optimize the storage of data in history tables. This is the default.</p>
<p class="subhead1"><a id="BABIFIBJ"></a><a id="SQLRF53947"></a><span class="italic">flashback_archive_retention</span></p>
<p>Specify the length of time in months, days, or years that the archived data should be retained in the flashback data archive. If the length of time causes the flashback data archive to become full, then the database responds as described in <a href="#BABJAHFE"><span class="xreftitleitalic"><span class="italic">flashback_archive_quota</span></span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4792"></a>Examples</p>
<p>The following statement creates two flashback data archives for testing purposes. The first is designated as the default for the database. For both of them, the space quota is 1 megabyte, and the archive retention is one day.</p>
<pre dir="ltr">CREATE FLASHBACK ARCHIVE DEFAULT test_archive1
   TABLESPACE example
   QUOTA 1 M
   RETENTION 1 DAY;

CREATE FLASHBACK ARCHIVE test_archive2
   TABLESPACE example
   QUOTA 1 M
   RETENTION 1 DAY;
</pre>
<p>The next statement alters the default flashback data archive to extend the retention period to 1 month:</p>
<pre dir="ltr">ALTER FLASHBACK ARCHIVE test_archive1
   MODIFY RETENTION 1 MONTH;
</pre>
<p>The next statement specifies tracking for the <code dir="ltr">oe.customers</code> table. The flashback data archive is not specified, so data will be archived in the default flashback data archive, <code dir="ltr">test_archive1</code>:</p>
<pre dir="ltr">ALTER TABLE oe.customers
   FLASHBACK ARCHIVE;
</pre>
<p>The next statement specifies tracking for the <code dir="ltr">oe.orders</code> table. In this case, data will be archived in the specified flashback data archive, <code dir="ltr">test_archive2</code>:</p>
<pre dir="ltr">ALTER TABLE oe.orders
   FLASHBACK ARCHIVE test_archive2;
</pre>
<p>The next statement drops <code dir="ltr">test_archive2</code> flashback data archive:</p>
<pre dir="ltr">DROP FLASHBACK ARCHIVE test_archive2;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_5010.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_5012.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
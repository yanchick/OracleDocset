<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103613"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/ALTER%20TABLESPACE"></a><title>ALTER TABLESPACE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:40Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_3001.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_4.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">402/555</span> <!-- End Header --><a id="i2093894"></a>
<div id="SQLRF01002" class="refsect1">
<h1 class="refsect1">ALTER TABLESPACE <a id="sthref4138"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4139"></a>Purpose</p>
<p>Use the <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code> statement to alter an existing tablespace or one or more of its data files or temp files.</p>
<p>You cannot use this statement to convert a dictionary-managed tablespace to a locally managed tablespace. For that purpose, use the <code dir="ltr">DBMS_SPACE_ADMIN</code> package, which is documented in <a class="olink ARPLS057" href="../ARPLS/d_spadmn.htm#ARPLS057"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN011" href="../ADMIN/tspaces.htm#ADMIN011"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> and <a href="statements_7003.htm#i2231734">CREATE TABLESPACE</a> for information on creating a tablespace</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4140"></a>Prerequisites</p>
<p>To alter the <code dir="ltr">SYSAUX</code> tablespace, you must have the <code dir="ltr">SYSDBA</code> system privilege.</p>
<p>If you have the <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code> system privilege, then you can perform any <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code> operation. If you have the <code dir="ltr">MANAGE</code> <code dir="ltr">TABLESPACE</code> system privilege, then you can only perform the following operations:</p>
<ul>
<li>
<p>Take a tablespace online or offline</p>
</li>
<li>
<p>Begin or end a backup</p>
</li>
<li>
<p>Make a tablespace read only or read write</p>
</li>
<li>
<p>Change the state of a tablespace to <code dir="ltr">PERMANENT</code> or <code dir="ltr">TEMPORARY</code></p>
</li>
<li>
<p>Set the default logging mode of a tablespace to <code dir="ltr">LOGGING</code> or <code dir="ltr">NOLOGGING</code></p>
</li>
<li>
<p>Put a tablespace in force logging mode or take it out of force logging mode</p>
</li>
<li>
<p>Rename a tablespace or a tablespace data file</p>
</li>
<li>
<p>Specify <code dir="ltr">RETENTION</code> <code dir="ltr">GUARANTEE</code> or <code dir="ltr">RETENTION</code> <code dir="ltr">NOGUARANTEE</code> for an undo tablespace</p>
</li>
<li>
<p>Resize a data file for a tablespace</p>
</li>
<li>
<p>Enable or disable autoextension of a data file for a tablespace</p>
</li>
<li>
<p>Shrink the amount of space a temporary tablespace or a temp file is taking</p>
</li>
</ul>
<p>Before you can make a tablespace read only, the following conditions must be met:</p>
<ul>
<li>
<p>The tablespace must be online.</p>
</li>
<li>
<p>The tablespace must not contain any active rollback segments. For this reason, the <code dir="ltr">SYSTEM</code> tablespace can never be made read only, because it contains the <code dir="ltr">SYSTEM</code> rollback segment. Additionally, because the rollback segments of a read-only tablespace are not accessible, Oracle recommends that you drop the rollback segments before you make a tablespace read only.</p>
</li>
<li>
<p>The tablespace must not be involved in an open backup, because the end of a backup updates the header file of all data files in the tablespace.</p>
</li>
</ul>
<p>Performing this function in restricted mode may help you meet these restrictions, because only users with <code dir="ltr">RESTRICTED</code> <code dir="ltr">SESSION</code> system privilege can be logged on.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4141"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF53561"></a><span class="italic">alter_tablespace</span>::=</p>
<img width="999" height="517" src="img/alter_tablespace.gif" alt="Description of alter_tablespace.gif follows"/><br/>
<a id="sthref4142" href="img_text/alter_tablespace.htm">Description of the illustration &#39;&#39;alter_tablespace.gif&#39;&#39;</a><br/>
<br/>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you specify the <code dir="ltr">DEFAULT</code> clause, then you must specify at least one of the clauses <code dir="ltr"><span class="codeinlineitalic">table_compression</span></code>, <code dir="ltr"><span class="codeinlineitalic">inmemory_clause</span></code>, <code dir="ltr"><span class="codeinlineitalic">ilm_clause</span></code>, or <code dir="ltr"><span class="codeinlineitalic">storage_clause</span></code>.</div>
<p>(<a href="statements_3001.htm#i2183370"><span class="xreftitleitalic"><span class="italic">table_compression</span> ::=</span></a>&mdash;part of <code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code>, <a href="statements_7003.htm#CEGCADBG"><span class="xreftitleitalic"><span class="italic">inmemory_clause</span>::=</span></a>&mdash;part of <code dir="ltr">CREATE</code> <code dir="ltr">TABLESPACE</code>, <a href="statements_3001.htm#CJAJEHJB"><span class="xreftitleitalic"><span class="italic">ilm_clause</span>::=</span></a>&mdash;part of <code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code>, <a href="clauses009.htm#CJACEJGB"><span class="xreftitleitalic"><span class="italic">storage_clause</span>::=</span></a>, <a href="clauses008.htm#CHDEAIID"><span class="xreftitleitalic"><span class="italic">size_clause</span>::=</span></a>, <a href="#i2126146"><span class="xreftitleitalic"><span class="italic">datafile_tempfile_clauses</span> ::=</span></a>, <a href="#i2154490"><span class="xreftitleitalic"><span class="italic">tablespace_logging_clauses</span> ::=</span></a>, <a href="#i2153542"><span class="xreftitleitalic"><span class="italic">tablespace_group_clause</span>::=</span></a>, <a href="#i2154551"><span class="xreftitleitalic"><span class="italic">tablespace_state_clauses</span>::=</span></a>, <a href="#i2154658"><span class="xreftitleitalic"><span class="italic">autoextend_clause</span> ::=</span></a>, <a href="#i2154562"><span class="xreftitleitalic"><span class="italic">flashback_mode_clause</span> ::=</span></a>, <a href="#i2158209"><span class="xreftitleitalic"><span class="italic">tablespace_retention_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="i2126146"></a><a id="SQLRF53562"></a><a href="#i2154246"><span class="xreftitleitalic"><span class="italic">datafile_tempfile_clauses</span></span></a> ::=</p>
<img width="562" height="355" src="img/datafile_tempfile_clauses.gif" alt="Description of datafile_tempfile_clauses.gif follows"/><br/>
<a id="sthref4143" href="img_text/datafile_tempfile_clauses.htm">Description of the illustration &#39;&#39;datafile_tempfile_clauses.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses004.htm#CJADEBBF"><span class="xreftitleitalic"><span class="italic">file_specification</span>::=</span></a>).</p>
<p class="subhead2"><a id="i2154490"></a><a id="SQLRF53563"></a><a href="#i2154486"><span class="xreftitleitalic"><span class="italic">tablespace_logging_clauses</span></span></a> ::=</p>
<img width="284" height="79" src="img/tablespace_logging_clauses.gif" alt="Description of tablespace_logging_clauses.gif follows"/><br/>
<a id="sthref4144" href="img_text/tablespace_logging_clauses.htm">Description of the illustration &#39;&#39;tablespace_logging_clauses.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses005.htm#CJAHABGF"><span class="xreftitleitalic"><span class="italic">logging_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="i2153542"></a><a id="SQLRF53564"></a><a href="#i2154466"><span class="xreftitleitalic"><span class="italic">tablespace_group_clause</span></span></a>::=</p>
<img width="369" height="58" src="img/tablespace_group_clause.gif" alt="Description of tablespace_group_clause.gif follows"/><br/>
<a id="sthref4145" href="img_text/tablespace_group_clause.htm">Description of the illustration &#39;&#39;tablespace_group_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="i2154551"></a><a id="SQLRF53565"></a><a href="#i2154547"><span class="xreftitleitalic"><span class="italic">tablespace_state_clauses</span></span></a>::=</p>
<img width="331" height="272" src="img/tablespace_state_clauses.gif" alt="Description of tablespace_state_clauses.gif follows"/><br/>
<a id="sthref4146" href="img_text/tablespace_state_clauses.htm">Description of the illustration &#39;&#39;tablespace_state_clauses.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="i2154658"></a><a id="SQLRF53566"></a><a href="#i2154654"><span class="xreftitleitalic"><span class="italic">autoextend_clause</span></span></a> ::=</p>
<img width="539" height="79" src="img/autoextend_clause.gif" alt="Description of autoextend_clause.gif follows"/><br/>
<a id="sthref4147" href="img_text/autoextend_clause.htm">Description of the illustration &#39;&#39;autoextend_clause.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses008.htm#CHDEAIID"><span class="xreftitleitalic"><span class="italic">size_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="SQLRF53567"></a><span class="italic">maxsize_clause</span>::=</p>
<img width="213" height="58" src="img/maxsize_clause.gif" alt="Description of maxsize_clause.gif follows"/><br/>
<a id="sthref4148" href="img_text/maxsize_clause.htm">Description of the illustration &#39;&#39;maxsize_clause.gif&#39;&#39;</a><br/>
<br/>
<p>(<a href="clauses008.htm#CHDEAIID"><span class="xreftitleitalic"><span class="italic">size_clause</span>::=</span></a>)</p>
<p class="subhead2"><a id="i2154562"></a><a id="SQLRF53568"></a><a href="#i2147688"><span class="xreftitleitalic"><span class="italic">flashback_mode_clause</span></span></a> ::=</p>
<img width="192" height="58" src="img/flashback_mode_clause.gif" alt="Description of flashback_mode_clause.gif follows"/><br/>
<a id="sthref4149" href="img_text/flashback_mode_clause.htm">Description of the illustration &#39;&#39;flashback_mode_clause.gif&#39;&#39;</a><br/>
<br/>
<p class="subhead2"><a id="i2158209"></a><a id="SQLRF53569"></a><span class="italic">tablespace_retention_clause</span>::=</p>
<img width="254" height="58" src="img/tablespace_retention_clause.gif" alt="Description of tablespace_retention_clause.gif follows"/><br/>
<a id="sthref4150" href="img_text/tablespace_retention_clause.htm">Description of the illustration &#39;&#39;tablespace_retention_clause.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g2235017"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF53570"></a><span class="italic">tablespace</span></p>
<p>Specify the name of the tablespace to be altered.</p>
<p><a id="SQLRF53571"></a><span class="subhead3">Restrictions on Altering Tablespaces<a id="sthref4151"></a><a id="sthref4152"></a><a id="sthref4153"></a><a id="sthref4154"></a>&nbsp;</span>Altering tablespaces is subject to the following restrictions:</p>
<ul>
<li>
<p>If <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> is an undo tablespace, then the only other clauses you can specify in this statement are <code dir="ltr">ADD</code> <code dir="ltr">DATAFILE</code>, <code dir="ltr">RENAME</code> <code dir="ltr">DATAFILE</code>, <code dir="ltr">RENAME</code> <code dir="ltr">TO</code> (renaming the tablespace), <code dir="ltr">DATAFILE</code> ... <code dir="ltr">ONLINE</code>, <code dir="ltr">DATAFILE</code> ... <code dir="ltr">OFFLINE</code>, <code dir="ltr">BEGIN</code> <code dir="ltr">BACKUP</code>, and <code dir="ltr">END</code> <code dir="ltr">BACKUP</code>.</p>
</li>
<li>
<p>You cannot make the <code dir="ltr">SYSTEM</code> tablespace read only or temporary and you cannot take it offline.</p>
</li>
<li>
<p>For locally managed temporary tablespaces, the only clause you can specify in this statement is the <code dir="ltr">ADD</code> clause.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN013" href="../ADMIN/undo.htm#ADMIN013"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on automatic undo management and undo tablespaces</div>
<p class="subhead1"><a id="SQLRF53572"></a>DEFAULT Clause <a id="sthref4155"></a><a id="sthref4156"></a><a id="sthref4157"></a></p>
<p>This clause lets you specify new default parameters for the tablespace. The new default parameters apply to objects subsequently created in the tablespace.</p>
<p>The clauses <code dir="ltr"><span class="codeinlineitalic">table_compression</span></code>, <code dir="ltr"><span class="codeinlineitalic">inmemory_clause</span></code>, <code dir="ltr"><span class="codeinlineitalic">ilm_clause</span></code>, and <code dir="ltr"><span class="codeinlineitalic">storage_clause</span></code> have the same semantics in <code dir="ltr">CREATE</code> <code dir="ltr">TABLESPACE</code> and <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code>. For complete information on these clauses, refer to <a href="statements_7003.htm#CEGFBDAI">DEFAULT Clause</a> in the documentation on <code dir="ltr">CREATE</code> <code dir="ltr">TABLESPACE</code>.</p>
<p class="subhead1"><a id="SQLRF53574"></a>MINIMUM EXTENT <a id="sthref4158"></a><a id="sthref4159"></a></p>
<p>This clause is valid only for permanent dictionary-managed tablespaces. The <code dir="ltr">MINIMUM</code> <code dir="ltr">EXTENT</code> clause lets you control free space fragmentation in the tablespace by ensuring that every used or free extent in a tablespace is at least as large as, and is a multiple of, the value specified in the <code dir="ltr"><span class="codeinlineitalic">size_clause</span></code>.</p>
<p><a id="SQLRF53575"></a><span class="subhead3">Restriction on MINIMUM EXTENT&nbsp;</span>You cannot specify this clause for a locally managed tablespace or for a dictionary-managed temporary tablespace.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="clauses008.htm#CHDEIJBC"><span class="xreftitleitalic"><span class="italic">size_clause</span></span></a> for information about that clause, <a class="olink ADMIN011" href="../ADMIN/tspaces.htm#ADMIN011"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about using <code dir="ltr">MINIMUM</code> <code dir="ltr">EXTENT</code> to control space fragmentation</div>
<p class="subhead1"><a id="SQLRF53576"></a>RESIZE Clause <a id="sthref4160"></a></p>
<p>This clause is valid only for bigfile tablespaces. It lets you increase or decrease the size of the single data file to an absolute size. Use <code dir="ltr">K</code>, <code dir="ltr">M</code>, <code dir="ltr">G</code>, or <code dir="ltr">T</code> to specify the size in kilobytes, megabytes, gigabytes, or terabytes, respectively.</p>
<p>To change the size of a newly added data file or temp file in smallfile tablespaces, use the <code dir="ltr">ALTER</code> <code dir="ltr">DATABASE</code> ... <code dir="ltr"><span class="codeinlineitalic">autoextend_clause</span></code> (see <a href="statements_1006.htm#i2078824"><span class="xreftitleitalic"><span class="italic">database_file_clauses</span></span></a> ).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_7003.htm#i2194039">BIGFILE | SMALLFILE</a> for information on bigfile tablespaces</div>
<p class="subhead1"><a id="i2154298"></a><a id="SQLRF53577"></a>COALESCE <a id="sthref4161"></a><a id="sthref4162"></a></p>
<p>For each data file in the tablespace, this clause combines all contiguous free extents into larger contiguous extents.</p>
<p class="subhead1"><a id="SQLRF53578"></a>SHRINK SPACE Clause <a id="sthref4163"></a></p>
<p>This clause is valid only for temporary tablespaces. It lets you reduce the amount of space the tablespace is taking. In the optional <code dir="ltr">KEEP</code> clause, the <code dir="ltr"><span class="codeinlineitalic">size_clause</span></code> defines the lower bound that a tablespace can be shrunk to. It is the opposite of <code dir="ltr">MAXSIZE</code> for an autoextensible tablespace. If you omit the <code dir="ltr">KEEP</code> clause, then the database will attempt to shrink the tablespace as much as possible as long as other tablespace storage attributes are satisfied.</p>
<p class="subhead1"><a id="SQLRF53579"></a>RENAME Clause<a id="sthref4164"></a><a id="sthref4165"></a></p>
<p>Use this clause to rename <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code>. This clause is valid only if <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> and all its data files are online and the <code dir="ltr">COMPATIBLE</code> parameter is set to 10.0.0 or greater. You can rename both permanent and temporary tablespaces.</p>
<p>If <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> is read only, then Oracle Database does not update the data file headers to reflect the new name. The alert log will indicate that the data file headers have not been updated.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you re-create the control file, and if the data files that Oracle Database uses for this purpose are restored backups whose headers reflect the old tablespace name, then the re-created control file will also reflect the old tablespace name. However, after the database is fully recovered, the control file will reflect the new name.</div>
<p>If <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> has been designated as the undo tablespace for any instance in an Oracle Real Application Clusters (Oracle RAC) environment, and if a server parameter file was used to start up the database, then Oracle Database changes the value of the <code dir="ltr">UNDO_TABLESPACE</code> parameter for that instance in the server parameter file (<code dir="ltr">SPFILE</code>) to reflect the new tablespace name. If a single-instance database is using a parameter file (pfile) instead of an spfile, then the database puts a message in the alert log advising the database administrator to change the value manually in the pfile.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr">RENAME</code> clause does not change the value of the <code dir="ltr">UNDO_TABLESPACE</code> parameter in the running instance. Although this does not affect the functioning of the undo tablespace, Oracle recommends that you issue the following statement to manually change the value of <code dir="ltr">UNDO_TABLESPACE</code> to the new tablespace name for the duration of the instance:
<pre dir="ltr">ALTER SYSTEM SET UNDO_TABLESPACE = <span class="italic">new_tablespace_name</span> SCOPE = MEMORY;
</pre>
<p>You only need to issue this statement once. If the <code dir="ltr">UNDO_TABLESPACE</code> parameter is set to the new tablespace name in the pfile or spfile, then the parameter will be set correctly when the instance is next restarted.</p>
</div>
<p><a id="SQLRF53580"></a><span class="subhead3">Restriction on Renaming Tablespaces&nbsp;</span>You cannot rename the <code dir="ltr">SYSTEM</code> or <code dir="ltr">SYSAUX</code> tablespaces.</p>
<p class="subhead1"><a id="SQLRF53581"></a>BACKUP Clauses</p>
<p>Use these clauses to move all data files in a tablespace into or out of online (sometimes called hot) backup mode.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN004" href="../ADMIN/start.htm#ADMIN004"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on restarting the database without media recovery</p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">DATABASE</code> <a href="statements_1006.htm#i2150230">&#34;BACKUP Clauses&#34;</a> for information on moving all data files in the database into and out of online backup mode</p>
</li>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">DATABASE</code> <a href="statements_1006.htm#i2150231"><span class="xreftitleitalic"><span class="italic">alter_datafile_clause</span></span></a> for information on taking individual data files out of online backup mode</p>
</li>
</ul>
</div>
<p class="subhead2"><a id="SQLRF53582"></a>BEGIN BACKUP <a id="sthref4166"></a><a id="sthref4167"></a><a id="sthref4168"></a></p>
<p>Specify <code dir="ltr">BEGIN</code> <code dir="ltr">BACKUP</code> to indicate that an open backup is to be performed on the data files that make up this tablespace. This clause does not prevent users from accessing the tablespace. You must use this clause before beginning an open backup.</p>
<p><a id="SQLRF53583"></a><span class="subhead3">Restrictions on Beginning Tablespace Backup&nbsp;</span>Beginning tablespace backup is subject to the following restrictions:</p>
<ul>
<li>
<p>You cannot specify this clause for a read-only tablespace or for a temporary locally managed tablespace.</p>
</li>
<li>
<p>While the backup is in progress, you cannot take the tablespace offline normally, shut down the instance, or begin another backup of the tablespace.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i2158282">&#34;Backing Up Tablespaces: Examples&#34;</a></div>
<p class="subhead2"><a id="SQLRF53584"></a>END BACKUP <a id="sthref4169"></a><a id="sthref4170"></a><a id="sthref4171"></a><a id="sthref4172"></a></p>
<p>Specify <code dir="ltr">END</code> <code dir="ltr">BACKUP</code> to indicate that an online backup of the tablespace is complete. Use this clause as soon as possible after completing an online backup. Otherwise, if an instance failure or <code dir="ltr">SHUTDOWN</code> <code dir="ltr">ABORT</code> occurs, then Oracle Database assumes that media recovery (possibly requiring archived redo log) is necessary at the next instance startup.</p>
<p><a id="SQLRF53585"></a><span class="subhead3">Restriction on Ending Tablespace Backup&nbsp;</span>You cannot use this clause on a read-only tablespace.</p>
<p class="subhead1"><a id="i2154246"></a><a id="SQLRF53586"></a><span class="italic">datafile_tempfile_clauses <a id="sthref4173"></a><a id="sthref4174"></a><a id="sthref4175"></a><a id="sthref4176"></a><a id="sthref4177"></a><a id="sthref4178"></a></span></p>
<p>The tablespace file clauses let you add or modify a data file or temp file.</p>
<p class="subhead2"><a id="SQLRF53587"></a>ADD Clause</p>
<p>Specify <code dir="ltr">ADD</code> to add to the tablespace a data file or temp file specified by <code dir="ltr"><span class="codeinlineitalic">file_specification</span></code>. Use the <code dir="ltr"><span class="codeinlineitalic">datafile_tempfile_spec</span></code> form of <code dir="ltr"><span class="codeinlineitalic">file_specification</span></code> (see <a href="clauses004.htm#g1057086"><span class="xreftitleitalic"><span class="italic">file_specification</span></span></a>) to list regular data files and temp files in an operating system file system or to list Oracle Automatic Storage Management disk group files.</p>
<p>For locally managed temporary tablespaces, this is the only clause you can specify at any time.</p>
<p>If you omit <code dir="ltr"><span class="codeinlineitalic">file_specification</span></code>, then Oracle Database creates an Oracle Managed File of 100M with <code dir="ltr">AUTOEXTEND</code> enabled.</p>
<p>You can add a data file or temp file to a locally managed tablespace that is online or to a dictionary managed tablespace that is online or offline. Ensure the file is not in use by another database.</p>
<p><a id="SQLRF53588"></a><span class="subhead3">Restriction on Adding Data Files and Temp Files&nbsp;</span>You cannot specify this clause for a bigfile (single-file) tablespace, as such a tablespace has only one data file or temp file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
On some operating systems, Oracle does not allocate space for a temp file until the temp file blocks are actually accessed. This delay in space allocation results in faster creation and resizing of temp files, but it requires that sufficient disk space is available when the temp files are later used. To avoid potential problems, before you create or resize a temp file, ensure that the available disk space exceeds the size of the new temp file or the increased size of a resized temp file. The excess space should allow for anticipated increases in disk space use by unrelated operations as well. Then proceed with the creation or resizing operation.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="clauses004.htm#g1057086"><span class="xreftitleitalic"><span class="italic">file_specification</span></span></a>, <a href="#i2133310">&#34;Adding and Dropping Data Files and Temp Files: Examples&#34;</a>, and <a href="#i2133323">&#34;Adding an Oracle-managed Data File: Example&#34;</a></div>
<p class="subhead2"><a id="CIHBAGCD"></a><a id="SQLRF53589"></a>DROP Clause <a id="sthref4179"></a><a id="sthref4180"></a></p>
<p>Specify <code dir="ltr">DROP</code> to drop from the tablespace an empty data file or temp file specified by <code dir="ltr"><span class="codeinlineitalic">filename</span></code> or <code dir="ltr"><span class="codeinlineitalic">file_number</span></code>. This clause causes the data file or temp file to be removed from the data dictionary and deleted from the operating system. The database must be open at the time this clause is specified.</p>
<p>The <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code> ... <code dir="ltr">DROP</code> <code dir="ltr">TEMPFILE</code> statement is equivalent to specifying the <code dir="ltr">ALTER</code> <code dir="ltr">DATABASE</code> <code dir="ltr">TEMPFILE</code> ... <code dir="ltr">DROP</code> <code dir="ltr">INCLUDING</code> <code dir="ltr">DATAFILES</code>.</p>
<p><a id="SQLRF53590"></a><span class="subhead3">Restrictions on Dropping Files&nbsp;</span>To drop a data file or temp file, the data file or temp file:</p>
<ul>
<li>
<p>Must be empty.</p>
</li>
<li>
<p>Cannot be the first file that was created in the tablespace. In such cases, drop the tablespace instead.</p>
</li>
<li>
<p>Cannot be in a read-only tablespace that was migrated from dictionary managed to locally managed. Dropping a data file from all other read-only tablespaces is supported.</p>
</li>
<li>
<p>Cannot be offline.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><code dir="ltr">ALTER</code> <code dir="ltr">DATABASE</code> <a href="statements_1006.htm#i2162868"><span class="xreftitleitalic"><span class="italic">alter_tempfile_clause</span></span></a> for additional information on dropping temp files</p>
</li>
<li>
<p><a class="olink ADMIN012" href="../ADMIN/dfiles.htm#ADMIN012"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on data file numbers and for guidelines on managing data files</p>
</li>
<li>
<p><a href="#i2133310">&#34;Adding and Dropping Data Files and Temp Files: Examples&#34;</a></p>
</li>
</ul>
</div>
<p class="subhead2"><a id="SQLRF53591"></a>SHRINK TEMPFILE Clause <a id="sthref4181"></a><a id="sthref4182"></a></p>
<p>This clause is valid only when altering a temporary tablespace. It lets you reduce the amount of space the specified temp file is taking. In the optional <code dir="ltr">KEEP</code> clause, the <code dir="ltr"><span class="codeinlineitalic">size_clause</span></code> defines the lower bound that the temp file can be shrunk to. It is the opposite of <code dir="ltr">MAXSIZE</code> for an autoextensible tablespace. If you omit the <code dir="ltr">KEEP</code> clause, then the database will attempt to shrink the temp file as much as possible as long as other storage attributes are satisfied.</p>
<p class="subhead2"><a id="SQLRF53592"></a>RENAME DATAFILE Clause</p>
<p>Specify <code dir="ltr">RENAME</code> <code dir="ltr">DATAFILE</code> to rename one or more of the tablespace data files. The database must be open, and you must take the tablespace offline before renaming it. Each <code dir="ltr"><span class="codeinlineitalic">filename</span></code> must fully specify a data file using the conventions for filenames on your operating system.</p>
<p>This clause merely associates the tablespace with the new file rather than the old one. This clause does not actually change the name of the operating system file. You must change the name of the file through your operating system.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i2133299">&#34;Moving and Renaming Tablespaces: Example&#34;</a></div>
<p class="subhead2"><a id="SQLRF53593"></a>ONLINE | OFFLINE Clauses</p>
<p>Use these clauses to take all data files or temp files in the tablespace offline or put them online. These clauses have no effect on the <code dir="ltr">ONLINE</code> or <code dir="ltr">OFFLINE</code> status of the tablespace itself.</p>
<p>The database must be mounted. If <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> is <code dir="ltr">SYSTEM</code>, or an undo tablespace, or the default temporary tablespace, then the database must not be open.</p>
<p class="subhead1"><a id="i2154486"></a><a id="SQLRF53594"></a><span class="italic">tablespace_logging_clauses</span></p>
<p>Use these clauses to set or change the logging characteristics of the tablespace.</p>
<p class="subhead2"><a id="SQLRF53595"></a><span class="italic">logging_clause <a id="sthref4183"></a><a id="sthref4184"></a></span></p>
<p>Specify <code dir="ltr">LOGGING</code> if you want logging of all tables, indexes, and partitions within the tablespace. The tablespace-level logging attribute can be overridden by logging specifications at the table, index, and partition levels.</p>
<p>When an existing tablespace logging attribute is changed by an <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code> statement, all tables, indexes, and partitions created <span class="italic">after</span> the statement will have the new default logging attribute (which you can still subsequently override). The logging attribute of existing objects is not changed.</p>
<p>If the tablespace is in <code dir="ltr">FORCE</code> <code dir="ltr">LOGGING</code> mode, then you can specify <code dir="ltr">NOLOGGING</code> in this statement to set the default logging mode of the tablespace to <code dir="ltr">NOLOGGING</code>, but this will not take the tablespace out of <code dir="ltr">FORCE</code> <code dir="ltr">LOGGING</code> mode.</p>
<p class="subhead2"><a id="SQLRF53596"></a>[NO] FORCE LOGGING<a id="sthref4185"></a><a id="sthref4186"></a><a id="sthref4187"></a></p>
<p>Use this clause to put the tablespace in force logging mode or take it out of force logging mode. The database must be open and in <code dir="ltr">READ</code> <code dir="ltr">WRITE</code> mode. Neither of these settings changes the default <code dir="ltr">LOGGING</code> or <code dir="ltr">NOLOGGING</code> mode of the tablespace.</p>
<p><a id="SQLRF53597"></a><span class="subhead3">Restriction on Force Logging Mode&nbsp;</span>You cannot specify <code dir="ltr">FORCE</code> <code dir="ltr">LOGGING</code> for an undo or a temporary tablespace.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN002" href="../ADMIN/create.htm#ADMIN002"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on when to use <code dir="ltr">FORCE</code> <code dir="ltr">LOGGING</code> mode and <a href="#i2133334">&#34;Changing Tablespace Logging Attributes: Example&#34;</a></div>
<p class="subhead1"><a id="i2154466"></a><a id="SQLRF53598"></a><span class="italic">tablespace_group_clause</span></p>
<p>This clause is valid only for locally managed temporary tablespaces. Use this clause to add <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> to or remove it from the <code dir="ltr"><span class="codeinlineitalic">tablespace_group_name</span></code> tablespace group.</p>
<ul>
<li>
<p>Specify a group name to indicate that <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> is a member of this tablespace group. If <code dir="ltr"><span class="codeinlineitalic">tablespace_group_name</span></code> does not already exist, then Oracle Database implicitly creates it when you alter tablespace to be a member of it.</p>
</li>
<li>
<p>Specify an empty string (&#39; &#39;) to remove <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> from the <code dir="ltr"><span class="codeinlineitalic">tablespace_group_name</span></code> tablespace group.</p>
</li>
</ul>
<p><a id="SQLRF53599"></a><span class="subhead3">Restriction on Tablespace Groups&nbsp;</span>You cannot specify a tablespace group for a permanent tablespace or for a dictionary-managed temporary tablespace.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN01103" href="../ADMIN/tspaces.htm#ADMIN01103"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information on tablespace groups and <a href="statements_4003.htm#i2147599">&#34;Assigning a Tablespace Group: Example&#34;</a></div>
<p class="subhead1"><a id="i2154547"></a><a id="SQLRF53600"></a><span class="italic">tablespace_state_clauses</span></p>
<p>Use these clauses to set or change the state of the tablespace.</p>
<p class="subhead2"><a id="SQLRF53601"></a>ONLINE | OFFLINE <a id="sthref4188"></a><a id="sthref4189"></a><a id="sthref4190"></a><a id="sthref4191"></a></p>
<p>Specify <code dir="ltr">ONLINE</code> to bring the tablespace online. Specify <code dir="ltr">OFFLINE</code> to take the tablespace offline and prevent further access to its segments. When you take a tablespace offline, all of its data files are also offline.</p>
<div class="infobox-note">
<p class="notep1">Suggestion:</p>
Before taking a tablespace offline for a long time, consider changing the tablespace allocation of any users who have been assigned the tablespace as either a default or temporary tablespace. While the tablespace is offline, such users cannot allocate space for objects or sort areas in the tablespace. See <a href="statements_4003.htm#i2058207">ALTER USER</a> for more information on allocating tablespace quota to users.</div>
<p><a id="SQLRF53602"></a><span class="subhead3">Restriction on Taking Tablespaces Offline&nbsp;</span>You cannot take a temporary tablespace offline.</p>
<p><a id="SQLRF53603"></a><span class="subhead3">OFFLINE NORMAL&nbsp;</span>Specify <code dir="ltr">NORMAL</code> to flush all blocks in all data files in the tablespace out of the system global area (SGA). You need not perform media recovery on this tablespace before bringing it back online. This is the default.</p>
<p><a id="SQLRF53604"></a><span class="subhead3">OFFLINE TEMPORARY&nbsp;</span>If you specify <code dir="ltr">TEMPORARY</code>, then Oracle Database performs a checkpoint for all online data files in the tablespace but does not ensure that all files can be written. Files that are offline when you issue this statement may require media recovery before you bring the tablespace back online.</p>
<p><a id="SQLRF53605"></a><span class="subhead3">OFFLINE IMMEDIATE&nbsp;</span>If you specify <code dir="ltr">IMMEDIATE</code>, then Oracle Database does not ensure that tablespace files are available and does not perform a checkpoint. You must perform media recovery on the tablespace before bringing it back online.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr">FOR</code> <code dir="ltr">RECOVER</code> setting for <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code> ... <code dir="ltr">OFFLINE</code> has been deprecated. The syntax is supported for backward compatibility. However, Oracle recommends that you use the transportable tablespaces feature for tablespace recovery.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV228" href="../BRADV/osadvsce.htm#BRADV228"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information on using transportable tablespaces to perform media recovery</div>
<p class="subhead2"><a id="SQLRF53606"></a>READ ONLY | READ WRITE <a id="sthref4192"></a><a id="sthref4193"></a><a id="sthref4194"></a><a id="sthref4195"></a></p>
<p>Specify <code dir="ltr">READ</code> <code dir="ltr">ONLY</code> to place the tablespace in <span class="bold">transition read-only mode</span>. In this state, existing transactions can complete (commit or roll back), but no further DML operations are allowed to the tablespace except for rollback of existing transactions that previously modified blocks in the tablespace. You cannot make the <code dir="ltr">SYSAUX</code>, <code dir="ltr">SYSTEM</code>, or temporary tablespaces <code dir="ltr">READ</code> <code dir="ltr">ONLY</code>.</p>
<p>When a tablespace is read only, you can copy its files to read-only media. You must then rename the data files in the control file to point to the new location by using the SQL statement <code dir="ltr">ALTER</code> <code dir="ltr">DATABASE</code> ... <code dir="ltr">RENAME</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CNCPT003" href="../CNCPT/physical.htm#CNCPT003"><span class="italic">Oracle Database Concepts</span></a> for more information on read-only tablespaces</p>
</li>
<li>
<p><a href="statements_1006.htm#i2079942">ALTER DATABASE</a></p>
</li>
</ul>
</div>
<p>Specify <code dir="ltr">READ</code> <code dir="ltr">WRITE</code> to indicate that write operations are allowed on a previously read-only tablespace.</p>
<p class="subhead2"><a id="SQLRF53607"></a>PERMANENT | TEMPORARY <a id="sthref4196"></a><a id="sthref4197"></a><a id="sthref4198"></a><a id="sthref4199"></a></p>
<p>Specify <code dir="ltr">PERMANENT</code> to indicate that the tablespace is to be converted from a temporary to a permanent tablespace. A permanent tablespace is one in which permanent database objects can be stored. This is the default when a tablespace is created.</p>
<p>Specify <code dir="ltr">TEMPORARY</code> to indicate that the tablespace is to be converted from a permanent to a temporary tablespace. A temporary tablespace is one in which no permanent database objects can be stored. Objects in a temporary tablespace persist only for the duration of the session.</p>
<p><a id="SQLRF53608"></a><span class="subhead3">Restrictions on Temporary Tablespaces&nbsp;</span>Temporary tablespaces are subject to the following restrictions:</p>
<ul>
<li>
<p>You cannot specify <code dir="ltr">TEMPORARY</code> for the <code dir="ltr">SYSAUX</code> tablespace.</p>
</li>
<li>
<p>If <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> was not created with a standard block size, then you cannot change it from permanent to temporary.</p>
</li>
<li>
<p>You cannot specify <code dir="ltr">TEMPORARY</code> for a tablespace in <code dir="ltr">FORCE</code> <code dir="ltr">LOGGING</code> mode.</p>
</li>
</ul>
<p class="subhead1"><a id="i2154654"></a><a id="SQLRF53609"></a><span class="italic">autoextend_clause</span></p>
<p>This clause is valid only for bigfile (single-file) tablespaces. Use this clause to enable or disable autoextension of the single data file in the tablespace. To enable or disable autoextension of a newly added data file or temp file in smallfile tablespaces, use the <code dir="ltr"><span class="codeinlineitalic">autoextend_clause</span></code> of the <a href="statements_1006.htm#i2078824"><span class="xreftitleitalic"><span class="italic">database_file_clauses</span></span></a> in the <code dir="ltr">ALTER</code> <code dir="ltr">DATABASE</code> statement.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN01102" href="../ADMIN/tspaces.htm#ADMIN01102"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about bigfile (single-file) tablespaces</p>
</li>
<li>
<p><a href="clauses004.htm#g1057086"><span class="xreftitleitalic"><span class="italic">file_specification</span></span></a> for more information about the <code dir="ltr"><span class="codeinlineitalic">autoextend_clause</span></code></p>
</li>
</ul>
</div>
<p class="subhead1"><a id="i2147688"></a><a id="SQLRF53610"></a><span class="italic">flashback_mode_clause <a id="sthref4200"></a><a id="sthref4201"></a></span></p>
<p>Use this clause to specify whether this tablespace should participate in any subsequent <code dir="ltr">FLASHBACK</code> <code dir="ltr">DATABASE</code> operation.</p>
<ul>
<li>
<p>For you to turn <code dir="ltr">FLASHBACK</code> mode on, the database must be mounted and closed.</p>
</li>
<li>
<p>For you to turn <code dir="ltr">FLASHBACK</code> mode off, the database must be mounted, either open <code dir="ltr">READ</code> <code dir="ltr">WRITE</code> or closed.</p>
</li>
</ul>
<p>This clause is not valid for temporary tablespaces.</p>
<p>Refer to <a href="statements_7003.htm#i2231734">CREATE TABLESPACE</a> for more complete information on this clause.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV595" href="../BRADV/flashdb.htm#BRADV595"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for more information about Flashback Database</div>
<p class="subhead1"><a id="SQLRF53611"></a><span class="italic">tablespace_retention_clause <a id="sthref4202"></a><a id="sthref4203"></a></span></p>
<p>This clause has the same semantics in <code dir="ltr">CREATE</code> <code dir="ltr">TABLESPACE</code> and <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code> statements. Refer to <a href="statements_7003.htm#i2209531"><span class="xreftitleitalic"><span class="italic">tablespace_retention_clause</span></span></a> in the documentation on <code dir="ltr">CREATE</code> <code dir="ltr">TABLESPACE</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4204"></a>Examples</p>
<p><a id="i2158282"></a><a id="SQLRF53612"></a><span class="subhead3">Backing Up Tablespaces: Examples&nbsp;</span>The following statement signals to the database that a backup is about to begin:</p>
<pre dir="ltr">ALTER TABLESPACE tbs_01 
    BEGIN BACKUP; 
</pre>
<p>The following statement signals to the database that the backup is finished:</p>
<pre dir="ltr">ALTER TABLESPACE tbs_01 
   END BACKUP; 
</pre>
<p><a id="i2133299"></a><a id="SQLRF53613"></a><span class="subhead3">Moving and Renaming Tablespaces: Example&nbsp;</span>This example moves and renames a data file associated with the <code dir="ltr">tbs_02</code> tablespace, created in <a href="statements_7003.htm#i2153424">&#34;Enabling Autoextend for a Tablespace: Example&#34;</a>, from <code dir="ltr">diskb:tbs_f5.dbf</code> to <code dir="ltr">diska:tbs_f5.dbf</code>:</p>
<ol>
<li>
<p>Take the tablespace offline using an <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code> statement with the <code dir="ltr">OFFLINE</code> clause:</p>
<pre dir="ltr">ALTER TABLESPACE tbs_02 OFFLINE NORMAL; 
</pre></li>
<li>
<p>Copy the file from <code dir="ltr">diskb:tbs_f5.dbf</code> to <code dir="ltr">diska:tbs_f5.dbf</code> using your operating system commands.</p>
</li>
<li>
<p>Rename the data file using an <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code> statement with the <code dir="ltr">RENAME</code> <code dir="ltr">DATAFILE</code> clause:</p>
<pre dir="ltr">ALTER TABLESPACE tbs_02
  RENAME DATAFILE &#39;diskb:tbs_f5.dbf&#39;
  TO              &#39;diska:tbs_f5.dbf&#39;; 
</pre></li>
<li>
<p>Bring the tablespace back online using an <code dir="ltr">ALTER</code> <code dir="ltr">TABLESPACE</code> statement with the <code dir="ltr">ONLINE</code> clause:</p>
<pre dir="ltr">ALTER TABLESPACE tbs_02 ONLINE;
</pre></li>
</ol>
<p><a id="i2133310"></a><a id="SQLRF53614"></a><span class="subhead3">Adding and Dropping Data Files and Temp Files: Examples&nbsp;</span>The following statement adds a data file to the tablespace. When more space is needed, new 10-kilobytes extents will be added up to a maximum of 100 kilobytes:</p>
<pre dir="ltr">ALTER TABLESPACE tbs_03 
    ADD DATAFILE &#39;tbs_f04.dbf&#39;
    SIZE 100K
    AUTOEXTEND ON
    NEXT 10K
    MAXSIZE 100K;
</pre>
<p>The following statement drops the empty data file:</p>
<pre dir="ltr">ALTER TABLESPACE tbs_03
    DROP DATAFILE &#39;tbs_f04.dbf&#39;;
</pre>
<p>The following statements add a temp file to the temporary tablespace created in <a href="statements_7003.htm#i2204579">&#34;Creating a Temporary Tablespace: Example&#34;</a> and then drops the temp file:</p>
<pre dir="ltr">ALTER TABLESPACE temp_demo ADD TEMPFILE &#39;temp05.dbf&#39; SIZE 5 AUTOEXTEND ON;

ALTER TABLESPACE temp_demo DROP TEMPFILE &#39;temp05.dbf&#39;;
</pre>
<p><a id="SQLRF53615"></a><span class="subhead3">Managing Space in a Temporary Tablespace: Example&nbsp;</span>The following statement manages the space in the temporary tablespace created in <a href="statements_7003.htm#i2204579">&#34;Creating a Temporary Tablespace: Example&#34;</a> using the <code dir="ltr">SHRINK</code> <code dir="ltr">SPACE</code> clause. The <code dir="ltr">KEEP</code> clause is omitted, so the database will attempt to shrink the tablespace as much as possible as long as other tablespace storage attributes are satisfied.</p>
<pre dir="ltr">ALTER TABLESPACE temp_demo SHRINK SPACE;
</pre>
<p><a id="i2133323"></a><a id="SQLRF53616"></a><span class="subhead3">Adding an Oracle-managed Data File: Example&nbsp;</span>The following example adds an Oracle-managed data file to the <code dir="ltr">omf_ts1</code> tablespace (see <a href="statements_7003.htm#i2082522">&#34;Creating Oracle Managed Files: Examples&#34;</a> for the creation of this tablespace). The new data file is 100M and is autoextensible with unlimited maximum size:</p>
<pre dir="ltr">ALTER TABLESPACE omf_ts1 ADD DATAFILE; 
</pre>
<p><a id="i2133334"></a><a id="SQLRF53617"></a><span class="subhead3">Changing Tablespace Logging Attributes: Example&nbsp;</span>The following example changes the default logging attribute of a tablespace to <code dir="ltr">NOLOGGING</code>:</p>
<pre dir="ltr">ALTER TABLESPACE tbs_03 NOLOGGING;
</pre>
<p>Altering a tablespace logging attribute has no affect on the logging attributes of the existing schema objects within the tablespace. The tablespace-level logging attribute can be overridden by logging specifications at the table, index, and partition levels.</p>
<p><a id="SQLRF53618"></a><span class="subhead3">Changing Undo Data Retention: Examples&nbsp;</span>The following statement changes the undo data retention for tablespace <code dir="ltr">undots1</code> to normal undo data behavior:</p>
<pre dir="ltr">ALTER TABLESPACE undots1
  RETENTION NOGUARANTEE;
</pre>
<p>The following statement changes the undo data retention for tablespace <code dir="ltr">undots1</code> to behavior that preserves unexpired undo data:</p>
<pre dir="ltr">ALTER TABLESPACE undots1
  RETENTION GUARANTEE;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<!-- class="chapter" -->
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_3001.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_4.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-103704"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DROP%20TABLESPACE"></a><title>DROP TABLESPACE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-18T18:52:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQL Language Reference"/>
<meta name="dcterms.identifier" content="E41329-25"/>
<meta name="dcterms.isVersionOf" content="SQLRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="statements_9003.htm" title="Previous" type="text/html"/>
<link rel="Next" href="statements_9005.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41329-25.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">493/555</span> <!-- End Header --><a id="i2133717"></a>
<div id="SQLRF01807" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">DROP TABLESPACE <a id="sthref6422"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6423"></a>Purpose</p>
<p><a id="sthref6424"></a>Use the <code dir="ltr">DROP</code> <code dir="ltr">TABLESPACE</code> statement to remove a tablespace from the database.</p>
<p>When you drop a tablespace, Oracle Database does not place it in the recycle bin. Therefore, you cannot subsequently either purge or undrop the tablespace.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="statements_7003.htm#i2231734">CREATE TABLESPACE</a> and <a href="statements_3002.htm#i2093894">ALTER TABLESPACE</a> for information on creating and modifying a tablespace</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6425"></a>Prerequisites</p>
<p>You must have the <code dir="ltr">DROP</code> <code dir="ltr">TABLESPACE</code> system privilege. You cannot drop a tablespace if it contains any rollback segments holding active transactions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6426"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF54949"></a><span class="italic">drop_tablespace</span>::=</p>
<img width="721" height="208" src="img/drop_tablespace.gif" alt="Description of drop_tablespace.gif follows"/><br/>
<a id="sthref6427" href="img_text/drop_tablespace.htm">Description of the illustration &#39;&#39;drop_tablespace.gif&#39;&#39;</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6428"></a>Semantics</p>
<p class="subhead1"><a id="SQLRF54950"></a><span class="italic">tablespace</span></p>
<p>Specify the name of the tablespace to be dropped.</p>
<p>You can drop a tablespace regardless of whether it is online or offline. Oracle recommends that you take the tablespace offline before dropping it to ensure that no SQL statements in currently running transactions access any of the objects in the tablespace.</p>
<p>You cannot drop the <code dir="ltr">SYSTEM</code> tablespace. You can drop the <code dir="ltr">SYSAUX</code> tablespace only if you have the <code dir="ltr">SYSDBA</code> system privilege and you have started the database in <code dir="ltr">UPGRADE</code> mode.</p>
<p>You may want to alert any users who have been assigned the tablespace as either a default or temporary tablespace. After the tablespace has been dropped, these users cannot allocate space for objects or sort areas in the tablespace. You can reassign users new default and temporary tablespaces with the <code dir="ltr">ALTER</code> <code dir="ltr">USER</code> statement.</p>
<p>Any objects that were previously dropped from the tablespace and moved to the recycle bin are purged from the recycle bin. Oracle Database removes from the data dictionary all metadata about the tablespace and all data files and temp files in the tablespace. The database also automatically drops from the operating system any Oracle-managed data files and temp files in the tablespace. Other data files and temp files are not removed from the operating system unless you specify <code dir="ltr">INCLUDING</code> <code dir="ltr">CONTENTS</code> <code dir="ltr">AND</code> <code dir="ltr">DATAFILES</code>.</p>
<p>You cannot use this statement to drop a tablespace group. However, if <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> is the only tablespace in a tablespace group, then Oracle Database removes the tablespace group from the data dictionary as well.</p>
<p><a id="SQLRF54951"></a><span class="subhead3">Restrictions on Dropping Tablespaces<a id="sthref6429"></a><a id="sthref6430"></a>&nbsp;</span>Dropping tablespaces is subject to the following restrictions:</p>
<ul>
<li>
<p>You cannot drop a tablespace that contains a domain index or any objects created by a domain index.</p>
</li>
<li>
<p>You cannot drop an undo tablespace if it is being used by any instance or if it contains any undo data needed to roll back uncommitted transactions.</p>
</li>
<li>
<p>You cannot drop a tablespace that has been designated as the default tablespace for the database. You must first reassign another tablespace as the default tablespace and then drop the old default tablespace.</p>
</li>
<li>
<p>You cannot drop a temporary tablespace if it is part of the database default temporary tablespace group. You must first remove the tablespace from the database default temporary tablespace group and then drop it.</p>
</li>
<li>
<p>You cannot drop a temporary tablespace if it contains segments that are in use by existing sessions. In this case, no error is raised. The database waits until there are no segments in use by existing sessions and then drops the tablespace.</p>
</li>
<li>
<p>You cannot drop a tablespace, even with the <code dir="ltr">INCLUDING</code> <code dir="ltr">CONTENTS</code> and <code dir="ltr">CASCADE</code> <code dir="ltr">CONSTRAINTS</code> clauses, if doing so would disable a primary key or unique constraint in another tablespace. For example, if the tablespace being dropped contains a primary key index, but the primary key column itself is in a different tablespace, then you cannot drop the tablespace until you have manually disabled the primary key constraint in the other tablespace.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADDCI270" href="../ADDCI/ext_idx_frmwork.htm#ADDCI270"><span class="italic">Oracle Database Data Cartridge Developer&#39;s Guide</span></a> and <a class="olink CNCPT607" href="../CNCPT/indexiot.htm#CNCPT607"><span class="italic">Oracle Database Concepts</span></a> for more information on domain indexes</div>
<p class="subhead1"><a id="SQLRF57085"></a>{ DROP | KEEP } QUOTA</p>
<p>Specify <code dir="ltr">DROP</code> <code dir="ltr">QUOTA</code> to drop all user quotas for the tablespace. Specify <code dir="ltr">KEEP</code> <code dir="ltr">QUOTA</code> to retain all user quotas for the tablespace. The default is <code dir="ltr">KEEP</code> <code dir="ltr">QUOTA</code>.</p>
<p>You can view all user quotas for a tablespace by querying the <code dir="ltr">DBA_TS_QUOTAS</code> data dictionary view.</p>
<p class="subhead1"><a id="SQLRF54952"></a>INCLUDING CONTENTS <a id="sthref6431"></a><a id="sthref6432"></a></p>
<p>Specify <code dir="ltr">INCLUDING</code> <code dir="ltr">CONTENTS</code> to drop all the contents of the tablespace. You must specify this clause to drop a tablespace that contains any database objects. If you omit this clause, and the tablespace is not empty, then the database returns an error and does not drop the tablespace.</p>
<p><code dir="ltr">DROP</code> <code dir="ltr">TABLESPACE</code> fails, even if you specify <code dir="ltr">INCLUDING</code> <code dir="ltr">CONTENTS</code>, if the tablespace contains some, but not all, of the partitions or subpartitions of a single table. If all the partitions or subpartitions of a partitioned table reside in <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code>, then <code dir="ltr">DROP</code> <code dir="ltr">TABLESPACE</code> ... <code dir="ltr">INCLUDING</code> <code dir="ltr">CONTENTS</code> drops <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code>, as well as any associated index segments, LOB data and index segments, and nested table data and index segments of <code dir="ltr"><span class="codeinlineitalic">table</span></code> in other tablespace(s).</p>
<p>For a partitioned index-organized table, if all the primary key index segments are in this tablespace, then this clause will also drop any overflow segments that exist in other tablespaces, as well as any associated mapping table in other tablespaces. If some of the primary key index segments are <span class="italic">not</span> in this tablespace, then the statement will fail. In that case, before you can drop the tablespace, you must use <code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> ... <code dir="ltr">MOVE</code> <code dir="ltr">PARTITION</code> to move those primary key index segments into this tablespace, drop the partitions whose overflow data segments are not in this tablespace, and drop the partitioned index-organized table.</p>
<p>If the tablespace contains a master table of a materialized view, then the database invalidates the materialized view.</p>
<p>If the tablespace contains a materialized view log, then the database drops the log and any other direct-path <code dir="ltr">INSERT</code> refresh information associated with the table.</p>
<p class="subhead1"><a id="SQLRF54953"></a>AND DATAFILES <a id="sthref6433"></a><a id="sthref6434"></a><a id="sthref6435"></a></p>
<p>When you specify <code dir="ltr">INCLUDING</code> <code dir="ltr">CONTENTS</code>, the <code dir="ltr">AND</code> <code dir="ltr">DATAFILES</code> clause lets you instruct the database to delete the associated operating system files as well. Oracle Database writes a message to the alert log for each operating system file deleted. This clause is not needed for Oracle Managed Files, because they are removed from the system even if you do not specify <code dir="ltr">AND</code> <code dir="ltr">DATAFILES</code>.</p>
<p class="subhead1"><a id="SQLRF54954"></a>KEEP DATAFILES <a id="sthref6436"></a><a id="sthref6437"></a><a id="sthref6438"></a></p>
<p>When you specify <code dir="ltr">INCLUDING</code> <code dir="ltr">CONTENTS</code>, the <code dir="ltr">KEEP</code> <code dir="ltr">DATAFILES</code> clause lets you instruct the database to leave untouched the associated operating system files, including Oracle Managed Files. You must specify this clause if you are using Oracle Managed Files and you do not want the associated operating system files removed by the <code dir="ltr">INCLUDING</code> <code dir="ltr">CONTENTS</code> clause.</p>
<p class="subhead1"><a id="SQLRF54955"></a>CASCADE CONSTRAINTS <a id="sthref6439"></a><a id="sthref6440"></a></p>
<p>Specify <code dir="ltr">CASCADE</code> <code dir="ltr">CONSTRAINTS</code> to drop all referential integrity constraints from tables outside <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> that refer to primary and unique keys of tables inside <code dir="ltr"><span class="codeinlineitalic">tablespace</span></code>. If you omit this clause and such referential integrity constraints exist, then Oracle Database returns an error and does not drop the tablespace.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6441"></a>Examples</p>
<p><a id="SQLRF54956"></a><span class="subhead3">Dropping a Tablespace: Example&nbsp;</span>The following statement drops the <code dir="ltr">tbs_01</code> tablespace and drops all referential integrity constraints that refer to primary and unique keys inside <code dir="ltr">tbs_01</code>:</p>
<pre dir="ltr">DROP TABLESPACE tbs_01 
    INCLUDING CONTENTS 
        CASCADE CONSTRAINTS; 
</pre>
<p><a id="SQLRF54957"></a><span class="subhead3">Deleting Operating System Files: Example&nbsp;</span>The following example drops the <code dir="ltr">tbs_02</code> tablespace and deletes all associated operating system data files:</p>
<pre dir="ltr">DROP TABLESPACE tbs_02
   INCLUDING CONTENTS AND DATAFILES;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5862">
<tr>
<td class="cellalignment5869">
<table class="cellalignment5867">
<tr>
<td class="cellalignment5866"><a href="statements_9003.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5866"><a href="statements_9005.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5871">
<table class="cellalignment5865">
<tr>
<td class="cellalignment5866"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5866"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5866"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5866"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5866"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5866"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
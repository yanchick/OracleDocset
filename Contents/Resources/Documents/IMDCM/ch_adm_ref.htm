<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-47070"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/ORD_DICOM_ADMIN%20Package%20Reference"></a><title>ORD_DICOM_ADMIN Package Reference</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="description" content="Presents reference and other information about using Oracle Database to store, manage, and retrieve DICOM content such as single-frame and multiframe images, waveforms, slices of 3-D volumes, video segments, and structured reports in an integrated fashion with other enterprise information. Oracle Multimedia DICOM extends Oracle Database reliability, availability, and data management to media objects in medical applications. Oracle Multimedia DICOM supports Digital Imaging and Communications in Medicine, the standard for medical images."/>
<meta name="dcterms.created" content="2014-07-31T9:38:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Multimedia DICOM Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17698-09"/>
<meta name="dcterms.isVersionOf" content="IMDCM"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="dm_glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="ch_adm_repos.htm" title="Previous" type="text/html"/>
<link rel="Next" href="part_four.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17698-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">23/32</span> <!-- End Header -->
<script>
<!-- // <![CDATA[
window.name='ch_adm_ref'
// ]]> -->
</script> <script>
// <![CDATA[
function footdisplay(footnum,footnote) {
    var msg = window.open('', 'NewWindow' + footnum,
        'directories=no,height=120,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');

    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">');
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>');
    msg.document.write('Footnote ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><h1>Footnote ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/body><\/html>');
    msg.document.close();
    msg.focus();
}
// ]]>
</script> <noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript>
<div id="IMDCM8000" class="chapter"><a id="CHDCJFFF"></a>
<h1 class="chapter"><span class="secnum">13</span> ORD_DICOM_ADMIN Package Reference<a id="sthref926"></a><a id="sthref927"></a><a id="sthref928"></a></h1>
<p>Oracle Multimedia DICOM provides the ORD_DICOM_ADMIN data model repository interface in the ORD_DICOM_ADMIN package<a id="sthref929"></a><a id="sthref930"></a>. This package provides the data model repository interface, which is intended for use by DICOM administrators to maintain the Oracle Multimedia DICOM repository. The data model repository is a collection of documents. One set of documents is loaded during installation. After installation, DICOM administrators can add more documents to the data model repository using the procedures and functions in the ORD_DICOM_ADMIN package.</p>
<p>Oracle Multimedia DICOM also defines a view for the DICOM repository to be used by DICOM administrators.</p>
<p>In addition, Oracle Multimedia provides DICOM value locators, which administrators can use to specify DICOM attributes or their child components within the DICOM content and with anonymity, constraint, and mapping documents.</p>
<p>The ORD_DICOM_ADMIN package is defined in the <code>ordcrpsp.sql</code> file<a id="sthref931"></a>. After installation, this file is available in the Oracle home directory at:</p>
<p><code><span class="codeinlineitalic">&lt;ORACLE_HOME&gt;</span></code><code>/ord/im/admin</code> (on Linux and UNIX)</p>
<p><code><span class="codeinlineitalic">&lt;ORACLE_HOME&gt;</span></code><code>\ord\im\admin</code> (on Windows)</p>
<p>This chapter describes the functions, procedures, and views <a id="sthref932"></a><a id="sthref933"></a>in the<br/>
ORD_DICOM_ADMIN data model repository interface. It also describes the syntax for DICOM value locators. See <a href="ch_gen_over.htm#CHDBDAAE">Table 3-1</a> for information about other DICOM application programming interfaces (APIs).</p>
<p>This chapter contains these sections:</p>
<ul>
<li>
<p><a href="#BABBFDIE">Directory Definition and Setup for ORD_DICOM_ADMIN Examples</a></p>
</li>
<li>
<p><a href="#BABFGDDE">Important Notes for DICOM Repository Administrators</a></p>
</li>
<li>
<p><a href="#CHDGFHDE">DICOM Data Model Repository Administrator Functions</a></p>
</li>
<li>
<p><a href="#BABEIEIH">DICOM Data Model Repository Administrator Procedures</a></p>
</li>
<li>
<p><a href="#CHDJHFEE">DICOM Repository Administrator Views</a></p>
</li>
<li>
<p><a href="#CHEDJCDJ">General Format for DICOM Value Locators</a></p>
</li>
</ul>
<a id="BABBFDIE"></a>
<div id="IMDCM13834" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">13.1</span> Directory Definition and Setup for ORD_DICOM_ADMIN Examples</h2>
<p>In this chapter, some examples use <code>c:\mydir\work</code> to represent the directory specification where your test files can be located. Other examples use <code>DICOMDIR</code> to represent the directory specification for the test files. And, a few examples use <code>dcmadmin</code> to represent the user, who is acting as an administrator. See the example for each function or procedure for specific directory definitions for DICOM data files and other details specific to that function or procedure.</p>
</div>
<!-- class="sect1" -->
<a id="BABFGDDE"></a>
<div id="IMDCM13835" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">13.2</span> Important Notes for DICOM Repository Administrators</h2>
<p>The following guidelines apply to administrative operations related to the Oracle Multimedia DICOM data model repository:</p>
<ul>
<li>
<p>Administrators must be assigned the ORDADMIN role. See <a href="ch_adm_over.htm#BGBDDHJE">Section 10.1</a> for more information about administrator privileges.</p>
</li>
<li>
<p>At the start of each database session, administrators must load the data model repository from the database into memory structures. To load the data model, administrators call either the setDataModel( ) procedure or the editDataModel( ) procedure, depending on the following situations:</p>
<ul>
<li>
<p>When you <span class="italic">are not</span> making changes to the data model, call the setDataModel( ) procedure (see the <a href="ch_dtmod_ref.htm#CHECBBFJ">setDataModel( ) Procedure</a>).</p>
</li>
<li>
<p>When you <span class="italic">are</span> making changes to the data model, call the editDataModel( ) procedure (see the <a href="#BABIFJDG">editDataModel( ) Procedure</a>).</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect1" -->
<div class="refentry"><a id="CHDGFHDE"></a>
<div id="IMDCM8100" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">DICOM Data Model Repository Administrator Functions<a id="sthref934"></a><a id="sthref935"></a></h2>
<p>The ORD_DICOM_ADMIN package defines these ORD_DICOM_ADMIN data model repository functions:</p>
<ul>
<li>
<p><a href="#CHEJJBJE">generateTagListDocument( ) Function</a></p>
</li>
<li>
<p><a href="#CHDDIEFG">getDocumentContent( ) Function</a></p>
</li>
</ul>
<div id="IMDCM13610" class="refsect2"><a id="CHEJJBJE"></a>
<h3 class="refsect2">generateTagListDocument( ) Function<a id="sthref936"></a><a id="sthref937"></a><a id="sthref938"></a></h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref939"></a>Format</p>
<p class="synopsis">generateTagListDocument(docSet in varchar2 default &#39;USER&#39;) return XMLType</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref940"></a>Description</p>
<p>Returns a stored tag list document as a data type XMLType that contains the attribute tags from the mapping and constraint documents stored in the data model repository, and which conforms to the XML schema <code>ordcmstl.xsd</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref941"></a>Parameters</p>
<dl>
<dt>docSet</dt>
<dd>
<p>A string that lists a specified set of documents in the repository. Valid values are: <code>USER</code>, <code>ALL</code>, and <code>ORACLE</code>. The default is <code>USER</code>.</p>
<p>When the value of this parameter is <code>USER</code>, the attribute tags from the user-defined mapping and constraint documents are listed in the generated stored tag list document. If there are no user-defined constraint or mapping documents in the repository, a null value is returned. When the value is set to <code>ALL</code>, the attribute tags from all the mapping and constraint documents are listed. And, when the value is set to <code>ORACLE</code>, only the attribute tags from the Oracle-defined mapping and constraint documents are listed.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref942"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref943"></a>Exceptions</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref944"></a>Usage Notes</p>
<p>Use this function to generate a stored tag list document that is consistent with the repository documents. (See <a href="ch_dtmod_docs.htm#CIHDAAAG">Section 11.2.8</a> for more information about creating stored tag list documents.)</p>
<p>Before calling this function, call the setDataModel( ) procedure (see the<br/>
<a href="ch_dtmod_ref.htm#CHECBBFJ">setDataModel( ) Procedure</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref945"></a>Examples</p>
<p>Generate a stored tag list document for the user-defined mapping and constraint documents in the repository:</p>
<pre> exec ord_dicom.setDataModel;
 set long 50000;
 set pagesize 1000;
 select ord_dicom_admin.generateTagListDocument from dual;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="IMDCM13450" class="refsect2"><a id="CHDDIEFG"></a>
<h3 class="refsect2">getDocumentContent( ) Function<a id="sthref946"></a><a id="sthref947"></a><a id="sthref948"></a></h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref949"></a>Format</p>
<p class="synopsis">getDocumentContent(docName IN VARCHAR2) RETURN XMLTYPE</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref950"></a>Description</p>
<p>Returns the document as data type XMLType. This function can be used to make copies of documents in the data model repository without changing the content of the original documents.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref951"></a>Parameters</p>
<dl>
<dt>docName</dt>
<dd>
<p>The name of the document whose content is to be retrieved. The document content is returned as data type XMLType. The orddcm_documents view includes the column DOC_NAME, where docName is one of the documents listed.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref952"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref953"></a>Exceptions</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref954"></a>Usage Notes</p>
<p>Before calling this function, call either the setDataModel( ) procedure or the editDataModel( ) procedure in these situations:</p>
<ul>
<li>
<p>Call the setDataModel( ) procedure when you are not making changes to the data model, such as when calling the getDocumentContent( ) procedure or the exportDocument( ) procedure only.</p>
</li>
<li>
<p>Call the editDataModel( ) procedure when you are making changes to the data model, such as when inserting or deleting documents.</p>
</li>
</ul>
<p>See the <a href="ch_dtmod_ref.htm#CHECBBFJ">setDataModel( ) Procedure</a> and the <a href="#BABIFJDG">editDataModel( ) Procedure</a> for more information.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref955"></a>Examples</p>
<p>Get the content of a specified document (<code>ordcmpf.xml</code>) in the repository:</p>
<pre> exec ord_dicom.setDataModel;
 set long 5000;
 set pagesize 1000;
 select ord_dicom_admin.getDocumentContent(&#39;ordcmpf.xml&#39;) from dual;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="BABEIEIH"></a>
<div id="IMDCM13836" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">DICOM Data Model Repository Administrator Procedures<a id="sthref956"></a><a id="sthref957"></a></h2>
<p>The ORD_DICOM_ADMIN package defines these ORD_DICOM_ADMIN data model repository procedures:</p>
<ul>
<li>
<p><a href="#BABIIDIC">deleteDocument( ) Procedure</a></p>
</li>
<li>
<p><a href="#BABIFJDG">editDataModel( ) Procedure</a></p>
</li>
<li>
<p><a href="#BABBHGCD">exportDocument( ) Procedure</a></p>
</li>
<li>
<p><a href="#BABDIAEE">insertDocument( ) Procedure</a></p>
</li>
<li>
<p><a href="#BABEGABJ">publishDataModel( ) Procedure</a></p>
</li>
<li>
<p><a href="#BABFDHDB">rollbackDataModel( ) Procedure</a></p>
</li>
</ul>
<div id="IMDCM13837" class="refsect2"><a id="BABIIDIC"></a>
<h3 class="refsect2">deleteDocument( ) Procedure<a id="sthref958"></a><a id="sthref959"></a><a id="sthref960"></a></h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref961"></a>Format</p>
<p class="synopsis">deleteDocument(docName IN VARCHAR2)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref962"></a>Description</p>
<p>Deletes the specified document from the data model repository. Documents installed by Oracle are treated as default documents that cannot be removed.</p>
<p>See <a href="ch_adm_over.htm#BGBEBIAG">Section 10.9</a> for more information about deleting configuration documents.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref963"></a>Parameters</p>
<dl>
<dt>docName</dt>
<dd>
<p>The name of the document to be removed from the repository, where docName is one of the documents listed in the orddcm_documents view.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref964"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref965"></a>Exceptions</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref966"></a>Usage Notes</p>
<p>Before calling this procedure, call the editDataModel( ) procedure (see the <a href="#BABIFJDG">editDataModel( ) Procedure</a>).</p>
<p>In addition, Oracle recommends calling the exportDocument( ) procedure to make a copy of the specified document before deleting it from the repository (see the <a href="#BABBHGCD">exportDocument( ) Procedure</a>).</p>
<p>You cannot modify the data model during a rolling upgrade. Therefore, do not call this procedure if a rolling upgrade is in progress.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref967"></a>Examples</p>
<p>Copy and then delete a document (<code>sample_pf.xml</code>) from the repository:</p>
<pre>exec ord_dicom_admin.editDataModel();
select doc_name from orddcm_documents order by doc_id asc;
exec ord_dicom_admin.exportDocument(&#39;sample_pf.xml&#39;, &#39;DICOMDIR&#39;, 
                                    &#39;sample_pf_export.xml&#39;);
exec ord_dicom_admin.deleteDocument(&#39;sample_pf.xml&#39;);
select doc_name from orddcm_documents order by doc_id asc;
exec ord_dicom_admin.publishDataModel();
</pre>
<p>where:</p>
<ul>
<li>
<p>DICOMDIR: an Oracle directory object for which the administrator has been granted the WRITE privilege, and to which the contents of the specified file are to be copied.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="IMDCM13838" class="refsect2"><a id="BABIFJDG"></a>
<h3 class="refsect2">editDataModel( ) Procedure<a id="sthref968"></a><a id="sthref969"></a><a id="sthref970"></a></h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref971"></a>Format</p>
<p class="synopsis">editDataModel( )</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref972"></a>Description</p>
<p>Begins an administrator editing session for making changes to the data model repository. The administrator session maintains a lock on the repository until the publishDataModel( ) or rollbackDataModel( ) procedure is called, or until the session exits. Call this procedure before making changes to the repository. Upon successful completion, this procedure implicitly commits the current transaction.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref973"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref974"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref975"></a>Exceptions</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref976"></a>Usage Notes</p>
<p>You cannot edit the data model during a rolling upgrade. If you begin a rolling upgrade after calling this procedure, call the rollbackDataModel( ) procedure to terminate the editing session.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref977"></a>Examples</p>
<p>Begin an editing session in the repository, while locking it from other administrators:</p>
<pre>   exec ord_dicom_admin.editDataModel();
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="IMDCM13840" class="refsect2"><a id="BABBHGCD"></a>
<h3 class="refsect2">exportDocument( ) Procedure<a id="sthref978"></a><a id="sthref979"></a><a id="sthref980"></a></h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref981"></a>Format</p>
<p class="synopsis">exportDocument(docName IN VARCHAR2, dirName IN VARCHAR2, fileName IN VARCHAR2)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref982"></a>Description</p>
<p>Exports the contents of the document specified by the docName parameter to the specified file. This procedure writes the data to a file in a directory for which the administrator has been granted the WRITE privilege.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref983"></a>Parameters</p>
<dl>
<dt>docName</dt>
<dd>
<p>The name of the specified document in the repository, where docName is one of the documents listed in the orddcm_documents view.</p>
</dd>
<dt>dirName</dt>
<dd>
<p>The directory location of the specified file. This string is an Oracle directory object name, and it is case-sensitive. The default is uppercase. The WRITE privilege must be granted to the administrator for this directory object.</p>
</dd>
<dt>fileName</dt>
<dd>
<p>The name of the file, including the file extension (file type), but excluding the directory path.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref984"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref985"></a>Exceptions</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref986"></a>Usage Notes</p>
<p>Before calling this procedure, call either the setDataModel( ) or the editDataModel( ) procedure in these situations:</p>
<ul>
<li>
<p>Call the setDataModel( ) procedure when you are not making changes to the data model, such as when calling the getDocumentContent( ) procedure or the exportDocument( ) procedure only.</p>
</li>
<li>
<p>Call the editDataModel( ) procedure when you are making changes to the data model, such as when inserting or deleting documents.</p>
</li>
</ul>
<p>See the <a href="ch_dtmod_ref.htm#CHECBBFJ">setDataModel( ) Procedure</a> and the <a href="#BABIFJDG">editDataModel( ) Procedure</a> for more information.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref987"></a>Examples</p>
<p>Export the contents of an existing file in the repository (<code>sample_map.xml</code>) into an external file (<code>sample_map_export.xml</code>):</p>
<pre> exec ord_dicom.setDataModel();
 exec ord_dicom_admin.exportDocument(&#39;ordcmpf.xml&#39;, &#39;DICOMDIR&#39;, &#39;ordcmpf_exp.xml&#39;);
</pre>
<p>where:</p>
<ul>
<li>
<p>DICOMDIR: an Oracle directory object that contains the file where the contents of the specified file are to be copied.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="IMDCM13842" class="refsect2"><a id="BABDIAEE"></a>
<h3 class="refsect2">insertDocument( ) Procedure<a id="sthref988"></a><a id="sthref989"></a><a id="sthref990"></a></h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref991"></a>Format</p>
<p class="synopsis">insertDocument(docName IN VARCHAR2, docType IN VARCHAR2, xmlDoc IN XMLType)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref992"></a>Description</p>
<p>Loads the specified XML configuration document into the data model repository. The document name must be unique. Supported document types are listed in the public view <a href="ch_dtmod_ref.htm#CHDJCEFB">orddcm_document_types</a>. The document is validated against the registered schema that is associated with the document type.</p>
<p>Documents must be loaded into the repository in the following order:</p>
<ol>
<li>
<p>Standard data dictionary documents</p>
</li>
<li>
<p>Private data dictionary documents</p>
</li>
<li>
<p>Other configuration documents, including the following:</p>
<ul>
<li>
<p>Constraint documents</p>
</li>
<li>
<p>XML mapping documents</p>
</li>
<li>
<p>Anonymity documents</p>
</li>
<li>
<p>Preference documents</p>
</li>
<li>
<p>UID definition documents</p>
</li>
<li>
<p>DICOM protocol documents</p>
</li>
</ul>
<p>Other configuration documents can be loaded in any order, unless there are dependencies between constraint documents.</p>
</li>
</ol>
<p>There are semantic dependencies between the documents. For example, elements referenced in an XML mapping document must exist in the standard or private data dictionary documents. The view <a href="ch_dtmod_ref.htm#CHDIABAD">orddcm_documents</a> contains the details of the documents in the repository.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref993"></a>Parameters</p>
<dl>
<dt>docName</dt>
<dd>
<p>The unique name of the specified document. The name cannot exceed 100 characters in length, and it must not contain the reserved prefix <code>ORD</code>.</p>
</dd>
<dt>docType</dt>
<dd>
<p>The type of the document to be loaded into the repository. Supported values are listed in the public view <a href="ch_dtmod_ref.htm#CHDJCEFB">orddcm_document_types</a>. The value of this parameter must not be NULL.</p>
</dd>
<dt>xmlDoc</dt>
<dd>
<p>The XML document to be loaded into the repository. The value of this parameter must not be NULL.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref994"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref995"></a>Exceptions</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref996"></a>Usage Notes</p>
<p>Before calling this procedure, call the editDataModel( ) procedure (see the <a href="#BABIFJDG">editDataModel( ) Procedure</a>).</p>
<p>Before inserting a user-defined mapping document into the repository, its associated metadata schema must have been registered as a global or local schema with Oracle XML DB<a id="sthref997"></a>. (The metadata schema associated with the default mapping document is registered with Oracle XML DB upon installation of Oracle Multimedia DICOM. See <a href="ap_schemas.htm#BABEBCJJ">Appendix B</a> for more information.)</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink ADXDB0600" href="../ADXDB/xdb05sto.htm#ADXDB0600"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a> for information about registering XML schemas</p>
</div>
<p>You cannot modify the data model during a rolling upgrade. Therefore, do not call this procedure if a rolling upgrade is in progress.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref998"></a>Examples</p>
<p>Insert a mapping document (<code>sample_map.xml</code>) into the repository:</p>
<pre>   exec ord_dicom_admin.editDataModel();
   exec ord_dicom_admin.insertDocument(&#39;sample_map.xml&#39;, &#39;MAPPING&#39;, 
     xmltype(bfilename(&#39;DICOMDIR&#39;, &#39;sample_map.xml&#39;), 
     nls_charset_id(&#39;AL32UTF8&#39;)));
   select * from orddcm_documents order by doc_id asc;
   exec ord_dicom_admin.publishDataModel();
</pre>
<p>where:</p>
<ul>
<li>
<p>MAPPING: the type of the document to be loaded into the repository.</p>
</li>
<li>
<p>DICOMDIR: the Oracle directory object that contains the file to be loaded.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="IMDCM13843" class="refsect2"><a id="BABEGABJ"></a>
<h3 class="refsect2">publishDataModel( ) Procedure<a id="sthref999"></a><a id="sthref1000"></a><a id="sthref1001"></a></h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1002"></a>Format</p>
<p class="synopsis">publishDataModel( )</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1003"></a>Description</p>
<p>Publishes changes to the data model repository. This procedure also unlocks the repository, making it available for updating by other administrators. By calling the setDataModel( ) procedure to refresh the data model repository, users can access the latest published changes to the repository. Upon successful completion, this procedure implicitly commits the current transaction.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1004"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1005"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1006"></a>Exceptions</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1007"></a>Usage Notes</p>
<p>Before calling this procedure, call the editDataModel( ) procedure (see the <a href="#BABIFJDG">editDataModel( ) Procedure</a>).</p>
<p>Depending on when the administrator publishes changes to the data model repository, users who are connected to the repository may have to call the setDataModel( ) procedure more than once to see the latest changes. Also, based on when they call the setDataModel( ) procedure, it is possible for two users who are connected to the same data model repository to access different versions of the repository. See <a href="ch_cncpt.htm#BCEBHHIB">Figure 2-5</a> for more information about this possible scenario. See also the <a href="ch_dtmod_ref.htm#CHECBBFJ">setDataModel( ) Procedure</a>.</p>
<p>You cannot modify the data model during a rolling upgrade. Therefore, do not call this procedure if a rolling upgrade is in progress.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1008"></a>Examples</p>
<p>Publish the changes to the repository:</p>
<pre>   exec ord_dicom_admin.editDataModel();
   select doc_name from orddcm_documents order by doc_id asc;
   exec ord_dicom_admin.insertDocument( &#39;sample_pf.xml&#39;, &#39;PREFERENCE&#39;,
     xmltype(bfilename(&#39;DICOMDIR&#39;, &#39;sample_pf.xml&#39;), 
     nls_charset_id(&#39;AL32UTF8&#39;) ) );
   select doc_name from orddcm_documents order by doc_id asc;
   exec ord_dicom_admin.publishDataModel();
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="IMDCM13844" class="refsect2"><a id="BABFDHDB"></a>
<h3 class="refsect2">rollbackDataModel( ) Procedure<a id="sthref1009"></a><a id="sthref1010"></a><a id="sthref1011"></a></h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1012"></a>Format</p>
<p class="synopsis">rollbackDataModel( )</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1013"></a>Description</p>
<p>Terminates changes to the data model since the previous call to the editDataModel( ) procedure. Call this procedure to roll back the changes and unlock the data model, making it available for updating by other administrators. Upon successful completion, this procedure implicitly commits the current transaction.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1014"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1015"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1016"></a>Exceptions</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1017"></a>Usage Notes</p>
<p>Before calling this procedure, call the editDataModel( ) procedure (see the <a href="#BABIFJDG">editDataModel( ) Procedure</a>).</p>
<p>At end of the database session, call this procedure to roll back the data model. Because the changes to the data model were terminated rather than published, the views are populated with the data from the previously published data model.</p>
<p>You cannot modify the data model during a rolling upgrade. Therefore, if a data model editing session was in progress before a rolling upgrade was started, you must call this procedure to roll back the data model and terminate the editing session.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1018"></a>Examples</p>
<p>Terminate the data model changes without publishing them to the repository:</p>
<pre>   exec ord_dicom_admin.editDataModel();
   select doc_name from orddcm_documents order by doc_id asc;
   exec ord_dicom_admin.deleteDocument(&#39;sample_pf.xml&#39;);
   select doc_name from orddcm_documents order by doc_id asc;
   exec ord_dicom_admin.rollbackDataModel();
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="CHDJHFEE"></a>
<div id="IMDCM8200" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">DICOM Repository Administrator Views<a id="sthref1019"></a><a id="sthref1020"></a></h2>
<p>This section describes this Oracle Multimedia DICOM repository view for administrators:</p>
<ul>
<li>
<p><a href="#CHDHIDCE">orddcm_document_refs</a></p>
</li>
</ul>
<p>See <a href="ch_dtmod_ref.htm#CHDEFACC">DICOM Repository Public Views</a> for information about the Oracle Multimedia DICOM repository public views.</p>
<div id="IMDCM13457" class="refsect2"><a id="CHDHIDCE"></a>
<h3 class="refsect2">orddcm_document_refs<a id="sthref1021"></a><a id="sthref1022"></a></h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1023"></a>Format</p>
<div class="inftblruleinformal">
<table class="cellalignment2223" title="orddcm_document_refs" summary="Table of orddcm_document_refs details.">
<thead>
<tr class="cellalignment2212">
<th class="cellalignment2219" id="r1c1-t3">Column Name</th>
<th class="cellalignment2219" id="r1c2-t3">Data Type</th>
<th class="cellalignment2219" id="r1c3-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r2c1-t3" headers="r1c1-t3">doc_name</td>
<td class="cellalignment2220" headers="r2c1-t3 r1c2-t3">VARCHAR2(100)</td>
<td class="cellalignment2220" headers="r2c1-t3 r1c3-t3">Document name</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r3c1-t3" headers="r1c1-t3">ref_by_doc_name</td>
<td class="cellalignment2220" headers="r3c1-t3 r1c2-t3">VARCHAR2(100)</td>
<td class="cellalignment2220" headers="r3c1-t3 r1c3-t3">Referenced by document name</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblruleinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1024"></a>Description</p>
<p>This read-only view lists the documents that are referenced by other documents. The SELECT privilege is granted to the ORDADMIN role for this view. This view is available to administrators only.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1025"></a>Usage Notes</p>
<p>Before querying this view, call either the setDataModel( ) or the editDataModel( ) procedure as follows:</p>
<ul>
<li>
<p>Call the setDataModel( ) procedure when you are not making changes to the data model, such as when calling the getDocumentContent( ) procedure or the exportDocument( ) procedure only.</p>
</li>
<li>
<p>Call the editDataModel( ) procedure when you are making changes to the data model, such as when inserting or deleting documents.</p>
</li>
</ul>
<p>If you call the setDataModel( ) procedure, call it again whenever the application requires the new data model changes.</p>
<p>See the <a href="ch_dtmod_ref.htm#CHECBBFJ">setDataModel( ) Procedure</a> and the <a href="#BABIFJDG">editDataModel( ) Procedure</a> for more information.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1026"></a>Examples</p>
<p>Show the references between a set of Oracle-installed configuration documents:</p>
<pre>-------------------------------------------------------------------------------
DOC_NAME             REF_BY_DOC_NAME
-------------------------------------------------------------------------------
ordcmpv.xml          ordcmcmc.xml
ordcmpv.xml          ordcmcmd.xml
ordcmsd.xml          ordcman.xml
ordcmsd.xml          ordcmcmc.xml
ordcmsd.xml          ordcmcmd.xml
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"><a id="CHEDJCDJ"></a>
<div id="IMDCM13613" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">General Format for DICOM Value Locators</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1027"></a>Syntax</p>
<p class="subhead2"><a id="IMDCM13698"></a><span class="italic">value_locator</span>::=</p>
<img width="252" height="47" src="img/imdcm009.gif" alt="Description of imdcm009.gif follows"/><br/>
<a id="sthref1028" href="img_text/imdcm009.htm">Description of the illustration imdcm009.gif</a><br/>
<br/>
<p class="subhead2"><a id="IMDCM13699"></a><span class="italic">sublocator</span>::=</p>
<img width="366" height="59" src="img/imdcm010.gif" alt="Description of imdcm010.gif follows"/><br/>
<a id="sthref1029" href="img_text/imdcm010.htm">Description of the illustration imdcm010.gif</a><br/>
<br/></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1030"></a>Description</p>
<p>Identifies an attribute in the DICOM content, either at the root level or from the root level down. Each level in the tree hierarchy is represented by a sublocator. DICOM value locators can include one or more sublocators, depending on the level of the attribute in the DICOM content.</p>
<p>DICOM value locators can be used within anonymity documents to specify the attributes to be made anonymous in the resulting DICOM content.</p>
<p>When DICOM value locators are used within constraint documents, they can contain macros for substitution when the constraint document is loaded into the repository. Define macro substitution strings either as valid DICOM value locators, or as one of the DICOM value locator parameters with no token separators.</p>
<p>DICOM value locators can be used within mapping documents to specify the attributes to be retrieved or extracted from the metadata in the resulting DICOM XML document.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1031"></a>Parameters</p>
<dl>
<dt>tag</dt>
<dd>
<p>A DICOM standard compliant tag in the format of an 8-digit hexadecimal number.</p>
<p><span class="bold">Example 1:</span> A hexadecimal tag for a root-level attribute</p>
<pre>0040A730
</pre>
<p><span class="bold">Example 2:</span> A hexadecimal tag for a root-level attribute</p>
<pre>0040A123
</pre></dd>
<dt>. (the dot character)</dt>
<dd>
<p>A sublocator separator or a special wildcard tag that matches to zero or a series of sublocators. (See <span class="bold">DICOM Value Locator Example 4</span>.)</p>
</dd>
<dt>definer</dt>
<dd>
<p>A string that identifies the organization creating the tag. For tags that are defined by the DICOM standard, the default (which can be omitted) is <code>DICOM</code>. For private tags, the value must include a definer string (which can be empty) to uniquely identify each private attribute. This parameter is optional.</p>
<p>Definer strings cannot contain the following unescaped token separator characters: <code>&#39;(&#39;, &#39;)&#39;</code>, <code>&#39;[&#39;, &#39;]&#39;</code>, <code>&#39;{&#39;, &#39;}&#39;</code>, <code>&#39;$&#39;</code>, <code>&#39;#&#39;</code>, and<code>&#39;*&#39;</code>. Although it is possible to refer to definer strings that contain these characters, you must use an escape mechanism to express definer strings with these characters. Specifically, a single <code>&#34;#&#34;</code> (the escape character) must precede each token separator character in the definer string for a specified attribute.</p>
<p><span class="bold">Example 1:</span> A definer string for a private organization</p>
<pre>ORACLE
</pre>
<p><span class="bold">Example 2:</span> A definer string with token separators that have been escaped. The original string was <code>$abc(#def)[ghi]</code>.</p>
<pre>#$abc#(##def#)#[ghi#]
</pre></dd>
<dt>item_num</dt>
<dd>
<p>An integer that identifies a data element within an attribute, or a wildcard character (<code>&#34;*&#34;</code>) that identifies all data elements within an attribute. The default is <code>1</code>, the first data element of an attribute. This parameter is optional.</p>
<ul>
<li>
<p>For the binary data types OF, OW, OB, and UN (defined in the data type definition schema <code>ordcmrdt.xsd</code>):</p>
<p>This parameter identifies one data value within a DICOM attribute that contains a list of data values, as shown in the following table.</p>
<div class="inftblruleinformal">
<table class="cellalignment2223" summary="List of binary data type values" dir="ltr">
<thead>
<tr class="cellalignment2212">
<th class="cellalignment2219" id="r1c1-t4">Binary Data Type</th>
<th class="cellalignment2219" id="r1c2-t4">Data Value Identification</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r2c1-t4" headers="r1c1-t4"><code>OF</code></td>
<td class="cellalignment2220" headers="r2c1-t4 r1c2-t4">A floating-point number</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r3c1-t4" headers="r1c1-t4"><code>OW</code></td>
<td class="cellalignment2220" headers="r3c1-t4 r1c2-t4">A word</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r4c1-t4" headers="r1c1-t4"><code>OB</code></td>
<td class="cellalignment2220" headers="r4c1-t4 r1c2-t4">A byte</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r5c1-t4" headers="r1c1-t4"><code>UN</code></td>
<td class="cellalignment2220" headers="r5c1-t4 r1c2-t4">A byte</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblruleinformal" --></li>
<li>
<p>For the data type SQ:</p>
<p>This parameter identifies one sequence item.</p>
</li>
<li>
<p>For the data types ST, LT, and UT:</p>
<p>The value of this parameter is always <code>1</code> because attributes of these types always contain single values.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
The concept of an item number is not well-defined by the DICOM standard. Do not confuse it with DICOM value multiplicity.
<p>DICOM value locators with a special wildcard tag <code>&#34;.&#34;</code> cannot be immediately followed by an item_num parameter.</p>
<p>Data elements are defined in Part 5 of the DICOM standard.</p>
</div>
<p><span class="bold">Example 1:</span> An integer that represents a specific sequence item in an attribute</p>
<p>The second sequence item in attribute <code>0040A730</code>:</p>
<pre>0040A730 [2]
</pre>
<p><span class="bold">Example 2:</span> An integer with a wildcard character that represents all the data elements in an attribute</p>
<p>All items in the sequence attribute <code>0040A730</code>:</p>
<pre>0040A730[*]
</pre></dd>
<dt>tag_field</dt>
<dd>
<p>A string that identifies a derived value within an attribute. A tag that contains this string must be the last tag of a DICOM value locator. The default is <code>NONE</code>. This parameter is optional.</p>
<p>The following table shows the supported values for the tag_field parameter:</p>
<div class="inftblruleinformal">
<table class="cellalignment2223" summary="List of values for the tag_field parameter" dir="ltr">
<thead>
<tr class="cellalignment2212">
<th class="cellalignment2219" id="r1c1-t6">Value</th>
<th class="cellalignment2219" id="r1c2-t6">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r2c1-t6" headers="r1c1-t6"><code>NONE</code></td>
<td class="cellalignment2220" headers="r2c1-t6 r1c2-t6">N/A</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r3c1-t6" headers="r1c1-t6"><code>UnibyteFamily</code></td>
<td class="cellalignment2220" headers="r3c1-t6 r1c2-t6">Family name, in unibyte characters<a id="CHEIEDHE" href="#CHEIEDHE" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="tablefootnote">Foot&nbsp;1&nbsp;</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r4c1-t6" headers="r1c1-t6"><code>UnibyteGiven</code></td>
<td class="cellalignment2220" headers="r4c1-t6 r1c2-t6">Given name, in unibyte characters<a id="sthref1032" href="#sthref1032" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r5c1-t6" headers="r1c1-t6"><code>UnibyteMiddle</code></td>
<td class="cellalignment2220" headers="r5c1-t6 r1c2-t6">Middle name, in unibyte characters<a id="sthref1033" href="#sthref1033" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r6c1-t6" headers="r1c1-t6"><code>UnibytePrefix</code></td>
<td class="cellalignment2220" headers="r6c1-t6 r1c2-t6">Prefix, in unibyte characters<a id="sthref1034" href="#sthref1034" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r7c1-t6" headers="r1c1-t6"><code>UnibyteSuffix</code></td>
<td class="cellalignment2220" headers="r7c1-t6 r1c2-t6">Suffix, in unibyte characters<a id="sthref1035" href="#sthref1035" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r8c1-t6" headers="r1c1-t6"><code>IdeographicFamily</code></td>
<td class="cellalignment2220" headers="r8c1-t6 r1c2-t6">Family name, in ideographic characters<a id="sthref1036" href="#sthref1036" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r9c1-t6" headers="r1c1-t6"><code>IdeographicGiven</code></td>
<td class="cellalignment2220" headers="r9c1-t6 r1c2-t6">Given name, in ideographic characters<a id="sthref1037" href="#sthref1037" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r10c1-t6" headers="r1c1-t6"><code>IdeographicMiddle</code></td>
<td class="cellalignment2220" headers="r10c1-t6 r1c2-t6">Middle name, in ideographic characters<a id="sthref1038" href="#sthref1038" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r11c1-t6" headers="r1c1-t6"><code>IdeographicPrefix</code></td>
<td class="cellalignment2220" headers="r11c1-t6 r1c2-t6">Prefix, in ideographic characters<a id="sthref1039" href="#sthref1039" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r12c1-t6" headers="r1c1-t6"><code>IdeographicSuffix</code></td>
<td class="cellalignment2220" headers="r12c1-t6 r1c2-t6">Suffix, in ideographic characters<a id="sthref1040" href="#sthref1040" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r13c1-t6" headers="r1c1-t6"><code>PhoneticFamily</code></td>
<td class="cellalignment2220" headers="r13c1-t6 r1c2-t6">Family name, in phonetic characters<a id="sthref1041" href="#sthref1041" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r14c1-t6" headers="r1c1-t6"><code>PhoneticGiven</code></td>
<td class="cellalignment2220" headers="r14c1-t6 r1c2-t6">Given name, in phonetic characters<a id="sthref1042" href="#sthref1042" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r15c1-t6" headers="r1c1-t6"><code>PhoneticMiddle</code></td>
<td class="cellalignment2220" headers="r15c1-t6 r1c2-t6">Middle name, in phonetic characters<a id="sthref1043" href="#sthref1043" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r16c1-t6" headers="r1c1-t6"><code>PhoneticPrefix</code></td>
<td class="cellalignment2220" headers="r16c1-t6 r1c2-t6">Prefix, in phonetic characters<a id="sthref1044" href="#sthref1044" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r17c1-t6" headers="r1c1-t6"><code>PhoneticSuffix</code></td>
<td class="cellalignment2220" headers="r17c1-t6 r1c2-t6">Suffix, in phonetic characters<a id="sthref1045" href="#sthref1045" onclick="footdisplay(1,&#34;This value is a component of the attribute \u003ccode\u003ePerson Name\u003c/code\u003e.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r18c1-t6" headers="r1c1-t6"><code>PersonName</code></td>
<td class="cellalignment2220" headers="r18c1-t6 r1c2-t6">Person name, as a concatenated string of characters in the convention of three groups of five components</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r19c1-t6" headers="r1c1-t6"><code>AgeString</code></td>
<td class="cellalignment2220" headers="r19c1-t6 r1c2-t6">Age, as a string</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r20c1-t6" headers="r1c1-t6"><code>AgeInDays</code></td>
<td class="cellalignment2220" headers="r20c1-t6 r1c2-t6">Age, in number of days</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r21c1-t6" headers="r1c1-t6"><code>ByteLength</code></td>
<td class="cellalignment2220" headers="r21c1-t6 r1c2-t6">Binary length of the path</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r22c1-t6" headers="r1c1-t6"><code>ByteOffset</code></td>
<td class="cellalignment2220" headers="r22c1-t6 r1c2-t6">Byte offset of the path</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r23c1-t6" headers="r1c1-t6"><code>NumEntry</code></td>
<td class="cellalignment2220" headers="r23c1-t6 r1c2-t6">Total number of data elements within an attribute</td>
</tr>
<tr class="cellalignment2212">
<td class="cellalignment2220" id="r24c1-t6" headers="r1c1-t6"><code>VR</code><a id="sthref1046" href="#sthref1046" onclick="footdisplay(2,&#34;See the description of the item_num parameter for more information about data types.&#34;)"><sup class="tablefootnote">Foot&nbsp;2&nbsp;</sup></a></td>
<td class="cellalignment2220" headers="r24c1-t6 r1c2-t6">In-stream value representation (VR) of an attribute</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblruleinformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1&nbsp;</sup>This value is a component of the attribute <code>Person Name</code>.</p>
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;2&nbsp;</sup>See the description of the item_num parameter for more information about data types.</p>
<p>For complete definitions of the values in the preceding table, see Part 5 of the DICOM standard on the Web site for the National Electrical Manufacturers Association (NEMA) at</p>
<p><code><a href="http://medical.nema.org/">http://medical.nema.org/</a></code></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
DICOM value locators with a tag_field parameter are not supported in anonymity and constraint documents.
<p>DICOM value locators with a special wildcard tag <code>&#34;.&#34;</code> cannot be immediately followed by a tag_field parameter.</p>
</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1047"></a>Examples</p>
<p class="subhead2"><a id="IMDCM13651"></a>DICOM Value Locator Example 1</p>
<p>A DICOM value locator with the required tag parameters only:</p>
<pre>00080096.00401101.00080100
</pre>
<p>where:</p>
<ul>
<li>
<p>00080096.00401101.00080100: the code value of the Person Identification Code Sequence in the Referring Physician Identification Sequence.</p>
</li>
</ul>
<p class="subhead2"><a id="IMDCM13652"></a>DICOM Value Locator Example 2</p>
<p>A DICOM value locator with the required tag parameter and the optional item_num parameter:</p>
<pre>00080096[1].00401101[1].00080100[1]
</pre>
<p>where:</p>
<ul>
<li>
<p>[1]: the first data element of an attribute. This DICOM value locator is equivalent to the DICOM value locator shown in <span class="bold">DICOM Value Locator Example 1</span>.</p>
</li>
</ul>
<p class="subhead2"><a id="IMDCM13653"></a>DICOM Value Locator Example 3</p>
<p>A DICOM value locator with the required tag parameter and the optional definer and item_num parameters:</p>
<pre>00080096(DICOM)[1].00401101(DICOM)[1].00080100(DICOM)[1]
</pre>
<p>where:</p>
<ul>
<li>
<p>(DICOM): the default definer string. Because the tag is defined by the DICOM standard, the DICOM value locator can be represented without the definer string, as in <span class="bold">DICOM Value Locator Example 2</span>. This DICOM value locator is equivalent to the DICOM value locator in <span class="bold">DICOM Value Locator Example 1.</span></p>
</li>
</ul>
<p class="subhead2"><a id="IMDCM13654"></a>DICOM Value Locator Example 4</p>
<p>A DICOM value locator with a special wildcard tag (<code>&#34;.&#34;</code>) for all code values in the DICOM content:</p>
<pre>..00080100
</pre>
<p class="subhead2"><a id="IMDCM13655"></a>DICOM Value Locator Example 5</p>
<p>A DICOM value locator with a special wildcard tag (<code>&#34;.&#34;</code>) for all code values in all the 0040A730 sequence items in the DICOM content:</p>
<pre>0040A730[*]...00080100
</pre>
<p class="subhead2"><a id="IMDCM13656"></a>DICOM Value Locator Example 6</p>
<p>A DICOM value locator with a private definer and escape characters:</p>
<pre>00431028(#$abc#(##def#)#[ghi#])
</pre>
<p>where:</p>
<ul>
<li>
<p>(#$abc#(##def#)#[ghi#]): the private definer string. Because the definer string contains token separator characters, it must be represented by preceding each token separator character with the escape character (<code>&#34;#&#34;</code>).</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2211">
<tr>
<td class="cellalignment2220">
<table class="cellalignment2216">
<tr>
<td class="cellalignment2215"><a href="ch_adm_repos.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2215"><a href="part_four.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2222">
<table class="cellalignment2214">
<tr>
<td class="cellalignment2215"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2215"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2215"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2215"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2215"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2215"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>


</body></html>
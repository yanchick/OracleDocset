<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-91905"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20Server%20Pools%20with%20Oracle%20RAC"></a><title>Using Server Pools with Oracle RAC</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-11T1:47:15Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Real Application Clusters Installation Guide"/>
<meta name="dcterms.identifier" content="E48917-13"/>
<meta name="dcterms.isVersionOf" content="RILIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="postinst.htm" title="Previous" type="text/html"/>
<link rel="Next" href="undrstnd.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48917-13.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">11/19</span> <!-- End Header -->
<div id="RILIN1063" class="chapter"><a id="sthref219"></a>
<h1 class="chapter"><span class="secnum">6</span> Using Server Pools with Oracle RAC</h1>
<p><a id="sthref220"></a>This chapter describes server pool concepts in Oracle Real Application Clusters (Oracle RAC) environments. This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDGDHBG">Policy-Managed Clusters and Capacity Management</a></p>
</li>
<li>
<p><a href="#BHBBGEIE">Oracle RAC Database and Server Pools</a></p>
</li>
<li>
<p><a href="#CHDJFCCJ">About Creating Server Pools for Oracle RAC Databases</a></p>
</li>
<li>
<p><a href="#CHDDAHDA">Oracle RAC One Node and Server Pools</a></p>
</li>
</ul>
<a id="CHDGDHBG"></a>
<div id="RILIN1066" class="sect1">
<h2 class="sect1"><span class="secnum">6.1</span> Policy-Managed Clusters and Capacity Management</h2>
<p>Oracle Clusterware 11g release 2 (11.2) introduced server pools, where resources that Oracle Clusterware manages are contained in logical groups of servers called <span class="bold">server pools</span>. Resources are hosted on a shared infrastructure and are contained within server pools. Resources are no longer defined as belonging to a specific instance or node. Instead, the priority of resource requirements is defined.In an Oracle Flex Cluster, with Hub Nodes and Leaf Nodes, you can use server pools to run particular types of workloads on cluster member nodes, while providing simplified administration options. You can use a cluster configuration policy set to provide dynamic management of cluster policies across the cluster.</p>
<p>The following sections provide additional concepts about server pools:</p>
<ul>
<li>
<p><a href="#CHDCAFFH">Server Pools and Server Categorization</a></p>
</li>
<li>
<p><a href="#CHDDHJGC">Server Pools and Policy-Based Management</a></p>
</li>
<li>
<p><a href="#CHDCIJFF">How Server Pools Work</a></p>
</li>
<li>
<p><a href="#CHDBHGGF">Default Server Pools</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RACAD7893" href="../RACAD/GUID-4F468ADC-D3E6-4D6F-B3AE-19BE5E5837A5.htm#RACAD7893"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></div>
<a id="CHDCAFFH"></a>
<div id="RILIN1246" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">6.1.1</span> Server Pools and Server Categorization</h3>
<p>You can manage servers dynamically using server pools by identifying servers distinguished by particular attributes, a process called <span class="bold">server categorization</span>. In this way, you can manage clusters made up of heterogeneous nodes.</p>
</div>
<!-- class="sect2" -->
<a id="CHDDHJGC"></a>
<div id="RILIN1247" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">6.1.2</span> Server Pools and Policy-Based Management</h3>
<p>With policy-based management, database administrators specify the server pool (excluding Generic or Free) in which the database resource runs</p>
<p>Policy-based management:</p>
<ul>
<li>
<p>Enables dynamic capacity assignment when needed to provide server capacity in accordance with the priorities you set with policies</p>
</li>
<li>
<p>Enables allocation of resources by importance, so that applications obtain the required minimum resources, whenever possible, and so that lower priority applications do not take resources from more important applications</p>
</li>
<li>
<p>Ensures isolation where necessary, so that you can provide dedicated servers in a cluster for applications and databases</p>
</li>
<li>
<p>Enables policies to be configured to change pools in accordance with business needs or application demand, so that pools provide the right service at the right time</p>
</li>
</ul>
<p>Applications and databases running in server pools do not share resources. Because server pools do not share resources, they isolate resources where necessary, but enable dynamic capacity assignments as required. Together with role-separated management, this capability addresses the needs of organizations that have standardized cluster environments, but allow multiple administrator groups to share the common cluster infrastructure.</p>
<p>Oracle Clusterware efficiently allocates different resources in the cluster. You need only to provide the minimum and maximum number of nodes on which a resource can run, combined with a level of importance for each resource that is running on these nodes.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWADD91383" href="../CWADD/GUID-9C074F34-F180-4200-A99B-72186DAB56E1.htm#CWADD91383"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about resource attributes</p>
</li>
<li>
<p><a class="olink CWADD92636" href="../CWADD/GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B.htm#CWADD92636"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for details about managing server pools to respond to business or application demand</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDCIJFF"></a>
<div id="RILIN1248" class="sect2">
<h3 class="sect2"><span class="secnum">6.1.3</span> How Server Pools Work</h3>
<p>Server pools divide the cluster into groups of servers hosting singleton and uniform database services and applications. They distribute a uniform workload (a set of Oracle Clusterware resources) over several servers in the cluster. For example, you can restrict Oracle databases to run only in certain server pools. When you enable role-separated management, you can grant permission to operating system users to use server pools.</p>
<p>You manage server pools that contain Oracle RAC databases with the Server Control (SRVCTL) utility. Use the Oracle Clusterware Control (CRSCTL) utility to manage all other server pools. Only cluster administrators have permission to create top-level server pools.</p>
<p><a id="sthref221"></a>Top-level server pools:</p>
<ul>
<li>
<p>Logically divide the cluster</p>
</li>
<li>
<p>Are always exclusive, meaning that one server can only reside in one particular server pool at a certain point in time</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDBHGGF"></a>
<div id="RILIN1249" class="sect2">
<h3 class="sect2"><span class="secnum">6.1.4</span> Default Server Pools</h3>
<p>When Oracle Clusterware is installed, two server pools are created automatically: <a id="sthref222"></a><a id="sthref223"></a><span class="italic">Generic</span> and <a id="sthref224"></a><a id="sthref225"></a><span class="italic">Free</span>. All servers in a new installation are assigned to the Free server pool, initially. Servers move from Free to newly defined server pools automatically.</p>
<div id="RILIN1250" class="sect3"><a id="sthref226"></a>
<h4 class="sect3"><span class="secnum">6.1.4.1</span> The Free Server Pool</h4>
<p>The <a id="sthref227"></a>Free server pool contains servers that are not assigned to any other server pools. The attributes of the Free server pool are restricted, as follows:</p>
<ul>
<li>
<p><code dir="ltr">SERVER_NAMES</code>, <code dir="ltr">MIN_SIZE</code>, and <code dir="ltr">MAX_SIZE</code> cannot be edited by the user</p>
</li>
<li>
<p><code dir="ltr">IMPORTANCE</code> and <code dir="ltr">ACL</code> can be edited by the user</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div id="RILIN1251" class="sect3"><a id="sthref228"></a>
<h4 class="sect3"><span class="secnum">6.1.4.2</span> The Generic Server Pool</h4>
<p>The <a id="sthref229"></a>Generic server pool stores any Oracle Database that is not policy managed. Additionally, the Generic server pool contains servers with names you specified in the <code dir="ltr">SERVER_NAMES</code> attribute of the server pools that list the Generic server pool as a parent server pool.</p>
<p>The Generic server pool&#39;s attributes are restricted, as follows:</p>
<ul>
<li>
<p>No one can modify configuration attributes of the Generic server pool (all attributes are read-only)</p>
</li>
<li>
<p>When DBCA or SRVCTL specifies a server name in the <code dir="ltr">HOSTING_MEMBERS</code> resource attribute, Oracle Clusterware only allows it if the server is:</p>
<ul>
<li>
<p>Online and exists in the Generic server pool</p>
</li>
<li>
<p>Online and exists in the Free server pool, in which case Oracle Clusterware moves the server into the Generic server pool</p>
</li>
<li>
<p>Online and exists in any other server pool <span class="italic">and</span> the user is either a cluster administrator or is allowed to use the server pool&#39;s servers, in which case, the server is moved into the Generic server pool</p>
</li>
<li>
<p>Offline and the user is a cluster administrator</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BHBBGEIE"></a>
<div id="RILIN1064" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">6.2</span> Oracle RAC Database and Server Pools</h2>
<p>Oracle RAC databases support two different management styles and deployment models:</p>
<ul>
<li>
<p><span class="bold">Policy-managed</span>: Deployment is based on server pools, where database services run within a server pool as <span class="italic">singleton</span> or <span class="italic">uniform</span> across all of the servers in the server pool. Databases are deployed in one or more server pools and the size of the server pools determine the number of database instances in the deployment. Policy management allows clusters and databases to expand or shrink as requirements change.</p>
<p>A policy-managed database is defined by <span class="bold">cardinality</span>, which is the number of database instances you want running during normal operations. A policy-managed database runs in one or more database server pools that the cluster administrator creates in the cluster, and it can run on different servers at different times. A database instance starts on all servers that are in the server pools defined for the database.</p>
<p>Clients can connect to a policy-managed database using the same SCAN-based connect string no matter which servers they happen to be running on at the time.</p>
</li>
<li>
<p><span class="bold">Administrator-managed</span>: Deployment is based on the Oracle RAC deployment types that existed before Oracle Database 11g release 2 (11.2) and requires that you statically configure each database instance to run on a specific node in the cluster, and that you configure database services to run on specific instances belonging to a certain database using the preferred and available designation.</p>
<p>When you review the database resource for an administrator-managed database, you see a server pool defined with the same name as the Oracle database. This server pool is part of a special Oracle-defined server pool called Generic. Oracle RAC manages the Generic server pool to support administrator-managed databases. When you add or remove an administrator-managed database using either SRVCTL or DBCA, Oracle RAC creates or removes the server pools that are members of Generic.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWADD92105" href="../CWADD/GUID-42F6324B-8A51-4FDE-9E9B-38B058F227A5.htm#CWADD92105"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for detailed information about server pools</p>
</li>
<li>
<p><a class="olink CWADD92636" href="../CWADD/GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B.htm#CWADD92636"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about policy sets</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDJFCCJ"></a>
<div id="RILIN1252" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">6.3</span> About Creating Server Pools for Oracle RAC Databases</h2>
<p>You can create a server pool with DBCA while creating an Oracle RAC database, but Oracle recommends that you create server pools before you deploy database software and databases. Oracle also recommends that you:</p>
<ul>
<li>
<p>Enable role separation before you create the first server pool in the cluster.</p>
</li>
<li>
<p>Create and manage server pools using configuration policies and a respective policy set.</p>
</li>
</ul>
<p>You can implement role-separated management in one of two ways:</p>
<ul>
<li>
<p><span class="bold">Vertical implementation</span> (between layers) describes a role separation approach based on different operating system users and groups used for various layers in the technology stack. Permissions on server pools and resources are granted to different users (and groups) for each layer in the stack using access control lists. Oracle Automatic Storage Management (ASM) offers setting up role separation as part of the Oracle Grid Infrastructure installation based on a granular assignment of operating system groups for specific roles.</p>
</li>
<li>
<p><span class="bold">Horizontal implementation</span> (within one layer) describes a role separation approach that restricts resource access within one layer using access permissions for resources that are granted using access control lists assigned to server pools and policy-managed databases or applications.</p>
<p>For example, consider an operating system user called <code dir="ltr">grid</code>, with primary operating system group <code dir="ltr">oinstall</code>, that installs Oracle Grid Infrastructure and creates two database server pools. The operating system users <code dir="ltr">ouser1</code> and <code dir="ltr">ouser2</code> must be able to operate within a server pool, but should not be able to modify those server pools and withdraw hardware resources from other server pools either accidentally or intentionally.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWADD92636" href="../CWADD/GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B.htm#CWADD92636"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about creating policy sets</p>
</li>
<li>
<p><a class="olink CWADD91105" href="../CWADD/GUID-4D73FA22-52E8-4A25-8078-B63950D8589E.htm#CWADD91105"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about configuring role-separated management</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDDAHDA"></a>
<div id="RILIN1065" class="sect1">
<h2 class="sect1"><span class="secnum">6.4</span> Oracle RAC One Node and Server Pools</h2>
<p>Note the following about Oracle RAC One Node and server pools:</p>
<ul>
<li>
<p>Oracle RAC One Node runs only in one server pool. This server pool is treated the same as any other server pool.</p>
</li>
<li>
<p>Online relocation of an Oracle RAC One Node database instance permits planned migrations of an Oracle RAC One Node database from one node to another node. Relocations must always be within a server pool.</p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4785">
<tr>
<td class="cellalignment4794">
<table class="cellalignment4790">
<tr>
<td class="cellalignment4789"><a href="postinst.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4789"><a href="undrstnd.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4797">
<table class="cellalignment4788">
<tr>
<td class="cellalignment4789"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4789"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4789"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4789"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4789"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4789"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>